<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <title>wallleap</title>
  <meta charset="UTF-8">
  <meta name="description" content="luwangçš„åšå®¢ï¼Œæ­£åœ¨åŠªåŠ›å­¦ä¹ ğŸ’ª">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/favicon.png" type="image/png" />
  <meta name="description" content="luwangçš„åšå®¢ï¼Œæ­£åœ¨åŠªåŠ›å­¦ä¹ ğŸ’ª">
<meta property="og:type" content="website">
<meta property="og:title" content="wallleap">
<meta property="og:url" content="https://blog.wallleap.cn/index.html">
<meta property="og:site_name" content="wallleap">
<meta property="og:description" content="luwangçš„åšå®¢ï¼Œæ­£åœ¨åŠªåŠ›å­¦ä¹ ğŸ’ª">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Luwang">
<meta property="article:tag" content="wallleap">
<meta name="twitter:card" content="summary">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/nexmoe/nexmoe.github.io@latest/css/style.css,npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/nexmoe/nexmoe.github.io@latest/lib/mdui_043tiny/css/mdui.css,gh/nexmoe/nexmoe.github.io@latest/lib/iconfont/iconfont.css" crossorigin>
  
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1721693_jg94kndwhe.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1599833537936">

   
    <style>
      .nexmoe-avatar img:hover {
        -webkit-transform: rotateZ(360deg);
        -moz-transform: rotateZ(360deg);
        transform: rotateZ(360deg);
      }	
    </style>
  

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
<script src="https://cdn.jsdelivr.net/gh/wallleap/live2d-widget@latest/autoload.js"></script> 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/js/busuanzi.pure.mini.js"></script>

<link rel="stylesheet" href="/css/github-badge.css">
<link rel="stylesheet" href="/css/tags_ca.css">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
  .pace .pace-progress {  background: rgb(254, 27, 115); /*è¿›åº¦æ¡é¢œè‰²*/
  height: 3px;  }
  .pace .pace-progress-inner {  box-shadow: 0 0 10px #ff0000, 0 0 5px     #ff0000; /*é˜´å½±é¢œè‰²*/
  }
  .pace .pace-activity {  border-top-color: rgb(251, 30, 30);    /*ä¸Šè¾¹æ¡†é¢œè‰²*/
  border-left-color: rgb(251, 30, 30);    /*å·¦è¾¹æ¡†é¢œè‰²*/
}
</style>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Luwang" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Luwang">
            <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang" alt="Luwang">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>æ–‡ç« </span>54</div>
        <div><span>æ ‡ç­¾</span>57</div>
        <div><span>åˆ†ç±»</span>25</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="å›åˆ°é¦–é¡µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                å›åˆ°é¦–é¡µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="æ–‡ç« å½’æ¡£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« å½’æ¡£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/categories" title="æ–‡ç« åˆ†ç±»">
            <i class="mdui-list-item-icon nexmoefont icon-appstore-fill"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« åˆ†ç±»
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friends.html" title="æˆ‘çš„æœ‹å‹">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                æˆ‘çš„æœ‹å‹
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="å…³äºåšå®¢">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                å…³äºåšå®¢
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:wallleap.cn" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="æœç´¢"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç¤¾äº¤æŒ‰é’®</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/157360395" target="_blank" mdui-tooltip="{content: 'å“”å“©å“”å“©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
            <!-- <i class="fa icon-bilibili"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
            <!-- <i class="fa icon-github"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(0 , 0, 252);background-color: rgba(0, 0, 252, .15);">
            <i class="nexmoefont icon-QQ"></i>
            <!-- <i class="fa icon-QQ"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'å¾®ä¿¡å…¬ä¼—å·'}" style="color: rgb(0, 229, 105);background-color: rgba(0, 229, 105, .15);">
            <i class="nexmoefont icon-wechat-fill"></i>
            <!-- <i class="fa icon-wechat-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'æˆ‘çš„é‚®ç®±'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-mail-fill"></i>
            <!-- <i class="fa icon-mail-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'æˆ‘çš„å¾®åš'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-weibo"></i>
            <!-- <i class="fa icon-weibo"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'RSS'}" style="color: rgb(252, 129, 0);background-color: rgba(252, 129, 0, .15);">
            <i class="nexmoefont icon-rss"></i>
            <!-- <i class="fa icon-rss"></i> -->
        </a> 
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ ‡ç­¾äº‘</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/ACL/" style="font-size: 10px;">ACL</a> <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/Blog/" style="font-size: 17.14px;">Blog</a> <a href="/tags/C-C/" style="font-size: 11.43px;">C/C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/ES/" style="font-size: 10px;">ES</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/GitHub/" style="font-size: 15.71px;">GitHub</a> <a href="/tags/HCL/" style="font-size: 15.71px;">HCL</a> <a href="/tags/HCNA/" style="font-size: 15.71px;">HCNA</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/Hexo/" style="font-size: 17.14px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 14.29px;">JavaScript</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/NAT/" style="font-size: 10px;">NAT</a> <a href="/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/tags/OSPF/" style="font-size: 10px;">OSPF</a> <a href="/tags/RIP/" style="font-size: 10px;">RIP</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/STP/" style="font-size: 10px;">STP</a> <a href="/tags/Sakura/" style="font-size: 10px;">Sakura</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VLAN/" style="font-size: 10px;">VLAN</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Win10/" style="font-size: 10px;">Win10</a> <a href="/tags/eNSP/" style="font-size: 15.71px;">eNSP</a> <a href="/tags/eNsp/" style="font-size: 11.43px;">eNsp</a> <a href="/tags/hackintosh/" style="font-size: 10px;">hackintosh</a> <a href="/tags/hexo/" style="font-size: 11.43px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/w650dc/" style="font-size: 10px;">w650dc</a> <a href="/tags/web/" style="font-size: 18.57px;">web</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 12.86px;">ä¸»é¢˜</a> <a href="/tags/%E4%BA%94%E7%AC%94/" style="font-size: 10px;">äº”ç¬”</a> <a href="/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/" style="font-size: 10px;">äº¤æ¢æœº</a> <a href="/tags/%E4%BC%81%E4%B8%9A%E7%BD%91/" style="font-size: 10px;">ä¼ä¸šç½‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">å‰ç«¯</a> <a href="/tags/%E5%8D%8E%E4%B8%89/" style="font-size: 15.71px;">åä¸‰</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 17.14px;">åšå®¢</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 11.43px;">åç«¯</a> <a href="/tags/%E5%9B%BE%E9%9B%86/" style="font-size: 10px;">å›¾é›†</a> <a href="/tags/%E5%AE%89%E8%A3%85/" style="font-size: 10px;">å®‰è£…</a> <a href="/tags/%E5%AE%9E%E9%AA%8C/" style="font-size: 12.86px;">å®éªŒ</a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 10px;">å¾®ä¿¡</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E9%98%B2%E7%9B%97%E9%93%BE/" style="font-size: 10px;">å¾®ä¿¡é˜²ç›—é“¾</a> <a href="/tags/%E6%82%A6%E8%AF%BB/" style="font-size: 10px;">æ‚¦è¯»</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">æŠ€æœ¯</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 11.43px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">æ¡†æ¶</a> <a href="/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 10px;">æ¨¡å—åŒ–</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">è€ƒç ”</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 10px;">è‹±è¯­</a> <a href="/tags/%E9%80%86%E6%B0%B4%E5%AF%92/" style="font-size: 10px;">é€†æ°´å¯’</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 12.86px;">é…ç½®</a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" style="font-size: 10px;">é»‘è‹¹æœ</a>
    </div>
    
      <script>
        var maxTagcloud = parseInt(10);
        var tags_length = parseInt(57);
        var tags_arr = [];
        for(var i = 0; i < tags_length; i++){
          tags_arr.push(i);
        }
        tags_arr.sort(function (l, r) {
          return Math.random() > 0.5 ? -1 : 1;
        });
        tags_arr = tags_arr.slice(0, maxTagcloud < tags_length ? tags_length - maxTagcloud : 0);
        for(var tag_i = 0; tag_i < tags_arr.length; tag_i++){
          document.getElementById("randomtagcloud").children[tags_arr[tag_i]].style.display = 'none';
        }
      </script>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ–‡ç« å½’æ¡£</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">å…«æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">ä¸ƒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">å…­æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">äºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li></ul>
    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2020/08/28/VUE/">Vueå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/08/20/AJAX/">Ajaxå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/07/12/React/">Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/07/04/Git/">Gitå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/06/14/nodejs/">NodeJså­¦ä¹ ç¬”è®°</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <!-- <div class="nexmoe-copyright">
        &copy; 2020 Luwang
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div> -->
    <div style="text-align: center;">
        <div class="github-badge">
            <a rel="license" href="https://github.io/" target="_blank" title="é™æ€ç½‘é¡µæ‰˜ç®¡äºGithub">
            <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen"><i class="fa fa-github" aria-hidden="true"></i> Github</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank" title="ç«™ç‚¹ä½¿ç”¨ Sakura ä¸»é¢˜ï¼Œä½œè€…ï¼šMashiro & Hojun">
            <span class="badge-subject"><i class="fa fa-themeisle" aria-hidden="true"></i> Theme</span><span class="badge-value bg-theme">nexmoe</span></a>
        </div><br />
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-user" aria-hidden="true"></i> UV</span>
            <span  class="badge-value bg-orange" id="busuanzi_value_site_uv"></span>
        </div>
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-eye" aria-hidden="true"></i> PV</span>
            <span class="badge-value bg-brightgreen" id="busuanzi_value_site_pv"></span>
        </div>
    </div>
    <div class="site-img" style="margin: 20px 0 20px 16px;">
        <a href="#"><img width="200px" src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/wechat/wallleap.bmp"></a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <section class="nexmoe-posts">

        <div class="wallleap" data-spotlight="wallleap">wallleap</div>
        <style>
        .wallleap {
            display: block;
            margin: 10px auto;
            padding-left: 300px;
            text-align: center;
            color: #eee;
            font-size: 80px;
            font-family:Helvetica;
        }
        .wallleap::after {
            content: attr(data-spotlight);
            color: transparent;
            position: relative;
            left: -3.6em;
            -webkit-clip-path: ellipse(29px 29px at 0% 50%);
            clip-path: ellipse(29px 29px at 0% 50%);
            animation: spotlight 6s infinite;
            background-image: linear-gradient(to right, skyblue, red, #ff1c74, black);
            background-size: 150%;
            background-position: center center;
            -webkit-background-clip: text;
            background-clip: text;
        }
        @keyframes spotlight{
            0%{
            -webkit-clip-path: ellipse(29px 29px at 0% 50%);
            clip-path: ellipse(29px 29px at 0% 50%);
            }
            50%{
            -webkit-clip-path: ellipse(29px 29px at 100% 50%);
            clip-path: ellipse(29px 29px at 100% 50%);
            }
            100%{
            -webkit-clip-path: ellipse(29px 29px at 0% 50%);
            clip-path: ellipse(29px 29px at 0% 50%);
            }
        }
        </style>
        
        <div  style="font-size: 32px; margin-bottom: 20px; text-align: center; color: rgb(208, 67, 121);"><i class="fa fa-ravelry" aria-hidden="true"></i>æ¯æ—¥ä¸€å¥</div>
        <i class="fa fa-volume-up" aria-hidden="true"></i>      <span id="hitokoto" style="margin-left:5px;"> :D è·å–ä¸­...</span>
        <p align="right" id="afrom"></p>
        <script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script>
        <script>
          fetch('https://v1.hitokoto.cn/?c=h')
            .then(function (res){
              return res.json();
            })
            .then(function (data) {
              var hitokoto = document.getElementById('hitokoto');
              var afrom = document.getElementById('afrom');
              hitokoto.innerText = data.hitokoto;
              afrom.innerText =  'â€”â€”ã€' + data.from + ' ' + data.from_who + 'ã€‘';
            })
            .catch(function (err) {
              console.error(err);
            })
        </script>
        
        
        <div  style="font-size: 32px; margin-bottom: 20px; text-align: center; color: rgb(208, 67, 121);"><i class="fa fa-music" aria-hidden="true"></i>æ¬£èµéŸ³ä¹</div>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
        <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
        <!-- require MetingJS -->
        <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
        
        <meting-js
            server="netease"
            type="playlist"
            id="2162711186"
          list-folded="true">
        </meting-js>
        


    <div  style="font-size: 32px; margin-bottom: 20px; text-align: center; color: rgb(208, 67, 121);"><i class="fa fa-pied-piper" aria-hidden="true"></i>æ–‡ç« åˆ—è¡¨</div>
    
    <div class="nexmoe-post">
        <a href="/2020/08/28/VUE/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="Vueå­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>Vueå­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´08æœˆ28æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>13.9k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 69 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="ä¸€ã€Vueæ¦‚è¿°"><a href="#ä¸€ã€Vueæ¦‚è¿°" class="headerlink" title="ä¸€ã€Vueæ¦‚è¿°"></a>ä¸€ã€Vueæ¦‚è¿°</h2><h3 id="1-1-å‰è¨€"><a href="#1-1-å‰è¨€" class="headerlink" title="1.1 å‰è¨€"></a>1.1 å‰è¨€</h3><h4 id="1-1-1-å‰ç«¯å¼€å‘æ¨¡å¼çš„å‘å±•"><a href="#1-1-1-å‰ç«¯å¼€å‘æ¨¡å¼çš„å‘å±•" class="headerlink" title="1.1.1 å‰ç«¯å¼€å‘æ¨¡å¼çš„å‘å±•"></a>1.1.1 å‰ç«¯å¼€å‘æ¨¡å¼çš„å‘å±•</h4><ol>
<li>é™æ€é¡µé¢</li>
</ol>
<ul>
<li>æœ€åˆçš„ç½‘é¡µä»¥HTMLä¸ºä¸»ï¼Œæ˜¯çº¯é™æ€çš„ç½‘é¡µã€‚ç½‘é¡µæ˜¯åªè¯»çš„ï¼Œä¿¡æ¯æµåªèƒ½ä»æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯å•å‘æµé€šã€‚å¼€å‘äººå‘˜ä¹Ÿåªå…³å¿ƒé¡µé¢çš„æ ·å¼å’Œå†…å®¹ã€‚</li>
</ul>
<ol start="2">
<li>å¼‚æ­¥åˆ·æ–°ï¼Œæ“ä½œDOM</li>
</ol>
<ul>
<li>1995å¹´ï¼Œç½‘æ™¯å·¥ç¨‹å¸ˆBrendan EichèŠ±äº†10å¤©æ—¶é—´è®¾è®¡äº†JavaScriptè¯­è¨€ã€‚<ul>
<li>éšç€JavaScriptçš„è¯ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œé¡µé¢çš„DOMå…ƒç´ åŠæ ·å¼ï¼Œé¡µé¢æœ‰äº†ä¸€äº›åŠ¨æ€åœ°æ•ˆæœï¼Œä½†æ˜¯ä¾ç„¶æ˜¯ä»¥é™æ€ä¸ºä¸»ã€‚</li>
</ul>
</li>
<li>ajaxç››è¡Œï¼š<ul>
<li>2005å¹´å¼€å§‹ï¼Œajaxé€æ¸è¢«å‰ç«¯å¼€å‘äººå‘˜æ‰€é‡è§†ï¼Œå› ä¸ºä¸ç”¨åˆ·æ–°é¡µé¢å°±å¯ä»¥æ›´æ–°é¡µé¢çš„æ•°æ®å’Œæ¸²æŸ“æ•ˆæœã€‚</li>
<li>æ­¤æ—¶çš„å¼€å‘äººå‘˜ä¸ä»…éœ€è¦ç¼–å†™HTMLæ ·å¼ï¼Œè¿˜è¦åŠ¨ajaxä¸åç«¯äº¤äº’ï¼Œç„¶åé€šè¿‡jsæ“ä½œDOMå…ƒç´ æ¥å®ç°é¡µé¢åŠ¨æ€æ•ˆæœã€‚æ¯”è¾ƒæµè¡Œçš„æ¡†æ¶å¦‚jQueryå°±æ˜¯å…¸å‹ä»£è¡¨ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li>MVVMï¼Œå…³æ³¨æ¨¡å‹å’Œè§†å›¾</li>
</ol>
<ul>
<li>2008å¹´ï¼ŒGoogleçš„Chromeå‘å¸ƒï¼Œéšåå°±ä»¥æå¿«çš„é€Ÿåº¦å é¢†å¸‚åœºï¼Œè¶…è¿‡IEç§°ä¸ºæµè§ˆå™¨å¸‚åœºçš„ä¸»å¯¼è€…ã€‚</li>
<li>2009å¹´ï¼ŒRyan Dahlåœ¨è°·æ­Œçš„Chrome V8å¼•æ“åŸºç¡€ä¸Šï¼Œæ‰“é€ äº†åŸºäºäº‹ä»¶å¾ªç¯çš„å¼‚æ­¥IOæ¡†æ¶ï¼šNode.jsã€‚<ul>
<li>åŸºäºäº‹ä»¶å¾ªç¯çš„å¼‚æ­¥IO</li>
<li>å•çº¿ç¨‹è¿è¡Œï¼Œé¿å…å¤šçº¿ç¨‹çš„å˜é‡åŒæ­¥é—®é¢˜</li>
<li>jså¯ä»¥ç¼–å†™åå°diamanteï¼Œå‰åå°ç»Ÿä¸€ç¼–ç¨‹è¯­è¨€</li>
</ul>
</li>
<li>Node.jsçš„ä¼Ÿå¤§ä¹‹å¤„ä¸åœ¨äºè®©jsè¿ˆå‘äº†åç«¯å¼€å‘ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€ä¸ªåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿã€‚</li>
<li>2010å¹´ï¼ŒNPMä½œä¸ºnode.jsçš„åŒ…ç®¡ç†ç³»ç»Ÿé¦–æ¬¡å‘å¸ƒï¼Œå¼€å‘äººå‘˜å¯ä»¥éµå¾ªCommonJSè§„èŒƒæ¥ç¼–å†™Node.jsæ¨¡å—ï¼Œç„¶åå‘å¸ƒåˆ°NPMä¸Šä¾›å…¶ä»–å¼€å‘äººå‘˜ä½¿ç”¨ã€‚ç›®å‰å·²ç»æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„åŒ…æ¨¡å—ç®¡ç†ç³»ç»Ÿã€‚</li>
<li>éšåï¼Œåœ¨Nodeçš„åŸºç¡€ä¸Šï¼Œæ¶Œç°äº†ä¸€å¤§æ‰¹çš„å‰ç«¯æ¡†æ¶ï¼š</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827092819.png" alt="image-20200827092403465" class="lazyload"></p>
<h4 id="1-1-2-MVVMæ¨¡å¼"><a href="#1-1-2-MVVMæ¨¡å¼" class="headerlink" title="1.1.2 MVVMæ¨¡å¼"></a>1.1.2 MVVMæ¨¡å¼</h4><p>Mï¼šModelï¼Œæ¨¡å‹ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸€äº›åŸºæœ¬æ“ä½œ</p>
<p>Vï¼šViewï¼Œè§†å›¾ï¼Œé¡µé¢æ¸²æŸ“ç»“æœ</p>
<p>VMï¼šView-Modelï¼Œæ¨¡å‹ä¸è§†å›¾é—´çš„åŒå‘æ“ä½œ(æ— éœ€å¼€å‘äººå‘˜å¹²æ¶‰)</p>
<p>åœ¨MVVMä¹‹å‰ï¼Œå¼€å‘äººå‘˜ä»åç«¯è·å–éœ€è¦çš„æ•°æ®æ¨¡å‹ï¼Œç„¶åè¦é€šè¿‡DOMæ“ä½œModelæ¸²æŸ“åˆ°Viewä¸­ã€‚è€Œåå½“ç”¨æˆ·æ“ä½œè§†å›¾ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡DOMè·å–Viewä¸­çš„æ•°æ®ï¼Œç„¶ååŒæ­¥åˆ°Modelä¸­ã€‚</p>
<p>è€ŒMVVMä¸­çš„VMè¦åšçš„äº‹æƒ…å°±æ˜¯æŠŠDOMæ“ä½œå®Œå…¨å°è£…èµ·æ¥ï¼Œå¼€å‘äººå‘˜ä¸ç”¨å†å…³å¿ƒModelå’ŒViewä¹‹é—´æ˜¯å¦‚ä½•ç›¸äº’å½±å“çš„ï¼š</p>
<ul>
<li>åªè¦Modelå‘ç”Ÿäº†æ”¹å˜ï¼ŒViewä¸Šè‡ªç„¶å°±ä¼šè¡¨ç°å‡ºæ¥ã€‚</li>
<li>å½“ç”¨æˆ·ä¿®æ”¹äº†Viewï¼ŒModelä¸­çš„æ•°æ®ä¹Ÿä¼šè·Ÿç€æ”¹å˜ã€‚</li>
</ul>
<p>æŠŠå¼€å‘äººå‘˜ä»ç¹ççš„DOMæ“ä½œä¸­è§£æ”¾å‡ºæ¥ï¼ŒæŠŠå…³æ³¨ç‚¹æ”¾åœ¨å¦‚ä½•æ“ä½œModelä¸Šã€‚</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827093743.png" alt="" class="lazyload"></p>
<p>MVVMé€šè¿‡<strong>è§†å›¾</strong>ä¸<strong>æ¨¡å‹</strong>çš„<strong>åŒå‘ç»‘å®š</strong>ï¼Œç®€åŒ–å‰ç«¯æ“ä½œã€‚</p>
<p>Vueå°±æ˜¯ä¸€æ¬¾MVVMæ¨¡å¼çš„æ¡†æ¶</p>
<h3 id="1-2-è®¤è¯†Vue"><a href="#1-2-è®¤è¯†Vue" class="headerlink" title="1.2 è®¤è¯†Vue"></a>1.2 è®¤è¯†Vue</h3><blockquote>
<p>Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº <strong>view</strong>) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼æ¡†æ¶</strong>ã€‚ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚å¦ä¸€æ–¹é¢ï¼Œå½“ä¸<a href="https://cn.vuejs.org/v2/guide/single-file-components.html" target="_blank" rel="noopener">ç°ä»£åŒ–çš„å·¥å…·é“¾</a>ä»¥åŠå„ç§<a href="https://github.com/vuejs/awesome-vue#libraries--plugins" target="_blank" rel="noopener">æ”¯æŒç±»åº“</a>ç»“åˆä½¿ç”¨æ—¶ï¼ŒVue ä¹Ÿå®Œå…¨èƒ½å¤Ÿä¸ºå¤æ‚çš„å•é¡µåº”ç”¨æä¾›é©±åŠ¨ã€‚</p>
</blockquote>
<ul>
<li>å‰ç«¯æ¡†æ¶ä¸‰å·¨å¤´ï¼šVue.jsã€React.jsã€Angular.jsï¼ŒVue.jsä»¥å…¶è½»é‡æ˜“ç”¨è‘—ç§°ï¼ŒVue.jså’ŒReact.jså‘å±•é€Ÿåº¦æœ€å¿«ã€‚</li>
<li>éµå¾ª MVVM æ¨¡å¼  </li>
<li>æ¸è¿›å¼ JavaScript æ¡†æ¶  <ul>
<li>æ¸è¿›å¼ï¼šå¯ä»¥<strong>é€‰æ‹©æ€§</strong>åœ°ä½¿ç”¨è¯¥æ¡†æ¶çš„ä¸€ä¸ªæˆ–ä¸€äº›ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶çš„ä½¿ç”¨ä¹Ÿä¸éœ€è¦å°†æ¡†æ¶å…¨éƒ¨ç»„ä»¶éƒ½åº”ç”¨ï¼Œè€Œä¸”ç”¨äº†è¿™äº›ç»„ä»¶ä¹Ÿä¸è¦æ±‚ä½ çš„ç³»ç»Ÿå…¨éƒ¨éƒ½ä½¿ç”¨è¯¥æ¡†æ¶ã€‚</li>
</ul>
</li>
<li>ä¸­æ–‡å®˜ç½‘ï¼š<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></li>
<li>è‹±æ–‡å®˜ç½‘ï¼š<a href="https://vuejs.org/" target="_blank" rel="noopener">https://vuejs.org/</a></li>
<li>å‚è€ƒï¼š<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/</a></li>
<li>ä½œç”¨: åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢  </li>
<li>ç‰¹ç‚¹ï¼š<ul>
<li>æ˜“ç”¨</li>
<li>çµæ´»</li>
<li>é«˜æ•ˆ</li>
</ul>
</li>
<li>ç¼–ç ç®€æ´, ä½“ç§¯å°, è¿è¡Œæ•ˆç‡é«˜, é€‚åˆç§»åŠ¨/PC ç«¯å¼€å‘  </li>
<li>å®ƒæœ¬èº«åªå…³æ³¨ UI, å¯ä»¥è½»æ¾å¼•å…¥ vue æ’ä»¶æˆ–å…¶å®ƒç¬¬ä¸‰åº“å¼€å‘é¡¹ç›®  </li>
<li>GitHubåœ°å€ï¼š<a href="https://github.com/vuejs" target="_blank" rel="noopener">https://github.com/vuejs</a></li>
<li>ä½œè€…ï¼š<a href="https://github.com/yyx990803" target="_blank" rel="noopener">å°¤é›¨æºª</a>(ä¸€ä½åè£”å‰ Google å·¥ç¨‹å¸ˆ)ï¼ŒVue.jsåˆ›ä½œè€…ï¼ŒVue Technologyåˆ›å§‹äººï¼Œè‡´åŠ›äºVueçš„ç ”ç©¶å¼€å‘ã€‚</li>
</ul>
<h3 id="1-3-ä¸å…¶å®ƒå‰ç«¯JSæ¡†æ¶çš„å…³è”"><a href="#1-3-ä¸å…¶å®ƒå‰ç«¯JSæ¡†æ¶çš„å…³è”" class="headerlink" title="1.3 ä¸å…¶å®ƒå‰ç«¯JSæ¡†æ¶çš„å…³è”"></a>1.3 ä¸å…¶å®ƒå‰ç«¯JSæ¡†æ¶çš„å…³è”</h3><ul>
<li>å€Ÿé‰´ angular çš„<strong>æ¨¡æ¿</strong>å’Œ<strong>æ•°æ®ç»‘å®š</strong>æŠ€æœ¯</li>
<li>å€Ÿé‰´ react çš„<strong>ç»„ä»¶åŒ–</strong>å’Œ<strong>è™šæ‹Ÿ DOM</strong> æŠ€æœ¯  </li>
</ul>
<h3 id="1-4-Vueæ‰©å±•æ’ä»¶"><a href="#1-4-Vueæ‰©å±•æ’ä»¶" class="headerlink" title="1.4 Vueæ‰©å±•æ’ä»¶"></a>1.4 Vueæ‰©å±•æ’ä»¶</h3><ul>
<li>vue-cli: vue è„šæ‰‹æ¶</li>
<li>vue-resource(axios): ajax è¯·æ±‚</li>
<li>vue-router: è·¯ç”±</li>
<li>vuex: çŠ¶æ€ç®¡ç†</li>
<li>vue-lazyload: å›¾ç‰‡æ‡’åŠ è½½</li>
<li>vue-scroller: é¡µé¢æ»‘åŠ¨ç›¸å…³</li>
<li>mint-ui: åŸºäº vue çš„ UI ç»„ä»¶åº“(ç§»åŠ¨ç«¯)</li>
<li>element-ui: åŸºäº vue çš„ UI ç»„ä»¶åº“(PC ç«¯)  </li>
</ul>
<h2 id="äºŒã€å¿«é€Ÿå…¥é—¨"><a href="#äºŒã€å¿«é€Ÿå…¥é—¨" class="headerlink" title="äºŒã€å¿«é€Ÿå…¥é—¨"></a>äºŒã€å¿«é€Ÿå…¥é—¨</h2><p>æ­å»ºç¤ºä¾‹å·¥ç¨‹</p>
<h3 id="2-1åˆ›å»ºå·¥ç¨‹"><a href="#2-1åˆ›å»ºå·¥ç¨‹" class="headerlink" title="2.1åˆ›å»ºå·¥ç¨‹"></a>2.1åˆ›å»ºå·¥ç¨‹</h3><p>åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ï¼š<code>testVue</code></p>
<h3 id="2-2-å¼•å…¥Vue"><a href="#2-2-å¼•å…¥Vue" class="headerlink" title="2.2 å¼•å…¥Vue"></a>2.2 å¼•å…¥Vue</h3><ul>
<li><p>ä½¿ç”¨CDN(ä½¿ç”¨jsdelivrï¼Œä¹Ÿå¯ä»¥åˆ°bootcdnä¸­æ‰¾)</p>
<ul>
<li>å¼€å‘ç‰ˆ(åŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š)ï¼š<a href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a></li>
<li>ç”Ÿäº§ç‰ˆ(å‹ç¼©äº†ï¼Œä¼˜åŒ–äº†å°ºå¯¸å’Œé€Ÿåº¦)ï¼š<a href="https://cdn.jsdelivr.net/npm/vue" target="_blank" rel="noopener">https://cdn.jsdelivr.net/npm/vue</a></li>
</ul>
<pre><code class="html">&lt;!-- å¼•å…¥ --&gt;
&lt;script src=&quot;https://â€¦â€¦&quot;&gt;&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p>ä¸‹è½½åˆ°æœ¬åœ°</p>
<ul>
<li>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/vuejs/vue" target="_blank" rel="noopener">https://github.com/vuejs/vue</a></li>
<li>ä¸‹è½½releaseç‰ˆï¼š<a href="https://github.com/vuejs/vue/archive/v2.6.11.zipï¼Œè§£å‹ä¹‹ååœ¨`dist`ç›®å½•ä¸­å¯ä»¥çœ‹åˆ°`vue.js`æ–‡ä»¶" target="_blank" rel="noopener">https://github.com/vuejs/vue/archive/v2.6.11.zipï¼Œè§£å‹ä¹‹ååœ¨`dist`ç›®å½•ä¸­å¯ä»¥çœ‹åˆ°`vue.js`æ–‡ä»¶</a></li>
</ul>
<pre><code class="html">&lt;!-- å¼•å…¥ --&gt;
&lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p><strong>npmå®‰è£…</strong>(æ¨è)</p>
<ul>
<li>è¿›å…¥å·¥ç¨‹ç›®å½•ï¼š<code>cd testVue</code></li>
<li>åˆå§‹åŒ–é¡¹ç›®ï¼š<code>npm init -y</code></li>
<li>ä¸‹è½½å®‰è£…Vueï¼š<code>npm install vue --save</code></li>
</ul>
</li>
</ul>
<h3 id="2-3ã€æ¼”ç¤ºåŒå‘ç»‘å®šä¸äº‹ä»¶å¤„ç†"><a href="#2-3ã€æ¼”ç¤ºåŒå‘ç»‘å®šä¸äº‹ä»¶å¤„ç†" class="headerlink" title="2.3ã€æ¼”ç¤ºåŒå‘ç»‘å®šä¸äº‹ä»¶å¤„ç†"></a>2.3ã€æ¼”ç¤ºåŒå‘ç»‘å®šä¸äº‹ä»¶å¤„ç†</h3><p>éœ€æ±‚ï¼šåˆ›å»ºtestVue.htmlé¡µé¢å¹¶åˆå§‹åŒ–Vueå®ä¾‹ï¼Œé€šè¿‡consoleä¿®æ”¹Vueæ•°æ®å®ç°åŒå‘ç»‘å®šæ•ˆæœå’Œåˆ›å»ºæŒ‰é’®å®ç°ç‚¹å‡»è‡ªå¢æ•ˆæœã€‚</p>
<ul>
<li>åˆ›å»ºé¡µé¢ï¼Œåˆå§‹åŒ–Vue</li>
<li><code>{ {} }</code>è·å–æ˜¾ç¤ºæ•°æ®</li>
<li><code>v-model</code>å®ç°<strong>åŒå‘ç»‘å®š</strong></li>
<li><code>v-on</code>æ¼”ç¤º<strong>äº‹ä»¶å¤„ç†</strong></li>
</ul>
<p>åœ¨åˆšåˆš<code>testVue</code>ç›®å½•ä¸­æ–°å»º<code>testVue.html</code>æ–‡ä»¶ï¼Œä¹¦å†™ä»£ç ï¼Œæµ‹è¯•åˆå§‹åŒ–Vueå®ä¾‹ã€<code>{ {} }</code>ä½¿ç”¨</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;!-- å¼•å…¥vue.js
        1. cdn
        2. ä¸‹è½½åæœ¬åœ°å¼•å…¥
        3. npmå®‰è£…åä»node_modulesä¸­å¼•å…¥(é¡¹ç›®ä¸­importå¼•å…¥)
    --&gt;
    &lt;script src=&quot;node_modules/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;{{name}}&lt;/h2&gt;  &lt;!-- æ’å€¼ --&gt;
        &lt;p&gt;æ¸è¿›å¼JavaScriptæ¡†æ¶&lt;/p&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        /* åˆ›å»ºVueå®ä¾‹ï¼Œåœ¨é‡Œé¢å¯ä»¥æŒ‡å®šä¸€äº›vueçš„å‚æ•° */
        var app = new Vue({ // é”®å€¼å¯¹
            el: &quot;#app&quot;, // æŒ‡å®šéœ€è¦æ¸²æŸ“çš„å…ƒç´ 
            data:{ // æŒ‡å®šæ•°æ®
                name: &quot;Vue.js&quot;
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>åœ¨æ§åˆ¶å°è¾“å…¥å‘½ä»¤ï¼š</p>
<pre><code class="javascript">app.name=&quot;Vue&quot;</code></pre>
<p>Vue.jsä¹Ÿä¼šå˜æˆVue</p>
<p>æµ‹è¯•<code>v-model</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;num&quot;&gt; &lt;!-- æ¨¡å‹ --&gt;
        &lt;h2&gt;{{name}} åˆ›å»º {{num}} å¹´äº†&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var app = new Vue({
            el: &quot;#app&quot;,
            data:{
                name: &quot;Vue.js&quot;,
                num: 5
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ä¿®æ”¹æ–‡æœ¬æ¡†ä¸­çš„å€¼ï¼Œä¸‹é¢çš„xxå¹´ä¹Ÿä¼šå˜(æ¨¡å‹æ”¹å˜ï¼Œè§†å›¾ä¹Ÿæ”¹å˜ï¼›è§†å›¾æ”¹å˜ä¹Ÿä¼šå½±å“å¯¹åº”çš„æ¨¡å‹)ï¼Œæ§åˆ¶å°ä¸­ä¹Ÿèƒ½ä¿®æ”¹</p>
<p>ä¸Šé¢çš„æ¼”ç¤ºçš„æ˜¯åŒå‘ç»‘å®šï¼Œä¸‹é¢æ¥ç€æ¼”ç¤ºäº‹ä»¶å¤„ç†</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;num&quot;&gt; &lt;!-- æ¨¡å‹ --&gt;
        &lt;h2&gt;{{name}} åˆ›å»º {{num}} å¹´äº†&lt;/h2&gt;
        &lt;button v-on:click=&quot;num++&quot;&gt;num+1&lt;/button&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var app = new Vue({ 
            el: &quot;#app&quot;,
            data:{
                name: &quot;Vue.js&quot;,
                num: 5
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ç‚¹å‡»æŒ‰é’®ï¼Œnumä¼šè‡ªå¢</p>
<h2 id="ä¸‰ã€Vueå®ä¾‹"><a href="#ä¸‰ã€Vueå®ä¾‹" class="headerlink" title="ä¸‰ã€Vueå®ä¾‹"></a>ä¸‰ã€Vueå®ä¾‹</h2><p>åœ¨åˆ›å»ºVueå®ä¾‹çš„æ—¶å€™å¯ä»¥æŒ‡å®šæ¨¡æ¿idã€æ•°æ®å’Œæ–¹æ³•ï¼›è€Œå¦‚æœè¦åœ¨å®ä¾‹åŒ–ã€æ¨¡æ¿æ¸²æŸ“çš„è¿‡ç¨‹ä¸­éœ€è¦æ‰§è¡Œä¸€äº›å…¶ä»–æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p>
<h3 id="3-1-åˆ›å»ºVueå®ä¾‹"><a href="#3-1-åˆ›å»ºVueå®ä¾‹" class="headerlink" title="3.1 åˆ›å»ºVueå®ä¾‹"></a>3.1 åˆ›å»ºVueå®ä¾‹</h3><p>æ¯ä¸ªVueåº”ç”¨éƒ½æ˜¯é€šè¿‡ç”¨<code>Vue</code>å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„<strong>Vueå®ä¾‹</strong>å¼€å§‹çš„(å¸¸ç”¨å˜é‡vmâ€”â€”ViewModelæ¥æ”¶)</p>
<pre><code class="javascript">var vm = new Vue({ // ä¼ å…¥çš„å‚æ•°â€”â€”å¯¹è±¡
  // é€‰é¡¹
})</code></pre>
<p>åœ¨æ„é€ å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å¯¹è±¡ä¸­å£°æ˜å„ç§Vueéœ€è¦çš„æ•°æ®å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><p>elï¼šæŒ‡å®šä¸€ä¸ªé¡µé¢å…ƒç´ ï¼Œå—Vueå®ä¾‹çš„ç®¡ç†ï¼Œåªæœ‰è¢«Vueå®ä¾‹ç®¡ç†çš„å…ƒç´ å†…éƒ¨æ‰èƒ½ä½¿ç”¨Vueçš„è¯­æ³•ã€‚</p>
</li>
<li><p>dataï¼šå®šä¹‰Vueå®ä¾‹ä¸­ä½¿ç”¨åˆ°çš„æ•°æ®ï¼Œæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„é”®å€¼å¯¹å¯ä»¥éšæ„å†™ã€‚ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥<code>vm.msg</code>ä½¿ç”¨è¿™ä¸ªæ•°æ®(ä¸éœ€è¦<code>vm.data.msg</code>)ï¼Œåœ¨å£°æ˜å‘¨æœŸé’©å­å‡½æ•°ä¸­ä½¿ç”¨<code>this.msg</code>ã€‚</p>
</li>
<li><p>methodsï¼šå®šä¹‰Vueå®ä¾‹çš„ä¸€äº›å‡½æ•°</p>
</li>
<li><p>computedï¼šè®¡ç®—å±æ€§ï¼Œå¯ä»¥å°†ä¸€äº›å±æ€§æ•°æ®ç»è¿‡æ–¹æ³•å¤„ç†ä¹‹åè¿”å›ã€‚</p>
</li>
<li><p>watchï¼šç›‘æ§å±æ€§ï¼Œå¯ä»¥æŒ‡å®šä¸€äº›æ–¹æ³•ï¼Œç›‘æ§æŒ‡å®šçš„å€¼çš„å˜åŒ–ã€‚</p>
<ul>
<li><p>ç›‘æ§ç®€å•æ•°æ®ï¼šå®šä¹‰ä¸€ä¸ªå’Œç›‘æ§çš„å˜é‡åç§°ä¸€è‡´çš„å‡½æ•°å³å¯ï¼Œå‡½æ•°çš„å‚æ•°ä¸ºæ–°å€¼å’Œæ—§å€¼ã€‚ä¾‹å¦‚ï¼Œè¦ç›‘æ§dataä¸­çš„messageï¼Œåœ¨watchä¸­<code>message(newValue,oldValue){}</code></p>
</li>
<li><p>ç›‘æ§å¯¹è±¡ä¸­çš„æ•°æ®â€”â€”æ·±åº¦ç›‘æ§ï¼šå®šä¹‰ä¸€ä¸ªå’Œç›‘æ§çš„å¯¹è±¡åç§°ä¸€è‡´çš„å±æ€§ï¼Œå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å†…éƒ¨è®¾ç½®deepå±æ€§ä¸ºtrueä»£è¡¨æ·±åº¦ç›‘æ§å¼€å¯ï¼Œå›è°ƒå‡½æ•°ä¸ºhandlerï¼Œä¼šä¼ è¿‡æ¥æ–°çš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="javascript">watch:{
  person: {
    /* å¼€å¯æ·±åº¦ç›‘æ§ï¼Œç›‘æ§å¯¹è±¡ä¸­çš„å±æ€§å€¼å˜åŒ– */
    deep: true,
    // å¯ä»¥è·å–åˆ°æœ€æ–°çš„å¯¹è±¡å±æ€§æ•°æ®
    handler(obj){
     console.log(&quot;å§“åï¼š&quot; + obj.name + &quot;,å¹´é¾„ï¼š&quot; + obj.age)
  }
}</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>template</p>
</li>
<li><p>å£°æ˜å‘¨æœŸé’©å­å‡½æ•°å(ES6è¯­æ³•<code>created: function(){}</code>ç®€åŒ–ä¸º<code>created(){}</code>)ï¼Œæœ¬è´¨ä»æ˜¯é”®å€¼å¯¹</p>
</li>
<li><p>â€¦</p>
</li>
</ul>
<h3 id="3-2-æ¨¡æ¿æˆ–å…ƒç´ "><a href="#3-2-æ¨¡æ¿æˆ–å…ƒç´ " class="headerlink" title="3.2 æ¨¡æ¿æˆ–å…ƒç´ "></a>3.2 æ¨¡æ¿æˆ–å…ƒç´ </h3><p>æ¯ä¸ªVueå®ä¾‹éƒ½éœ€è¦å…³è”ä¸€æ®µHTMLæ¨¡æ¿ï¼ŒVueä¼šåŸºäºæ­¤æ¨¡æ¿è¿›è¡Œè§†å›¾æ¸²æŸ“ï¼›å¯ä»¥é€šè¿‡elå±æ€§æ¥æŒ‡å®šã€‚</p>
<p>ä¾‹å¦‚ä¸€æ®µHTMLæ¨¡æ¿ï¼š</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;

&lt;/div&gt;</code></pre>
<p>ç„¶ååˆ›å»ºVueå®ä¾‹ï¼Œå…³è”è¿™ä¸ªdiv</p>
<pre><code class="javascript">var vm = new Vue({
  el: &quot;#app&quot;
})</code></pre>
<p>è¿™æ ·ï¼ŒVueå°±å¯ä»¥åŸºäºidä¸ºappçš„divå…ƒç´ ä½œä¸ºæ¨¡æ¿è¿›è¡Œæ¸²æŸ“äº†ï¼Œåœ¨è¿™ä¸ªdivèŒƒå›´ä»¥å¤–çš„éƒ¨åˆ†æ˜¯æ— æ³•ä½¿ç”¨vueç‰¹æ€§çš„ã€‚</p>
<h3 id="3-3-æ•°æ®"><a href="#3-3-æ•°æ®" class="headerlink" title="3.3 æ•°æ®"></a>3.3 æ•°æ®</h3><p>å½“Vueå®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒä¼šå°è¯•è·å–åœ¨dataä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§ï¼Œç”¨äºè§†å›¾çš„æ¸²æŸ“ï¼Œå¹¶ä¸”<strong>ç›‘è§†</strong>dataä¸­çš„å±æ€§å˜åŒ–ï¼Œå½“dataå‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰ç›¸å…³çš„è§†å›¾éƒ½å°†é‡æ–°æ¸²æŸ“ï¼Œè¿™å°±æ˜¯â€œå“åº”å¼â€ç³»ç»Ÿã€‚</p>
<p>ä¾‹å¦‚åœ¨HTMLä¸­æ¨¡å‹æŒ‡å®šname</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
  &lt;input type=&quot;text&quot; v-model=&quot;name&quot; /&gt;
&lt;/div&gt;</code></pre>
<p>jsä¸­vueçš„dataå±æ€§è®¾ç½®ä¸€ä¸ªname</p>
<pre><code class="javascript">var vm = new Vue({
  el: &quot;#app&quot;,
  data:{
    name: &quot;Vue.js&quot;
  }
})</code></pre>
<ul>
<li>nameçš„å˜åŒ–ä¼šå½±å“åˆ°inputçš„å€¼</li>
<li>inputä¸­è¾“å…¥çš„å€¼ï¼Œä¹Ÿä¼šå¯¼è‡´vmä¸­çš„nameå‘ç”Ÿæ”¹å˜</li>
</ul>
<h3 id="3-4-æ–¹æ³•"><a href="#3-4-æ–¹æ³•" class="headerlink" title="3.4 æ–¹æ³•"></a>3.4 æ–¹æ³•</h3><p>Vueå®ä¾‹ä¸­é™¤äº†å¯ä»¥å®šä¹‰dataå±æ€§ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨Vueçš„ä½œç”¨èŒƒå›´å†…ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚HTMLæ¨¡æ¿ä¸­æŒ‡å®šv-onäº‹ä»¶clickä¹‹åæ‰§è¡Œçš„ä»£ç (å¯ä»¥æ˜¯ä¸€ä¸ªè¯­å¥ä¹Ÿå¯ä»¥æ˜¯ä¸ªå‡½æ•°)</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
  &lt;button v-on:click=&quot;add&quot;&gt;add&lt;/button&gt;
&lt;/div&gt;</code></pre>
<p>åœ¨åˆ›å»ºå®ä¾‹æ—¶åˆ°methodså±æ€§ä¸­å®šä¹‰addæ–¹æ³•</p>
<pre><code class="javascript">var vm = new Vue({
  el: &quot;#app&quot;,
  data:{},
  methods:{
    add: function(){
      console.log(&quot;addè¢«ç‚¹å‡»äº†&quot;)
    }
  }
})</code></pre>
<h3 id="3-5-å£°æ˜å‘¨æœŸåŠé’©å­å‡½æ•°"><a href="#3-5-å£°æ˜å‘¨æœŸåŠé’©å­å‡½æ•°" class="headerlink" title="3.5 å£°æ˜å‘¨æœŸåŠé’©å­å‡½æ•°"></a>3.5 å£°æ˜å‘¨æœŸåŠé’©å­å‡½æ•°</h3><h4 id="3-5-1-å£°æ˜å‘¨æœŸ"><a href="#3-5-1-å£°æ˜å‘¨æœŸ" class="headerlink" title="3.5.1 å£°æ˜å‘¨æœŸ"></a>3.5.1 å£°æ˜å‘¨æœŸ</h4><blockquote>
<p>æ¯ä¸ªVueå®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹â€”â€”åˆ›å»ºå®ä¾‹ã€è£…è½½æ¨¡æ¿ã€æ¸²æŸ“æ¨¡æ¿ç­‰ï¼ŒVueä¸ºç”Ÿå‘½å‘¨æœŸä¸­çš„æ¯ä¸ªçŠ¶æ€éƒ½è®¾ç½®äº†é’©å­å‡½æ•°(ç›‘å¬å‡½æ•°)ï¼Œæ¯å½“Vueå®ä¾‹å¤„äºä¸åŒçš„å£°æ˜å‘¨æœŸæ—¶ï¼Œå¯¹åº”çš„å‡½æ•°å°±ä¼šè¢«è§¦å‘è°ƒç”¨ã€‚</p>
</blockquote>
<p>æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­è‡ªåŠ¨ç»‘å®š<code>this</code>ä¸Šä¸‹æ–‡åˆ°å®ä¾‹ä¸­ï¼Œå› æ­¤ä½ å¯ä»¥è®¿é—®æ•°æ®ï¼Œå¯¹å±æ€§å’Œæ–¹æ³•è¿›è¡Œè¿ç®—ã€‚è¿™æ„å‘³ç€ä½ <strong>ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ä¸€ä¸ªå£°æ˜å‘¨æœŸæ–¹æ³•</strong>(æ¯”å¦‚ <code>created: () =&gt; console.log(this.a)</code> æˆ– <code>vm.$watch(&#39;a&#39;, newValue =&gt; this.myMethod())</code>)ï¼Œå› ä¸ºç®­å¤´å‡½æ•°çš„ <code>this</code>ä¸ä½ æœŸå¾…çš„Vueå®ä¾‹ä¸åŒï¼Œ<code>this</code> ä¼šä½œä¸ºå˜é‡ä¸€ç›´å‘ä¸Šçº§è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´è‡³æ‰¾åˆ°ä¸ºæ­¢ï¼Œç»å¸¸å¯¼è‡´ <code>Uncaught TypeError: Cannot read property of undefined</code> æˆ– <code>Uncaught TypeError: this.myMethod is not a function</code> ä¹‹ç±»çš„é”™è¯¯ã€‚</p>
<p>å£°æ˜å‘¨æœŸï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827121350.png" alt="" class="lazyload"></p>
<p>å®ä¾‹åŒ–â€”â€”&gt;æŒ‚è½½â€”â€”&gt;é”€æ¯    (å¦‚æœä½¿ç”¨æ„å»ºæ­¥éª¤ï¼Œæ¨¡æ¿ç¼–è¯‘ä¼šæå‰æ‰§è¡Œï¼Œä¾‹å¦‚å•æ–‡ä»¶ç»„ä»¶)</p>
<p>é’©å­å‡½æ•°ä¼šåœ¨Vueå®ä¾‹çš„å„ä¸ªå£°æ˜å‘¨æœŸé˜¶æ®µè‡ªåŠ¨è°ƒç”¨ï¼Œå…·ä½“æœ‰ï¼š</p>
<p>(1) åˆå§‹åŒ–æ˜¾ç¤ºï¼š</p>
<ul>
<li><code>beforeCreate</code>ï¼šåœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹(data observer)å’Œevent/watcheräº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚</li>
<li><strong><code>created</code></strong>ï¼šåœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹(data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch/eventäº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$elå±æ€§ç›®å‰ä¸å¯è§ã€‚</li>
<li><code>beforeMount</code>ï¼šåœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ã€‚ç›¸å…³çš„renderå‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</li>
<li><strong><code>mounted</code></strong>ï¼šelè¢«æ–°åˆ›å»ºçš„<code>vm.$el</code>æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚å¦‚æœrootå®ä¾‹æŒ‚è½½äº†ä¸€ä¸ªæ–‡æ¡£å†…å…ƒç´ ã€‚å½“mountedè¢«è°ƒç”¨æ—¶<code>vm.$el</code>ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚[vm.$elï¼šVueå®ä¾‹ä½¿ç”¨çš„æ ¹DOMå…ƒç´ ]</li>
</ul>
<p>(2) æ›´æ–°çŠ¶æ€ï¼š(<code>this.xxx=value</code>)</p>
<ul>
<li><code>beforeUpdate</code>ï¼šæ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDOMæ‰“è¡¥ä¸ä¹‹å‰ï¼Œè¿™é‡Œé€‚åˆåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„DOMï¼Œæ¯”å¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚</li>
<li><code>updated</code>ï¼šç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚å½“è¿™ä¸ª é’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶DOMå·²ç»æ›´æ–°ï¼Œæ‰€ä»¥æ­¤æ—¶å¯ä»¥æ‰§è¡Œä¾èµ–äºDOMçš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå¦‚æœè¦ç›¸åº”çŠ¶æ€æ”¹å˜ï¼Œé€šå¸¸æœ€å¥½ä½¿ç”¨è®¡ç®—å±æ€§æˆ–watcherå–è€Œä»£ä¹‹ã€‚</li>
</ul>
<p>(3) é”€æ¯Vueå®ä¾‹ï¼š(<code>vm.$destory()</code>)</p>
<ul>
<li><strong><code>beforeDestroy</code></strong>ï¼šå®ä¾‹åœ¨é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚</li>
<li><code>destroyed</code>ï¼šVueå®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVueå®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚</li>
</ul>
<p>[vm.$rootï¼šå½“å‰ç»„ä»¶æ ‘çš„æ ¹Vueå®ä¾‹ï¼Œå¦‚æœå½“å‰å®ä¾‹æ²¡æœ‰çˆ¶å®ä¾‹ï¼Œæ­¤å®ä¾‹å°†ä¼šæ˜¯å…¶è‡ªå·±]</p>
<h4 id="3-5-2-é’©å­å‡½æ•°"><a href="#3-5-2-é’©å­å‡½æ•°" class="headerlink" title="3.5.2 é’©å­å‡½æ•°"></a>3.5.2 é’©å­å‡½æ•°</h4><p>ä¾‹å¦‚ï¼šcreatedä»£è¡¨åœ¨Vueå®ä¾‹åˆ›å»ºå</p>
<p>å¯ä»¥åœ¨Vueä¸­å®šä¹‰ä¸€ä¸ªcreatedå‡½æ•°ï¼Œä»£è¡¨è¿™ä¸ªæ—¶æœŸçš„æ„é€ å‡½æ•°ï¼š</p>
<p>åˆ›å»ºé¡µé¢<code>vueLifCycle.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jså£°æ˜å‘¨æœŸé’©å­createdæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;{{msg}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                msg: &quot;&quot;
            },
            // é’©å­å‡½æ•°
            created(){
                this.msg = &quot;Hello Vue.js created&quot;
                console.log(this)
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>createdå¸¸ç”¨äº<strong>æ•°æ®çš„åˆå§‹åŒ–</strong>ï¼Œå³å‘é€ajaxï¼Œè·å–åå°æ•°æ®ï¼Œç»™dataå±æ€§ä¸­çš„æ•°æ®è¿›è¡Œèµ‹å€¼ï¼Œæ¥ç€åœ¨æ¨¡æ¿ä¸­åº”ç”¨æ•°æ®ï¼Œè§†å›¾ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œä»è€Œå®ç°æ•°æ®çš„å¼‚æ­¥åŠ è½½ã€‚</p>
<p>mountedå‘é€ ajax è¯·æ±‚, å¯åŠ¨å®šæ—¶å™¨ç­‰å¼‚æ­¥ä»»åŠ¡  </p>
<p>beforeDestoryåšæ”¶å°¾å·¥ä½œ, å¦‚: æ¸…é™¤å®šæ—¶å™¨  </p>
<h4 id="3-5-3-this"><a href="#3-5-3-this" class="headerlink" title="3.5.3 this"></a>3.5.3 this</h4><p>æ‰“å°çš„this(è¿™ä¸ªVueå®ä¾‹å¯¹è±¡)å¦‚ä¸‹ï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827155040.png" alt="image-20200827155038198" class="lazyload"></p>
<h2 id="å››ã€æŒ‡ä»¤"><a href="#å››ã€æŒ‡ä»¤" class="headerlink" title="å››ã€æŒ‡ä»¤"></a>å››ã€æŒ‡ä»¤</h2><p>æŒ‡ä»¤(Directives)æ˜¯å¸¦æœ‰<code>v-</code>å‰ç¼€çš„ç‰¹æ®Šå±æ€§ã€‚ä¾‹å¦‚åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­çš„v-modelï¼Œä»£è¡¨åŒå‘ç»‘å®šã€‚</p>
<h3 id="4-1-æ’å€¼è¡¨è¾¾å¼"><a href="#4-1-æ’å€¼è¡¨è¾¾å¼" class="headerlink" title="4.1 æ’å€¼è¡¨è¾¾å¼"></a>4.1 æ’å€¼è¡¨è¾¾å¼</h3><h4 id="4-1-1-å¤§æ‹¬å·"><a href="#4-1-1-å¤§æ‹¬å·" class="headerlink" title="4.1.1 å¤§æ‹¬å·"></a>4.1.1 å¤§æ‹¬å·</h4><ul>
<li><p>æ ¼å¼ï¼š<code></code></p>
</li>
<li><p>è¯´æ˜ï¼š</p>
<ul>
<li>è¯¥è¡¨è¾¾å¼æ”¯æŒ<strong>JSè¯­æ³•</strong>ï¼Œå¯ä»¥è°ƒç”¨jså†…ç½®å‡½æ•°(å¿…é¡»æœ‰<strong>è¿”å›å€¼</strong>)</li>
<li>è¡¨è¾¾å¼å¿…é¡»æœ‰è¿”å›ç»“æœã€‚ä¾‹å¦‚<code>1+1</code>ï¼Œæ²¡æœ‰ç»“æœçš„è¡¨è¾¾å¼ä¸å…è®¸ä½¿ç”¨ï¼Œå¦‚<code>var a = 1 + 1</code></li>
<li>å¯ä»¥ç›´æ¥è·å–Vueå®ä¾‹dataä¸­å®šä¹‰çš„<strong>æ•°æ®æˆ–å‡½æ•°</strong></li>
<li>å¯ä»¥ç›´æ¥å†™<code>&quot;&quot;</code></li>
</ul>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæ’å€¼è¡¨è¾¾å¼æµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;{{msg}}&lt;/h2&gt;
    &lt;h2&gt;{{"è¯´çš„æ²¡é”™"}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                msg: &quot;Vue.js è½»ä¾¿å¥½ç”¨&quot;
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="4-1-2-æ’å€¼é—ªçƒ"><a href="#4-1-2-æ’å€¼é—ªçƒ" class="headerlink" title="4.1.2 æ’å€¼é—ªçƒ"></a>4.1.2 <del>æ’å€¼é—ªçƒ</del></h4><p>ä½¿ç”¨<code>{ {} }</code>æ–¹å¼åœ¨ç½‘é€Ÿè¾ƒæ…¢çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨æ•°æ®æœªåŠ è½½å®Œæˆæ—¶ï¼Œé¡µé¢ä¼šæ˜¾ç¤ºå‡ºåŸå§‹çš„<code></code>ï¼ŒåŠ è½½å®Œæ¯•åæ‰æ˜¾ç¤ºæ­£ç¡®æ•°æ®ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºæ’å€¼é—ªçƒ(åœ¨æœ€æ–°çš„Vueä¸­å‡ ä¹æ²¡æœ‰è¿™ä¸ªé—®é¢˜)ã€‚</p>
<p>åœ¨ä»¥å‰ç‰ˆæœ¬ä¸­ï¼Œå‡ºç°æ’å€¼é—ªçƒï¼Œå¯ä»¥ä½¿ç”¨v-textã€v-htmlè§£å†³ã€‚</p>
<h4 id="4-1-3-v-textå’Œv-html"><a href="#4-1-3-v-textå’Œv-html" class="headerlink" title="4.1.3 v-textå’Œv-html"></a>4.1.3 v-textå’Œv-html</h4><ul>
<li><p>ä½¿ç”¨v-textå’Œv-htmlæŒ‡ä»¤æ¥ä»£æ›¿<code>{ {} }</code></p>
</li>
<li><p>è¯´æ˜ï¼š</p>
<ul>
<li><code>v-text</code>ï¼šå°†æ•°æ®è¾“å‡ºåˆ°å…ƒç´ å†…éƒ¨ï¼Œå¦‚æœè¾“å‡ºçš„æ•°æ®æœ‰HTMLä»£ç ï¼Œä¼šä½œä¸ºæ™®é€šæ–‡æœ¬è¾“å‡º</li>
<li><code>v-html</code>ï¼šå°†æ•°æ®è¾“å‡ºåˆ°å…ƒç´ å†…éƒ¨ï¼Œå¦‚æœè¾“å‡ºçš„æ•°æ®æœ‰HTMLä»£ç ï¼Œä¼šè¢«æ¸²æŸ“</li>
</ul>
</li>
<li><p>ç¤ºä¾‹ï¼š</p>
</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.js v-html/v-textæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2 v-text=&quot;msg&quot;&gt;&lt;/h2&gt;
        &lt;h2 v-html=&quot;msg&quot;&gt;&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                msg: &quot;&lt;span style=&#39;color: red;&#39;&gt;Vue.js å¾ˆå¥½ç”¨&lt;/span&gt;&quot;
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827164955.png" alt="image-20200827164954008" class="lazyload"></p>
<p><strong>æ’å€¼</strong>å¯ä»¥ä½¿ç”¨åœ¨éœ€è¦æ˜¾ç¤ºVueå®ä¾‹æ•°æ®çš„åœ°æ–¹ï¼Œå¯ä»¥åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­è°ƒç”¨å®ä¾‹çš„å±æ€§å’Œå‡½æ•°ã€‚</p>
<p>v-textå’Œv-htmlçš„ä½œç”¨ï¼šå¯ä»¥å°†æ•°æ®åœ¨æ¨¡æ¿ä¸­è¿›è¡Œæ˜¾ç¤ºï¼›åŒºåˆ«ï¼š<strong>v-html</strong>ä¼šå¯¹å†…å®¹ä¸­å‡ºç°çš„HTMLæ ‡ç­¾è¿›è¡Œæ¸²æŸ“ï¼Œè€Œ<strong>v-text</strong>ä¼šå°†å†…å®¹å½“ä½œæ™®é€šæ–‡æœ¬è¾“å‡ºåˆ°å…ƒç´ é‡Œé¢ã€‚(æœ‰ç‚¹åƒjsä¸­çš„innerHTMLå’ŒinnerText)</p>
<h3 id="4-2-v-model"><a href="#4-2-v-model" class="headerlink" title="4.2 v-model"></a>4.2 v-model</h3><p>åˆšæ‰çš„v-textå’Œv-htmlå¯ä»¥çœ‹åšæ˜¯<strong>å•å‘ç»‘å®š</strong>ï¼Œæ•°æ®å½±å“äº†è§†å›¾æ¸²æŸ“ï¼Œä½†æ˜¯åè¿‡æ¥å°±ä¸è¡Œã€‚æ¥ä¸‹æ¥çš„v-modelå°±æ˜¯<strong>åŒå‘ç»‘å®š</strong>çš„äº†ï¼Œè§†å›¾(View)å’Œæ¨¡å‹(Model)ä¹‹é—´ä¼šç›¸äº’å½±å“ã€‚</p>
<p>æ—¢ç„¶æ˜¯åŒå‘ç»‘å®šï¼Œä¸€å®šæ˜¯åœ¨è§†å›¾ä¸­å¯ä»¥ä¿®æ”¹æ•°æ®ï¼Œè¿™æ ·å°±é™å®šäº†è§†å›¾çš„å…ƒç´ ç±»å‹ã€‚ç›®å‰v-modelå¯ä»¥ä½¿ç”¨çš„å…ƒç´ æœ‰ï¼š</p>
<ul>
<li>input</li>
<li>select</li>
<li>textarea</li>
<li>checkbox</li>
<li>radio</li>
<li>components(Vueä¸­çš„è‡ªå®šä¹‰ç»„ä»¶)</li>
</ul>
<p>åŸºæœ¬ä¸Šé™¤äº†æœ€åä¸€é¡¹ï¼Œå…¶å®ƒéƒ½æ˜¯è¡¨å•çš„è¾“å…¥é¡¹ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.js v-modelæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;label&gt;&lt;input type=&quot;checkbox&quot; value=&quot;C/C++&quot; v-model=&quot;language&quot; /&gt;C/C++ &lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type=&quot;checkbox&quot; value=&quot;Java&quot; v-model=&quot;language&quot; /&gt;Java &lt;/label&gt;&lt;br&gt;
        &lt;label&gt;&lt;input type=&quot;checkbox&quot; value=&quot;PHP&quot; v-model=&quot;language&quot; /&gt;PHP &lt;/label&gt;&lt;br&gt;
        &lt;h2&gt;ä½ é€‰æ‹©äº†ï¼š{{language.join(", ")}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                language: []
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827182301.gif" alt="demo" class="lazyload"></p>
<ul>
<li>å¤šä¸ª<code>checkbox</code>å¯¹åº”ä¸€ä¸ªmodelæ—¶ï¼Œmodelçš„ç±»å‹æ˜¯ä¸€ä¸ª<strong>æ•°ç»„</strong>ï¼Œå•ä¸ªcheckboxå€¼æ˜¯<strong>booleanç±»å‹</strong></li>
<li><code>radio</code>å¯¹åº”çš„å€¼æ˜¯inputçš„<strong>valueå€¼</strong></li>
<li><code>input</code>å’Œ<code>textarea</code>é»˜è®¤å¯¹åº”çš„modelæ˜¯<strong>å­—ç¬¦ä¸²</strong></li>
<li><code>select</code>å•é€‰å¯¹åº”<strong>å­—ç¬¦ä¸²</strong>ï¼Œå¤šé€‰å¯¹åº”ä¹Ÿæ˜¯<strong>æ•°ç»„</strong></li>
</ul>
<p>è¡¥å……ï¼šæ’ä»¶Vue.js devtools</p>
<p><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?utm_source=chrome-ntp-icon" target="_blank" rel="noopener">https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?utm_source=chrome-ntp-icon</a></p>
<h3 id="4-3-v-on"><a href="#4-3-v-on" class="headerlink" title="4.3 v-on"></a>4.3 v-on</h3><h4 id="4-3-1-åŸºæœ¬ç”¨æ³•"><a href="#4-3-1-åŸºæœ¬ç”¨æ³•" class="headerlink" title="4.3.1 åŸºæœ¬ç”¨æ³•"></a>4.3.1 åŸºæœ¬ç”¨æ³•</h4><p>åœ¨æ²¡æœ‰ä½¿ç”¨Vueä¹‹å‰ï¼Œé¡µé¢æ ‡ç­¾å¯ä»¥é€šè¿‡è®¾ç½®onXXXå“åº”äº‹ä»¶ï¼›åœ¨Vueä¸­å¯ä»¥é€šè¿‡v-onæŒ‡ä»¤å“åº”äº‹ä»¶(<strong>ç»™é¡µé¢å…ƒç´ ç»‘å®šäº‹ä»¶</strong>)ã€‚</p>
<p>è¯­æ³•ï¼š<code>v-on:äº‹ä»¶å=&quot;jsç‰‡æ®µæˆ–å‡½æ•°å&quot;</code></p>
<p>ç®€å†™è¯­æ³•ï¼š<code>@äº‹ä»¶å=&quot;jsç‰‡æ®µæˆ–å‡½æ•°å&quot;</code></p>
<p>ä¾‹å¦‚<code>v-on:click=&quot;add&quot;</code>å¯ä»¥ç®€å†™ä¸º<code>@click=&quot;add&quot;</code></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.js v-onæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button v-on:click=&quot;num++&quot;&gt;å¢åŠ &lt;/button&gt;
        &lt;button @click=&quot;decrement&quot;&gt;å‡å°‘&lt;/button&gt;
        &lt;h2&gt;numçš„æ•°å€¼ä¸º {{num}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                num: 1
            },
            methods: {
                decrement: function(){
                    this.num--
                }
            },
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827184155.gif" alt="on" class="lazyload"></p>
<p>é»˜è®¤äº‹ä»¶å½¢å‚: <code>event</code><br>éšå«å±æ€§å¯¹è±¡: <code>$event</code></p>
<h4 id="4-3-2-äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#4-3-2-äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="4.3.2 äº‹ä»¶ä¿®é¥°ç¬¦"></a>4.3.2 äº‹ä»¶ä¿®é¥°ç¬¦</h4><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨<code>event.preventDefault()</code>æˆ–<code>event.stopPropagation()</code>æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚(é˜»æ­¢é»˜è®¤äº‹ä»¶)ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ–¹æ³•åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç†DOMäº‹ä»¶ç»†èŠ‚ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.jsä¸º<code>v-on</code>æä¾›äº†<strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong>ã€‚ä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚</p>
<p>è¯­æ³•ï¼š<code>v-on:äº‹ä»¶å.ä¿®é¥°ç¬¦=&quot;jsç‰‡æ®µæˆ–å‡½æ•°å&quot;</code> æˆ– <code>@äº‹ä»¶å.ä¿®é¥°ç¬¦=&quot;jsç‰‡æ®µæˆ–å‡½æ•°å&quot;</code></p>
<p>å¸¸ç”¨ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li><strong><code>.stop</code></strong>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡<ul>
<li>äº‹ä»¶å†’æ³¡ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æŸä¸ªé¡µé¢å…ƒç´ ä¸Šè§¦å‘çš„äº‹ä»¶ï¼Œåœ¨å½“å‰å…ƒç´ å¤„ç†å®Œä¹‹åä¼šè‡ªåŠ¨ä¼ é€’ç»™ç¥–å…ˆå…ƒç´ ï¼Œç¥–å…ˆçš„ç›¸åŒäº‹ä»¶ä¹Ÿä¼šæ‰§è¡Œ</li>
</ul>
</li>
<li><strong><code>.prevent</code></strong>ï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶å‘ç”Ÿ<ul>
<li>æµè§ˆå™¨é»˜è®¤çš„ä¸€äº›äº‹ä»¶è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š<ul>
<li>è·å–ç„¦ç‚¹äº‹ä»¶ä¼šæŠŠå…‰æ ‡æ”¾å…¥è¾“å…¥æ¡†</li>
<li>è¡¨å•æäº¤äº‹ä»¶ä¼šæäº¤æ•°æ®åˆ°actionæŒ‡å®šçš„url</li>
<li>ç‚¹å‡»aæ ‡ç­¾ä¼šè·³è½¬åˆ°hrefæŒ‡å®šçš„åœ°å€</li>
</ul>
</li>
</ul>
</li>
<li><code>.capture</code>ï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼<ul>
<li>ç›¸å½“äºå’Œå†’æ³¡ç›¸åï¼Œçˆ¶å…ƒç´ å…ˆäºå­å…ƒç´ è·å–äº‹ä»¶</li>
</ul>
</li>
<li><code>.self</code>ï¼šåªæœ‰å…ƒç´ è‡ªèº«è§¦å‘äº‹ä»¶æ‰æ‰§è¡Œ(å†’æ³¡æˆ–æ•è·çš„éƒ½ä¸æ‰§è¡Œ)</li>
<li><code>.once</code>ï¼šåªæ‰§è¡Œä¸€æ¬¡</li>
</ul>
<p>å†’æ³¡æµ‹è¯•ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;äº‹ä»¶å†’æ³¡æµ‹è¯•&lt;/h2&gt;
        &lt;div v-on:click=&quot;print(&#39;ç‚¹å‡»äº†div&#39;)&quot; style=&quot;background: skyblue; width: 400px; height: 400px;&quot;&gt;
            &lt;button @click=&quot;print(&#39;ç‚¹å‡»äº†button&#39;)&quot;&gt;æŒ‰é’®&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                num: 1
            },
            methods: {
                print(str){
                    console.log(str)
                }
            },
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827190036.gif" alt="bubble" class="lazyload"></p>
<p>é˜»æ­¢å†’æ³¡ï¼š</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;h2&gt;é˜»æ­¢äº‹ä»¶å†’æ³¡æµ‹è¯•&lt;/h2&gt;
    &lt;div v-on:click=&quot;print(&#39;ç‚¹å‡»äº†div&#39;)&quot; style=&quot;background: skyblue; width: 400px; height: 400px;&quot;&gt;
        &lt;button @click.stop=&quot;print(&#39;ç‚¹å‡»äº†button&#39;)&quot;&gt;æŒ‰é’®&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827190024.gif" alt="stopbubble" class="lazyload"></p>
<p>é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼šç‚¹å‡»è¶…é“¾æ¥ä¸ä¼šè·³è½¬</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;é˜»æ­¢é»˜è®¤äº‹ä»¶&lt;/h2&gt;
        &lt;a href=&quot;https://www.baidu.com&quot; @click.prevent=&quot;print(&#39;ç‚¹å‡»äº†a&#39;)&quot;&gt;ç™¾åº¦&lt;/a&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                num: 1
            },
            methods: {
                print(str){
                    console.log(str)
                }
            },
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="4-3-3-æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#4-3-3-æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="4.3.3 æŒ‰é”®ä¿®é¥°ç¬¦"></a>4.3.3 æŒ‰é”®ä¿®é¥°ç¬¦</h4><ul>
<li><code>.keycode</code> : æ“ä½œçš„æ˜¯æŸä¸ª keycode å€¼çš„é”®</li>
<li><code>.keyName</code> : æ“ä½œçš„æŸä¸ªæŒ‰é”®åçš„é”®(å°‘éƒ¨åˆ†)  </li>
</ul>
<pre><code class="html">&lt;h2&gt;3. æŒ‰é”®ä¿®é¥°ç¬¦&lt;/h2&gt;
&lt;input @keyup.8=&quot;test&quot;&gt; &lt;!-- æŒ‰é”®8 --&gt;
&lt;input @keyup.enter=&quot;test&quot;&gt; &lt;!-- æŒ‰é”®enter --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
new Vue({
  el: &#39;#example&#39;,
  data: {
      name: &#39;Vue.js&#39;
  },
  methods: {
    test(event) {
          alert(event.keyCode + &#39;---&#39; + event.target.value)
      }
  }
})
&lt;/script&gt;</code></pre>
<h3 id="4-4-v-for"><a href="#4-4-v-for" class="headerlink" title="4.4 v-for"></a>4.4 v-for</h3><p>å¯ä»¥åœ¨Vueå®ä¾‹åŒ–çš„æ—¶å€™æŒ‡å®šè¦éå†çš„æ•°æ®ï¼Œç„¶åé€šè¿‡v-foræŒ‡ä»¤åœ¨æ¨¡æ¿ä¸­éå†æ˜¾ç¤ºæ•°æ®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¦éå†çš„æ•°æ®å¯ä»¥é€šè¿‡é’©å­å‡½æ•°createdå‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®ã€‚</p>
<h4 id="4-4-1-éå†æ•°ç»„"><a href="#4-4-1-éå†æ•°ç»„" class="headerlink" title="4.4.1 éå†æ•°ç»„"></a>4.4.1 éå†æ•°ç»„</h4><ul>
<li>è¯­æ³•ï¼š<code>v-for=&quot;item in items&quot;</code><ul>
<li>itemsï¼šè¦éå†çš„æ•°ç»„åæˆ–å¯¹è±¡åï¼Œéœ€è¦åœ¨Vueçš„dataä¸­å®šä¹‰å¥½ã€‚</li>
<li>itemï¼šå¾ªç¯éå†</li>
</ul>
</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;ul&gt;
            &lt;li v-for=&quot;user in users&quot;&gt;
                æˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                users:[
                    {&quot;name&quot;:&quot;å”åƒ§&quot;,&quot;age&quot;:24,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;å­™æ‚Ÿç©º&quot;,&quot;age&quot;:26,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;çŒªå…«æˆ’&quot;,&quot;age&quot;:30,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;æ²™å’Œå°š&quot;,&quot;age&quot;:32,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;èœ˜è››ç²¾&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;å¥³&quot;}
                ]
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827200312.png" alt="image-20200827200311325" class="lazyload"></p>
<h4 id="4-4-2-æ•°ç»„è§’æ ‡"><a href="#4-4-2-æ•°ç»„è§’æ ‡" class="headerlink" title="4.4.2 æ•°ç»„è§’æ ‡"></a>4.4.2 æ•°ç»„è§’æ ‡</h4><p>åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœéœ€è¦çŸ¥é“æ•°ç»„è§’æ ‡/ç´¢å¼•å·ï¼Œå¯ä»¥æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°</p>
<ul>
<li>è¯­æ³•ï¼š<code>v-for=&quot;(item,index) in items&quot;</code><ul>
<li>itemsï¼šè¦éå†çš„æ•°ç»„</li>
<li>itemï¼šéå†å¾—åˆ°çš„æ•°ç»„å…ƒç´ åˆ«å</li>
<li>indexï¼šéå†åˆ°çš„å½“å‰å…ƒç´ ç´¢å¼•ï¼Œä»0å¼€å§‹</li>
</ul>
</li>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;ul&gt;
        &lt;li v-for=&quot;(user, index) in users&quot;&gt;
            {{index}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827200728.png" alt="image-20200827200727402" class="lazyload"></p>
<h4 id="4-4-3-éå†å¯¹è±¡"><a href="#4-4-3-éå†å¯¹è±¡" class="headerlink" title="4.4.3 éå†å¯¹è±¡"></a>4.4.3 éå†å¯¹è±¡</h4><p>v-foré™¤äº†å¯ä»¥è¿­ä»£æ•°ç»„ï¼Œä¹Ÿå¯ä»¥è¿­ä»£å¯¹è±¡ï¼Œè¯­æ³•åŸºæœ¬ç±»ä¼¼</p>
<p>è¯­æ³•ï¼š</p>
<pre><code>v-for=&quot;value in object&quot;
v-for=&quot;(value,key) in object&quot;
v-for=&quot;(value,key,index) in object&quot;</code></pre><ul>
<li>1ä¸ªå‚æ•°æ—¶ï¼Œå¾—åˆ°çš„æ˜¯å¯¹è±¡çš„å€¼</li>
<li>2ä¸ªå‚æ•°æ—¶ï¼Œç¬¬ä¸€ä¸ªæ˜¯å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯é”®</li>
<li>3ä¸ªå‚æ•°æ—¶ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ç´¢å¼•ï¼Œä»0å¼€å§‹</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;ul&gt;
            &lt;li v-for=&quot;(value, key, index) in person&quot;&gt;
                {{index}}â€”â€”{{key}}â€”â€”{{value}}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                person:{&quot;name&quot;:&quot;å­™æ‚Ÿç©º&quot;,&quot;age&quot;:26,&quot;gender&quot;:&quot;ç”·&quot;,&quot;address&quot;:&quot;èŠ±æœå±±&quot;}
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200827201526.png" alt="image-20200827201525393" class="lazyload"></p>
<h4 id="4-4-4-key"><a href="#4-4-4-key" class="headerlink" title="4.4.4 key"></a>4.4.4 key</h4><p>å½“Vue.jsç”¨<code>v-for</code>æ­£åœ¨æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨â€å°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜,ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨DOMå…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚<br>å¦‚æœä½¿ç”¨keyè¿™ä¸ªåŠŸèƒ½å¯ä»¥æœ‰æ•ˆçš„æé«˜æ¸²æŸ“çš„æ•ˆç‡; keyä¸€èˆ¬ä½¿ç”¨åœ¨éå†å®Œåï¼Œè¿˜è¦å¢ã€å‡é›†åˆå…ƒç´ çš„æ—¶å€™æ›´æœ‰æ„ä¹‰ã€‚<br>ä½†æ˜¯è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œä½ éœ€è¦ç»™Vue-äº›æç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼Œä½ éœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€key å±æ€§ã€‚ç†æƒ³çš„<code>key</code>å€¼æ˜¯æ¯é¡¹éƒ½æœ‰çš„ä¸”å”¯ä¸€çš„idã€‚ä¹Ÿå°±æ˜¯keyæ˜¯è¯¥é¡¹çš„å”¯ä¸€æ ‡è¯†ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">    &lt;ul&gt;
        &lt;li v-for=&quot;(user, index) in users&quot; :key=&quot;index&quot;&gt;
            {{index}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
        &lt;/li&gt;
    &lt;/ul&gt;</code></pre>
<p>è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•ï¼š<code>:key=&quot;&quot;</code>ï¼Œå®ƒå¯ä»¥è¯»å–Vueä¸­çš„å±æ€§ï¼Œå¹¶èµ‹å€¼ç»™keyå±æ€§</p>
<p>è¿™é‡Œç»‘å®šçš„keyæ˜¯æ•°ç»„çš„ç´¢å¼•ï¼Œæ˜¯å”¯ä¸€çš„(ä»¥åå¯ä»¥åŠ å…¶ä»–çš„å”¯ä¸€çš„æ•°æ®ï¼Œä¾‹å¦‚user.id)</p>
<h3 id="4-5-v-ifå’Œv-show"><a href="#4-5-v-ifå’Œv-show" class="headerlink" title="4.5 v-ifå’Œv-show"></a>4.5 v-ifå’Œv-show</h3><h4 id="4-5-1-åŸºæœ¬ä½¿ç”¨"><a href="#4-5-1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4.5.1 åŸºæœ¬ä½¿ç”¨"></a>4.5.1 åŸºæœ¬ä½¿ç”¨</h4><p>v-ifï¼Œæ¡ä»¶åˆ¤æ–­ï¼Œå½“å¾—åˆ°çš„ç»“æœä¸ºtrueæ—¶ï¼Œæ‰€åœ¨çš„å…ƒç´ æ‰ä¼šè¢«æ¸²æŸ“ã€‚</p>
<p>è¯­æ³•ï¼š<code>v-if=&quot;å¸ƒå°”è¡¨è¾¾å¼&quot;</code></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button @click=&quot;show=!show&quot;&gt;æŒ‰é’®&lt;/button&gt;
        &lt;h2 v-if=&quot;show&quot;&gt;Hello Vue.js&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                show: true
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="4-5-2-ä¸v-forç»“åˆ"><a href="#4-5-2-ä¸v-forç»“åˆ" class="headerlink" title="4.5.2 ä¸v-forç»“åˆ"></a>4.5.2 ä¸v-forç»“åˆ</h4><p>å½“v-ifå’Œv-forä¸€èµ·å‡ºç°çš„æ—¶å€™ï¼Œv-forä¼˜å…ˆçº§æ›´é«˜ï¼Œå³ä¼šå…ˆéå†ï¼Œå†åˆ¤æ–­æ¡ä»¶ã€‚</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;å¥³æ€§äººç‰©&lt;/h2&gt;
        &lt;ul&gt;
            &lt;li v-for=&quot;(user, index) in users&quot; v-if=&quot;user.gender==&#39;å¥³&#39;&quot;&gt;
                {{index}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                users:[
                    {&quot;name&quot;:&quot;å”åƒ§&quot;,&quot;age&quot;:24,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;å­™æ‚Ÿç©º&quot;,&quot;age&quot;:26,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;çŒªå…«æˆ’&quot;,&quot;age&quot;:30,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;æ²™å’Œå°š&quot;,&quot;age&quot;:32,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;èœ˜è››ç²¾&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;å¥³&quot;}
                ]
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="4-5-3-v-else"><a href="#4-5-3-v-else" class="headerlink" title="4.5.3 v-else"></a>4.5.3 v-else</h4><p>å¯ä»¥ä½¿ç”¨<code>v-else</code>æŒ‡ä»¤æ¥è¡¨ç¤º<code>v-if</code>çš„â€œelseå—â€ï¼Œéœ€è¦æ³¨æ„ï¼Œv-elseå…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨å¸¦æœ‰v-ifæˆ–v-else-ifçš„å…ƒç´ çš„åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«(ä¸¤è€…ä¹‹é—´ä¸èƒ½æ’å…¥å…¶ä»–å…ƒç´ )</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;è¥¿æ¸¸äººç‰©&lt;/h2&gt;
        &lt;ul&gt;
            &lt;li v-for=&quot;(user, index) in users&quot; v-if=&quot;user.gender==&#39;å¥³&#39;&quot; style=&quot;color:pink;&quot;&gt;
                {{index+1}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
            &lt;/li&gt;
            &lt;li v-else style=&quot;color:skyblue;&quot;&gt;
                {{index+1}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                users:[
                    {&quot;name&quot;:&quot;å”åƒ§&quot;,&quot;age&quot;:24,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;å­™æ‚Ÿç©º&quot;,&quot;age&quot;:26,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;çŒªå…«æˆ’&quot;,&quot;age&quot;:30,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;æ²™å’Œå°š&quot;,&quot;age&quot;:32,&quot;gender&quot;:&quot;ç”·&quot;},
                    {&quot;name&quot;:&quot;èœ˜è››ç²¾&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;å¥³&quot;}
                ]
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><code>v-else-if</code>ï¼Œå……å½“<code>v-if</code>çš„â€else-ifå—â€œï¼Œå¯ä»¥è¿ç»­ä½¿ç”¨(v-else-ifä¹Ÿå¿…é¡»ç´§è·Ÿåœ¨å¸¦v-ifæˆ–v-else-ifçš„å…ƒç´ å)</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;h2&gt;è¥¿æ¸¸äººç‰©&lt;/h2&gt;
    &lt;ul&gt;
        &lt;li v-for=&quot;(user, index) in users&quot; v-if=&quot;user.age&lt;20&quot; style=&quot;color:yellowgreen;&quot;&gt;
            {{index+1}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
        &lt;/li&gt;
        &lt;li v-else-if=&quot;user.age&lt;30&quot; style=&quot;color:skyblue;&quot;&gt;
            {{index+1}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
        &lt;/li&gt;
        &lt;li v-else style=&quot;color:yellow;&quot;&gt;
            {{index+1}}ï¼šæˆ‘æ˜¯{{user.name}}ï¼Œä»Šå¹´{{user.age}}å²äº†ï¼Œæ€§åˆ«{{user.gender}}
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;</code></pre>
<h4 id="4-5-4-v-show"><a href="#4-5-4-v-show" class="headerlink" title="4.5.4 v-show"></a>4.5.4 v-show</h4><p><code>v-show</code>ä¹Ÿå¯ä»¥æ ¹æ®æ¡ä»¶æ˜¯å¦å±•ç¤ºå…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="html">&lt;h1 v-show=&quot;ok&quot;&gt;Hello Vue.js.&lt;/h1&gt;</code></pre>
<p>ä½†æ˜¯ï¼Œå¸¦æœ‰<code>v-show</code>çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨DOMä¸­ï¼Œ<code>v-show</code>åªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çš„CSSå±æ€§<code>display</code>çš„å€¼ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button @click=&quot;show=!show&quot;&gt;åˆ‡æ¢&lt;/button&gt;
        &lt;h2 v-if=&quot;show&quot;&gt;Vue.js&lt;/h2&gt;
        &lt;h2 v-show=&quot;show&quot;&gt;Vue.js&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                show: true
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200828082251.png" alt="image-20200828082250681" class="lazyload"></p>
<p><code>v-if</code>åœ¨æ¡ä»¶ä¸æ»¡è¶³çš„æ—¶å€™å…ƒç´ ä¼šæ¶ˆå¤±ï¼›<code>v-show</code>æ¡ä»¶ä¸æ»¡è¶³çš„æ—¶å€™åªæ˜¯<code>display:none</code>äº†</p>
<h3 id="4-6-v-bind"><a href="#4-6-v-bind" class="headerlink" title="4.6 v-bind"></a>4.6 v-bind</h3><h4 id="4-6-1-å±æ€§ä¸Šä½¿ç”¨vueæ•°æ®"><a href="#4-6-1-å±æ€§ä¸Šä½¿ç”¨vueæ•°æ®" class="headerlink" title="4.6.1 å±æ€§ä¸Šä½¿ç”¨vueæ•°æ®"></a>4.6.1 å±æ€§ä¸Šä½¿ç”¨vueæ•°æ®</h4><p>æ’å€¼è¡¨è¾¾å¼ä¸èƒ½ç”¨åœ¨å±æ€§ä¸­ï¼Œä¼šæŠ¥é”™<code>&lt;div id=&quot;box&quot; class=&quot;&quot;&gt;ç‚¹å‡»æŒ‰é’®æ”¹å˜èƒŒæ™¯é¢œè‰²&lt;/div&gt;</code></p>
<p>v-bindä½œç”¨ï¼šå¯ä»¥å¯¹æ‰€æœ‰å…ƒç´ çš„å±æ€§å€¼è®¾ç½®ä¸ºvueä¸­dataçš„æ•°æ®</p>
<p>è¯­æ³•ï¼šåœ¨å±æ€§åä¹‹å‰åŠ ä¸Š<code>v-bind:</code>(<code>v-bind:å±æ€§å=&#39;Vueä¸­çš„å˜é‡&#39;</code>)ï¼Œç®€å†™ä¸º<code>:å±æ€§å=&#39;å±æ€§å€¼&#39;</code></p>
<p><code>&lt;img src=&quot;&quot; height=&quot;&quot; /&gt;</code>å…¶ä¸­srcå’Œheightçš„å€¼å¦‚æœä¸æƒ³å†™æ­»ï¼Œè€Œæ˜¯æƒ³è·å–Vueå®ä¾‹ä¸­çš„æ•°æ®å±æ€§å€¼çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ä½¿ç”¨v-bindå®ç°</p>
<pre><code class="html">&lt;img v-bind:src=&quot;vueå®ä¾‹ä¸­çš„æ•°æ®å±æ€§å&quot; :height=&quot;vueå®ä¾‹ä¸­çš„æ•°æ®å±æ€§å&quot; /&gt;</code></pre>
<p>åˆ©ç”¨v-bindå®ç°ç‚¹å‡»åˆ‡æ¢èƒŒæ™¯é¢œè‰²</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
    &lt;style&gt;
        #box{
            width: 150px;
            height: 150px;
            color: white;
        }
        .red{
            background-color: red;
        }
        .green{
            background-color: green;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button @click=&quot;bgcolor=&#39;red&#39;&quot;&gt;åˆ‡æ¢çº¢è‰²&lt;/button&gt;
        &lt;button @click=&quot;bgcolor=&#39;green&#39;&quot;&gt;åˆ‡æ¢ç»¿è‰²&lt;/button&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;div id=&quot;box&quot; v-bind:class=&quot;bgcolor&quot;&gt;ç‚¹å‡»æŒ‰é’®æ”¹å˜èƒŒæ™¯é¢œè‰²&lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                bgcolor: &quot;red&quot;
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h4 id="4-6-2-classå±æ€§çš„ç‰¹æ®Šç”¨æ³•"><a href="#4-6-2-classå±æ€§çš„ç‰¹æ®Šç”¨æ³•" class="headerlink" title="4.6.2 classå±æ€§çš„ç‰¹æ®Šç”¨æ³•"></a>4.6.2 classå±æ€§çš„ç‰¹æ®Šç”¨æ³•</h4><p>ä¸Šé¢è™½ç„¶å®ç°äº†é¢œè‰²åˆ‡æ¢ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>Vueå¯¹classå±æ€§è¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ï¼Œå¯æ¥å—æ•°ç»„æˆ–å¯¹è±¡æ ¼å¼</p>
<p>å¯¹è±¡è¯­æ³•ï¼š</p>
<p>å¯ä»¥ä¼ ç»™<code>:class</code>ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºåŠ¨æ€åˆ‡æ¢classï¼š</p>
<pre><code class="html">&lt;div :class=&quot;{red: true, green: false}&quot;&gt;&lt;/div&gt;</code></pre>
<ul>
<li>å¯¹è±¡ä¸­ï¼Œkeyæ˜¯å·²ç»å®šä¹‰çš„classæ ·å¼çš„åç§°ï¼Œæ¯”å¦‚ä¸Šé¢çš„<code>red</code>ã€<code>green</code></li>
<li>å¯¹è±¡ä¸­ï¼Œvalueæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™è¿™ä¸ªæ ·å¼ä¼šç”Ÿæ•ˆï¼Œå¦‚æœä¸ºfalseï¼Œåˆ™ä¸ç”Ÿæ•ˆã€‚</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
    &lt;style&gt;
        #box{
            width: 150px;
            height: 150px;
            color: white;
        }
        .red{
            background-color: red;
        }
        .green{
            background-color: green;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button @click=&quot;bool=!bool&quot;&gt;åˆ‡æ¢é¢œè‰²&lt;/button&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;div id=&quot;box&quot; v-bind:class=&quot;{red: bool, green: !bool}&quot;&gt;ç‚¹å‡»æŒ‰é’®æ”¹å˜èƒŒæ™¯é¢œè‰²&lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                bgcolor: &quot;red&quot;,
                bool: true
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="4-7-è®¡ç®—å±æ€§"><a href="#4-7-è®¡ç®—å±æ€§" class="headerlink" title="4.7 è®¡ç®—å±æ€§"></a>4.7 è®¡ç®—å±æ€§</h3><p>åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­ä½¿ç”¨jsè¡¨è¾¾å¼æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œè€Œä¸”ä¹Ÿç»å¸¸è¢«ç”¨åˆ°ã€‚</p>
<p>ä½†æ˜¯å¦‚æœè¡¨è¾¾å¼çš„å†…å®¹å¾ˆé•¿ï¼Œå°±ä¼šæ˜¾å¾—ä¸å¤Ÿä¼˜é›…ï¼Œè€Œä¸”åæœŸç»´æŠ¤èµ·æ¥ä¹Ÿä¸æ–¹ä¾¿ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªæ—¥æœŸçš„æ¯«ç§’å€¼æ˜¾ç¤ºè½¬ä¸ºæ ¼å¼åŒ–çš„yyyy-MM-ddï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;æ—¥æœŸï¼š{{new Date(date).getFullYear()}}-{{new Date(date).getMonth()+1}}-{{new Date(date).getDate()}}&lt;/h2&gt; &lt;!-- æ—¥æœŸï¼š2020-8-28 --&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                date: 1598580451457 // æ¯«ç§’å€¼
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>è¿™æ ·åˆ©ç”¨jsçš„æ–¹æ³•èƒ½å¤Ÿå®ç°éœ€æ±‚ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ã€‚</p>
<p>Vueä¸­æä¾›äº†è®¡ç®—å±æ€§ï¼Œæ¥æ›¿ä»£å¤æ‚çš„è¡¨è¾¾å¼ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;h2&gt;æ—¥æœŸï¼š{{new Date(date).getFullYear()}}-{{new Date(date).getMonth()+1}}-{{new Date(date).getDate()}}&lt;/h2&gt;
        &lt;hr&gt;
        &lt;h2&gt;computed,æ—¥æœŸï¼š{{getDay}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                date: 1598580451457 // æ¯«ç§’å€¼
            },
            computed: {
                getDay(){
                    const date = new Date(this.date)
                    return date.getFullYear() + &quot;-&quot; + (date.getMonth()+1) + &quot;-&quot; + date.getDate()
                }
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>computedè®¡ç®—å±æ€§å¯ä»¥åº”ç”¨åœ¨æ’å€¼æˆ–è€…æŒ‡ä»¤è¡¨è¾¾å¼å¤æ‚çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥å°†ä¸€äº›å±æ€§æ•°æ®ç»è¿‡æ–¹æ³•å¤„ç†ä¹‹åè¿”å›ã€‚</p>
<h3 id="4-8-watch"><a href="#4-8-watch" class="headerlink" title="4.8 watch"></a>4.8 watch</h3><h4 id="4-8-1-ç›‘æ§"><a href="#4-8-1-ç›‘æ§" class="headerlink" title="4.8.1 ç›‘æ§"></a>4.8.1 ç›‘æ§</h4><p>åœ¨vueå®ä¾‹ä¸­ï¼Œæ•°æ®å±æ€§å› ä¸ºåœ¨é¡µé¢ä¸­ä¿®æ”¹è€Œäº§ç”Ÿäº†å˜åŒ–ï¼Œå¯ä»¥é€šè¿‡watchç›‘æ§è·å–å…¶æ”¹å˜å‰åçš„å€¼ã€‚</p>
<p>watchä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥ç›‘æ§è§†å›¾ä¸­çš„æ•°æ®å˜åŒ–ä»è€Œåšå‡ºç›¸åº”çš„ååº”ï¼Œä¾‹å¦‚ï¼Œä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œå¦‚æœé€‰æ‹©äº†å¯¹åº”çš„ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹ä¹‹åï¼Œè¦æ ¹æ®æœ€æ–°çš„å€¼å»åŠ è½½ä¸€äº›å…¶ä»–æ•°æ®ã€‚</p>
<h4 id="4-8-2-æ·±åº¦ç›‘æ§"><a href="#4-8-2-æ·±åº¦ç›‘æ§" class="headerlink" title="4.8.2 æ·±åº¦ç›‘æ§"></a>4.8.2 æ·±åº¦ç›‘æ§</h4><p>å¦‚æœæ˜¯ä¿®æ”¹çš„å¯¹è±¡æ•°æ®å±æ€§ï¼Œå¯ä»¥å¼€å¯æ·±åº¦ç›‘æ§è·å–ä¿®æ”¹åæœ€æ–°çš„å¯¹è±¡æ•°æ®ã€‚</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt;
        &lt;br&gt;&lt;hr&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;person.name&quot;&gt;
        &lt;input type=&quot;text&quot; v-model=&quot;person.age&quot;&gt;
        &lt;button @click=&quot;person.age++&quot;&gt;å¹´é¾„+1&lt;/button&gt;
        &lt;h2&gt;å§“åï¼š{{person.name}}ï¼Œå¹´é¾„ï¼š{{person.age}}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                message: &quot;ä½ å¥½å•Šï¼&quot;,
                person:{
                    name: &quot;å¼ ä¸‰&quot;,
                    age: 21
                }
            },
            watch: {
                message(newValue, oldValue){
                    console.log(&quot;æ–°å€¼ï¼š&quot;+ newValue +&quot;ï¼Œæ—§å€¼ï¼š&quot; + oldValue)
                },
                person: {
                    /* å¼€å¯æ·±åº¦ç›‘æ§ï¼Œç›‘æ§å¯¹è±¡ä¸­çš„å±æ€§å€¼å˜åŒ– */
                    deep: true,
                    // å¯ä»¥è·å–åˆ°æœ€æ–°çš„å¯¹è±¡å±æ€§æ•°æ®
                    handler(obj){
                        console.log(&quot;å§“åï¼š&quot; + obj.name + &quot;,å¹´é¾„ï¼š&quot; + obj.age)
                    }
                }
            },
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="äº”ã€ç»„ä»¶åŒ–"><a href="#äº”ã€ç»„ä»¶åŒ–" class="headerlink" title="äº”ã€ç»„ä»¶åŒ–"></a>äº”ã€ç»„ä»¶åŒ–</h2><p>åœ¨å¤§å‹åº”ç”¨å¼€å‘çš„æ—¶å€™ï¼Œé¡µé¢å¯ä»¥åˆ’åˆ†æˆå¾ˆå¤šéƒ¨åˆ†ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæ¯ä¸ªé¡µé¢éƒ½ç‹¬è‡ªå¼€å‘ï¼Œæ— ç–‘ä¼šå¢åŠ å¼€å‘çš„æˆæœ¬ï¼Œå› æ­¤ä¼šæŠŠé¡µé¢çš„ä¸åŒéƒ¨åˆ†æ‹†åˆ†æˆç‹¬ç«‹çš„ç»„ä»¶ï¼Œç„¶åå†ä¸åŒçš„é¡µé¢å…±äº«è¿™äº›ç»„ä»¶ï¼Œé¿å…é‡å¤å¼€å‘ã€‚</p>
<h3 id="5-1-å®šä¹‰å…¨å±€ç»„ä»¶"><a href="#5-1-å®šä¹‰å…¨å±€ç»„ä»¶" class="headerlink" title="5.1 å®šä¹‰å…¨å±€ç»„ä»¶"></a>5.1 å®šä¹‰å…¨å±€ç»„ä»¶</h3><p>é€šè¿‡Vueçš„componentæ–¹æ³•æ¥å®šä¹‰ä¸€ä¸ªå…¨å±€ç»„ä»¶ã€‚</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;!-- å¼•å…¥ç»„ä»¶(ä½¿ç”¨) --&gt;
        &lt;counter /&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        // å®šä¹‰ç»„ä»¶
        const counter = {
            // el ç»„ä»¶ä¸éœ€è¦elç»‘å®šä¸€ä¸ªå…·ä½“çš„å…ƒç´ 
            template: &quot;&lt;button @click=&#39;num++&#39;&gt;ä½ ç‚¹å‡»äº†{{num}}æ¬¡&lt;/button&gt;&quot;,
            data() {
                return {
                    num: 0
                }
            } // dataåªèƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æœ‰è¿”å›
            /* data: {
                num: 0
            } */
        }
        // å…¨å±€æ³¨å†Œç»„ä»¶ï¼šåœ¨æ‰€æœ‰çš„vueå®ä¾‹ä¸­éƒ½å¯ä»¥ä½¿ç”¨ç»„ä»¶
        Vue.component(&quot;counter&quot;, counter) // å‚æ•°1ï¼šç»„ä»¶å†…åç§°ï¼Œå‚æ•°2ï¼šå…·ä½“çš„ç»„ä»¶
        var vm = new Vue({
            el: &quot;#app&quot;
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li><p>ç»„ä»¶å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªVueå®ä¾‹ï¼Œå› æ­¤å®ƒåœ¨å®šä¹‰æ—¶ä¹Ÿä¼šæ¥æ”¶dataã€methodsã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰</p>
</li>
<li><p>ä¸åŒçš„æ˜¯ï¼Œç»„ä»¶ä¸ä¼šä¸é¡µé¢çš„å…ƒç´ ç»‘å®šï¼Œå¦åˆ™å°±æ— æ³•å¤ç”¨äº†ï¼Œå› æ­¤æ²¡æœ‰elå±æ€§</p>
</li>
<li><p>ä½†æ˜¯ç»„ä»¶æ¸²æŸ“éœ€è¦hmtlæ¨¡æ¿ï¼Œæ‰€ä»¥æ·»åŠ äº†templateå±æ€§ï¼Œå€¼å°±æ˜¯HTMLæ¨¡æ¿</p>
</li>
<li><p>å…¨å±€ç»„ä»¶å®šä¹‰å®Œæ¯•ï¼Œä»»ä½•Vueå®ä¾‹éƒ½å¯ä»¥ç›´æ¥åœ¨HTMLä¸­é€šè¿‡ç»„ä»¶åç§°æ¥ä½¿ç”¨è¯¥ç»„ä»¶</p>
</li>
<li><p>dataçš„å®šä¹‰æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</p>
</li>
</ul>
<h3 id="5-2-ç»„ä»¶çš„å¤ç”¨"><a href="#5-2-ç»„ä»¶çš„å¤ç”¨" class="headerlink" title="5.2 ç»„ä»¶çš„å¤ç”¨"></a>5.2 ç»„ä»¶çš„å¤ç”¨</h3><p>å®šä¹‰å¥½çš„ç»„ä»¶ï¼Œå¯ä»¥ä»»æ„å¤ç”¨å¤šæ¬¡ï¼š</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;!-- å¼•å…¥ç»„ä»¶(ä½¿ç”¨) --&gt;
    &lt;counter&gt;&lt;/counter&gt;
    &lt;counter&gt;&lt;/counter&gt;
    &lt;counter&gt;&lt;/counter&gt;
&lt;/div&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200828121653.png" alt="image-20200828121651862" class="lazyload"></p>
<p>æ¯ä¸ªç»„ä»¶äº’ä¸å¹²æ‰°ï¼Œæœ‰è‡ªå·±çš„numå€¼ï¼Œè¿™æ˜¯å› ä¸º</p>
<p><strong>ç»„ä»¶çš„dataå±æ€§å¿…é¡»æ˜¯å‡½æ•°</strong></p>
<p>å½“å®šä¹‰è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œå®ƒçš„dataå¹¶ä¸æ˜¯åƒè¿™æ ·ç›´æ¥æä¾›ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<pre><code class="javascript">data:{
    num: 0
}</code></pre>
<p>è€Œå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå› æ­¤æ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€åˆ†è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´</p>
<pre><code class="javascript">data: function() {
  return {
    num: 0
  }
}</code></pre>
<p>å¦‚æœVueæ²¡æœ‰è¿™æ¡è§„åˆ™ï¼Œç‚¹å‡»ä¸€ä¸ªæŒ‰é’®å°±ä¼šå½±å“åˆ°å…¶ä»–æ‰€æœ‰å®ä¾‹</p>
<h3 id="5-3-å±€éƒ¨æ³¨å†Œ"><a href="#5-3-å±€éƒ¨æ³¨å†Œ" class="headerlink" title="5.3 å±€éƒ¨æ³¨å†Œ"></a>5.3 å±€éƒ¨æ³¨å†Œ</h3><p>ä¸€æ—¦å…¨å±€æ³¨å†Œï¼Œå°±æ„å‘³ç€å³ä¾¿ä»¥åä¸å†ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œå®ƒä¾ç„¶ä¼šéšç€Vueçš„åŠ è½½è€ŒåŠ è½½ã€‚å› æ­¤ï¼Œå¯¹äºä¸€äº›ä½¿ç”¨å¹¶ä¸é¢‘ç¹çš„ç»„ä»¶ï¼Œä¼šé‡‡ç”¨å±€éƒ¨æ³¨å†Œã€‚</p>
<p>å…ˆåœ¨å¤–éƒ¨å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œç»“æ„ä¸åˆ›å»ºç»„ä»¶æ—¶ä¼ é€’çš„ç¬¬äºŒä¸ªå‚æ•°ä¸€è‡´ï¼Œç„¶åå†Vueä¸­ä½¿ç”¨å®ƒï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;!-- å¼•å…¥ç»„ä»¶(ä½¿ç”¨) --&gt;
        &lt;counter&gt;&lt;/counter&gt;
        &lt;counter&gt;&lt;/counter&gt;
        &lt;counter&gt;&lt;/counter&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        // å®šä¹‰ç»„ä»¶
        const counter = {
            // el ç»„ä»¶ä¸éœ€è¦elç»‘å®šä¸€ä¸ªå…·ä½“çš„å…ƒç´ 
            template: &quot;&lt;button @click=&#39;num++&#39;&gt;ä½ ç‚¹å‡»äº†{{num}}æ¬¡&lt;/button&gt;&quot;,
            data() {
                return {
                    num: 0
                }
            } // dataåªèƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æœ‰è¿”å›
        }
        // å…¨å±€æ³¨å†Œç»„ä»¶ï¼šåœ¨æ‰€æœ‰çš„vueå®ä¾‹ä¸­éƒ½å¯ä»¥ä½¿ç”¨ç»„ä»¶
        /* Vue.component(&quot;counter&quot;, counter) */ // å‚æ•°1ï¼šç»„ä»¶å†…åç§°ï¼Œå‚æ•°2ï¼šå…·ä½“çš„ç»„ä»¶
        var vm = new Vue({
            el: &quot;#app&quot;,
            // å±€éƒ¨æ³¨å†Œç»„ä»¶
            components:{
                counter: counter // ç»„ä»¶å: å…·ä½“çš„æŸä¸ªç»„ä»¶
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li>componentså°±æ˜¯å½“å‰vueå¯¹è±¡å­ç»„ä»¶é›†åˆ<ul>
<li>å…¶keyå°±æ˜¯å­ç»„ä»¶åç§°</li>
<li>å…¶å€¼å°±æ˜¯ç»„ä»¶å¯¹è±¡çš„å±æ€§</li>
</ul>
</li>
<li>æ•ˆæœä¸å…¨å±€æ³¨å†Œæ—¶ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªå±€éƒ¨æ³¨å†Œçš„counterç»„ä»¶åªèƒ½åœ¨å½“å‰çš„Vueå®ä¾‹ä¸­ä½¿ç”¨</li>
</ul>
<p>ç»„ä»¶ä½¿ç”¨åœºæ™¯ï¼šåœ¨é¡¹ç›®éœ€è¦é‡ç”¨æŸä¸ªæ¨¡å—(å¤´éƒ¨ã€å°¾éƒ¨ã€å†…å®¹â€¦â€¦)çš„æ—¶å€™ï¼Œå¯ä»¥å°†æ¨¡å—æŠ½å–æˆç»„ä»¶ï¼Œå…¶ä»–é¡µé¢ä¸­æ³¨å†Œç»„ä»¶å¹¶å¼•ç”¨ã€‚</p>
<p>å…¨å±€æ³¨å†Œï¼šåœ¨ä»»ä½•Vueå®ä¾‹ä¸­éƒ½å¯ä»¥å¼•ç”¨ï¼Œå¦‚ï¼šç½‘ç«™çš„å¤´éƒ¨å¯¼èˆªèœå•</p>
<p>å±€éƒ¨æ³¨å†Œï¼šå¯ä»¥åœ¨æœ‰éœ€è¦çš„é¡µé¢å¼•å…¥ç»„ä»¶ï¼Œå¦‚ï¼šå•†åŸç½‘ç«™é¦–é¡µé¡µé¢ä¸­å„ç§æ´»åŠ¨æ¨¡å—</p>
<h3 id="5-4-ç»„ä»¶é€šä¿¡"><a href="#5-4-ç»„ä»¶é€šä¿¡" class="headerlink" title="5.4 ç»„ä»¶é€šä¿¡"></a>5.4 ç»„ä»¶é€šä¿¡</h3><p>é€šå¸¸ä¸€ä¸ªå•é¡µé¢åº”ç”¨ä¼šä»¥ä¸€é¢—åµŒå¥—çš„ç»„ä»¶æ ‘çš„å½¢å¼æ¥ç»„ç»‡ï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/pic/illustrtion/20200828155751.png" alt="img" class="lazyload"></p>
<ul>
<li>é¡µé¢é¦–å…ˆåˆ†ä¸ºäº†é¡¶éƒ¨å¯¼èˆªã€å·¦ä¾§å†…å®¹åŒºã€å³ä¾§è¾¹æ ä¸‰ä¸ªéƒ¨åˆ†</li>
<li>å·¦ä¾§å†…å®¹åŒºåˆåˆ†ä¸ºä¸Šä¸‹ä¸¤ä¸ªç»„ä»¶</li>
<li>å³ä¾§è¾¹æ ä¸­åŒ…å«äº†3ä¸ªå­ç»„ä»¶</li>
</ul>
<p>å„ä¸ªç»„ä»¶ä¹‹é—´ä»¥åµŒå¥—çš„å…³ç³»ç»„åˆåœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä¸å¯é¿å…åœ°ä¼šæœ‰ç»„ä»¶é—´é€šä¿¡çš„éœ€æ±‚ã€‚</p>
<h4 id="5-4-1-çˆ¶å‘å­ä¼ é€’-props"><a href="#5-4-1-çˆ¶å‘å­ä¼ é€’-props" class="headerlink" title="5.4.1 çˆ¶å‘å­ä¼ é€’ props"></a>5.4.1 çˆ¶å‘å­ä¼ é€’ props</h4><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;introduce :title=&quot;msg&quot;&gt;&lt;/introduce&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        const introduce = {
            template:&quot;&lt;h2&gt;{{title}}&lt;/h2&gt;&quot;,
            // å®šä¹‰æ¥æ”¶çˆ¶ç»„ä»¶çš„å±æ€§
            props:[&quot;title&quot;]
        }
        Vue.component(&quot;introduce&quot;, introduce)
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                msg:&quot;çˆ¶ç»„ä»¶çš„msgå±æ€§æ•°æ®å†…å®¹&quot;
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>introduceè¿™ä¸ªå­ç»„ä»¶ä¸­è¦ä½¿ç”¨titleå±æ€§æ¸²æŸ“é¡µé¢ï¼Œä½†æ˜¯è‡ªå·±å¹¶æ²¡æœ‰titleå±æ€§ã€‚é€šè¿‡propsæ¥æ¥æ”¶çˆ¶ç»„ä»¶å±æ€§ï¼Œåä¸ºtitleã€‚çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶ï¼ŒåŒæ—¶ä¼ é€’titleå±æ€§ã€‚</p>
<h4 id="5-4-2-ä¼ é€’å¤æ‚æ•°æ®"><a href="#5-4-2-ä¼ é€’å¤æ‚æ•°æ®" class="headerlink" title="5.4.2 ä¼ é€’å¤æ‚æ•°æ®"></a>5.4.2 ä¼ é€’å¤æ‚æ•°æ®</h4><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;my-list :items=&quot;lessons&quot;&gt;&lt;/my-list&gt; &lt;!-- è¿™é‡Œå°±ä¸èƒ½ç”¨é©¼å³°å‘½åæ³•äº† --&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        const myList = {
            template:`
                &lt;ul&gt;
                    &lt;li v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;{{item.id}}â€”â€”{{item.name}}&lt;/li&gt;
                &lt;/ul&gt;
            `, // è¿™é‡Œç”¨çš„æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ã€å•å¼•å·
            props:{ // é€šè¿‡propsæ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’æ¥çš„å±æ€§
                items:{ // è¿™é‡Œå®šä¹‰itemså±æ€§
                    // æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯æ•°ç»„åˆ™æ˜¯Arrayï¼Œå¦‚æœæ˜¯å¯¹è±¡åˆ™æ˜¯Object
                    type:Array,
                    // é»˜è®¤å€¼(å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰ä¼ å€¼ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„)
                    default:[]
                }
            }
        }
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                msg:&quot;çˆ¶ç»„ä»¶çš„msgå±æ€§æ•°æ®å†…å®¹&quot;,
                lessons:[
                    {&quot;id&quot;:1, &quot;name&quot;:&quot;è¯­æ–‡&quot;},
                    {&quot;id&quot;:2, &quot;name&quot;:&quot;æ•°å­¦&quot;},
                    {&quot;id&quot;:3, &quot;name&quot;:&quot;è‹±è¯­&quot;},
                    {&quot;id&quot;:4, &quot;name&quot;:&quot;ç‰©ç†&quot;},
                    {&quot;id&quot;:5, &quot;name&quot;:&quot;åŒ–å­¦&quot;},
                    {&quot;id&quot;:6, &quot;name&quot;:&quot;ç”Ÿç‰©&quot;}
                ]
            },
            components:{
                myList // ES6è¯­æ³•
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li><p>è¿™ä¸ªå­ç»„ä»¶å¯ä»¥å¯¹itemsè¿›è¡Œè¿­ä»£ï¼Œå¹¶è¾“å‡ºåˆ°é¡µé¢</p>
</li>
<li><p>ä½†æ˜¯ç»„ä»¶ä¸­å¹¶æ²¡æœ‰å®šä¹‰itemså±æ€§</p>
</li>
<li><p>å¯ä»¥é€šè¿‡propsæ¥å®šä¹‰éœ€è¦ä»çˆ¶ç»„ä»¶ä¸­æ¥æ”¶çš„å±æ€§</p>
<ul>
<li><p>itemsï¼šè¦æ¥æ”¶çš„å±æ€§åç§°</p>
<ul>
<li><p>typeï¼šé™å®šçˆ¶ç»„ä»¶ä¼ é€’æ¥çš„å¿…é¡»æ˜¯æ•°ç»„ï¼Œå¦åˆ™æŠ¥é”™[typeçš„å€¼å¯ä»¥æ˜¯Arrayæˆ–è€…Objectï¼Œä¼ é€’å¯¹è±¡çš„æ—¶å€™ä½¿ç”¨]</p>
</li>
<li><p>defaultï¼šé»˜è®¤å€¼ï¼Œå¦‚æœæ˜¯å¯¹è±¡åˆ™éœ€è¦å†™æˆæ–¹æ³•çš„æ–¹å¼è¿”å›é»˜è®¤å€¼ï¼Œå¦‚ï¼š</p>
<pre><code>default(){
    return {&quot;xxx&quot;:&quot;é»˜è®¤å€¼&quot;}
}</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="5-4-3-å­å‘çˆ¶çš„é€šä¿¡"><a href="#5-4-3-å­å‘çˆ¶çš„é€šä¿¡" class="headerlink" title="5.4.3 å­å‘çˆ¶çš„é€šä¿¡"></a>5.4.3 å­å‘çˆ¶çš„é€šä¿¡</h4><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.jsæµ‹è¯•&lt;/title&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        num = {{num}}
        &lt;counter @plus=&quot;numPlus&quot; @reduce=&quot;numReduce()&quot; :snum=&quot;num&quot;&gt;&lt;/counter&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        const counter = {
            template:`
                &lt;div&gt; 
                    &lt;button @click=&#39;incrNum&#39;&gt;å¢åŠ &lt;/button&gt;
                    &lt;button @click=&#39;decrNum&#39;&gt;å‡å°‘&lt;/button&gt;
                &lt;/div&gt;
            `,/* åªèƒ½æ˜¯ä¸€ä¸ªå®¹å™¨åŒ…è£¹å¤šä¸ªå…ƒç´  */
            props:[&quot;snum&quot;],
            methods: {
                incrNum(){
                    // è°ƒç”¨åˆ°çˆ¶ç»„ä»¶ä¸­çš„æ–¹æ³•
                    return this.$emit(&quot;plus&quot;)
                },
                decrNum(){
                    // è°ƒç”¨åˆ°çˆ¶ç»„ä»¶ä¸­çš„æ–¹æ³•
                    return this.$emit(&quot;reduce&quot;)
                }
            },
        }
        Vue.component(&quot;counter&quot;, counter)
        var vm = new Vue({
            el: &quot;#app&quot;,
            data:{
                num: 0
            },
            methods: {
                numPlus(){
                    this.num++
                },
                numReduce(){
                    this.num--
                }
            }
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>å®ç°äº†åœ¨å­ç»„ä»¶ä¸­ç‚¹å‡»å¯¹åº”æŒ‰é’®ï¼Œçˆ¶ç»„ä»¶ä¸­å±æ€§æ•°æ®çš„æ”¹å˜</p>
<p>å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šè¿‡<code>$emit</code>è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œå»è°ƒç”¨æ‰§è¡Œå¤–ç•Œçˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‡½æ•°æ“ä½œï¼Œå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥ä¼ é€’å‚æ•°ï¼Œä»è€Œé—´æ¥åœ°ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶ã€‚(çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå­ç»„ä»¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œè°ƒç”¨æ—¶å¯ä»¥ä¼ å‚ï¼Œå‡½æ•°æ‰§è¡Œæ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯çˆ¶ç»„ä»¶ä¸­çš„é€»è¾‘ï¼Œä»è€Œå¯ä»¥æ‹¿åˆ°å­ç»„ä»¶ä¼ å‚è¿‡æ¥çš„æ•°æ®)</p>
<p><code>$emit</code>å¯ä»¥ä¼ å€¼ï¼Œ<code>this.$emit(&quot;è‡ªå®šä¹‰äº‹ä»¶å&quot;,è¦ä¼ çš„æ•°æ®)</code>ï¼Œæ¥ç€ä¼šåœ¨çˆ¶ç»„ä»¶ä¸­ä»¥æ–¹æ³•çš„å‚æ•°ä¼ è¿‡å»</p>
<h2 id="å…­ã€Vuejs-ajax"><a href="#å…­ã€Vuejs-ajax" class="headerlink" title="å…­ã€Vuejs ajax"></a>å…­ã€Vuejs ajax</h2><p>Vuejså¹¶æ²¡æœ‰ç›´æ¥å¤„ç†ajaxçš„ç»„ä»¶ï¼Œä½†å¯ä»¥ä½¿ç”¨axiosæˆ–vue-resourceç»„ä»¶å®ç°å¯¹å¼‚æ­¥è¯·æ±‚çš„æ“ä½œã€‚</p>
<h3 id="6-1-vue-resource"><a href="#6-1-vue-resource" class="headerlink" title="6.1 vue-resource"></a>6.1 vue-resource</h3><p>vue-resourceæ˜¯Vue.jsçš„æ’ä»¶ï¼Œæä¾›äº†ä½¿ç”¨XMLHttpRequestæˆ–JSONPè¿›è¡Œwebè¯·æ±‚å’Œå¤„ç†å“åº”çš„æœåŠ¡ã€‚å½“Vueæ›´æ–°åˆ°2.0ä¹‹åï¼Œä½œè€…å°±å®£å‘Šä¸å†å¯¹vue-resourceæ›´æ–°ï¼Œè€Œæ˜¯æ¨èä½¿ç”¨axiosã€‚</p>
<p>GitHubåœ°å€ï¼š<a href="https://github.com/pagekit/vue-resource" target="_blank" rel="noopener">https://github.com/pagekit/vue-resource</a></p>
<h3 id="6-2-axiosç®€ä»‹"><a href="#6-2-axiosç®€ä»‹" class="headerlink" title="6.2 axiosç®€ä»‹"></a>6.2 axiosç®€ä»‹</h3><p>axiosæ˜¯ä¸€ä¸ªåŸºäºpromiseçš„HTTPåº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’ŒNode.jsä¸­ã€‚</p>
<p>GitHubåœ°å€ï¼š<a href="https://github.com/axios/axios" target="_blank" rel="noopener">https://github.com/axios/axios</a></p>
<pre><code class="sh"># npm å®‰è£…
npm install axios</code></pre>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨cdnæœåŠ¡ï¼š</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<h3 id="6-3-axiosåº”ç”¨"><a href="#6-3-axiosåº”ç”¨" class="headerlink" title="6.3 axiosåº”ç”¨"></a>6.3 axiosåº”ç”¨</h3><h4 id="6-3-1-æ–¹æ³•è¯´æ˜"><a href="#6-3-1-æ–¹æ³•è¯´æ˜" class="headerlink" title="6.3.1 æ–¹æ³•è¯´æ˜"></a>6.3.1 æ–¹æ³•è¯´æ˜</h4><p>axioså¯ä»¥ä½¿ç”¨çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li><code>axios(config)</code></li>
<li><code>axios.get(url[,config])</code></li>
<li><code>axios.delete(url[,config])</code></li>
<li><code>axios.head(url[,config])</code></li>
<li><code>axios.post(url[,data[,config]])</code></li>
<li><code>axios.put(url[,data[,config]])</code></li>
<li><code>axios.patch(url[,data[,config]])</code></li>
</ul>
<p>1ã€configè¯·æ±‚é…ç½®</p>
<p>è¿™äº›æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ä»¥ç”¨çš„é…ç½®é€‰é¡¹ã€‚åªæœ‰<code>url</code>æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š<code>method</code>ï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨<code>get</code>æ–¹æ³•ã€‚</p>
<pre><code class="javascript">{
  // urlæ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨URL
  url: &#39;/user&#39;,

  // methodæ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•
  method: &#39;get&#39;, // é»˜è®¤æ˜¯getæ–¹å¼

  // baseURLå°†è‡ªåŠ¨åŠ åœ¨urlçš„å‰é¢ï¼Œé™¤éurlæ˜¯ä¸€ä¸ªç»å¯¹URLã€‚
  // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªbaseURLï¼Œä¾¿äºä¸ºaxioså®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹URLã€‚
  baseURL: &#39;https://some-domain.com/api/&#39;,

  // transformRequestå…è®¸åœ¨å°†è¯·æ±‚æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹
  // åªèƒ½ç”¨åœ¨&#39;PUT&#39;ã€&#39;POST&#39;ã€&#39;PATCH&#39; and &#39;DELETE&#39;è¿™äº›è¯·æ±‚æ–¹æ³•
  // æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå‡½æ•°å¿…é¡»è¿”å›å­—ç¬¦ä¸²æˆ–Bufferï¼ŒArrayBufferï¼ŒFormDataæˆ–Streamçš„å®ä¾‹
  // You may modify the headers object.
  transformRequest: [function (data, headers) {
    // å¯¹dataè¿›è¡Œä»»æ„è½¬æ¢å¤„ç†

    return data;
  }],

  // transformResponseåœ¨ä¼ é€’ç»™then/catchå‰ï¼Œè¿è¡Œä¿®æ”¹å“åº”æ•°æ®
  transformResponse: [function (data) {
    // å¯¹dataè¿›è¡Œä»»æ„è½¬æ¢å¤„ç†

    return data;
  }],

  // headersæ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´
  headers: {
    &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,
    &#39;Content-Type&#39;: &#39;application/json&#39;
  },

  // paramsæ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„URLå‚æ•°
  // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ–URLSearchParamså¯¹è±¡
  params: {
    ID: 12345
  },

  // paramsSerializeræ˜¯ç”¨äºåºåˆ—åŒ–paramsçš„å¯é€‰åŠŸèƒ½(e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)
  paramsSerializer: function (params) {
    return Qs.stringify(params, {arrayFormat: &#39;brackets&#39;})
  },

  // dataæ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®
  // åªé€‚ç”¨äº&#39;PUT&#39;ã€&#39;POST&#39;ã€&#39;DELETE&#39;å’Œ&#39;PATCH&#39;è¯·æ±‚æ–¹æ³•
  // åœ¨æ²¡æœ‰è®¾ç½®transformRequestæ—¶, å¿…é¡»æ˜¯ä¸€ä¸‹ç±»å‹ä¹‹ä¸€:
  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams
  // - æµè§ˆå™¨ä¸“å±: FormData, File, Blob
  // - Nodeä¸“å±: Stream, Buffer
  data: {
    firstName: &#39;Fred&#39;
  },

  // syntax alternative to send data into the body
  // method post
  // only the value is sent, not the key
  data: &#39;Country=Brasil&amp;City=Belo Horizonte&#39;,

  // timeoutæŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)
  // å¦‚æœè¯·æ±‚èŠ±è´¹è¶…è¿‡timeoutçš„æ—¶é—´, è¯·æ±‚å°†è¢«ä¸­æ–­
  timeout: 1000, // é»˜è®¤æ˜¯`0` (no timeout)

  // withCredentialsè¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦å‡­è¯
  withCredentials: false, // é»˜è®¤æ˜¯false

  // adapter` allows custom handling of requests which makes testing easier.
  // Return a promise and supply a valid response (see lib/adapters/README.md).
  adapter: function (config) {
    /* ... */
  },

  // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.
  // This will set an `Authorization` header, overwriting any existing
  // `Authorization` custom headers you have set using `headers`.
  // Please note that only HTTP Basic auth is configurable through this parameter.
  // For Bearer tokens and such, use `Authorization` custom headers instead.
  auth: {
    username: &#39;janedoe&#39;,
    password: &#39;s00pers3cret&#39;
  },

  // responseTypeè¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯&#39;arraybuffer&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39;
  // æµè§ˆå™¨ä¸“å±: &#39;blob&#39;
  responseType: &#39;json&#39;, // é»˜è®¤æ˜¯json

  // responseEncoding` indicates encoding to use for decoding responses (Node.js only)
  // Note: Ignored for `responseType` of &#39;stream&#39; or client-side requests
  responseEncoding: &#39;utf8&#39;, // default

  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token
  xsrfCookieName: &#39;XSRF-TOKEN&#39;, // default

  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value
  xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, // default

  // `onUploadProgress` allows handling of progress events for uploads
  // browser only
  onUploadProgress: function (progressEvent) {
    // Do whatever you want with the native progress event
  },

  // `onDownloadProgress` allows handling of progress events for downloads
  // browser only
  onDownloadProgress: function (progressEvent) {
    // Do whatever you want with the native progress event
  },

  // maxContentLengthå®šä¹‰è¿è¡Œçš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸
  maxContentLength: 2000,

  // `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed
  maxBodyLength: 2000,

  // validateStatus` defines whether to resolve or reject the promise for a given HTTP response status code. å¦‚æœvalidateStatusè¿”å›true(æˆ–è€…è®¾ç½®ä¸ºnullæˆ–undefined), promiseå°†è¢«resolved; å¦åˆ™promiseå°†è¢«rejected.
  validateStatus: function (status) {
    return status &gt;= 200 &amp;&amp; status &lt; 300; // é»˜è®¤æ˜¯200~300
  },

  // maxRedirectså®šä¹‰åœ¨node.jsä¸­æ‰§è¡Œé‡å®šå‘çš„æœ€å¤§æ•°ç›®
  // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸æ‰§è¡Œä»»ä½•é‡å®šå‘ã€‚
  maxRedirects: 5, // é»˜è®¤æ˜¯5

  // `socketPath` defines a UNIX Socket to be used in node.js.
  // e.g. &#39;/var/run/docker.sock&#39; to send requests to the docker daemon.
  // Only either `socketPath` or `proxy` can be specified.
  // If both are specified, `socketPath` is used.
  socketPath: null, // default

  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http
  // and https requests, respectively, in node.js. This allows options to be added like
  // `keepAlive` that are not enabled by default.
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),

  // `proxy` defines the hostname and port of the proxy server.
  // You can also define your proxy using the conventional `http_proxy` and
  // `https_proxy` environment variables. If you are using environment variables
  // for your proxy configuration, you can also define a `no_proxy` environment
  // variable as a comma-separated list of domains that should not be proxied.
  // Use `false` to disable proxies, ignoring environment variables.
  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and
  // supplies credentials.
  // This will set an `Proxy-Authorization` header, overwriting any existing
  // `Proxy-Authorization` custom headers you have set using `headers`.
  proxy: {
    host: &#39;127.0.0.1&#39;,
    port: 9000,
    auth: {
      username: &#39;mikeymike&#39;,
      password: &#39;rapunz3l&#39;
    }
  },

  // `cancelToken` specifies a cancel token that can be used to cancel the request
  // (see Cancellation section below for details)
  cancelToken: new CancelToken(function (cancel) {
  }),

  // `decompress` indicates whether or not the response body should be decompressed 
  // automatically. If set to `true` will also remove the &#39;content-encoding&#39; header 
  // from the responses objects of all decompressed responses
  // - Node only (XHR cannot turn off decompression)
  decompress: true // default

}</code></pre>
<p>2ã€å“åº”ç»“æ„</p>
<pre><code class="javascript">{
  // dataæ˜¯ç”±æœåŠ¡å™¨æä¾›çš„å“åº”æ•°æ®
  data: {},

  // statusæ˜¯æ¥è‡ªæœåŠ¡å™¨å“åº”çš„HTTPçŠ¶æ€ç 
  status: 200,

  // statusTextæœåŠ¡å™¨å“åº”çš„HTTPçŠ¶æ€ä¿¡æ¯
  statusText: &#39;OK&#39;,

  // headersæ˜¯æœåŠ¡å™¨å“åº”çš„å¤´ï¼ŒæœåŠ¡å™¨ä½¿ç”¨æ‰€æœ‰æ ‡å¤´åç§°å“åº”çš„HTTPæ ‡å¤´å‡ä½¿ç”¨å°å†™å­—æ¯ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è¿›è¡Œè®¿é—®ã€‚
  // ä¾‹å¦‚: `response.headers[&#39;content-type&#39;]`
  headers: {},

  // configæ˜¯ä¸ºè¯·æ±‚æä¾›ç»™axiosçš„é…ç½®
  config: {},

  // `request` is the request that generated this response
  // It is the last ClientRequest instance in node.js (in redirects)
  // and an XMLHttpRequest instance in the browser
  request: {}
}</code></pre>
<p>ä½¿ç”¨<code>then</code>æ—¶ï¼Œå°†ä¼šæ”¶åˆ°å¦‚ä¸‹å“åº”ï¼š</p>
<pre><code class="javascript">axios.get(&#39;/user/12345&#39;)
  .then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
  });</code></pre>
<p>å½“ä½¿ç”¨<code>catch</code>æˆ–å°†<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then" target="_blank" rel="noopener">æ‹’ç»å›è°ƒ</a>ä½œä¸º<code>then</code>çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’æ—¶ï¼Œå“åº”å°†é€šè¿‡<code>error</code>å¯¹è±¡æä¾›ï¼Œå¦‚â€œ<a href="https://github.com/axios/axios#handling-errors" target="_blank" rel="noopener">å¤„ç†é”™è¯¯</a>â€éƒ¨åˆ†æ‰€è¿°ã€‚</p>
<h4 id="6-3-2-axiosæ–¹æ³•ç¤ºä¾‹"><a href="#6-3-2-axiosæ–¹æ³•ç¤ºä¾‹" class="headerlink" title="6.3.2 axiosæ–¹æ³•ç¤ºä¾‹"></a>6.3.2 axiosæ–¹æ³•ç¤ºä¾‹</h4><h4 id="6-3-3-getæ–¹æ³•ç¤ºä¾‹"><a href="#6-3-3-getæ–¹æ³•ç¤ºä¾‹" class="headerlink" title="6.3.3 getæ–¹æ³•ç¤ºä¾‹"></a>6.3.3 getæ–¹æ³•ç¤ºä¾‹</h4><h4 id="6-3-4-postæ–¹æ³•ç¤ºä¾‹"><a href="#6-3-4-postæ–¹æ³•ç¤ºä¾‹" class="headerlink" title="6.3.4 postæ–¹æ³•ç¤ºä¾‹"></a>6.3.4 postæ–¹æ³•ç¤ºä¾‹</h4><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/08/20/AJAX/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="Ajaxå­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>Ajaxå­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´08æœˆ20æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>11.8k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 59 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><blockquote>
<p>Webç¨‹åºçš„æœ€åˆçš„ç›®çš„å°±æ˜¯å°†ä¿¡æ¯(æ•°æ®)æ”¾åˆ°å…¬å…±çš„æœåŠ¡å™¨ï¼Œè®©æ‰€æœ‰çš„ç½‘ç»œç”¨æˆ·éƒ½å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®</p>
</blockquote>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815183452.png" alt="image-20200815183450778" class="lazyload"></p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è®©æµè§ˆå™¨å‘å‡ºæœåŠ¡ç«¯çš„è¯·æ±‚ï¼Œè·å¾—æœåŠ¡ç«¯çš„æ•°æ®ï¼š</p>
<ul>
<li><p>åœ°å€æ è¾“å…¥åœ°å€ï¼Œå›è½¦ï¼Œåˆ·æ–°</p>
</li>
<li><p>ç‰¹å®šå…ƒç´ çš„hrefæˆ–srcå±æ€§</p>
</li>
<li><p>è¡¨å•æäº¤</p>
</li>
</ul>
<p>è¿™äº›æ–¹æ¡ˆéƒ½æ˜¯æˆ‘ä»¬æ— æ³•é€šè¿‡æˆ–è€…å¾ˆéš¾é€šè¿‡ä»£ç çš„æ–¹å¼è¿›è¡Œç¼–ç¨‹(å¯¹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚å¹¶ä¸”æ¥æ”¶æœåŠ¡ç«¯è¿”å›çš„å“åº”)ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥é€šè¿‡JavaScriptç›´æ¥å‘é€ç½‘ç»œè¯·æ±‚ï¼Œé‚£ä¹ˆwebçš„å¯èƒ½å°±ä¼šæ›´å¤šï¼Œéšä¹‹èƒ½å¤Ÿå®ç°çš„åŠŸèƒ½ä¹Ÿä¼šæ›´å¤šï¼Œè‡³å°‘ä¸å†æ˜¯â€œå•æœºæ¸¸æˆâ€ã€‚</p>
<p>1ã€AJAX(Asynchronous JavaScript and XML,å¼‚æ­¥çš„JSå’ŒXML)ï¼Œæœ€æ—©å‡ºç°åœ¨2005å¹´çš„Google Suggestï¼Œæ˜¯åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œç½‘ç»œç¼–ç¨‹(å‘é€è¯·æ±‚ï¼Œæ¥æ”¶å“åº”)çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå®ƒä½¿æˆ‘ä»¬å¯ä»¥<strong>é€šè¿‡JavaScriptç›´æ¥è·å–æœåŠ¡ç«¯æœ€æ–°çš„å†…å®¹è€Œä¸å¿…é‡æ–°åŠ è½½é¡µé¢</strong>ï¼Œè®©webæ›´èƒ½æ¥è¿‘æ¡Œé¢åº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>è¯´ç™½äº†ï¼ŒAJAXå°±æ˜¯<strong>æµè§ˆå™¨æä¾›çš„ä¸€å¥—API</strong>ï¼Œå¯ä»¥é€šè¿‡JavaScriptè°ƒç”¨ï¼Œä»è€Œå®ç°ä»£ç æ§åˆ¶è¯·æ±‚ä¸å“åº”ï¼Œå®ç°ç½‘ç»œç¼–ç¨‹ã€‚(AJAXä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§å°†ç°æœ‰æ ‡å‡†ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨çš„æ–°çš„æ–¹å¼)</p>
<blockquote>
<p>èƒ½åŠ›ä¸å¤ŸAPIå‡‘ã€‚</p>
</blockquote>
<blockquote>
<p>å¯¹xxxè¿›è¡Œç¼–ç¨‹æŒ‡çš„å°±æ˜¯ç”¨ä»£ç çš„æ–¹å¼æ“ä½œå®ƒ</p>
</blockquote>
<p>2ã€XML</p>
<p>å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼Œè¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå’ŒHTMLæœ‰ç‚¹åƒï¼Œä½†æ˜¯HTMLä¸­éƒ½æ˜¯é¢„å®šä¹‰æ ‡ç­¾ï¼Œè€ŒXMLä¸­æ²¡æœ‰é¢„å®šä¹‰æ ‡ç­¾ï¼Œå…¨éƒ½æ˜¯è‡ªå®šä¹‰æ ‡ç­¾ï¼Œç”¨æ¥è¡¨ç¤ºä¸€äº›æ•°æ®ã€‚</p>
<p>ç°åœ¨å·²ç»è¢«jsonå–ä»£äº†ã€‚</p>
<p>3ã€AJAXçš„ç‰¹ç‚¹</p>
<p>(1) ä¼˜ç‚¹</p>
<p>å¯ä»¥æ— éœ€åˆ·æ–°é¡µé¢è€Œä¸æœåŠ¡å™¨ç«¯è¿›è¡Œé€šä¿¡ã€‚</p>
<p>å…è®¸ä½ æ ¹æ®ç”¨æˆ·äº‹ä»¶æ¥æ›´æ–°éƒ¨åˆ†é¡µé¢å†…å®¹ã€‚</p>
<p>(2) ç¼ºç‚¹</p>
<p>æ²¡æœ‰æµè§ˆå†å²ï¼Œä¸èƒ½å›é€€</p>
<p>å­˜åœ¨è·¨åŸŸé—®é¢˜(åŒæº)</p>
<p>SEOä¸å‹å¥½</p>
<p>è¡¥å……ï¼šæ­å»ºç¯å¢ƒ</p>
<p><strong>ä½¿ç”¨Expressæ­å»ºåå°</strong></p>
<p><a href="https://www.expressjs.com.cn/" target="_blank" rel="noopener">Expressä¸­æ–‡ç½‘</a></p>
<p>1ã€å®‰è£…</p>
<p>éœ€è¦æœ‰nodeï¼Œæ²¡æœ‰çš„å¯ä»¥å…ˆ<a href="https://nodejs.org/en/" target="_blank" rel="noopener">ä¸‹è½½</a></p>
<p>è¿›å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¾“å…¥å‘½ä»¤åˆ›å»ºnodeåº”ç”¨</p>
<pre><code class="bash">npm init --yes</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200810090417637.png" alt="nodeåˆå§‹åŒ–å‘½ä»¤" class="lazyload"></p>
<p>æ¥ç€è¾“å…¥å‘½ä»¤ï¼Œå®‰è£…express</p>
<pre><code class="bash">npm install express</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200810090617412.png" alt="expresså®‰è£…" class="lazyload"></p>
<p>2ã€åŸºæœ¬ä½¿ç”¨</p>
<p>(1) ç¼–å†™ä»£ç </p>
<pre><code class="javascript">// 1ã€å¼•å…¥express
const express = require(&#39;express&#39;)
const { response } = require(&#39;express&#39;)

// 2ã€åˆ›å»ºåº”ç”¨å¯¹è±¡
const app = express()

// 3ã€åˆ›å»ºè·¯ç”±è§„åˆ™ 
// requesæ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…ï¼›responseæ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…
app.get(&#39;/&#39;, (request, response) =&gt; { // å‰ç«¯è®¿é—®http://localhost:8000/
  // è®¾ç½®å“åº”
  response.send(&#39;Hello Express&#39;)
})

// 4ã€ç›‘å¬ç«¯å£å¯åŠ¨æœåŠ¡
app.listen(8000, () =&gt; {
  console.log(&#39;æœåŠ¡å·²ç»å¯åŠ¨ï¼Œ8000ç«¯å£ç›‘å¬ä¸­ï¼Œè¯·è®¿é—®http://localhost:8000/&#39;)
})</code></pre>
<p>(2) è¿è¡Œä»£ç </p>
<p>åœ¨è¯¥ç›®å½•ä¸‹è¾“å…¥å‘½ä»¤</p>
<pre><code class="bash">node æ–‡ä»¶å.js</code></pre>
<p>eg:</p>
<pre><code class="bash">node expressTest.js</code></pre>
<p>æ¥ç€è®¿é—®åœ°å€<a href="http://localhost:8000/å³å¯" target="_blank" rel="noopener">http://localhost:8000/å³å¯</a></p>
<p>3ã€å‡†å¤‡æœåŠ¡ç«¯ä»£ç </p>
<p><code>server.js</code></p>
<pre><code class="javascript">const express = require(&#39;express&#39;)
const { response } = require(&#39;express&#39;)
const app = express()
// è¿™é‡Œè®¾ç½®ä¸ºgetåˆ™è¯·æ±‚æ–¹å¼ä¸ºGETã€&#39;/server&#39;åˆ™è¯·æ±‚urléœ€è¦åŠ ä¸Šè¿™ä¸ª
app.get(&#39;/server&#39;, (request, response) =&gt; {
  // è®¾ç½®å“åº”å¤´
  response.setHeader(&#39;Access-Control-Allow-origin&#39;,&#39;*&#39;) // è®¾ç½®å…è®¸è·¨åŸŸ
  // è®¾ç½®å“åº”ä½“
  response.send(&#39;Hello AJAX&#39;)
})
// åœ¨è¿™é‡Œæ¥ç€åŠ ä¸Šæ¥å£
app.listen(8000, () =&gt; {
  console.log(&#39;æœåŠ¡å·²ç»å¯åŠ¨ï¼Œ8000ç«¯å£ç›‘å¬ä¸­ï¼Œè¯·è®¿é—®http://localhost:8000/&#39;)
})</code></pre>
<p>å…³é—­ä¸Šé¢é‚£ä¸ªï¼Œå°†è¿™ä¸ªå¯åŠ¨ï¼š</p>
<pre><code class="bash">node server.js</code></pre>
<p>reloadåŒ…â€”â€”nodemon</p>
<p>è‡ªåŠ¨æ£€æµ‹jsä»£ç å˜åŒ–ï¼ŒrestartæœåŠ¡</p>
<p>1ã€å®‰è£…</p>
<pre><code class="sh">npm install -g nodemon</code></pre>
<p>2ã€åˆ©ç”¨nodemonæ‰§è¡Œæ–‡ä»¶</p>
<pre><code class="sh">nodemon æ–‡ä»¶å.js</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="sh">nodemon server.js</code></pre>
<h2 id="äºŒã€å¿«é€Ÿä¸Šæ‰‹"><a href="#äºŒã€å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="äºŒã€å¿«é€Ÿä¸Šæ‰‹"></a>äºŒã€å¿«é€Ÿä¸Šæ‰‹</h2><h3 id="1ã€AJAXåŸºç¡€"><a href="#1ã€AJAXåŸºç¡€" class="headerlink" title="1ã€AJAXåŸºç¡€"></a>1ã€AJAXåŸºç¡€</h3><p>(ä¸€ä¸ªæ„é€ å‡½æ•°ã€ä¸¤ä¸ªæ–¹æ³•ã€ä¸€ä¸ªäº‹ä»¶)</p>
<p>å‘é€è¯·æ±‚</p>
<pre><code class="html">&lt;style&gt;
#result{
    width:200px;
    height:100px;
    border:1px solid skyblue;
}
&lt;/style&gt;
&lt;button id=&quot;btn&quot;&gt;ç‚¹å‡»å‘é€è¯·æ±‚&lt;/button&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
btn.onclick = function(){
  // æ¶‰åŠåˆ°AJAXæ“ä½œçš„é¡µé¢ä¸èƒ½ä½¿ç”¨æ–‡ä»¶åè®®è®¿é—®ï¼ˆæ–‡ä»¶çš„æ–¹å¼è®¿é—®ï¼‰
  // AJAXæ˜¯ä¸€å¥—APIï¼Œæ ¸å¿ƒæä¾›çš„ç±»å‹ï¼šXMLHttpRequest XML--&gt;JSON(ç°åœ¨ä½¿ç”¨çš„æ˜¯JSONæ ¼å¼çš„äº†)
  // 1ã€å®‰è£…æµè§ˆå™¨ï¼ˆç”¨æˆ·ä»£ç†ï¼‰â€”â€”åˆ›å»ºå¯¹è±¡
  var xhr = new XMLHttpRequest() // xhrå°±ç±»ä¼¼äºæµè§ˆå™¨çš„ä½œç”¨(å‘é€è¯·æ±‚æ¥æ”¶å“åº”)
  // 2ã€æ‰“å¼€æµè§ˆå™¨ è¾“å…¥ç½‘å€â€”â€”åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹å¼å’Œurl
  xhr.open(&#39;GET&#39;, &#39;http://127.0.0.1:8000/server&#39;)  // è¿™ä¸€æ­¥åªæ˜¯åœ¨æ­æ¡¥é“ºè·¯
  // 3ã€æ•²å›è½¦é”® å¼€å§‹è¯·æ±‚â€”â€”å‘é€
  xhr.send()  // sendæ‰æ˜¯å¼€å§‹è¯·æ±‚
  /* ä¸Šé¢ä¸‰ä¸ªæ˜¯ajaxæ ¸å¿ƒä»£ç  */
}
&lt;/script&gt;</code></pre>
<p>æ¥æ”¶å“åº”</p>
<pre><code class="html">&lt;script&gt;
  var xhr = new XMLHttpRequest()
  xhr.open(&#39;GET&#39;, &#39;http://127.0.0.1:8000/server&#39;) // æ–¹å¼ï¼Œurl
  xhr.send()
  /* å› ä¸ºå“åº”éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡è¿”å›å€¼çš„æ–¹å¼è¿”å›å“åº” */
  // var response = xhr.send()
  // console.log(response) // undefine

  // 4ã€ç­‰å¾…å“åº”â€”â€”äº‹ä»¶ç»‘å®š å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ
  /* å¦‚æœéœ€è¦æ•è·çŠ¶æ€çš„å˜åŒ–ï¼Œéœ€è¦æ³¨æ„ä»£ç çš„æ‰§è¡Œé¡ºåºçš„é—®é¢˜(ä¸è¦å‡ºç°æ¥ä¸åŠçš„æƒ…å†µ)
  * å› ä¸ºå®¢æˆ·ç«¯æ°¸è¿œä¸çŸ¥é“æœåŠ¡ç«¯ä½•æ—¶æ‰èƒ½è¿”å›æˆ‘ä»¬éœ€è¦çš„å“åº”ï¼Œæ‰€ä»¥AJAX APIé‡‡ç”¨äº‹ä»¶çš„æœºåˆ¶(é€šçŸ¥çš„æ„Ÿè§‰)
  */
  xhr.onreadystatechange = function(){ // å»ºè®®äº‹ä»¶ä½¿ç”¨addEventListeneræ–¹å¼
    // è¿™ä¸ªäº‹ä»¶å¹¶ä¸æ˜¯åªåœ¨å“åº”æ—¶è§¦å‘ï¼ŒXHRçŠ¶æ€æ”¹å˜å°±è§¦å‘
    console.log(this.readyState)
    if(this.readyState!==4) return
    // æ‰€ä»¥ä¸‹é¢å°±æ˜¯ä¸º4çš„æƒ…å†µ
    // 5ã€çœ‹ç»“æœ
    console.log(this.responseText) // è·å–å“åº”å†…å®¹(å“åº”ä½“)
    result.innerHTML = xhr.response
  }
&lt;/script&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815183735.png" alt="ajaxåŸºç¡€æ“ä½œ" class="lazyload"></p>
<h3 id="2ã€ç†è§£readyState"><a href="#2ã€ç†è§£readyState" class="headerlink" title="2ã€ç†è§£readyState"></a>2ã€ç†è§£readyState</h3><p><code>onreadystatechange</code>æ˜¯XHRçŠ¶æ€æ”¹å˜æ—¶è§¦å‘çš„</p>
<pre><code class="html">&lt;script&gt;
  var xhr = new XMLHttpRequest()
  console.log(xhr.readyState) // 0
  xhr.open(&#39;GET&#39;, &#39;./time.php&#39;)
  console.log(xhr.readyState) // 1
  xhr.send()
  // console.log(xhr.readyState) // 1 å–ä¸Šé¢é‚£ä¸ª
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    // if(this.readyState !== 4) return
    // console.log(this.responseText)
    console.log(this.readyState) // 2 3 4
  })
&lt;/script&gt;</code></pre>
<p>readyStateï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815183844.png" alt="readyStateä»£ç " class="lazyload"></p>
<p>new XMLHttpRequest â€“&gt; 0 åˆå§‹åŒ– <strong>è¯·æ±‚ä»£ç†å¯¹è±¡</strong></p>
<p>1â€“-&gt; openæ–¹æ³•å·²ç»è°ƒç”¨ï¼Œ<strong>å»ºç«‹</strong>ä¸€ä¸ªä¸æœåŠ¡ç«¯ç‰¹å®šç«¯å£çš„<strong>è¿æ¥</strong></p>
<p>2 â€“-&gt; å·²ç»<strong>æ¥æ”¶</strong>åˆ°äº†å“åº”æŠ¥æ–‡çš„<strong>å“åº”å¤´</strong> <code>console.log(this.getAllResponseHeaders())</code> å¯ä»¥æ‹¿åˆ°å“åº”å¤´ï¼Œæ‹¿ä¸åˆ°å“åº”ä½“</p>
<p>æ‹†åˆ†ï¼š<code>console.log(this.getAllResponseHeaders().splite(â€˜\nâ€™).splite(â€˜:â€™))</code></p>
<p>è·å–æŒ‡å®šé”®ï¼š<code>console.log(this.getAllResponseHeaders(â€˜dataâ€™))</code></p>
<p>3 â€“-&gt; <strong>æ­£åœ¨ä¸‹è½½å“åº”æŠ¥æ–‡çš„å“åº”ä½“</strong>ï¼Œå¯èƒ½å“åº”ä½“ä¸ºç©ºæˆ–ä¸å®Œæ•´</p>
<p>4 â€“-&gt; ä¸€åˆ‡OKï¼Œ<strong>æ•´ä¸ªå“åº”æŠ¥æ–‡å·²ç»ä¸‹è½½ä¸‹æ¥</strong>äº† <code>console.log(this.responseText)</code></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815183915.png" alt="readyState" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815183935.png" alt="image-20200815183934889" class="lazyload"></p>
<p>æ‰€ä»¥åº”è¯¥<strong>åœ¨readyStateçš„å€¼ä¸º4</strong>æ—¶ï¼Œæ‰å»å¤„ç†åç»­çš„é€»è¾‘</p>
<p>å¯ä»¥ç”¨<code>xhr.onload</code>æ›¿ä»£</p>
<pre><code class="html">&lt;script&gt;
  var xhr = new XMLHttpRequest()
  xhr.open(&#39;GET&#39;, &#39;time.php&#39;)
  xhr.send(null) // sendå¯ä»¥ä¼ è¯·æ±‚ä½“ï¼Œä¼ nullä»£è¡¨æ²¡æœ‰è¯·æ±‚ä½“
  xhr.onload = function (){ // åŠ è½½å®Œæˆ H5ä¸­æä¾›çš„XMLHttpRequest version 2.0å®šä¹‰çš„
    // ç›¸å½“äºreadyStateä¸º4ä¹‹åçš„
    console.log(this.responseText)
  }
&lt;/script&gt;</code></pre>
<p>ps: console.log(this) æ˜¾ç¤ºreadyStateæ˜¯2ã€3ã€4å¯å±•å¼€æ¥å…¨éƒ½æ˜¯4ï¼Œè¿™ä¸ªæ˜¯console.logçš„æœºåˆ¶é—®é¢˜ï¼Œå±•å¼€çš„æ—¶å€™åªä¼šæ˜¾ç¤ºæ­¤æ—¶çš„çŠ¶æ€</p>
<p>ä¾‹å¦‚ï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184045.png" alt="logæœºåˆ¶æµ‹è¯•" class="lazyload"></p>
<p>åœ¨æµè§ˆå™¨ä¸Šçœ‹ï¼Œä¸å±•å¼€æ²¡é—®é¢˜æ˜¾ç¤º123ï¼Œå±•å¼€çš„ä¸€ç¬é—´éƒ½æ˜¯456</p>
<h3 id="3ã€AJAXéµå¾ªHTTPåè®®"><a href="#3ã€AJAXéµå¾ªHTTPåè®®" class="headerlink" title="3ã€AJAXéµå¾ªHTTPåè®®"></a>3ã€AJAXéµå¾ªHTTPåè®®</h3><p>HTTPåè®®(Hypertext Transport Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®)è¯¦ç»†è§„å®šäº†æµè§ˆå™¨å’Œä¸‡ç»´ç½‘æœåŠ¡å™¨ä¹‹é—´äº’ç›¸é€šä¿¡çš„è§„åˆ™ã€‚</p>
<p>æœ¬è´¨ä¸ŠXMLHttpRequestå°±æ˜¯JavaScriptåœ¨webå¹³å°ä¸­å‘é€HTTPè¯·æ±‚çš„æ‰‹æ®µï¼Œæ‰€ä»¥æˆ‘ä»¬å‘é€å‡ºå»çš„è¯·æ±‚ä»ç„¶æ˜¯HTTPè¯·æ±‚ï¼ŒåŒæ ·ç¬¦åˆHTTPçº¦å®šçš„æ ¼å¼</p>
<p>è¯·æ±‚æŠ¥æ–‡ï¼š</p>
<ul>
<li>è¯·æ±‚è¡Œ <code>POST /s?ie=utf-8 HTTP/1.1</code></li>
</ul>
<p>â€‹    <code>GET /s?ie=utf-8 HTTP/1.1</code></p>
<ul>
<li>è¯·æ±‚å¤´ <code>Host: atguigu.com</code></li>
</ul>
<p>â€‹    <code>Cookie: name=guigu</code></p>
<p>â€‹    <code>Content-Type: application/x-www-form-urlencoded</code></p>
<p>â€‹    <code>User-Agent: chrome 83</code></p>
<ul>
<li><p>ç©ºè¡Œ(å¿…é¡»å¾—æœ‰)</p>
</li>
<li><p>è¯·æ±‚ä½“ (GETè¯·æ±‚è¿™é‡Œä¸ºç©ºï¼ŒPOSTå¯ä¸ä¸ºç©º) <code>username=admin&amp;password=admin</code></p>
</li>
</ul>
<p>å“åº”æŠ¥æ–‡ï¼š</p>
<ul>
<li>è¡Œ  <code>HTTP/1.1 200 OK</code></li>
</ul>
<p>â€‹       404</p>
<p>â€‹       403</p>
<p>â€‹       401</p>
<p>â€‹       500</p>
<ul>
<li><p>å¤´  <code>Content-Type: text/html;charset=utf-8</code></p>
<p> <code>Content-length: 2048</code></p>
<p> <code>Content-encoding: gzip</code></p>
</li>
<li><p>ç©ºè¡Œ </p>
</li>
<li><p>ä½“  </p>
</li>
</ul>
<pre><code>&lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;wallleap&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184354.png" alt="HTTPå“åº”æŠ¥æ–‡ä¿¡æ¯" class="lazyload"></p>
<pre><code class="html">&lt;script&gt;
  // 1ã€åˆ›å»ºå¯¹è±¡
  var xhr = new XMLHttpRequest()
  // 2ã€åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl
xhr.open(&#39;POST&#39;, &#39;add.php&#39;) // è®¾ç½®è¯·æ±‚è¡Œ
  xhr.setRequestHeader(&#39;Foo&#39;, &#39;Bar&#39;) // è®¾ç½®ä¸€ä¸ªè¯·æ±‚å¤´
  // ä¸€æ—¦è¯·æ±‚ä½“æ˜¯urlencodedæ ¼å¼çš„å†…å®¹ï¼Œä¸€å®šè¦è®¾ç½®è¯·æ±‚å¤´ä¸­çš„Content-Typeä¸ºä¸‹é¢è¿™ä¸ª
  xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;) // è®¾ç½®ç¬¬äºŒè¯·æ±‚å¤´
  xhr.send(&#39;key1=value1&amp;key2=value2&#39;) // ä»¥urlencodedæ ¼å¼è®¾ç½®è¯·æ±‚ä½“
  // xhr.send(&#39;{&quot;foo&quot;: &quot;123&quot;}&#39;) // ä»¥jsonæ ¼å¼è®¾ç½®è¯·æ±‚ä½“ï¼Œä¸Šé¢è®¾ç½®application/json
  xhr.onload = function (){
    // å“åº”è¡Œ
    console.log(this.status) // è·å–å“åº”çŠ¶æ€ç 
    console.log(this.statusText) // è·å–å“åº”çŠ¶æ€æè¿°
    // è·å–å“åº”å¤´ä¿¡æ¯
    console.log(this.getResponseHeader(&#39;Content-Type&#39;)) // æŒ‡å®šå“åº”å¤´
    console.log(this.getAllResponseHeaders()) // å…¨éƒ¨å“åº”å¤´
    // è·å–å“åº”ä½“
    console.log(this.responseText) // æ–‡æœ¬å½¢å¼
    console.log(this.responseXML) // XMLå½¢å¼ï¼Œäº†è§£å³å¯
  }
&lt;/script&gt;</code></pre>
<p>è¡¥å……ï¼š</p>
<pre><code class="javascript">xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState === 4 &amp;&amp; this.status === 200){
      console.log(this)
    }
})</code></pre>
<p>å¯èƒ½æœ‰çš„äººä¼šåŒæ—¶åˆ¤æ–­çŠ¶æ€ç 200ï¼Œäº‹å®ä¸Šæ²¡æœ‰å¿…è¦ï¼ŒçŠ¶æ€ç 404ä¹Ÿéœ€è¦å¤„ç†,å¯ä»¥åˆ°é‡Œé¢åµŒå¥—ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="javascript">xhr.onreadystatechange=function(){
  if(this.readyState === 4){
    if(this.status &gt;= 200  &amp;&amp; xhr.status &lt; 300){
      // å¤„ç†ç»“æœ
    }else{
      ...
    }
  }
})</code></pre>
<p>Chromeæ‰“å¼€å¼€å‘è€…æ¨¡å¼</p>
<p>ç‚¹å‡»Networkèƒ½å¤Ÿçœ‹åˆ°ä¼ è¾“çš„æ–‡ä»¶</p>
<p>ç‚¹å‡»XHRæŸ¥çœ‹</p>
<p>Request Headersâ€”â€”è¯·æ±‚å¤´</p>
<p>ç‚¹å‡»view sourceå¯ä»¥çœ‹åˆ°è¯·æ±‚è¡Œ</p>
<p>Response Headerâ€”â€”å“åº”å¤´</p>
<p>ç‚¹å‡»view sourceå¯ä»¥çœ‹åˆ°å“åº”è¡Œ</p>
<p>Responseâ€”â€”å“åº”ä½“</p>
<p>Previewâ€”â€”é¢„è§ˆï¼Œå¯¹å“åº”ä½“è§£æä¹‹åçš„é¡µé¢</p>
<h2 id="ä¸‰ã€å…·ä½“ç”¨æ³•"><a href="#ä¸‰ã€å…·ä½“ç”¨æ³•" class="headerlink" title="ä¸‰ã€å…·ä½“ç”¨æ³•"></a>ä¸‰ã€å…·ä½“ç”¨æ³•</h2><h3 id="1ã€æ•°æ®æ¥å£çš„æ¦‚å¿µ"><a href="#1ã€æ•°æ®æ¥å£çš„æ¦‚å¿µ" class="headerlink" title="1ã€æ•°æ®æ¥å£çš„æ¦‚å¿µ"></a>1ã€æ•°æ®æ¥å£çš„æ¦‚å¿µ</h3><p>æœåŠ¡å™¨ç«¯è¿”å›çš„å“åº”å°±æ˜¯ä¸€ä¸ªJSONå†…å®¹ï¼ˆè¿”å›çš„å°±æ˜¯æ•°æ®ï¼‰</p>
<p>å¯¹äºè¿”å›æ•°æ®çš„åœ°å€ä¸€èˆ¬æˆ‘ä»¬ç§°ä¹‹ä¸ºæ¥å£ï¼ˆå½¢å¼ä¸Šæ˜¯webå½¢å¼ï¼‰</p>
<p><a href="http://api.douban.com/v2/movie/top250" target="_blank" rel="noopener">http://api.douban.com/v2/movie/top250</a></p>
<p>æä¾›ä¸€å®šçš„èƒ½åŠ›ï¼Œæœ‰è¾“å…¥æœ‰è¾“å‡ºå°±å¯ä»¥ç§°ä¸ºæ¥å£</p>
<h3 id="2ã€AJAXå‘é€GETè¯·æ±‚å¹¶ä¼ é€’å‚æ•°"><a href="#2ã€AJAXå‘é€GETè¯·æ±‚å¹¶ä¼ é€’å‚æ•°" class="headerlink" title="2ã€AJAXå‘é€GETè¯·æ±‚å¹¶ä¼ é€’å‚æ•°"></a>2ã€AJAXå‘é€GETè¯·æ±‚å¹¶ä¼ é€’å‚æ•°</h3><pre><code class="html">&lt;script&gt;
  var xhr = new XMLHttpRequest()
  // GETè¯·æ±‚ä¼ é€’å‚æ•°é€šå¸¸ä½¿ç”¨URLä¸­çš„é—®å·ä¼ é€’æ•°æ®
  xhr.open(&#39;GET&#39;, &#39;http://127.0.0.1:8000/server?a=100&amp;b=200&amp;c=300&#39;)
  // ä¸€èˆ¬åœ¨GETè¯·æ±‚æ—¶æ— éœ€è®¾ç½®å“åº”ä½“ï¼Œå¯ä»¥ä¼ nullæˆ–è€…å¹²è„†ä¸ä¼ 
  xhr.send(null)
  xhr.onreadystatechange = function (){
    if(this.readyState !== 4) return
    console.log(this.responseText)
  }
&lt;/script&gt;
&lt;!-- ä¸€èˆ¬æƒ…å†µä¸‹URLä¼ é€’çš„éƒ½æ˜¯å‚æ•°æ€§è´¨çš„æ•°æ®ï¼Œè€ŒPOSTä¸€èˆ¬éƒ½æ˜¯ä¸šåŠ¡æ•°æ® --&gt;</code></pre>
<p>ä¾‹å­ï¼šå°†å¾—åˆ°çš„å››ä¸ªç”¨æˆ·åç§°{}æ”¾åˆ°ul&gt;liä¸­ï¼Œç‚¹å‡»lièƒ½å¤Ÿè·å–åˆ°è¯¥ç”¨æˆ·çš„å¹´é¾„</p>
<pre><code class="html">&lt;ul id=&quot;list&quot;&gt;&lt;/ul&gt;
&lt;script&gt;
  var listElement = document.getElementById(&#39;list&#39;)
  /* å‘é€è¯·æ±‚è·å–åˆ°åˆ—è¡¨æ•°æ®ï¼Œå‘ˆç°åœ¨é¡µé¢ä¸Š */
  var xhr = new XMLHttpRequest()
  xhr.open(&#39;POST&#39;, &#39;user.php?id=2&#39;)
  xhr.send(null)
  xhr.onreadystatechange = function (){
    if(this.readyState !== 4) return
    var data = JSON.parse(this.responseText)
    // console.log(data)
    for(var i = 0; i &lt; data.length; i++){
      // console.log(data[i])
      var liElement = document.createElement(&#39;li&#39;)
      liElement.innerHTML = data[i].name
      liElement.id = data[i].id
      listElement.appendChild(liElement)
      /* ç»™æ¯ä¸€ä¸ªliæ³¨å†Œç‚¹å‡»äº‹ä»¶ */
      // ç”±äºliæ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œå› æ­¤éœ€è¦ç§»åˆ°åˆ›å»ºliçš„æ—¶å€™
      listElement.addEventListener(&#39;click&#39;, function (){
          // TODO: é€šè¿‡AJAXæ“ä½œè·å–æœåŠ¡ç«¯å¯¹åº”æ•°æ®çš„ä¿¡æ¯
          // è·å–å½“å‰è¢«ç‚¹å‡»å…ƒç´ å¯¹åº”æ•°æ®çš„id
          // console.log(this.id)
          var xhr1 = new XMLHttpRequest()
          xhr1.open(&#39;GET&#39;, &#39;users.php?id=&#39; + this.id)
          xhr1.send()
          xhr1.onreadystatechange = function (){
            if(this.readyState !== 4) return
            var obj = JSON.parse(this.responseText)
            alert(obj.age)
          }
      })
    }
  }
&lt;/script&gt;</code></pre>
<h3 id="3ã€POSTè¯·æ±‚"><a href="#3ã€POSTè¯·æ±‚" class="headerlink" title="3ã€POSTè¯·æ±‚"></a>3ã€POSTè¯·æ±‚</h3><p>POSTè¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œéƒ½æ˜¯é‡‡ç”¨è¯·æ±‚ä½“æ‰¿è½½éœ€è¦æäº¤çš„æ•°æ®</p>
<pre><code class="javascript">// 1.åˆ›å»ºå¯¹è±¡
const xhr = new XMLHttpRequest()
// 2.åˆå§‹åŒ– è®¾ç½®ç±»å‹ä¸URL(opençš„ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨å°±æ˜¯è®¾ç½®è¯·æ±‚çš„method)
xhr.open(&#39;POST&#39;,&#39;http://127.0.0.1:8000/server&#39;)
// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯
xhr.setRequestHeader(&#39;Content-Type&#39;,&#39;application/x-www-form-urlencoded&#39;) // è®¾ç½®è¯·æ±‚å¤´ä¸­çš„Content-Typeä¸ºapplication/x-www-form-urlencodedâ€”â€”æ ‡è¯†è¿™æ¬¡è¯·æ±‚å¾—è¯·æ±‚ä½“æ ¼å¼ä¸ºurlencodedä»¥ä¾¿äºæœåŠ¡ç«¯æ¥æ”¶æ•°æ®
// xhr.setRequestHeader(&#39;name&#39;,&#39;wallleap&#39;) // ä¹Ÿå¯ä»¥è‡ªå®šä¹‰
// 3.å‘é€ POSTæ–¹å¼éœ€è¦æäº¤åˆ°æœåŠ¡ç«¯çš„æ•°æ®å¯ä»¥é€šè¿‡sendæ–¹æ³•çš„å‚æ•°ä¼ é€’ï¼Œæ ¼å¼ï¼škey1=value1&amp;key2=value2
xhr.send(&quot;key1=value1&amp;key2=value2&quot;)
// xhr.send(&quot;key1:value1&amp;key2:value2&quot;)
// xhr.send(&quot;value1&quot;)  // ---&gt;å¯ä»¥éšæ„å†™ï¼Œä½†æ˜¯éœ€è¦æŒ‰æ ¼å¼ï¼Œæ–¹ä¾¿åå°å¤„ç†
// 4.äº‹ä»¶ç»‘å®š
xhr.onreadystatechange = function(){
  // åˆ¤æ–­
  if(xhr.readyState===4){
    if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300){
      // å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ
      result.innerHTML = xhr.response
    }
  }
}</code></pre>
<p>ç”±äº<code>server.js</code>ä¸­åªè®¾ç½®äº†getçš„å…è®¸è·¨åŸŸï¼Œå› æ­¤éœ€è¦åœ¨æ–‡ä»¶ä¸­åŠ å…¥å…è®¸postè·¨åŸŸçš„ä»£ç </p>
<pre><code class="javascript">// app.get(&#39;/server&#39;, (request, response) =&gt; {
app.post(&#39;/server&#39;, (request, response) =&gt; {
  // è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
  response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
  // è®¾ç½®å…è®¸æ‰€æœ‰å¤´ä¿¡æ¯ï¼Œå°±æ¯”å¦‚ä¸Šé¢è®¾ç½®çš„è‡ªå®šä¹‰å“åº”å¤´ä¼šæŠ¥é”™ï¼Œå°±éœ€è¦åŠ ä¸Šè¿™ä¸ª
  // response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
  // è®¾ç½®å“åº”ä½“
  response.send(&#39;HELLO AJAX POST&#39;);
});</code></pre>
<p>å¯ä»¥æ”¹ä¸ºall</p>
<pre><code class="javascript">//å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„è¯·æ±‚(get/post/options/...)
app.all(&#39;/server&#39;, (request, response) =&gt; {
  //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
  response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
  //å“åº”å¤´
  response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
  //è®¾ç½®å“åº”ä½“
  response.send(&#39;HELLO AJAX POST&#39;);
});</code></pre>
<p>æµ‹è¯•</p>
<pre><code class="html">&lt;style&gt;
#result{
  width:200px;
  height:100px;
  border:solid 1px #903;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  //è·å–å…ƒç´ å¯¹è±¡
  const result = document.getElementById(&quot;result&quot;);
  //ç»‘å®šäº‹ä»¶
  result.addEventListener(&quot;mouseover&quot;, function(){
    //1. åˆ›å»ºå¯¹è±¡
    const xhr = new XMLHttpRequest();
    //2. åˆå§‹åŒ– è®¾ç½®ç±»å‹ä¸ URL
    xhr.open(&#39;POST&#39;, &#39;http://127.0.0.1:8000/server&#39;);
    //è®¾ç½®è¯·æ±‚å¤´
    xhr.setRequestHeader(&#39;Content-Type&#39;,&#39;application/x-www-form-urlencoded&#39;);
    xhr.setRequestHeader(&#39;name&#39;,&#39;wallleap&#39;);
    //3. å‘é€
    xhr.send(&#39;a=100&amp;b=200&amp;c=300&#39;);
    // xhr.send(&#39;a:100&amp;b:200&amp;c:300&#39;);
    // xhr.send(&#39;1233211234567&#39;);
    //4. äº‹ä»¶ç»‘å®š
    xhr.onreadystatechange = function(){
      //åˆ¤æ–­
      if(xhr.readyState === 4){
        if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300){
          //å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ
          result.innerHTML = xhr.response;
        }
      }
    }
  });
&lt;/script&gt;</code></pre>
<p>ä¾‹å­ï¼šç‚¹å‡»ç™»å½•æŒ‰é’®ä¸åˆ·æ–°é¡µé¢å°†æ•°æ®ä¼ åˆ°åå°</p>
<pre><code class="html">&lt;style&gt;
.loading{
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #555;
  text-align: center;
  padding-top: 200px;
  opacity: .5;
}
.loading::after{
  content: &#39;åŠ è½½ä¸­â€¦â€¦&#39;;
  font-size: 60px;
  color: #fff;
}
&lt;/style&gt;
&lt;div class=&quot;loading&quot;&gt;&lt;/div&gt;
&lt;table border=&quot;1&quot;&gt;
  &lt;tr&gt;
    &lt;td&gt;ç”¨æˆ·å&lt;/td&gt;
    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;&quot; id=&quot;username&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;å¯†ç &lt;/td&gt;
    &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;&quot; id=&quot;password&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;/td&gt;
    &lt;td&gt;&lt;button id=&quot;btn&quot;&gt;ç™»å½•&lt;/button&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;script&gt;
  // æ‰¾ä¸€ä¸ªåˆé€‚çš„æ—¶æœºï¼Œåšä¸€ä»¶åˆé€‚çš„äº‹æƒ…(æ—¶é—´ã€å†…å®¹)
  // 1ã€è·å–ç•Œé¢ä¸Šçš„å…ƒç´  value
  var textUsername = document.getElementById(&#39;username&#39;)
  var textPassword = document.getElementById(&#39;password&#39;)
  var btn = document.getElementById(&#39;btn&#39;)
  var loading = document.querySelector(&#39;.loading&#39;)
  btn.onclick = function (){
    loading.style.display = &#39;block&#39;
    var username = textUsername.value
    var password = textPassword.value
    // 2ã€é€šè¿‡XHRå‘é€ä¸€ä¸ªPOSTè¯·æ±‚
    var xhr = new XMLHttpRequest
    xhr.open(&#39;POST&#39;, &#39;login.php&#39;)
    // ä¸€å®šæ³¨æ„ï¼šå¦‚æœè¯·æ±‚ä½“æ˜¯urlencodedæ ¼å¼ï¼Œå¿…é¡»è®¾ç½®è¿™ä¸ªè¯·æ±‚å¤´ï¼
    xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;)
    // xhr.send(&#39;username=&#39; + username + &#39;&amp;password=&#39; + password)
    xhr.send(`username=${username}&amp;password=${password}`)
    // 3ã€æ ¹æ®æœåŠ¡ç«¯çš„åé¦ˆï¼Œä½œå‡ºç•Œé¢æç¤º
    xhr.onreadystatechange = function (){
      if(this.readyState !== 4) return
      console.log(this.responseText)
      loading.style.display = &#39;none&#39;
    }
  }
&lt;/script&gt;</code></pre>
<h3 id="4ã€åŒæ­¥å’Œå¼‚æ­¥"><a href="#4ã€åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="4ã€åŒæ­¥å’Œå¼‚æ­¥"></a>4ã€åŒæ­¥å’Œå¼‚æ­¥</h3><p>ç”Ÿæ´»ä¸­ï¼š</p>
<p>åŒæ­¥ï¼šä¸€ä¸ªäººåœ¨åŒä¸€ä¸ªæ—¶åˆ»åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œåœ¨æ‰§è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œ(ä¸éœ€è¦çœ‹ç®¡)ä¸å»åšåˆ«çš„äº‹æƒ…ï¼Œåªæ˜¯ç­‰å¾…</p>
<p>å¼‚æ­¥ï¼šåœ¨æ‰§è¡Œä¸€äº›è€—æ—¶çš„æ“ä½œ(ä¸éœ€è¦çœ‹ç®¡)å»åšåˆ«çš„äº‹ï¼Œè€Œä¸æ˜¯ç­‰å¾…</p>
<p>xhr.open()ç¬¬ä¸‰ä¸ªå‚æ•°(async)è¦æ±‚ä¼ å…¥çš„æ˜¯ä¸€ä¸ªboolå€¼ï¼Œå…¶ä½œç”¨å°±æ˜¯è®¾ç½®æ­¤æ¬¡è¯·æ±‚æ˜¯å¦é‡‡ç”¨å¼‚æ­¥æ–¹å¼æ‰§è¡Œï¼Œé»˜è®¤ä¸ºtrueï¼Œå¦‚æœéœ€è¦åŒæ­¥æ‰§è¡Œå¯ä»¥é€šè¿‡ä¼ é€’falseå®ç°</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184832.png" alt="image-20200815184831019" class="lazyload"></p>
<p><code>console.time(â€˜æ ‡è¯†â€™)</code> å¯åŠ¨ä¸€ä¸ªç§’è¡¨</p>
<p>ä¸­é—´å†™ä»£ç </p>
<p><code>console.timeEnd(â€˜æ ‡è¯†â€™)</code> ç»“æŸè¿™ä¸ªç§’è¡¨</p>
<p>è¿™æ ·å°±èƒ½çŸ¥é“ç”¨äº†å¤šé•¿æ—¶é—´(æ ‡è¯†åç§°å¾—ç›¸åŒ)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184906.png" alt="image-20200815184905369" class="lazyload"></p>
<p>å¦‚æœé‡‡ç”¨åŒæ­¥æ–¹å¼æ‰§è¡Œï¼Œåˆ™ä»£ç ä¼šå¡æ­»åœ¨xhr.send()è¿™ä¸€æ­¥</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184921.png" alt="image-20200815184920339" class="lazyload"></p>
<p>sendæ–¹æ³•ä¼šä¸ä¼šå‡ºç°ç­‰å¾…æƒ…å†µ(åŒºåˆ†åŒå¼‚æ­¥)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184939.png" alt="image-20200815184938765" class="lazyload"></p>
<p>çŸ¥é“åŒæ­¥æ¨¡å¼å³å¯(å·²è¢«é—å¼ƒ)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815184956.png" alt="image-20200815184955646" class="lazyload"></p>
<p>åŒæ­¥æ¨¡å¼æ³¨å†Œæ—¶é—´æ—¶æœºé—®é¢˜</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185018.png" alt="image-20200815185017871" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185029.png" alt="image-20200815185028276" class="lazyload"></p>
<h3 id="5ã€å“åº”æ•°æ®æ ¼å¼"><a href="#5ã€å“åº”æ•°æ®æ ¼å¼" class="headerlink" title="5ã€å“åº”æ•°æ®æ ¼å¼"></a>5ã€å“åº”æ•°æ®æ ¼å¼</h3><p>å¦‚æœå¸Œæœ›æœåŠ¡å™¨è¿”å›ä¸€ä¸ªå¤æ‚æ•°æ®ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼š</p>
<p> æœåŠ¡å™¨å‘å‡ºä½•ç§æ ¼å¼çš„æ•°æ®ï¼Œè¿™ä¸ªæ ¼å¼å¦‚ä½•åœ¨å®¢æˆ·ç«¯ç”¨JavaScriptè§£æ</p>
<p>5.1 XML</p>
<p>ä¸€ç§æ•°æ®æè¿°æ‰‹æ®µ</p>
<p>è€æ‰ç‰™çš„ä¸œè¥¿ï¼Œç°åœ¨é¡¹ç›®ä¸­åŸºæœ¬ä¸ä½¿ç”¨</p>
<p>æ·˜æ±°çš„åŸå› ï¼šæ•°æ®å†—ä½™å¤ªå¤š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185058.png" alt="image-20200815185057257" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185108.png" alt="image-20200815185106691" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185115.png" alt="image-20200815185114823" class="lazyload"></p>
<p><strong>5.2 JSON</strong></p>
<p>ä¹Ÿæ˜¯ä¸€ç§æ•°æ®æè¿°æ‰‹æ®µï¼Œç±»ä¼¼äºJavaScriptå­—é¢é‡æ–¹å¼</p>
<p>æœåŠ¡ç«¯é‡‡ç”¨JSONæ ¼å¼è¿”å›æ•°æ®ï¼Œå®¢æˆ·ç«¯æŒ‰ç…§JSONæ ¼å¼è§£ææ•°æ®</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185141.png" alt="image-20200815185140660" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185148.png" alt="image-20200815185147671" class="lazyload"></p>
<p>æ¥æµ‹è¯•ä¸€ä¸‹jsonçš„</p>
<p><code>server.js</code>ä¸­æ·»åŠ </p>
<pre><code class="javascript">//JSON å“åº”
app.all(&#39;/json-server&#39;, (request, response) =&gt; {
  //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
  response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
  //å“åº”å¤´
  response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
  //å“åº”ä¸€ä¸ªæ•°æ®
  const data = {
    name: &#39;wallleap&#39;
  };
  //å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢
  let str = JSON.stringify(data);
  //è®¾ç½®å“åº”ä½“
  response.send(str);
});</code></pre>
<p>æµ‹è¯•</p>
<pre><code class="html">&lt;style&gt;
  #result{
    width:200px;
    height:100px;
    border:solid 1px #89b;
  }
&lt;/style&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  //ç»‘å®šé”®ç›˜æŒ‰ä¸‹äº‹ä»¶
  window.onkeydown = function(){
    //å‘é€è¯·æ±‚
    const xhr = new XMLHttpRequest();
    //è®¾ç½®å“åº”ä½“æ•°æ®çš„ç±»å‹
    xhr.responseType = &#39;json&#39;; // è‡ªåŠ¨è½¬æ¢
    //åˆå§‹åŒ–
    xhr.open(&#39;GET&#39;,&#39;http://127.0.0.1:8000/json-server&#39;);
    //å‘é€
    xhr.send();
    //äº‹ä»¶ç»‘å®š
    xhr.onreadystatechange = function(){
      if(xhr.readyState === 4){
        if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300){
          // console.log(xhr.response);
          // result.innerHTML = xhr.response;
          // 1. æ‰‹åŠ¨å¯¹æ•°æ®è½¬åŒ–
          // let data = JSON.parse(xhr.response);
          // console.log(data);
          // result.innerHTML = data.name;
          // 2. è‡ªåŠ¨è½¬æ¢
          console.log(xhr.response);
          result.innerHTML = xhr.response.name;
        }
      }
    }
  }
&lt;/script&gt;</code></pre>
<p>æ³¨æ„ï¼š</p>
<p>ä¸è®ºæ˜¯JSONï¼Œè¿˜æ˜¯XMLï¼Œåªæ˜¯åœ¨AJAXè¯·æ±‚è¿‡ç¨‹ä¸­ç”¨åˆ°ï¼Œå¹¶ä¸ä»£è¡¨å®ƒä»¬ä¹‹é—´æœ‰å¿…ç„¶çš„è”ç³»ï¼Œå®ƒä»¬åªæ˜¯æ•°æ®åè®®ç½¢äº†</p>
<p>ä¸ç®¡æœåŠ¡å™¨ä½¿ç”¨XMLè¿˜æ˜¯JSONæœ¬è´¨ä¸Šéƒ½æ˜¯å°†æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯</p>
<p>æœåŠ¡ç«¯åº”è¯¥è®¾ç½®ä¸€ä¸ªåˆç†çš„Content-Type</p>
<h3 id="6ã€å¤„ç†æœåŠ¡å™¨ç«¯å“åº”çš„æ•°æ®"><a href="#6ã€å¤„ç†æœåŠ¡å™¨ç«¯å“åº”çš„æ•°æ®" class="headerlink" title="6ã€å¤„ç†æœåŠ¡å™¨ç«¯å“åº”çš„æ•°æ®"></a>6ã€å¤„ç†æœåŠ¡å™¨ç«¯å“åº”çš„æ•°æ®</h3><p>åŠ¨æ€æ¸²æŸ“æ•°æ®åˆ°è¡¨æ ¼ä¸­</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185218.png" alt="image-20200815185217284" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185226.png" alt="image-20200815185225225" class="lazyload"></p>
<p>ç°åœ¨ä¸€èˆ¬éƒ½ä¸ä¼šè¿™æ ·æ“ä½œï¼Œå¤ªç¹çäº†</p>
<p>æ¨¡æ¿å¼•æ“</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185252.png" alt="image-20200815185251189" class="lazyload"></p>
<p>å¸¸è§æ¨¡æ¿å¼•æ“åˆ—è¡¨ï¼š<a href="https://github.com/tj/consolidate.js#supported-template-engines" target="_blank" rel="noopener">https://github.com/tj/consolidate.js#supported-template-engines</a></p>
<p>artTemplateï¼š <a href="https://aui.github.io/art-template" target="_blank" rel="noopener">https://aui.github.io/art-template</a></p>
<p>æ¨¡æ¿å¼•æ“å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªAPIï¼Œæ¨¡æ¿å¼•æ“æœ‰å¾ˆå¤šç§ï¼Œä½¿ç”¨æ–¹å¼å¤§åŒå°å¼‚ï¼Œç›®çš„ä¸ºäº†å¯ä»¥æ›´å®¹æ˜“åœ°å°†æ•°æ®æ¸²æŸ“åˆ°HTMLä¸­</p>
<pre><code class="html">&lt;table id=&quot;comment&quot; border=&quot;1&quot;&gt;&lt;/table&gt;
&lt;!-- // 1.é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿å¼•æ“ https://github.com/tj/consolidate.js#supported-template-engines
// 2ã€ä¸‹è½½æ¨¡æ¿å¼•æ“JSåº“
// 3ã€å¼•å…¥åˆ°é¡µé¢ä¸­ --&gt;
&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/art-template/4.13.2/lib/template-web.min.js&quot;&gt;&lt;/script&gt;
&lt;!-- 
  scriptæ ‡ç­¾çš„ç‰¹ç‚¹ï¼š
  1ã€innerHTMLæ°¸è¿œä¸ä¼šæ˜¾ç¤ºåœ¨ç•Œé¢ä¸Š(display: none;)
  2ã€å¦‚æœtypeå±æ€§ä¸æ˜¯text/javascriptï¼Œå†…éƒ¨çš„å†…å®¹ä¸ä¼šä½œä¸ºJavaScriptæ‰§è¡Œ
 --&gt;
&lt;!-- // 4ã€å‡†å¤‡ä¸€ä¸ªæ¨¡æ¿ --&gt;
&lt;!-- 
  JavaScriptä¸­ç”¨å˜é‡ä¿å­˜(ç»´æŠ¤ä¸æ–¹ä¾¿ã€ä¸èƒ½æ¢è¡Œ)
  â€”â€”&gt; HTMLä¸­æ”¾åˆ°ä¸€ä¸ªdivä¸­é€šè¿‡æ ·å¼éšè—(æ·»åŠ è¯¯ç”¨å…ƒç´ ã€å¤šä½™æ ·å¼)
  â€”â€”&gt; scriptæ ‡ç­¾typeä¿®æ”¹ä¹‹åä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå»ºè®®text/x-å¼€å¤´
--&gt;
&lt;script id=&quot;tmpl&quot; type=&quot;text/x-art-template&quot;&gt;
{{each comments}}  
&lt;tr&gt;
  &lt;td&gt;{{$index+1}}&lt;/td&gt;
  &lt;td&gt;{{$value.author}}&lt;/td&gt;
  &lt;td&gt;{{$value.content}}&lt;/td&gt;
  &lt;td&gt;{{$value.created}}&lt;/td&gt;
&lt;/tr&gt;
{{/each}}
&lt;/script&gt;
&lt;script&gt;
var xhr = new XMLHttpRequest()
xhr.open(&#39;GET&#39;, &#39;test.php&#39;)
xhr.send()
xhr.onreadystatechange = function (){
  if(this.readyState !== 4) return
  var res = JSON.parse(this.responseText)
  // // 5ã€å‡†å¤‡ä¸€ä¸ªæ•°æ®
  var context = {comments: res.data}  // ä¸Šé¢çš„å…³é”®è¯å°±æ˜¯comments
  console.log(context)
  var html = template(&#39;tmpl&#39;, context)
  console.log(html)
  document.getElementById(&#39;comment&#39;).innerHTML = html

  // 6ã€é€šè¿‡æ¨¡æ¿å¼•æ“çš„JSæä¾›ä¸€ä¸ªå‡½æ•°å°†æ¨¡æ¿å’Œæ•°æ®æ•´åˆå¾—åˆ°æ¸²æŸ“ç»“æœHTML
  // 7ã€å°†æ¸²æŸ“ç»“æœçš„HTMLè®¾ç½®åˆ°æŸä¸ªå…ƒç´ çš„innerHTMLä¸­
}
&lt;/script&gt;</code></pre>
<h3 id="7ã€å…¼å®¹æ–¹æ¡ˆ"><a href="#7ã€å…¼å®¹æ–¹æ¡ˆ" class="headerlink" title="7ã€å…¼å®¹æ–¹æ¡ˆ"></a>7ã€å…¼å®¹æ–¹æ¡ˆ</h3><p>XMLHttpRequeståœ¨è€æ¿æµè§ˆå™¨(IE5/6)ä¸­æœ‰å…¼å®¹é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼ä»£æ›¿</p>
<pre><code class="javascript">var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(&#39;Microsoft.XMLHTTP&#39;)</code></pre>
<h3 id="8ã€è¡¥å……"><a href="#8ã€è¡¥å……" class="headerlink" title="8ã€è¡¥å……"></a>8ã€è¡¥å……</h3><p>(1) responseã€responseText</p>
<p>éƒ½æ˜¯è·å–çš„å“åº”</p>
<p>response: è·å–åˆ°çš„ç»“æœæˆ–æ ¹æ®this.responseTypeçš„å˜åŒ–è€Œå˜åŒ–(å¯ä»¥è¡¨è¿°äºŒè¿›åˆ¶æ•°æ®)</p>
<p>responseText: æ°¸è¿œè·å–çš„æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„å“åº”ä½“</p>
<pre><code class="javascript">var xhr = new XMLHttpRequest
xhr.open(&#39;GET&#39;, &#39;test.php&#39;)
xhr.send()
xhr.responseType = &#39;json&#39;  // é€šè¿‡ä»£ç å‘Šè¯‰è¯·æ±‚ä»£ç†å¯¹è±¡ï¼ŒæœåŠ¡ç«¯å“åº”ç»™æˆ‘ä»¬çš„æ˜¯JSON
xhr.onreadystatechange = function (){
  if(this.readyState !== 4) return
  console.log(this)
  console.log(this.response)
  console.log(this.responseText)  // ç”±äºè®¾ç½®äº†jsonï¼Œå› æ­¤ä¸å­˜åœ¨
}</code></pre>
<p>(2) IEç¼“å­˜é—®é¢˜ï¼šIEæµè§ˆå™¨ä¼šå°†ajaxè¿”å›ç»“æœç¼“å­˜èµ·æ¥ï¼Œå†æ¬¡å‘é€è¯·æ±‚æ—¶ï¼Œæ˜¾ç¤ºçš„æ˜¯æœ¬åœ°ç¼“å­˜ï¼Œè€Œä¸æ˜¯æœ€æ–°çš„è¯·æ±‚åˆ°çš„æ•°æ®</p>
<p>åœ¨æœåŠ¡ç«¯æ·»åŠ ä¸€ä¸ªï¼š</p>
<pre><code class="javascript">//é’ˆå¯¹ IE ç¼“å­˜
app.get(&#39;/ie&#39;, (request, response) =&gt; {
  //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
  response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
  //è®¾ç½®å“åº”ä½“
  response.send(&#39;HELLO AJAX IE&#39;);
});</code></pre>
<p>è§£å†³</p>
<pre><code class="html">&lt;style&gt;
  #result{
    width:200px;
    height:100px;
    border:solid 1px #258;
  }
&lt;/style&gt;
&lt;button&gt;ç‚¹å‡»å‘é€è¯·æ±‚&lt;/button&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const btn = document.getElementsByTagName(&#39;button&#39;)[0];
  const result = document.querySelector(&#39;#result&#39;);

  btn.addEventListener(&#39;click&#39;, function(){
    const xhr = new XMLHttpRequest();
    xhr.open(&quot;GET&quot;,&#39;http://127.0.0.1:8000/ie?t=&#39;+Date.now()); // è§£å†³æ–¹æ¡ˆï¼šåŠ ä¸Šå‚æ•°ï¼Œè¿™æ ·æµè§ˆå™¨è®¤ä¸ºæ¯æ¬¡è¯·æ±‚urléƒ½ä¸ä¸€æ ·
    xhr.send();
    xhr.onreadystatechange = function(){
      if(xhr.readyState === 4){
        if(xhr.status &gt;= 200 &amp;&amp; xhr.status&lt; 300){
          result.innerHTML = xhr.response;
        }
      }
    }
  })
&lt;/script&gt;</code></pre>
<p>(3) è¯·æ±‚è¶…æ—¶å’Œç½‘ç»œå¼‚å¸¸</p>
<p><code>server.js</code>ä¸­æ·»åŠ </p>
<pre><code class="javascript">//å»¶æ—¶å“åº”
app.all(&#39;/delay&#39;, (request, response) =&gt; {
  //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
  response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
  response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
  // æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªå»¶æ—¶æ•ˆæœ
  setTimeout(() =&gt; {
    //è®¾ç½®å“åº”ä½“
    response.send(&#39;å»¶æ—¶å“åº”&#39;);
  }, 1000) // 3000
});</code></pre>
<p>è¿›è¡Œå¤„ç†ï¼Œåœ¨2så†…è¿˜æ²¡æœ‰å“åº”åˆ™å–æ¶ˆ</p>
<pre><code class="html">&lt;style&gt;
  #result{
    width:200px;
    height:100px;
    border:solid 1px #90b;
  }
&lt;/style&gt;
&lt;button&gt;ç‚¹å‡»å‘é€è¯·æ±‚&lt;/button&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const btn = document.getElementsByTagName(&#39;button&#39;)[0];
  const result = document.querySelector(&#39;#result&#39;);
  btn.addEventListener(&#39;click&#39;, function(){
    const xhr = new XMLHttpRequest();
    //è¶…æ—¶è®¾ç½® 2s è®¾ç½®
    xhr.timeout = 2000;
    //è¶…æ—¶å›è°ƒ
    xhr.ontimeout = function(){
      alert(&quot;ç½‘ç»œå¼‚å¸¸, è¯·ç¨åé‡è¯•!!&quot;);
    }
    //ç½‘ç»œå¼‚å¸¸å›è°ƒ
    xhr.onerror = function(){
      alert(&quot;ä½ çš„ç½‘ç»œä¼¼ä¹å‡ºäº†ä¸€äº›é—®é¢˜!&quot;);
    }
    xhr.open(&quot;GET&quot;,&#39;http://127.0.0.1:8000/delay&#39;);
    xhr.send();
    xhr.onreadystatechange = function(){
      if(xhr.readyState === 4){
        if(xhr.status &gt;= 200 &amp;&amp; xhr.status&lt; 300){
          result.innerHTML = xhr.response;
        }
      }
    }
  })
&lt;/script&gt;</code></pre>
<p>ç½‘ç»œå¼‚å¸¸å¯ä»¥åˆ©ç”¨æµè§ˆå™¨è°ƒè¯•ä¸­Networkä¸€æ ï¼Œè®¾ç½®ä¸ºOffline</p>
<p>(3) å–æ¶ˆè¯·æ±‚</p>
<p>åˆ©ç”¨abort()æ–¹æ³•å–æ¶ˆè¯·æ±‚</p>
<pre><code class="html">&lt;button&gt;ç‚¹å‡»å‘é€&lt;/button&gt;
&lt;button&gt;ç‚¹å‡»å–æ¶ˆ&lt;/button&gt;
&lt;script&gt;
  //è·å–å…ƒç´ å¯¹è±¡
  const btns = document.querySelectorAll(&#39;button&#39;);
  let x = null; // ç”±äºç¬¬äºŒä¸ªæŒ‰é’®ä¹Ÿéœ€è¦ç”¨åˆ°
  btns[0].onclick = function(){
    x = new XMLHttpRequest();
    x.open(&quot;GET&quot;,&#39;http://127.0.0.1:8000/delay&#39;);
    x.send();
  }
  // abort
  btns[1].onclick = function(){
    x.abort();
  }
&lt;/script&gt;</code></pre>
<p>(3) ajaxé‡å¤å‘é€è¯·æ±‚é—®é¢˜ï¼šç”¨æˆ·é¢‘ç¹å‘é€è¯·æ±‚ï¼Œå¯¹æœåŠ¡å™¨å‹åŠ›å¾ˆå¤§</p>
<p>è¯·æ±‚æ—¶ï¼Œå¯ä»¥åˆ¤æ–­ï¼Œå¦‚æœå‰é¢æœ‰ä¸€æ¡è¿™æ ·çš„è¯·æ±‚ï¼Œé‚£ä¹ˆå°†å‰é¢çš„è¯·æ±‚å–æ¶ˆæ‰</p>
<pre><code class="html">&lt;button&gt;ç‚¹å‡»å‘é€&lt;/button&gt;
&lt;script&gt;
  //è·å–å…ƒç´ å¯¹è±¡
  const btns = document.querySelectorAll(&#39;button&#39;);
  let x = null;
  //æ ‡è¯†å˜é‡
  let isSending = false; // æ˜¯å¦æ­£åœ¨å‘é€AJAXè¯·æ±‚
  btns[0].onclick = function(){
    //åˆ¤æ–­æ ‡è¯†å˜é‡
    if(isSending) x.abort();// å¦‚æœæ­£åœ¨å‘é€, åˆ™å–æ¶ˆè¯¥è¯·æ±‚, åˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚
    x = new XMLHttpRequest();
    //ä¿®æ”¹ æ ‡è¯†å˜é‡çš„å€¼
    isSending = true;
    x.open(&quot;GET&quot;,&#39;http://127.0.0.1:8000/delay&#39;);
    x.send();
    x.onreadystatechange = function(){
      if(x.readyState === 4){
        //ä¿®æ”¹æ ‡è¯†å˜é‡
        isSending = false;
      }
    }
  }
&lt;/script&gt;</code></pre>
<h2 id="å››ã€å°è£…"><a href="#å››ã€å°è£…" class="headerlink" title="å››ã€å°è£…"></a>å››ã€å°è£…</h2><h3 id="1ã€AJAXè¯·æ±‚å°è£…"><a href="#1ã€AJAXè¯·æ±‚å°è£…" class="headerlink" title="1ã€AJAXè¯·æ±‚å°è£…"></a>1ã€AJAXè¯·æ±‚å°è£…</h3><p>å°è£…çš„å¥—è·¯ï¼š</p>
<p>(1)  å†™ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒå®Œå–„çš„ç”¨ä¾‹</p>
<pre><code class="javascript">var xhr = new XMLHttpRequest
xhr.open(&#39;GET&#39;, &#39;test.php&#39;, true)
xhr.send(null)
xhr.addEventListener(&#39;readystatechange&#39;, function(){
  if(this.readyState !== 4) return
  console.log(this.responseText)
})</code></pre>
<p>(2)  å†™ä¸€ä¸ªç©ºå‡½æ•°ï¼Œæ²¡æœ‰å½¢å‚ï¼Œå°†åˆšåˆšçš„ç”¨ä¾‹ç›´æ¥ä½œä¸ºå‡½æ•°çš„å‡½æ•°ä½“</p>
<pre><code class="javascript">function ajax(){
  var xhr = new XMLHttpRequest
  xhr.open(&#39;GET&#39;, &#39;test.php&#39;, true)
  xhr.send(null)
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    console.log(this.responseText)
  })
}</code></pre>
<p>(3)  æ ¹æ®ä½¿ç”¨è¿‡ç¨‹ä¸­çš„éœ€æ±‚æŠ½è±¡å‚æ•°</p>
<pre><code class="javascript">/*
Ajaxè¯·æ±‚ version1
method: è¯·æ±‚æ–¹å¼ GET/POST
url: è¯·æ±‚åœ°å€ &#39;http://xxx.com/api&#39;
*/
function ajax(method, url){
  var xhr = new XMLHttpRequest
  xhr.open(method, url, true)
  xhr.send(data)
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    console.log(this.responseText)
  })
}
ajax(&#39;GET&#39;, &#39;test.php&#39;)</code></pre>
<p>sendéœ€è¦ä¼ å‚</p>
<pre><code class="javascript">/*
Ajaxè¯·æ±‚ version2
method: è¯·æ±‚æ–¹å¼ GET/POST
url: è¯·æ±‚åœ°å€ &#39;http://xxx.com/api&#39;
params: é”®å€¼å¯¹å­—ç¬¦ä¸²
*/
function ajax(method, url, params){
  var xhr = new XMLHttpRequest
  var data = null
  if(method === &#39;GET&#39;){
    url += &#39;?&#39; + params
  }
  xhr.open(method, url, true)
  if(method === &#39;POST&#39;){
    xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;)
    data = params || null
  }
  xhr.send(data)
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    console.log(this.responseText)
  })
}
ajax(&#39;GET&#39;, &#39;test.php&#39;)
ajax(&#39;POST&#39;, &#39;post.php&#39;, &#39;key1=value1&amp;key2=value2&#39;)</code></pre>
<p>sendå®å‚å¯ä»¥ä¼ å¯¹è±¡</p>
<pre><code class="javascript">/*
Ajaxè¯·æ±‚ version3
method: è¯·æ±‚æ–¹å¼ GET/POST
url: è¯·æ±‚åœ°å€ &#39;http://xxx.com/api&#39;
params: å¯¹è±¡
*/
function ajax(method, url, params){
  var xhr = new XMLHttpRequest
  // å°†Objectç±»å‹çš„å‚æ•°è½¬æ¢ä¸º key1=value1&amp;key2=value2çš„å½¢å¼
  if(typeof params === &#39;object&#39;){
    var tempArr = []
    for (var key in params){
      var value = params[key]
      tempArr.push(key + &#39;=&#39; + params[key])
      // tempArr =&gt; [&#39;key1=value1&#39;, &#39;key2=value2&#39;]
    }
    params = tempArr.join(&#39;&amp;&#39;)
    // tempArr =&gt; [&#39;key1=value1&amp;key2=value2&#39;]
  }
  if(method === &#39;GET&#39;){
    params ? url += &#39;?&#39; + params : url
  }
  xhr.open(method, url, true)
  var data = null
  if(method === &#39;POST&#39;){
    xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;)
    data = params || null
  }
  xhr.send(data)
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    console.log(this.responseText)
  })
}
ajax(&#39;GET&#39;, &#39;test.php&#39;)
ajax(&#39;GET&#39;, &#39;time.php&#39;, {id: 1})
ajax(&#39;POST&#39;, &#39;post.php&#39;, {key1: &#39;value1&#39;, key2: &#39;value2&#39;, key3: &#39;value3&#39;})
ajax(&#39;POST&#39;, &#39;post.php&#39;, &#39;key1=value1&amp;key2=value2&#39;)</code></pre>
<p>ä¸åº”è¯¥åœ¨å°è£…çš„å‡½æ•°ä¸­ä¸»è§‚åœ°å¤„ç†å“åº”ç»“æœ</p>
<pre><code class="javascript">/*
Ajaxè¯·æ±‚ version4
method: è¯·æ±‚æ–¹å¼ GET/POST/get/post
url: è¯·æ±‚åœ°å€ &#39;http://xxx.com/api&#39;
params: å¯¹è±¡
*/
function ajax(method, url, params){
  var res = null
  method= method.toUpperCase()
  var xhr = new XMLHttpRequest
  // å°†Objectç±»å‹çš„å‚æ•°è½¬æ¢ä¸º key1=value1&amp;key2=value2çš„å½¢å¼
  if(typeof params === &#39;object&#39;){
    var tempArr = []
    for (var key in params){
      var value = params[key]
      tempArr.push(key + &#39;=&#39; + params[key])
      // tempArr =&gt; [&#39;key1=value1&#39;, &#39;key2=value2&#39;]
    }
    params = tempArr.join(&#39;&amp;&#39;)
    // tempArr =&gt; [&#39;key1=value1&amp;key2=value2&#39;]
  }
  if(method === &#39;GET&#39;){
    params ? url += &#39;?&#39; + params : url
  }
  xhr.open(method, url, false) // æ”¹ä¸ºåŒæ­¥äº†
  var data = null
  if(method === &#39;POST&#39;){
    xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;)
    data = params || null
  }
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    // console.log(this.responseText)
    // return xhr.responseText // æ— æ³•å†ç»™å¤–éƒ¨å‡½æ•°è¿”å›ç»“æœï¼Œåˆ©ç”¨é—­åŒ…ã€åŸå‹é“¾
    res = this.responseText
  })
  xhr.send(data)
  // ç”±äºæ˜¯å¼‚æ­¥ï¼Œä¼šå…ˆæ‰§è¡Œ(ç”¨åŒæ­¥ï¼Œäº‹ä»¶æ”¾åˆ°sendå‰xä¸æ¨è)
  return res
}
console.log(ajax(&#39;post&#39;, &#39;post.php&#39;, {key1: &#39;value1&#39;, key2: &#39;value2&#39;, key3: &#39;value3&#39;}))</code></pre>
<p>ä¸èƒ½ä½¿ç”¨åŒæ­¥æ¨¡å¼</p>
<p>è¡¥å……ä¸€ä¸ªæ¦‚å¿µï¼š</p>
<p>å§”æ‰˜(æˆ–å›è°ƒ)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185828.png" alt="image-20200815185827212" class="lazyload"></p>
<p>å‡½æ•°å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæƒ³è¦åšçš„äº‹æƒ…ï¼Œå‡½æ•°ä½“ä¸­çº¦å®šäº†è¿™ä»¶äº‹æƒ…åšçš„è¿‡ç¨‹ï¼Œç›´åˆ°è°ƒç”¨æ—¶æ‰å¼€å§‹å·¥ä½œã€‚</p>
<p>å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’å°±åƒæ˜¯å°†ä¸€ä»¶äº‹æƒ…äº¤ç»™åˆ«äººï¼Œè¿™å°±æ˜¯å§”æ‰˜ã€‚</p>
<p>å¼‚æ­¥ç¼–ç¨‹ä¸­å›è°ƒ/å§”æ‰˜ä½¿ç”¨é¢‘ç‡å¾ˆé«˜ã€‚ï¼ˆç”±äºæ˜¯å¼‚æ­¥çš„ï¼Œä½ å…ˆæ‰§è¡Œï¼Œæˆ‘å‘Šè¯‰ä½ åšä»€ä¹ˆï¼Œæˆ‘å°±ä¸ç­‰äº†â€”â€”ç­‰ä¸åŠï¼Œä½ æ‰§è¡Œå°±è¡Œäº†ï¼‰</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185846.png" alt="image-20200815185845589" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185858.png" alt="image-20200815185856765" class="lazyload"></p>
<p>å›è°ƒåœ°ç‹±/é»‘æ´ï¼šæ­»å¾ªç¯</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815185914.png" alt="image-20200815185913313" class="lazyload"></p>
<p><font color=red><strong>æœ€ç»ˆç‰ˆæœ¬</strong></font></p>
<pre><code class="javascript">/*
å‘é€ä¸€ä¸ªAjaxè¯·æ±‚ version5
@param (String) method  è¯·æ±‚æ–¹å¼ GET/POST/get/post
@param (String) url     è¯·æ±‚åœ°å€ &#39;http://xxx.com/api&#39;
@param (Object) params  è¯·æ±‚å‚æ•°
@param (Function) done  è¯·æ±‚å®Œæˆè¿‡åéœ€è¦åšçš„äº‹æƒ…(å§”æ‰˜/å›è°ƒ)
*/
function ajax(method, url, params, done){
  var res = null
  method= method.toUpperCase()
  var xhr = new XMLHttpRequest
  // å°†Objectç±»å‹çš„å‚æ•°è½¬æ¢ä¸º key1=value1&amp;key2=value2çš„å½¢å¼
  if(typeof params === &#39;object&#39;){
    var tempArr = []
    for (var key in params){
      var value = params[key]
      tempArr.push(key + &#39;=&#39; + params[key])
    }
    params = tempArr.join(&#39;&amp;&#39;)
  }
  if(method === &#39;GET&#39;){
    params ? url += &#39;?&#39; + params : url
  }
  xhr.open(method, url, true)
  var data = null
  if(method === &#39;POST&#39;){
    xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/x-www-form-urlencoded&#39;)
    data = params || null
  }
  xhr.send(data)
  xhr.addEventListener(&#39;readystatechange&#39;, function(){
    if(this.readyState !== 4) return
    res = this.responseText
    done(res)
  })
}

var ondone = function (res){
  console.log(&#39;å‡†å¤‡æ‰§è¡Œ&#39;)
  // console.log(res)
  alert(res)
  console.log(&#39;æ‰§è¡Œå®Œæˆäº†&#39;)
}
ajax(&#39;post&#39;, &#39;post.php&#39;, {key1: &#39;value1&#39;, key2: &#39;value2&#39;}, ondone)
ajax(&#39;get&#39;, &#39;time.php&#39;, {}, function(res){
  console.log(res)
})</code></pre>
<h3 id="2ã€jQueryä¸­çš„Ajax"><a href="#2ã€jQueryä¸­çš„Ajax" class="headerlink" title="2ã€jQueryä¸­çš„Ajax"></a>2ã€jQueryä¸­çš„Ajax</h3><p>jQueryä¸­æœ‰ä¸€å¥—ä¸“é—¨é’ˆå¯¹AJAXçš„å°è£…ï¼ŒåŠŸèƒ½ååˆ†å®Œå–„ï¼Œç»å¸¸ä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„ã€‚</p>
<p><a href="https://www.jquery123.com/category/ajax/" target="_blank" rel="noopener">https://www.jquery123.com/category/ajax/</a></p>
<p>(1)é€šç”¨æ–¹æ³•$.ajax</p>
<p>åº•å±‚æ¥å£(å…¶ä»–æ¥å£ä¾èµ–äºè¿™ä¸ª)</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 1ã€æœ€åŸºç¡€çš„è°ƒç”¨
$.ajax(&#39;./time.php&#39;, { // url: 
  type: &#39;POST&#39;,  // method: è¯·æ±‚æ–¹æ³•
  success: function(res){
    // res =&gt; æ‹¿åˆ°çš„åªæ˜¯å“åº”ä½“
    console.log(res)
  }
})
// å¯ä»¥æŠŠurlå†™åˆ°é‡Œé¢å»
$.ajax({ 
  url: &#39;./time.php&#39;,// url: 
  type: &#39;POST&#39;,  // method: è¯·æ±‚æ–¹æ³•
  data: {id: 1, name: &#39;å¼ ä¸‰&#39;}, // ç”¨äºæäº¤åˆ°æœåŠ¡ç«¯çš„å‚æ•°
  /*
    getæ–¹å¼é€šè¿‡urlä¼ é€’
    postæ–¹å¼æŒ‰ç…§è¯·æ±‚ä½“ä¼ é€’
  */
  success: function(res){
    // res =&gt; æ‹¿åˆ°çš„åªæ˜¯å“åº”ä½“
    console.log(res)
  }
})
// resè¿”å›æ ¼å¼
$.ajax({ 
  url: &#39;./json.php&#39;,// url: è¯·æ±‚åœ°å€
  type: &#39;get&#39;,  // method: è¯·æ±‚æ–¹æ³•
  success: function(res){
    // resä¼šæ ¹æ®æœåŠ¡å™¨å“åº”çš„Content-Typeè‡ªåŠ¨è½¬æ¢ä¸ºå¯¹è±¡
    // è¿™æ˜¯jQueryå†…éƒ¨å®ç°çš„
    console.log(res)
  }
})
// æŒ‡å®šå“åº”ä½“ç±»å‹
$.ajax({ 
  url: &#39;./json.php&#39;,// url: 
  type: &#39;get&#39;,  // method: è¯·æ±‚æ–¹æ³•
  // data: {id: 1, name: &#39;å¼ ä¸‰&#39;}, // è®¾ç½®è¯·æ±‚å‚æ•°
  dataType: &#39;json&#39;, // ç”¨äºè®¾ç½®å“åº”ä½“çš„ç±»å‹(ä¸dataå‚æ•°æ²¡å…³ç³»)
  success: function(res){
    // ä¸€æ—¦è®¾ç½®äº†dataTypeé€‰é¡¹ï¼Œå°±ä¸å†å…³å¿ƒæœåŠ¡ç«¯å“åº”çš„Content-Typeäº†
    // å®¢æˆ·ç«¯ä¼šä¸»è§‚åœ°è®¤ä¸ºæœåŠ¡ç«¯è¿”å›çš„å°±æ˜¯jsonæ ¼å¼
    console.log(res)
  }
})
&lt;/script&gt;</code></pre>
<p>åŸç”Ÿæ“ä½œä¸­ä¸è®ºè¯·æ±‚çŠ¶æ€ç æ˜¯å¤šå°‘éƒ½ä¼šè§¦å‘å›è°ƒ</p>
<p>jQueryä¸­ajaxçš„å›è°ƒ</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// jQueryä¸­ajaxçš„å›è°ƒ
$.ajax({ 
  url: &#39;./time.php&#39;, // url
  data: {key1:value1, key2:value2}, // å‚æ•°
  type: &#39;POST&#39;,  // method: è¯·æ±‚æ–¹æ³•
  dataType: &#39;json&#39;, // å“åº”ä½“ç»“æœ
  beforeSend: function(xhr){
    // åœ¨æ‰€æœ‰å‘é€è¯·æ±‚å¾—æ“ä½œ(openã€send)ä¹‹å‰æ‰§è¡Œ
    console.log(&#39;beforeSend&#39;, xhr)
  }
  success: function(res){ // æˆåŠŸçš„å›è°ƒ
    // åªæœ‰è¯·æ±‚æˆåŠŸ(çŠ¶æ€ç ä¸º200)æ‰ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°
    // res =&gt; æ‹¿åˆ°çš„åªæ˜¯å“åº”ä½“
    console.log(res)
  },
  // timeout: 2000, // è¶…æ—¶æ—¶é—´
  error: function(xhr){ // å¤±è´¥çš„å›è°ƒ
    // åªæœ‰è¯·æ±‚ä¸æ­£å¸¸æ‰ä¼šæ‰§è¡Œ(çŠ¶æ€ç ä¸ä¸º200)
    console.log(&#39;error&#39;,xhr)
  },
  complete: function(xhr){
    // ä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½æ˜¯å®Œæˆï¼Œéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªcompleteå‡½æ•°
    console.log(&#39;complete&#39;, xhr)
  }
})
&lt;/script&gt;</code></pre>
<p>(2) é«˜çº§å°è£…</p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 2ã€jQueryä¸­ajaxçš„å¿«æ·æ–¹æ³•
$.get(&#39;time.php&#39;, function(res){
  console.log(res)
})
$.post(&#39;time.php&#39;, function(res){
  console.log(res)
})
// æœåŠ¡ç«¯è®¾ç½®äº†jsonèƒ½è½¬æ¢å¯¹è±¡ï¼Œæ²¡è®¾ç½®ä¸è¡Œ
$.get(&#39;time.php&#39;, {id: 1}, function(res){
  console.log(res)
})
$.post(&#39;time.php&#39;, {id: 1}, function(res){
  console.log(res)
})
// æ— è§†æœåŠ¡ç«¯Content-Typeï¼Œè§†ä½œJSONæ ¼å¼
$.getJSON(&#39;json.php&#39;, {id: 1}, function(res){
  console.log(res)
})
$.postJSON(&#39;json.php&#39;, {id: 1}, function(res){
  console.log(res)
})
æ˜ç¡®è¯·æ±‚çš„æ–¹å¼ï¼Œæ ¹æ®æ–¹å¼é€‰æ‹©å¿«æ·æ–¹æ³•
&lt;/script&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190207.png" alt="image-20200815190206531" class="lazyload"></p>
<pre><code class="html">&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// è·³è½¬å…¶ä»–é¡µé¢ï¼Œä¼šç™½å±ï¼Œä½†æ˜¯æœ‰äº›é¡µé¢åªæ˜¯éƒ¨åˆ†ä¸ç›¸åŒï¼Œå¯ä»¥å±€éƒ¨åˆ·æ–°
$(function($){
  // æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œé¡ºä¾¿ç¡®ä¿é¡µé¢åŠ è½½å®Œæˆæ‰§è¡Œ
  $(&#39;a.item&#39;).on(&#39;click&#39;, function(){
    var url = $(this).attr(&#39;href&#39;)
    $(&#39;#main&#39;).load(url + &#39; #main&gt;*&#39;) // å…ƒç´ .load(é“¾æ¥+ç©ºæ ¼+é€‰æ‹©å™¨)
    // é˜»æ­¢açš„é»˜è®¤è¡Œä¸º
    return false
  })
})
&lt;/script&gt;</code></pre>
<p>å°†jQueryçš„å‡ ç§æ–¹å¼æ±‡æ€»ä¸€ä¸‹ï¼š</p>
<p><code>server.js</code>ä¸­ï¼š</p>
<pre><code class="javascript">//jQuery æœåŠ¡
app.all(&#39;/jquery-server&#39;, (request, response) =&gt; {
    //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
    response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
    response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
    // response.send(&#39;Hello jQuery AJAX&#39;);
    const data = {name:&#39;wallleap&#39;};
    response.send(JSON.stringify(data));
});</code></pre>
<p>å‰ç«¯</p>
<pre><code class="html">&lt;link crossorigin=&quot;anonymous&quot; href=&quot;https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script crossorigin=&quot;anonymous&quot; src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;!-- crossorigin=&quot;anonymous&quot;ï¼šè·¨åŸŸæºè¯·æ±‚è®¾ç½®ï¼ŒåŠ ä¸Šä¹‹åå‘è¿™ä¸ªèµ„æºå‘é€è¯·æ±‚æ—¶ä¸ä¼šæºå¸¦å½“å‰åŸŸåä¸‹çš„cookie --&gt;
&lt;div class=&quot;container&quot;&gt;
    &lt;h2 class=&quot;page-header&quot;&gt;jQueryå‘é€AJAXè¯·æ±‚ &lt;/h2&gt;
    &lt;button class=&quot;btn btn-primary&quot;&gt;GET&lt;/button&gt;
    &lt;button class=&quot;btn btn-danger&quot;&gt;POST&lt;/button&gt;
    &lt;button class=&quot;btn btn-info&quot;&gt;é€šç”¨å‹æ–¹æ³•ajax&lt;/button&gt;
&lt;/div&gt;
&lt;script&gt;
  $(&#39;button&#39;).eq(0).click(function(){
    $.get(&#39;http://127.0.0.1:8000/jquery-server&#39;, {a:100, b:200}, function(data){
      console.log(data);
    },&#39;json&#39;);
  });
  $(&#39;button&#39;).eq(1).click(function(){
    $.post(&#39;http://127.0.0.1:8000/jquery-server&#39;, {a:100, b:200}, function(data){
      console.log(data);
    });
  });
  $(&#39;button&#39;).eq(2).click(function(){
    $.ajax({
      //url
      url: &#39;http://127.0.0.1:8000/jquery-server&#39;,
      //å‚æ•°
      data: {a:100, b:200},
      //è¯·æ±‚ç±»å‹
      type: &#39;GET&#39;,
      //å“åº”ä½“ç»“æœ
      dataType: &#39;json&#39;,
      //æˆåŠŸçš„å›è°ƒ
      success: function(data){
        console.log(data);
      },
      //è¶…æ—¶æ—¶é—´
      timeout: 2000,
      //å¤±è´¥çš„å›è°ƒ
      error: function(){
        console.log(&#39;å‡ºé”™å•¦!!&#39;);
      },
      //å¤´ä¿¡æ¯
      headers: {
        c:300,
        d:400
      }
    });
  });
&lt;/script&gt;</code></pre>
<p>(3) å…¨å±€äº‹ä»¶åŠé…ç½®NProgressæ˜¾ç¤ºåŠ è½½è¿›åº¦</p>
<pre><code class="html">&lt;style&gt;
  .loading{
    display: none;
    position: fixed;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background-color: rgba(85, 85, 85, .5);
    text-align: center;
    padding-top: 200px;
    color: #fff;
    font-size: 50px;
  }
&lt;/style&gt;
&lt;div class=&quot;loading&quot;&gt;æ­£åœ¨ç©å‘½åŠ è½½ä¸­â€¦â€¦&lt;/div&gt;
&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 3ã€jQueryå…¨å±€äº‹ä»¶å¤„ç†å‡½æ•°
/*
$.ajax({
  url: &#39;time.php&#39;,
  beforeSend: function(xhr){
    // æ˜¾ç¤ºåŠ è½½æç¤º
    $(&#39;.loading&#39;).fadeIn()
    console.log(&#39;å³å°†å¼€å§‹è¯·æ±‚&#39;)
  },
  complete: function(xhr){
    // ç»“æŸæç¤º
    $(&#39;.loading&#39;).fadeOut()
    console.log(&#39;è¯·æ±‚ç»“æŸäº†&#39;)
  }
})
*/
// æ‰€æœ‰çš„ajaxè¯·æ±‚å¼€å§‹å’Œç»“æŸ
$(document).ajaxStart(function(){
  // åªè¦æœ‰ajaxè¯·æ±‚å‘ç”Ÿå°±ä¼šæ‰§è¡Œ
  // æ˜¾ç¤ºåŠ è½½æç¤º
  $(&#39;.loading&#39;).fadeIn()
  console.log(&#39;å³å°†å¼€å§‹è¯·æ±‚&#39;)
})
$(document).ajaxStop(function(){
  // åªè¦æœ‰ajaxè¯·æ±‚å‘ç”Ÿå°±ä¼šæ‰§è¡Œ
  // æ˜¾ç¤ºåŠ è½½æç¤º
  $(&#39;.loading&#39;).fadeOut()
  console.log(&#39;è¯·æ±‚ç»“æŸäº†&#39;)
})
$(&#39;body&#39;).on(&#39;click&#39;, function(){
  // $.ajax({
  //   url: &#39;time.php&#39;
  // })
  $.get(&#39;time.php&#39;)
})
&lt;/script&gt;</code></pre>
<p>å¯ä»¥å†™æˆé“¾å¼çš„ï¼š</p>
<pre><code class="javascript">$(document)
  .ajaxStart(function(){
    â€¦â€¦
  })
  .ajaxStop(function(){
    â€¦â€¦
  })</code></pre>
<p>æ­é…NProgress</p>
<pre><code class="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/nprogress@0.2.0/nprogress.css&quot;&gt;
&lt;script src=&quot;https://unpkg.com/nprogress@0.2.0/nprogress.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style=&quot;margin-top: 100px;text-align: center;&quot;&gt;ç‚¹å‡»åŠ è½½&lt;/div&gt;
&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 3ã€jQueryå…¨å±€äº‹ä»¶å¤„ç†å‡½æ•°æ­é…nprogress
// æ‰€æœ‰çš„ajaxè¯·æ±‚å¼€å§‹å’Œç»“æŸ
$(document)
  .ajaxStart(function(){
    // åªè¦æœ‰ajaxè¯·æ±‚å‘ç”Ÿå°±ä¼šæ‰§è¡Œ
    NProgress.start()
  })
  .ajaxStop(function(){
    // åªè¦æœ‰ajaxè¯·æ±‚å‘ç”Ÿå°±ä¼šæ‰§è¡Œ
    NProgress.done()
  })
$(&#39;body&#39;).on(&#39;click&#39;, function(){
  $.get(&#39;time.php&#39;)
})
&lt;/script&gt;
&lt;/body&gt;</code></pre>
<h3 id="3ã€axios"><a href="#3ã€axios" class="headerlink" title="3ã€axios"></a>3ã€axios</h3><p>(1) ä½¿ç”¨æ•™ç¨‹ï¼š<a href="http://www.axios-js.com/zh-cn/docs/" target="_blank" rel="noopener">http://www.axios-js.com/zh-cn/docs/</a></p>
<p>Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚</p>
<p>(2) ç‰¹æ€§</p>
<ul>
<li>ä»æµè§ˆå™¨ä¸­åˆ›å»º <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequests</a></li>
<li>ä» node.js åˆ›å»º <a href="http://nodejs.org/api/http.html" target="_blank" rel="noopener">http</a> è¯·æ±‚</li>
<li>æ”¯æŒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">Promise</a> API</li>
<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</li>
<li>å–æ¶ˆè¯·æ±‚</li>
<li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li>
<li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener">XSRF</a></li>
</ul>
<p>(3) å®‰è£…</p>
<p>ä½¿ç”¨ npm:</p>
<pre><code class="sh">$ npm install axios</code></pre>
<p>ä½¿ç”¨ bower:</p>
<pre><code class="bash">$ bower install axios</code></pre>
<p>ä½¿ç”¨ cdn:</p>
<pre><code class="html">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>(4) æ¡ˆä¾‹</p>
<p><code>server.js</code></p>
<pre><code class="javascript">//axios æœåŠ¡
app.all(&#39;/axios-server&#39;, (request, response) =&gt; {
    //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
    response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
    response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
    // response.send(&#39;Hello jQuery AJAX&#39;);
    const data = {name:&#39;wallleap&#39;};
    response.send(JSON.stringify(data));
});</code></pre>
<p>axioså‘é€Ajaxè¯·æ±‚</p>
<pre><code class="html">&lt;script crossorigin=&quot;anonymous&quot; src=&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;&gt;&lt;/script&gt;
&lt;button&gt;GET&lt;/button&gt;
&lt;button&gt;POST&lt;/button&gt;
&lt;button&gt;AJAX&lt;/button&gt;
&lt;script&gt;
  // https://github.com/axios/axios
  const btns = document.querySelectorAll(&#39;button&#39;);
  //é…ç½® baseURL
  axios.defaults.baseURL = &#39;http://127.0.0.1:8000&#39;;
  btns[0].onclick = function () {
    //GET è¯·æ±‚ get(url, å…¶å®ƒé…ç½®)
    // axios.get(&#39;http://127.0.0.1:8000/axios-server&#39;, {
    axios.get(&#39;/axios-server&#39;, { // é…ç½®äº†baseURL
      //url å‚æ•°â€”â€”&gt;id=100&amp;vip=7
      params: {
        id: 100,
        vip: 7
      },
      //è¯·æ±‚å¤´ä¿¡æ¯
      headers: {
        name: &#39;wallleap&#39;,
        age: 20
      }
    }).then(value =&gt; { // åŸºäºpromise å¤„ç†è¿”å›ç»“æœ value.configã€dataã€headersã€requestã€statusã€statusText
      console.log(value);
    });
  }
  btns[1].onclick = function () {
    // POSTè¯·æ±‚ post(url, è¯·æ±‚ä½“, å…¶å®ƒé…ç½®)
    axios.post(&#39;/axios-server&#39;, { // è¯·æ±‚ä½“
      username: &#39;admin&#39;,
      password: &#39;password&#39;
    }, {
      //url 
      params: {
        id: 200,
        vip: 9
      },
      //è¯·æ±‚å¤´å‚æ•°
      headers: {
        height: 180,
        weight: 180,
      }
    }).then(response=&gt;{
      // é…ç½®
      console.log(response.config);
      // XMLHttpRequest
      console.log(response.request);
      //å“åº”çŠ¶æ€ç 
      console.log(response.status);
      //å“åº”çŠ¶æ€å­—ç¬¦ä¸²
      console.log(response.statusText);
      //å“åº”å¤´ä¿¡æ¯
      console.log(response.headers);
      //å“åº”ä½“
      console.log(response.data);
    })
  }
  btns[2].onclick = function(){
    // é€šç”¨æ–¹å¼ axios(å¯¹è±¡) --&gt; {method, url, å‚æ•°, å¤´ä¿¡æ¯, è¯·æ±‚ä½“å‚æ•°}
    axios({
      //è¯·æ±‚æ–¹æ³•
      method : &#39;POST&#39;,
      //url
      url: &#39;/axios-server&#39;,
      //urlå‚æ•°
      params: {
        vip:10,
        level:30
      },
      //å¤´ä¿¡æ¯
      headers: {
        a:100,
        b:200
      },
      //è¯·æ±‚ä½“å‚æ•°
      data: {
        username: &#39;admin&#39;,
        password: &#39;password&#39;
      }
    }).then(response=&gt;{
      //å“åº”çŠ¶æ€ç 
      console.log(response.status);
      //å“åº”çŠ¶æ€å­—ç¬¦ä¸²
      console.log(response.statusText);
      //å“åº”å¤´ä¿¡æ¯
      console.log(response.headers);
      //å“åº”ä½“
      console.log(response.data);
    }).catch(function (error) {
      console.log(error);
    })
  }
&lt;/script&gt;</code></pre>
<h2 id="4ã€fetch"><a href="#4ã€fetch" class="headerlink" title="4ã€fetch"></a>4ã€fetch</h2><p>fetchä½¿ç”¨ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch</a></p>
<p>fetchå‘é€AJAXè¯·æ±‚</p>
<p><code>server.js</code></p>
<pre><code class="javascript">//fetch æœåŠ¡
app.all(&#39;/fetch-server&#39;, (request, response) =&gt; {
    //è®¾ç½®å“åº”å¤´  è®¾ç½®å…è®¸è·¨åŸŸ
    response.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
    response.setHeader(&#39;Access-Control-Allow-Headers&#39;, &#39;*&#39;);
    // response.send(&#39;Hello jQuery AJAX&#39;);
    const data = {name:&#39;wallleap&#39;};
    response.send(JSON.stringify(data));
});</code></pre>
<pre><code class="html">&lt;button&gt;AJAXè¯·æ±‚&lt;/button&gt;
&lt;script&gt;
  //æ–‡æ¡£åœ°å€
  //https://developer.mozilla.org/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/fetch
  const btn = document.querySelector(&#39;button&#39;);
  btn.onclick = function(){
    fetch(&#39;http://127.0.0.1:8000/fetch-server?vip=10&#39;, {
      //è¯·æ±‚æ–¹æ³•
      method: &#39;POST&#39;,
      //è¯·æ±‚å¤´
      headers: {
        name:&#39;atguigu&#39;
      },
      //è¯·æ±‚ä½“
      body: &#39;username=admin&amp;password=admin&#39;
    }).then(response =&gt; {
      // return response.text();
      return response.json();
    }).then(response=&gt;{
      console.log(response);
    });
  }
&lt;/script&gt;</code></pre>
<h2 id="äº”ã€è·¨åŸŸ"><a href="#äº”ã€è·¨åŸŸ" class="headerlink" title="äº”ã€è·¨åŸŸ"></a>äº”ã€è·¨åŸŸ</h2><h3 id="1ã€æ¦‚å¿µ"><a href="#1ã€æ¦‚å¿µ" class="headerlink" title="1ã€æ¦‚å¿µ"></a>1ã€æ¦‚å¿µ</h3><p>(1) åŒæºç­–ç•¥(Same-Origin Policy)ï¼šæœ€æ—©ç”±Netscapeå…¬å¸æå‡ºï¼Œæ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œæ‰€è°“åŒæºæ˜¯æŒ‡<strong>åè®®ã€åŸŸåã€ç«¯å£</strong>å®Œå…¨ç›¸åŒï¼Œåªæœ‰åŒæºçš„åœ°å€æ‰å¯ä»¥ç›¸äº’é€šè¿‡AJAXçš„æ–¹å¼è¯·æ±‚ã€‚</p>
<p>ä¸‹é¢æ¥ä¸€ä¸ªåŒæºçš„æ¡ˆä¾‹ï¼š</p>
<p>é‡å†™ä¸€ä¸ª<code>server.js</code></p>
<pre><code class="javascript">const express = require(&#39;express&#39;);
const app = express();
app.get(&#39;/home&#39;, (request, response)=&gt;{
    //å“åº”ä¸€ä¸ªé¡µé¢
    response.sendFile(__dirname + &#39;/index.html&#39;);
});
app.get(&#39;/data&#39;, (request, response)=&gt;{
    response.send(&#39;ç”¨æˆ·æ•°æ®&#39;);
});
app.listen(9000, ()=&gt;{
    console.log(&quot;æœåŠ¡å·²ç»å¯åŠ¨...&quot;);
});</code></pre>
<p>è¿è¡Œèµ·æ¥</p>
<pre><code class="sh">nodemon server.js</code></pre>
<p>åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º<code>index.html</code></p>
<pre><code class="html">&lt;h1&gt;wallleap&lt;/h1&gt;
&lt;button&gt;ç‚¹å‡»è·å–ç”¨æˆ·æ•°æ®&lt;/button&gt;
&lt;script&gt;
  const btn = document.querySelector(&#39;button&#39;);
  btn.onclick = function(){
    const x = new XMLHttpRequest();
    //è¿™é‡Œå› ä¸ºæ˜¯æ»¡è¶³åŒæºç­–ç•¥çš„, æ‰€ä»¥ url å¯ä»¥ç®€å†™
    x.open(&quot;GET&quot;,&#39;/data&#39;);
    //å‘é€
    x.send();
    //
    x.onreadystatechange = function(){
      if(x.readyState === 4){
        if(x.status &gt;= 200 &amp;&amp; x.status &lt; 300){
          console.log(x.response);
        }
      }
    }
  }
&lt;/script&gt;</code></pre>
<p>è®¿é—®<a href="http://127.0.0.1:9000/homeï¼Œå¯ä»¥è®¿é—®è¿™ä¸ªindex.htmlï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥è·å–åˆ°æ•°æ®" target="_blank" rel="noopener">http://127.0.0.1:9000/homeï¼Œå¯ä»¥è®¿é—®è¿™ä¸ªindex.htmlï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥è·å–åˆ°æ•°æ®</a></p>
<p>(2) åŒæºæˆ–è€…ä¸åŒæºè¯´çš„æ˜¯ä¸¤ä¸ªåœ°å€ä¹‹é—´çš„å…³ç³»ï¼Œä¸åŒæºåœ°å€ä¹‹é—´è¯·æ±‚æˆ‘ä»¬ç§°ä¹‹ä¸ºè·¨åŸŸè¯·æ±‚ã€‚</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190430.png" alt="image-20200815190429165" class="lazyload"></p>
<p>è·¨åŸŸçš„æ¡ˆä¾‹ï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190440.png" alt="image-20200815190439633" class="lazyload"></p>
<p>è·¨åŸŸä¼šæŠ¥é”™ï¼š</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190456.png" alt="image-20200815190455302" class="lazyload"></p>
<h3 id="2ã€è§£å†³æ–¹æ¡ˆ"><a href="#2ã€è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2ã€è§£å†³æ–¹æ¡ˆ"></a>2ã€è§£å†³æ–¹æ¡ˆ</h3><p>ä¸åŒæºåœ°å€ä¹‹é—´å¦‚æœéœ€è¦ç›¸äº’è¯·æ±‚ï¼Œå¿…é¡»æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é…åˆæ‰èƒ½å®Œæˆ</p>
<p>å°è¯•æ‰¾åˆ°ä¸€ç§å¯ä»¥å‘é€ä¸åŒæºè¯·æ±‚çš„æ–¹å¼</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190529.png" alt="å¯èƒ½å¯ä»¥è§£å†³è·¨åŸŸçš„æ–¹æ³•" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190556.png" alt="æ­£å¸¸å›¾ç‰‡æ ‡ç­¾" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190621.png" alt="å°è¯•ä½¿ç”¨imgæ ‡ç­¾è§£å†³è·¨åŸŸ" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190650.png" alt="æ­£å¸¸linkæ ‡ç­¾" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190712.png" alt="å°è¯•ä½¿ç”¨linkæ ‡ç­¾è§£å†³è·¨åŸŸ" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190738.png" alt="å°è¯•ä½¿ç”¨scriptæ ‡ç­¾è§£å†³è·¨åŸŸ" class="lazyload"></p>
<p>åˆçº§è·¨åŸŸè§£å†³æ–¹æ¡ˆ</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190812.png" alt="æœåŠ¡å™¨ç«¯å°†jsonç”¨å‡½æ•°åŒ…è£¹è¿”å›" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815190858.png" alt="å®¢æˆ·ç«¯ä½¿ç”¨è¯¥å‡½æ•°æ‹¿åˆ°æ•°æ®" class="lazyload"></p>
<p>(1) <strong>JSONP</strong></p>
<p>JSON with Paddingï¼Œæ˜¯ä¸€ç§å€ŸåŠ©äº<code>script</code>æ ‡ç­¾å‘é€è·¨åŸŸè¯·æ±‚çš„æŠ€å·§ã€‚è¿™ä¸ªæ˜¯éå®˜æ–¹çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œæ˜¯ç¨‹åºå‘˜ä»¬æœºæ™ºåœ°æƒ³å‡ºæ¥çš„ï¼Œåªæ”¯æŒgetè¯·æ±‚ã€‚</p>
<p>å…¶åŸç†å°±æ˜¯åœ¨å®¢æˆ·ç«¯å€ŸåŠ©<code>script</code>æ ‡ç­¾è¯·æ±‚æœåŠ¡ç«¯çš„ä¸€ä¸ªåŠ¨æ€ç½‘é¡µ(phpç­‰)ï¼ŒæœåŠ¡ç«¯çš„è¿™ä¸ªåŠ¨æ€ç½‘é¡µè¿”å›ä¸€æ®µå¸¦æœ‰å‡½æ•°è°ƒç”¨çš„JavaScriptå…¨å±€å‡½æ•°è°ƒç”¨çš„è„šæœ¬ï¼Œå°†åŸæœ¬éœ€è¦è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ä¼ é€’è¿›å»ã€‚</p>
<p>ä»¥åç»å¤§å¤šæ•°æƒ…å†µéƒ½æ˜¯é‡‡ç”¨JSONPçš„æ‰‹æ®µå®Œæˆä¸åŒæºåœ°å€ä¹‹é—´çš„è·¨åŸŸè¯·æ±‚ã€‚</p>
<ul>
<li>åŸç†æ¼”ç¤ºï¼š</li>
</ul>
<p>å½“å‰ç›®å½•ä¸‹ï¼Œæ–°å»º<code>js/app.js</code></p>
<pre><code class="javascript">const data = {
    name: &#39;æµ‹è¯•jsonp&#39;
};
/* æŠŠè¿™ä¸ªæŒªèµ°ï¼Œåˆ°æµ‹è¯•çš„htmlæ–‡ä»¶ä¸­
//å¤„ç†æ•°æ®
    function handle(data) {
        //è·å– result å…ƒç´ 
        const result = document.getElementById(&#39;result&#39;);
        result.innerHTML = data.name;
    }
*/
handle(data);</code></pre>
<p>html</p>
<pre><code class="html">&lt;style&gt;
  #result {
    width: 300px;
    height: 100px;
    border: solid 1px #78a;
  }
&lt;/style&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    //å¤„ç†æ•°æ®
    function handle(data) {
        //è·å– result å…ƒç´ 
        const result = document.getElementById(&#39;result&#39;);
        result.innerHTML = data.name;
    }
&lt;/script&gt;
&lt;!-- &lt;script src=&quot;http://127.0.0.1:5500/jsonp/js/app.js&quot;&gt;&lt;/script&gt; --&gt; &lt;!-- åˆ©ç”¨file://æ–¹å¼è®¿é—®è¿™ä¸ªhtmlé¡µé¢ --&gt;
&lt;!-- è¿›é˜¶ç‰ˆ --&gt;
&lt;script src=&quot;http://127.0.0.1:8000/jsonp-server&quot;&gt;&lt;/script&gt;</code></pre>
<p><code>server.js</code></p>
<pre><code class="javascript">//jsonpæœåŠ¡
app.all(&#39;/jsonp-server&#39;,(request, response) =&gt; {
    // response.send(&#39;console.log(&quot;hello jsonp&quot;)&#39;); // å‰ç«¯æ‹¿åˆ°jsä»£ç 
    const data = {
        name: &#39;æµ‹è¯•jsonp&#39;
    };
    //å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²
    let str = JSON.stringify(data);
    //è¿”å›ç»“æœ
    response.end(`handle(${str})`); // ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œå®å‚æ˜¯æƒ³è¿”å›ç»™å‰ç«¯çš„æ•°æ®(å‰ç«¯éœ€è¦å…ˆå£°æ˜è¿™ä¸ªå‡½æ•°)
});</code></pre>
<ul>
<li>ç”¨phpæ¼”ç¤ºä¸€ä¸‹</li>
</ul>
<p><code>server.php</code></p>
<pre><code class="php">&lt;?php
$conn = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;123456&#39;, &#39;demo&#39;);
$query = mysqli_query($conn, &#39;select * from users&#39;);
while ($row = mysqli_fetch_assoc($query)) {
  $data[] = $row;
}
if (empty($_GET[&#39;callback&#39;])) {
  header(&#39;Content-Type: application/json&#39;);
  echo json_encode($data);
  exit();
}
// å¦‚æœå®¢æˆ·ç«¯é‡‡ç”¨çš„æ˜¯ script æ ‡è®°å¯¹æˆ‘å‘é€çš„è¯·æ±‚
// ä¸€å®šè¦è¿”å›ä¸€æ®µ JavaScript
header(&#39;Content-Type: application/javascript&#39;);
$result = json_encode($data);
$callback_name = $_GET[&#39;callback&#39;];
echo &quot;typeof {$callback_name} === &#39;function&#39; &amp;&amp; {$callback_name}({$result})&quot;;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815191014.png" alt="image-20200815191013064" class="lazyload"></p>
<ul>
<li>åŸç”Ÿæ–¹å¼å®è·µjsonp</li>
</ul>
<p><code>server.js</code></p>
<pre><code class="javascript">//ç”¨æˆ·åæ£€æµ‹æ˜¯å¦å­˜åœ¨
app.all(&#39;/check-username&#39;,(request, response) =&gt; {
    // response.send(&#39;console.log(&quot;hello jsonp&quot;)&#39;);
    const data = {
        exist: 1,
        msg: &#39;ç”¨æˆ·åå·²ç»å­˜åœ¨&#39;
    };
    //å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²
    let str = JSON.stringify(data);
    //è¿”å›ç»“æœ
    response.end(`handle(${str})`);
});</code></pre>
<p>å‰ç«¯ä»£ç ï¼š</p>
<pre><code class="html">ç”¨æˆ·å: &lt;input type=&quot;text&quot; id=&quot;username&quot;&gt;
&lt;p&gt;&lt;/p&gt;
&lt;script&gt;
  //è·å– input å…ƒç´ 
  const input = document.querySelector(&#39;input&#39;);
  const p = document.querySelector(&#39;p&#39;);
  //å£°æ˜ handle å‡½æ•°
  function handle(data){
    input.style.border = &quot;solid 1px #f00&quot;;
    //ä¿®æ”¹ p æ ‡ç­¾çš„æç¤ºæ–‡æœ¬
    p.innerHTML = data.msg;
  }
  //ç»‘å®šäº‹ä»¶
  input.onblur = function(){
    //è·å–ç”¨æˆ·çš„è¾“å…¥å€¼
    let username = this.value;
    //å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ æ£€æµ‹ç”¨æˆ·åæ˜¯å¦å­˜åœ¨
    //1. åˆ›å»º script æ ‡ç­¾
    const script = document.createElement(&#39;script&#39;);
    //2. è®¾ç½®æ ‡ç­¾çš„ src å±æ€§
    script.src = &#39;http://127.0.0.1:8000/check-username&#39;;
    //3. å°† script æ’å…¥åˆ°æ–‡æ¡£ä¸­
    document.body.appendChild(script);
  }
&lt;/script&gt;</code></pre>
<ul>
<li>å°è£…æˆä¸€ä¸ªå‡½æ•°</li>
</ul>
<pre><code class="javascript">function jsonp (url, params, callback) {
  var funcName = &#39;jsonp_&#39; + Date.now() + Math.random().toString().substr(2, 5)

  if (typeof params === &#39;object&#39;) {
    var tempArr = []
    for (var key in params) {
      var value = params[key]
      tempArr.push(key + &#39;=&#39; + value)
    }
    params = tempArr.join(&#39;&amp;&#39;)
  }

  var script = document.createElement(&#39;script&#39;)
  script.src = url + &#39;?&#39; + params + &#39;&amp;callback=&#39; + funcName
  document.body.appendChild(script)

  window[funcName] = function (data) {
    callback(data)

    delete window[funcName]
    document.body.removeChild(script)
  }
}

jsonp(&#39;http://localhost/jsonp/server.php&#39;, { id: 123 }, function (res) {
  console.log(res)
})

jsonp(&#39;http://localhost/jsonp/server.php&#39;, { id: 123 }, function (res) {
  console.log(res)
})</code></pre>
<ul>
<li>jQueryæ–¹å¼å®è·µjsonp</li>
</ul>
<p><code>server.js</code></p>
<pre><code class="javascript">// jQuery jsonp
app.all(&#39;/jquery-jsonp-server&#39;,(request, response) =&gt; {
  // response.send(&#39;console.log(&quot;hello jsonp&quot;)&#39;);
  const data = {
    name:&#39;å°šç¡…è°·&#39;,
    city: [&#39;åŒ—äº¬&#39;,&#39;ä¸Šæµ·&#39;,&#39;æ·±åœ³&#39;]
  };
  //å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²
  let str = JSON.stringify(data);
  //æ¥æ”¶ callback å‚æ•°
  let cb = request.query.callback; // å‡½æ•°åä»å‰ç«¯è·å–
  //è¿”å›ç»“æœ
  response.end(`${cb}(${str})`);
});</code></pre>
<p>å‰ç«¯ä»£ç ï¼š</p>
<pre><code class="html">&lt;style&gt;
  #result{
    width:300px;
    height:100px;
    border:solid 1px #089;
  }
&lt;/style&gt;
&lt;script crossorigin=&quot;anonymous&quot; src=&#39;https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js&#39;&gt;&lt;/script&gt;
&lt;button&gt;ç‚¹å‡»å‘é€ jsonp è¯·æ±‚&lt;/button&gt;
&lt;div id=&quot;result&quot;&gt;

&lt;/div&gt;
&lt;script&gt;
  $(&#39;button&#39;).eq(0).click(function(){
    $.getJSON(&#39;http://127.0.0.1:8000/jquery-jsonp-server?callback=?&#39;, function(data){
      $(&#39;#result&#39;).html(`
                åç§°: ${data.name}&lt;br&gt;
                æ ¡åŒº: ${data.city}
            `)
    });
  });
&lt;/script&gt;</code></pre>
<p>(2)CORS</p>
<p>HTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS</a></p>
<p>Cross Origin Resource Shareï¼Œè·¨åŸŸèµ„æºå…±äº«ã€‚CORSæ˜¯å®˜æ–¹çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ä¸éœ€è¦å†å®¢æˆ·ç«¯åšä»»ä½•ç‰¹æ®Šçš„æ“ä½œï¼Œå®Œå…¨åœ¨æœåŠ¡å™¨ä¸­è¿›è¡Œå¤„ç†ï¼Œæ”¯æŒgetå’Œpostè¯·æ±‚(å…¶ä»–ä¹Ÿæ”¯æŒ)ã€‚è·¨åŸŸèµ„æºå…±äº«æ ‡å‡†æ–°å¢äº†ä¸€ç»„HTTPé¦–éƒ¨å­—æ®µï¼Œå…è®¸æœåŠ¡å™¨å£°æ˜å“ªäº›æºç«™é€šè¿‡æµè§ˆå™¨æœ‰æƒé™è®¿é—®å“ªäº›èµ„æºã€‚</p>
<p>CORSæ˜¯é€šè¿‡è®¾ç½®ä¸€ä¸ªå“åº”å¤´æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚å…è®¸è·¨åŸŸï¼Œæµè§ˆå™¨æ”¶åˆ°è¯¥å“åº”ä»¥åå°±ä¼šå¯¹å“åº”æ”¾è¡Œã€‚</p>
<p><code>server.js</code></p>
<pre><code class="javascript">app.all(&#39;/cors-server&#39;, (request, response)=&gt;{
  //è®¾ç½®å“åº”å¤´
  response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); // å…è®¸æ‰€æœ‰æºç«™å‘é€è¯·æ±‚
  response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &#39;*&#39;); // å…è®¸æºå¸¦çš„å“åº”å¤´
  response.setHeader(&quot;Access-Control-Allow-Method&quot;, &#39;*&#39;); // å…è®¸è¯·æ±‚æ–¹æ³•
  // response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://127.0.0.1:5500&quot;); // å…è®¸å•ä¸ª
  response.send(&#39;hello CORS&#39;);
});</code></pre>
<p>æµ‹è¯•ï¼š</p>
<pre><code class="html">&lt;style&gt;
    #result{
        width:200px;
        height:100px;
        border:solid 1px #90b;
    }
&lt;/style&gt;
&lt;button&gt;å‘é€è¯·æ±‚&lt;/button&gt;
&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const btn = document.querySelector(&#39;button&#39;);
  btn.onclick = function(){
    //1. åˆ›å»ºå¯¹è±¡
    const x = new XMLHttpRequest();
    //2. åˆå§‹åŒ–è®¾ç½®
    x.open(&quot;GET&quot;, &quot;http://127.0.0.1:8000/cors-server&quot;);
    //3. å‘é€
    x.send();
    //4. ç»‘å®šäº‹ä»¶
    x.onreadystatechange = function(){
      if(x.readyState === 4){
        if(x.status &gt;= 200 &amp;&amp; x.status &lt; 300){
          //è¾“å‡ºå“åº”ä½“
          console.log(x.response);
        }
      }
    }
  }
&lt;/script&gt;</code></pre>
<pre><code class="php">// å…è®¸è¿œç«¯è®¿é—®(ç”šè‡³ç›´æ¥æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼ä¹Ÿå¯ä»¥file://â€¦â€¦)
header(&#39;Access-Control-Allow-Origin: *&#39;) // å…è®¸æ‰€æœ‰
header(&#39;Access-Control-Allow-Origin: http://localhost/index.html&#39;) // å…è®¸å•ä¸ª</code></pre>
<p>eg:</p>
<pre><code class="php">&lt;?php

$conn = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;123456&#39;, &#39;demo&#39;);

$query = mysqli_query($conn, &#39;select * from users&#39;);

while ($row = mysqli_fetch_assoc($query)) {
  $data[] = $row;
}

// ä¸€è¡Œä»£ç æå®š
// å…è®¸è·¨åŸŸè¯·æ±‚
header(&#39;Access-Control-Allow-Origin: *&#39;);

header(&#39;Content-Type: application/json&#39;);
echo json_encode($data);</code></pre>
<p>å®¢æˆ·ç«¯</p>
<pre><code class="html">&lt;script src=&quot;jquery.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  $.get(&#39;http://localhost/cors.php&#39;, {}, function (res) {
    console.log(res)
  })
&lt;/script&gt;</code></pre>
<p>è¿™ç§æ–¹æ¡ˆæ— åºå®¢æˆ·ç«¯ä½œå‡ºä»»ä½•å˜åŒ–(ä¸ç”¨æ”¹ä»£ç )ï¼Œåªæ˜¯åœ¨è¢«è¯·æ±‚çš„æœåŠ¡ç«¯å“åº”çš„æ—¶å€™<strong>æ·»åŠ ä¸€ä¸ª<code>Access-Control-Allow-Origin</code>çš„å“åº”å¤´</strong>ï¼Œè¡¨ç¤ºè¿™ä¸ªèµ„æºæ˜¯å¦å…è®¸æŒ‡å®šåŸŸè¯·æ±‚ã€‚</p>
<h2 id="å…­ã€XMLHttpRequest2-0"><a href="#å…­ã€XMLHttpRequest2-0" class="headerlink" title="å…­ã€XMLHttpRequest2.0"></a>å…­ã€XMLHttpRequest2.0</h2><blockquote>
<p>æš‚ä½œäº†è§£ï¼Œæ— éœ€ç€é‡çœ‹å¾…</p>
</blockquote>
<p>æ›´æ˜“ç”¨ï¼Œæ›´å¼ºå¤§ã€‚</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/07/12/React/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´07æœˆ12æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>19.1k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 101 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h1 id="ç¬¬1ç« -Reactå…¥é—¨"><a href="#ç¬¬1ç« -Reactå…¥é—¨" class="headerlink" title="ç¬¬1ç«  Reactå…¥é—¨"></a>ç¬¬1ç«  Reactå…¥é—¨</h1><h2 id="1-1-Reactçš„åŸºæœ¬è®¤è¯†"><a href="#1-1-Reactçš„åŸºæœ¬è®¤è¯†" class="headerlink" title="1.1 Reactçš„åŸºæœ¬è®¤è¯†"></a>1.1 Reactçš„åŸºæœ¬è®¤è¯†</h2><h3 id="1-1-1-å®˜ç½‘"><a href="#1-1-1-å®˜ç½‘" class="headerlink" title="1.1.1 å®˜ç½‘"></a>1.1.1 å®˜ç½‘</h3><p>1)     è‹±æ–‡å®˜ç½‘:<a href="https://reactjs.org/" target="_blank" rel="noopener"> https://reactjs.org/</a></p>
<p>2)     ä¸­æ–‡å®˜ç½‘: <a href="https://doc.react-china.org/" target="_blank" rel="noopener">https://doc.react-china.org/</a></p>
<h3 id="1-1-2-ä»‹ç»æè¿°"><a href="#1-1-2-ä»‹ç»æè¿°" class="headerlink" title="1.1.2 ä»‹ç»æè¿°"></a>1.1.2 ä»‹ç»æè¿°</h3><p>1)     ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºView)</p>
<ul>
<li>JSåº“ï¼š<ul>
<li>jQueryâ€”â€”å‡½æ•°åº“(æ–¹æ³•ã€å‡½æ•°åŒ…è£…DOMæ“ä½œ)</li>
<li>React åŸºæœ¬ä¸Šä¸æ“ä½œDOMâ€”â€”JSæ¡†æ¶</li>
</ul>
</li>
<li>æ„å»ºç”¨æˆ·ç•Œé¢ï¼šæŠŠæ•°æ®å±•ç°å‡ºæ¥</li>
</ul>
<p>2)     ç”±<strong>Facebook</strong>å¼€æº</p>
<h3 id="1-1-3-Reactçš„ç‰¹ç‚¹"><a href="#1-1-3-Reactçš„ç‰¹ç‚¹" class="headerlink" title="1.1.3 Reactçš„ç‰¹ç‚¹"></a>1.1.3 Reactçš„ç‰¹ç‚¹</h3><p>1)     Declarative(å£°æ˜å¼ç¼–ç )</p>
<p>ï¼ˆç”³è¯·ä¸€å—å†…å­˜ï¼Œåªéœ€è¦å£°æ˜ä¸€ä¸ªå˜é‡å³å¯ï¼‰ä¸éœ€è¦äº²è‡ªæ“ä½œDOMï¼Œåªéœ€è¦å‘Šè¯‰å®ƒï¼Œæˆ‘è¦æ›´æ–°ï¼Œå°±ä¼šå¸®ä½ æ›´æ–°ï¼Œåªéœ€è¦æ›´æ–°æ•°æ®ï¼Œç•Œé¢ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°ï¼ˆä»¥å‰éœ€è¦æ›´æ–°DOMï¼‰</p>
<p>2)     Component-Based(ç»„ä»¶åŒ–ç¼–ç )</p>
<p>ç®€åŒ–ç‰¹åˆ«å¤æ‚çš„åŠŸèƒ½ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªç®€å•çš„éƒ¨åˆ†ï¼ˆä¸€ä¸ªå°çš„ç•Œé¢åŠŸèƒ½å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼‰ï¼Œç»´æŠ¤ä¹Ÿæ–¹ä¾¿</p>
<p>3)     Learn Once, Write Anywhere(æ”¯æŒå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ¸²æŸ“)</p>
<p>ä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ï¼šä¸ä»…èƒ½å†™webåº”ç”¨ï¼Œè¿˜èƒ½å†™React Nativeæ‰“åŒ…ä¸ºAndroidã€IOSåº”ç”¨</p>
<p>4)     é«˜æ•ˆ</p>
<p>5)     å•å‘æ•°æ®æµ</p>
<h3 id="1-1-4-Reacté«˜æ•ˆçš„åŸå› -åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜"><a href="#1-1-4-Reacté«˜æ•ˆçš„åŸå› -åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜" class="headerlink" title="1.1.4 Reacté«˜æ•ˆçš„åŸå› (åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜)"></a>1.1.4 Reacté«˜æ•ˆçš„åŸå› (åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜)</h3><p>1)     <strong>è™šæ‹Ÿ(virtual)DOM</strong>,ï¼Œä¸æ€»æ˜¯ç›´æ¥æ“ä½œDOM</p>
<ul>
<li>è™šæ‹ŸDOMï¼šå¯¹è±¡â€”â€”ä¸ç»„ä»¶å¯¹åº”ï¼Œä¿®æ”¹æ˜ å°„åˆ°çœŸå®çš„DOMä¸Š(æ‰¹é‡ä¿®æ”¹ã€ç•Œé¢é‡ç»˜<strong>æ¬¡æ•°å°‘</strong>)</li>
</ul>
<p>2)     <strong>DOM Diffç®—æ³•</strong>,ï¼Œæœ€å°åŒ–é¡µé¢é‡ç»˜</p>
<ul>
<li>ç•Œé¢ä¸­ç»„ä»¶æ˜¯å¦æ›´æ–°(æ›´æ–°<strong>åŒºåŸŸå°</strong>)</li>
</ul>
<h2 id="1-2-Reactçš„åŸºæœ¬ä½¿ç”¨"><a href="#1-2-Reactçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.2 Reactçš„åŸºæœ¬ä½¿ç”¨"></a>1.2 Reactçš„åŸºæœ¬ä½¿ç”¨</h2><p>æ³¨æ„: æ­¤æ—¶åªæ˜¯æµ‹è¯•è¯­æ³•ä½¿ç”¨, å¹¶ä¸æ˜¯çœŸå®é¡¹ç›®å¼€å‘ä½¿ç”¨</p>
<h3 id="1-2-1-æ•ˆæœ"><a href="#1-2-1-æ•ˆæœ" class="headerlink" title="1.2.1 æ•ˆæœ"></a>1.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592556203130.png" alt="ReactåŸºæœ¬ä½¿ç”¨" class="lazyload"></p>
<p>å°†h1æ ‡ç­¾åˆ©ç”¨reactæ”¾åˆ°testä¸­</p>
<h3 id="1-2-3-ç›¸å…³jsåº“"><a href="#1-2-3-ç›¸å…³jsåº“" class="headerlink" title="1.2.3 ç›¸å…³jsåº“"></a>1.2.3 ç›¸å…³jsåº“</h3><p>å¯ä»¥åˆ°bootcdnå¼•ç”¨åœ°å€ï¼Œè®¿é—®é“¾æ¥<kbd>Ctrl</kbd>+<kbd>S</kbd>ä¿å­˜åˆ°æœ¬åœ°</p>
<p>1)     <code>react.js</code>: Reactçš„æ ¸å¿ƒåº“</p>
<ul>
<li>development.jsï¼šå¼€å‘ç‰ˆï¼Œå¼€å‘ç¼–å†™çš„æ—¶å€™ä½¿ç”¨</li>
<li>production.min.jsï¼šç”Ÿäº§ç‰ˆï¼Œä¸Šçº¿çš„æ—¶å€™ä½¿ç”¨ï¼Œå‹ç¼©è¿‡çš„</li>
</ul>
<p>2)     <code>react-dom.js</code>: æä¾›æ“ä½œDOMçš„reactæ‰©å±•åº“</p>
<p>3)     <code>babel.min.js</code>: è§£æJSXè¯­æ³•ä»£ç è½¬ä¸ºçº¯JSè¯­æ³•ä»£ç çš„åº“,è¿™é‡Œä¸æ˜¯ES6è½¬ES5(jsxæ˜¯jsæ‰©å±•è¯­æ³•)</p>
<h3 id="1-2-4-åœ¨é¡µé¢ä¸­å¯¼å…¥js"><a href="#1-2-4-åœ¨é¡µé¢ä¸­å¯¼å…¥js" class="headerlink" title="1.2.4 åœ¨é¡µé¢ä¸­å¯¼å…¥js"></a>1.2.4 åœ¨é¡µé¢ä¸­å¯¼å…¥js</h3><pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<h3 id="1-2-5-ç¼–ç "><a href="#1-2-5-ç¼–ç " class="headerlink" title="1.2.5 ç¼–ç "></a>1.2.5 ç¼–ç </h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;01_HelloWorld&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;test&quot;&gt;&lt;/div&gt;

  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/babel&quot;&gt;/*å‘Šè¯‰babel.jsè§£æé‡Œé¢çš„jsxçš„ä»£ç */
    // 1. åˆ›å»ºè™šæ‹ŸDOMå…ƒç´ å¯¹è±¡
    var vDom = &lt;h1&gt;Hello React!&lt;/h1&gt;   // jsxï¼Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¸èƒ½åŠ å¼•å·
    // 2. å°†è™šæ‹ŸDOMæ¸²æŸ“åˆ°é¡µé¢çœŸå®DOMå®¹å™¨ä¸­
    ReactDOM.render(vDom, document.getElementById(&#39;test&#39;))  // react-dom.jsæä¾›çš„  renderâ€”â€”æ¸²æŸ“   å°†vDomåŠ å…¥åˆ°#testä¸­
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="1-2-6-ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•"><a href="#1-2-6-ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•" class="headerlink" title="1.2.6 ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•"></a>1.2.6 ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•</h3><p>â€‹          <img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react2.gif" alt="Reactå¼€å‘è°ƒè¯•æ’ä»¶" class="lazyload">  </p>
<p>React Developer Tool.crx</p>
<h2 id="1-3-React-JSX"><a href="#1-3-React-JSX" class="headerlink" title="1.3 React JSX"></a>1.3 React JSX</h2><h3 id="1-3-1-æ•ˆæœ"><a href="#1-3-1-æ•ˆæœ" class="headerlink" title="1.3.1 æ•ˆæœ"></a>1.3.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592556978982.png" alt="ReactJSX" class="lazyload"></p>
<p>ä¸¤ä¸ª#teståˆ†åˆ«åŠ å…¥ç›¸åº”å†…å®¹</p>
<p>ä»£ç ï¼š</p>
<pre><code class="html">&lt;div id=&quot;test1&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;test2&quot;&gt;&lt;/div&gt;

&lt;script src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt; // è¿˜æ²¡ç”¨åˆ°jsxè¯­æ³•ï¼Œä¸éœ€è¦babel
  const msg = &#39;I Like You!&#39;
  const myId = &#39;Atguigu&#39;

  // 1.åˆ›å»ºè™šæ‹ŸDOM
  // var element = React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;},&#39;hello&#39;)
  const vDom1 = React.createElement(&#39;h2&#39;, {id:myId.toLowerCase()},msg.toUpperCase())
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(vDom1, document.getElementById(&#39;test1&#39;))
&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  // 1.åˆ›å»ºè™šæ‹ŸDOM
  const vDom2 = &lt;h3 id={myId.toUpperCase()}&gt;{msg.toLowerCase()}&lt;/h3&gt;  // å˜é‡ç”¨{}æ‹¬èµ·æ¥
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(vDom2, document.getElementById(&#39;test2&#39;))
&lt;/script&gt;</code></pre>
<h3 id="1-3-2-è™šæ‹ŸDOM"><a href="#1-3-2-è™šæ‹ŸDOM" class="headerlink" title="1.3.2 è™šæ‹ŸDOM"></a>1.3.2 è™šæ‹ŸDOM</h3><p>1)     Reactæä¾›äº†ä¸€äº›APIæ¥åˆ›å»ºä¸€ç§ <strong>ç‰¹åˆ«</strong> çš„ä¸€èˆ¬jså¯¹è±¡</p>
<p>a.     <code>var element = React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;},&#39;hello&#39;)</code></p>
<p>b.     ä¸Šé¢åˆ›å»ºçš„å°±æ˜¯ä¸€ä¸ªç®€å•çš„è™šæ‹ŸDOMå¯¹è±¡ï¼Œbabelå°†ä¼šæŠŠjsxè¯­æ³•è½¬ä¸ºä¸Šè¿°çš„å½¢å¼</p>
<p>2)     è™šæ‹ŸDOMå¯¹è±¡æœ€ç»ˆéƒ½ä¼šè¢«React<strong>è½¬æ¢ä¸º</strong>çœŸå®çš„DOMï¼ˆè™šæ‹ŸDOMä¸­çš„å¯¹åº”çœŸå®DOMä¸­çš„æ ‡ç­¾å…ƒç´ ï¼‰</p>
<p>3)     æˆ‘ä»¬ç¼–ç æ—¶åŸºæœ¬åªéœ€è¦æ“ä½œreactçš„è™šæ‹ŸDOMç›¸å…³æ•°æ®, reactä¼šè½¬æ¢ä¸ºçœŸå®DOMå˜åŒ–è€Œæ›´æ–°ç•Œé¢</p>
<p>è¡¥å……çŸ¥è¯†ï¼š<code>debugger</code>å¯ä»¥åœ¨æŸæ¡jsä»£ç å¤„æ·»åŠ æ–­ç‚¹</p>
<p>è™šæ‹ŸDOMâ€”â€”è½»å¯¹è±¡ï¼Œæ›´æ–°è™šæ‹ŸDOMé¡µé¢ä¸é‡ç»˜</p>
<p>çœŸå®DOMâ€”â€”é‡å¯¹è±¡ï¼Œæ›´æ–°çœŸå®DOMé¡µé¢ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆé¡µé¢é‡ç»˜ï¼‰</p>
<h3 id="1-3-3-JSX"><a href="#1-3-3-JSX" class="headerlink" title="1.3.3 JSX"></a>1.3.3 JSX</h3><p>1)     å…¨ç§°: JavaScript XML</p>
<p>2)     reactå®šä¹‰çš„ä¸€ç§ç±»ä¼¼äºXMLçš„<strong>JSæ‰©å±•è¯­æ³•</strong>: XML+JS</p>
<p>3)     ä½œç”¨: ç”¨æ¥åˆ›å»ºreactè™šæ‹ŸDOM(å…ƒç´ )å¯¹è±¡</p>
<ul>
<li><p><code>var ele = &lt;h1&gt;Hello JSX!&lt;/h1&gt;</code></p>
</li>
<li><p>æ³¨æ„1: å®ƒä¸æ˜¯å­—ç¬¦ä¸², ä¹Ÿä¸æ˜¯HTML/XMLæ ‡ç­¾</p>
</li>
<li><p>æ³¨æ„2: å®ƒæœ€ç»ˆäº§ç”Ÿçš„å°±æ˜¯ä¸€ä¸ªJSå¯¹è±¡</p>
</li>
</ul>
<p>4)     <strong>æ ‡ç­¾åä»»æ„</strong>: HTMLæ ‡ç­¾æˆ–å…¶å®ƒæ ‡ç­¾</p>
<p>5)     æ ‡ç­¾å±æ€§ä»»æ„: HTMLæ ‡ç­¾å±æ€§æˆ–å…¶å®ƒ</p>
<p>6)     åŸºæœ¬è¯­æ³•è§„åˆ™</p>
<ul>
<li><p><strong>é‡åˆ° &lt;å¼€å¤´</strong>çš„ä»£ç , ä»¥<strong>æ ‡ç­¾</strong>çš„è¯­æ³•è§£æ: htmlåŒåæ ‡ç­¾è½¬æ¢ä¸ºhtmlåŒåå…ƒç´ , å…¶å®ƒæ ‡ç­¾éœ€è¦ç‰¹åˆ«è§£æ</p>
</li>
<li><p><strong>é‡åˆ°ä»¥ { å¼€å¤´</strong>çš„ä»£ç ï¼Œä»¥<strong>JSè¯­æ³•</strong>è§£æ: æ ‡ç­¾ä¸­çš„jsä»£ç å¿…é¡»ç”¨{ }åŒ…å«</p>
</li>
</ul>
<p>7)     babel.jsçš„ä½œç”¨</p>
<ul>
<li><p>æµè§ˆå™¨ä¸èƒ½ç›´æ¥è§£æJSXä»£ç , éœ€è¦<strong>babelè½¬è¯‘ä¸ºçº¯JSçš„ä»£ç </strong>æ‰èƒ½è¿è¡Œ</p>
</li>
<li><p>åªè¦ç”¨äº†JSXï¼Œéƒ½è¦åŠ ä¸Š<code>type=&quot;text/babel&quot;</code>, å£°æ˜éœ€è¦babelæ¥å¤„ç†</p>
</li>
</ul>
<h3 id="1-3-4-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ "><a href="#1-3-4-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ " class="headerlink" title="1.3.4 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )"></a>1.3.4 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )</h3><p>1)     è¯­æ³•: <code>ReactDOM.render(virtualDOM, containerDOM)</code></p>
<p>2)     ä½œç”¨: å°†è™šæ‹ŸDOMå…ƒç´ æ¸²æŸ“åˆ°é¡µé¢ä¸­çš„çœŸå®å®¹å™¨DOMä¸­æ˜¾ç¤º</p>
<p>3)     å‚æ•°è¯´æ˜</p>
<ul>
<li><p>å‚æ•°ä¸€: çº¯jsæˆ–jsxåˆ›å»ºçš„è™šæ‹Ÿdomå¯¹è±¡</p>
</li>
<li><p>å‚æ•°äºŒ: ç”¨æ¥åŒ…å«è™šæ‹ŸDOMå…ƒç´ çš„çœŸå®domå…ƒç´ å¯¹è±¡(ä¸€èˆ¬æ˜¯ä¸€ä¸ªdiv)</p>
</li>
</ul>
<h3 id="1-3-5-å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼"><a href="#1-3-5-å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼" class="headerlink" title="1.3.5 å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼"></a>1.3.5 å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼</h3><p>1)     çº¯JS(ä¸€èˆ¬ä¸ç”¨)</p>
<p><code>React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;}, title)</code></p>
<p>2)     <strong>JSX</strong>:</p>
<p><code>&lt;h1 id=&#39;myTitle&#39;&gt;{title}&lt;/h1&gt;</code></p>
<h3 id="1-3-6-JSXç»ƒä¹ "><a href="#1-3-6-JSXç»ƒä¹ " class="headerlink" title="1.3.6 JSXç»ƒä¹ "></a>1.3.6 JSXç»ƒä¹ </h3><p>éœ€æ±‚: åŠ¨æ€å±•ç¤ºåˆ—è¡¨æ•°æ®</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592558986188.png" alt="JSX" class="lazyload"></p>
<p>ä»£ç ï¼š</p>
<pre><code class="html">&lt;h2&gt;å‰ç«¯JSæ¡†æ¶åˆ—è¡¨&lt;/h2&gt;
&lt;div id=&quot;example1&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
    åŠŸèƒ½: åŠ¨æ€å±•ç¤ºåˆ—è¡¨æ•°æ®
    - å¦‚ä½•å°†ä¸€ä¸ªæ•°æ®çš„æ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªæ ‡ç­¾çš„æ•°ç»„
      ä½¿ç”¨æ•°ç»„çš„map()æ–¹æ³•
  */
  // æ•°æ®ï¼šåç§°ã€ç±»å‹ï¼Œæ•°ç»„å­˜æ”¾
  const names = [&#39;jQuery&#39;, &#39;zepto&#39;, &#39;angular&#39;, &#39;react&#39;, &#39;vue&#39;]
  // 1.åˆ›å»ºè™šæ‹ŸDOMï¼Œæœ‰åµŒå¥—ç»“æ„ï¼Œæœ€å¥½ç”¨å°æ‹¬å·æ‹¬èµ·æ¥
  const ul = (
    &lt;ul&gt;
      {
        names.map((name, index) =&gt; &lt;li key={index}&gt;{name}&lt;/li&gt;)
      }
    &lt;/ul&gt;
  )
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(ul, document.getElementById(&#39;example1&#39;))
&lt;/script&gt;</code></pre>
<h2 id="1-4-æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£"><a href="#1-4-æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£" class="headerlink" title="1.4 æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£"></a>1.4 æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£</h2><h3 id="1-4-1-æ¨¡å—"><a href="#1-4-1-æ¨¡å—" class="headerlink" title="1.4.1 æ¨¡å—"></a>1.4.1 æ¨¡å—</h3><p>1)     ç†è§£: å‘å¤–<strong>æä¾›ç‰¹å®šåŠŸèƒ½çš„</strong>jsç¨‹åº, ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ª<strong>jsæ–‡ä»¶</strong></p>
<p>2)     ä¸ºä»€ä¹ˆ: jsä»£ç æ›´å¤šæ›´å¤æ‚</p>
<p>3)     ä½œç”¨: å¤ç”¨js, ç®€åŒ–jsçš„ç¼–å†™, æé«˜jsè¿è¡Œæ•ˆç‡</p>
<p>æœ‰ç‰¹å®šåŠŸèƒ½çš„jsæ–‡ä»¶ï¼Œå†…éƒ¨æœ‰æ•°æ®åŠå¯¹æ•°æ®çš„æ“ä½œ</p>
<ul>
<li><p>æ•°æ®ï¼šå˜é‡</p>
</li>
<li><p>æ“ä½œï¼šå‡½æ•°</p>
</li>
</ul>
<p>ç§æœ‰çš„å‡½æ•°å‘å¤–æš´éœ²</p>
<ul>
<li>æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼šæš´éœ²å‡½æ•°æœ¬èº«</li>
<li>æš´éœ²å¤šä¸ªå‡½æ•°ï¼šä»¥å¯¹è±¡å½¢å¼æš´éœ²</li>
</ul>
<h3 id="1-4-2-ç»„ä»¶"><a href="#1-4-2-ç»„ä»¶" class="headerlink" title="1.4.2 ç»„ä»¶"></a>1.4.2 ç»„ä»¶</h3><p>1)     ç†è§£: ç”¨æ¥<strong>å®ç°ç‰¹å®š(å±€éƒ¨)åŠŸèƒ½æ•ˆæœ</strong>çš„<strong>ä»£ç </strong>é›†åˆ(html/css/js)</p>
<p>2)     ä¸ºä»€ä¹ˆ: ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½æ›´å¤æ‚</p>
<p>3)     ä½œç”¨: å¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡</p>
<h3 id="1-4-3-æ¨¡å—åŒ–"><a href="#1-4-3-æ¨¡å—åŒ–" class="headerlink" title="1.4.3 æ¨¡å—åŒ–"></a>1.4.3 æ¨¡å—åŒ–</h3><p>å½“åº”ç”¨çš„<strong>jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™</strong>çš„, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨</p>
<p>å½¢å®¹é¡¹ç›®æˆ–ç¼–ç </p>
<h3 id="1-4-4-ç»„ä»¶åŒ–"><a href="#1-4-4-ç»„ä»¶åŒ–" class="headerlink" title="1.4.4 ç»„ä»¶åŒ–"></a>1.4.4 ç»„ä»¶åŒ–</h3><p>å½“åº”ç”¨æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼å®ç°, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592560823655.png" alt="component" class="lazyload"></p>
<h1 id="ç¬¬2ç« -Reacté¢å‘ç»„ä»¶ç¼–ç¨‹"><a href="#ç¬¬2ç« -Reacté¢å‘ç»„ä»¶ç¼–ç¨‹" class="headerlink" title="ç¬¬2ç«  Reacté¢å‘ç»„ä»¶ç¼–ç¨‹"></a>ç¬¬2ç«  Reacté¢å‘ç»„ä»¶ç¼–ç¨‹</h1><p>é¢å‘å¯¹è±¡â€”â€”é¢å‘æ¨¡å—â€”â€”é¢å‘ç»„ä»¶</p>
<h2 id="2-1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨"><a href="#2-1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨" class="headerlink" title="2.1 åŸºæœ¬ç†è§£å’Œä½¿ç”¨"></a>2.1 åŸºæœ¬ç†è§£å’Œä½¿ç”¨</h2><h3 id="2-1-1-æ•ˆæœ"><a href="#2-1-1-æ•ˆæœ" class="headerlink" title="2.1.1 æ•ˆæœ"></a>2.1.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592561100045.png" alt="ç»„ä»¶" class="lazyload"></p>
<p>ç»„ä»¶æ ‡ç­¾ï¼šå¯ä»¥éšä¾¿å–çš„æ ‡ç­¾ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œä¸HTMLæ ‡ç­¾åŒºåˆ†å¼€</p>
<h3 id="2-1-2-è‡ªå®šä¹‰ç»„ä»¶-Component"><a href="#2-1-2-è‡ªå®šä¹‰ç»„ä»¶-Component" class="headerlink" title="2.1.2 è‡ªå®šä¹‰ç»„ä»¶(Component) :"></a>2.1.2 è‡ªå®šä¹‰ç»„ä»¶(Component) :</h3><p>1)     å®šä¹‰ç»„ä»¶(2ç§æ–¹å¼)</p>
<p>  æ–¹å¼1: <strong>å·¥å‚å‡½æ•°ç»„ä»¶(ç®€å•ç»„ä»¶ï¼šæ²¡æœ‰çŠ¶æ€çš„ç»„ä»¶)</strong>â€”â€”æ•ˆç‡é«˜ï¼Œä¸éœ€è¦åˆ›å»ºå¯¹è±¡</p>
<pre><code>function MyComponent(){
    return &lt;h2&gt;å·¥å‚å‡½æ•°ç»„ä»¶(ç®€å•ç»„ä»¶)&lt;/h2&gt;
}</code></pre><p>æ–¹å¼2: <strong>ES6ç±»ç»„ä»¶(å¤æ‚ç»„ä»¶)</strong>â€”â€”éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œæœ‰äº†çŠ¶æ€åªèƒ½ä½¿ç”¨è¿™ç§æ–¹å¼</p>
<pre><code class="javascript">class MyComponent2 extends React.Component{
  render(){
    console.log(this)  // ç»„ä»¶ç±»å¯¹è±¡ MyComponent2{...}
    return &lt;h2&gt;ES6ç±»ç»„ä»¶(å¤æ‚ç»„ä»¶)&lt;/h2&gt;
  }
}</code></pre>
<p>2)     æ¸²æŸ“ç»„ä»¶æ ‡ç­¾</p>
<pre><code class="JavaScript">ReactDOM.render(&lt;MyComponent  /&gt;, document.getElementById(&#39;example1&#39;))
ReactDOM.render(&lt;MyComponent2  /&gt;, document.getElementById(&#39;example2&#39;))</code></pre>
<h3 id="2-1-3-æ³¨æ„"><a href="#2-1-3-æ³¨æ„" class="headerlink" title="2.1.3 æ³¨æ„"></a>2.1.3 æ³¨æ„</h3><p>1)     ç»„ä»¶åå¿…é¡»é¦–å­—æ¯å¤§å†™</p>
<p>2)     è™šæ‹ŸDOMå…ƒç´ åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p>
<p>3)     è™šæ‹ŸDOMå…ƒç´ å¿…é¡»æœ‰ç»“æŸæ ‡ç­¾</p>
<h3 id="2-1-4-render-æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹"><a href="#2-1-4-render-æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹" class="headerlink" title="2.1.4 render()æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹"></a>2.1.4 render()æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹</h3><p>1)     Reactå†…éƒ¨ä¼šåˆ›å»ºç»„ä»¶å®ä¾‹å¯¹è±¡</p>
<p>2)     å¾—åˆ°åŒ…å«çš„è™šæ‹ŸDOMå¹¶è§£æä¸ºçœŸå®DOM</p>
<p>3)     æ’å…¥åˆ°æŒ‡å®šçš„é¡µé¢å…ƒç´ å†…éƒ¨</p>
<h2 id="2-2-ç»„ä»¶ä¸‰å¤§å±æ€§1-state"><a href="#2-2-ç»„ä»¶ä¸‰å¤§å±æ€§1-state" class="headerlink" title="2.2 ç»„ä»¶ä¸‰å¤§å±æ€§1: state"></a>2.2 ç»„ä»¶ä¸‰å¤§å±æ€§1: state</h2><h3 id="2-2-1-æ•ˆæœ"><a href="#2-2-1-æ•ˆæœ" class="headerlink" title="2.2.1 æ•ˆæœ"></a>2.2.1 æ•ˆæœ</h3><p> <img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/Like%E7%BB%84%E4%BB%B6.gif" alt="state" class="lazyload"></p>
<h3 id="2-2-2-ç†è§£"><a href="#2-2-2-ç†è§£" class="headerlink" title="2.2.2 ç†è§£"></a>2.2.2 ç†è§£</h3><p>1)     stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªæ•°æ®)</p>
<p>2)     ç»„ä»¶è¢«ç§°ä¸ºâ€çŠ¶æ€æœºâ€, é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</p>
<h3 id="2-2-3-ç¼–ç æ“ä½œ"><a href="#2-2-3-ç¼–ç æ“ä½œ" class="headerlink" title="2.2.3 ç¼–ç æ“ä½œ"></a>2.2.3 ç¼–ç æ“ä½œ</h3><p>1)     åˆå§‹åŒ–çŠ¶æ€:</p>
<pre><code class="javascript">constructor (props) {
  super(props)
  this.state = {
   stateProp1 : value1,
   stateProp2 : value2
  }
}</code></pre>
<p>2)     è¯»å–æŸä¸ªçŠ¶æ€å€¼</p>
<pre><code class="javascript">this.state.statePropertyName</code></pre>
<p>3)     æ›´æ–°çŠ¶æ€â€”-&gt;ç»„ä»¶ç•Œé¢æ›´æ–°</p>
<pre><code class="javascript">this.setState({
  stateProp1 : value1,
  stateProp2 : value2
})</code></pre>
<h3 id="2-2-4-ä»£ç "><a href="#2-2-4-ä»£ç " class="headerlink" title="2.2.4 ä»£ç "></a>2.2.4 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹
    1. æ˜¾ç¤ºh2æ ‡é¢˜, åˆå§‹æ–‡æœ¬ä¸º: ä½ å–œæ¬¢æˆ‘
    2. ç‚¹å‡»æ ‡é¢˜æ›´æ–°ä¸º: æˆ‘å–œæ¬¢ä½ 
  */
  // 1.å®šä¹‰ç»„ä»¶
  class Like extends React.Component {
    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        isLikeMe: false
      }

      // å°†æ–°å¢æ–¹æ³•ä¸­çš„thiså¼ºåˆ¶ç»‘å®šä¸ºç»„ä»¶å¯¹è±¡
      this.handleClick = this.handleClick.bind(this) // ä¹Ÿå¯ä»¥ä¸åœ¨è¿™é‡Œç»‘å®š
    }

    handleClick(){
      // console.log(this) // handleClickæ˜¯æ–°æ·»åŠ æ–¹æ³•ï¼Œå†…éƒ¨thisé»˜è®¤ä¸æ˜¯ç»„ä»¶å¯¹è±¡ï¼Œè€Œæ˜¯undefined  renderæ˜¯é‡å†™ç»„ä»¶ç±»çš„æ–¹æ³• åˆ°ä¸Šé¢æˆ–ä¸‹é¢ç»‘å®šthis
      // å¾—åˆ°çŠ¶æ€ï¼Œå¹¶å–å
      const isLikeMe = !this.state.isLikeMe
      // æ›´æ–°çŠ¶æ€
      this.setState({isLikeMe}) // isLikeMe: isLikeMe
    }
    render() {
      // è¯»å–çŠ¶æ€
      // const isLikeMe = this.state.isLikeMe
      const {isLikeMe} = this.state // è§£æ„èµ‹å€¼
      return &lt;h2 onClick={this.handleClick}&gt;{isLikeMe?&#39;ä½ å–œæ¬¢æˆ‘&#39;:&#39;æˆ‘å–œæ¬¢ä½ &#39;}&lt;/h2&gt; // thisâ€”â€”ç»„ä»¶å¯¹è±¡ // this.handleClick.bind(this) â€”â€” åœ¨è¿™é‡Œç»‘å®šä¹Ÿå¯ä»¥
    }
  }
  // 2.æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  ReactDOM.render(&lt;Like /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-3-ç»„ä»¶ä¸‰å¤§å±æ€§2-props"><a href="#2-3-ç»„ä»¶ä¸‰å¤§å±æ€§2-props" class="headerlink" title="2.3 ç»„ä»¶ä¸‰å¤§å±æ€§2: props"></a>2.3 ç»„ä»¶ä¸‰å¤§å±æ€§2: props</h2><h3 id="2-3-1-æ•ˆæœ"><a href="#2-3-1-æ•ˆæœ" class="headerlink" title="2.3.1 æ•ˆæœ"></a>2.3.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶
  1). å§“åå¿…é¡»æŒ‡å®š
  2). å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸ºç”·
  3). å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸º18</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-4.png" alt="props" class="lazyload"></p>
<h3 id="2-3-2-ç†è§£"><a href="#2-3-2-ç†è§£" class="headerlink" title="2.3.2 ç†è§£"></a>2.3.2 ç†è§£</h3><p>1)     æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰props(propertiesçš„ç®€å†™)å±æ€§</p>
<p>2)     ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</p>
<h3 id="2-3-3-ä½œç”¨"><a href="#2-3-3-ä½œç”¨" class="headerlink" title="2.3.3 ä½œç”¨"></a>2.3.3 ä½œç”¨</h3><p>1)     é€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤–å‘ç»„ä»¶å†…ä¼ é€’å˜åŒ–çš„æ•°æ®</p>
<p>2)     æ³¨æ„: ç»„ä»¶å†…éƒ¨ä¸è¦ä¿®æ”¹propsæ•°æ®</p>
<h3 id="2-3-4-ç¼–ç æ“ä½œ"><a href="#2-3-4-ç¼–ç æ“ä½œ" class="headerlink" title="2.3.4 ç¼–ç æ“ä½œ"></a>2.3.4 ç¼–ç æ“ä½œ</h3><p>1)     å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼</p>
<p><code>this.props.propertyName</code></p>
<p>2)     å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è‡ª React v15.5 èµ·ï¼Œ<code>React.PropTypes</code> å·²ç§»å…¥å¦ä¸€ä¸ªåŒ…ä¸­ã€‚è¯·ä½¿ç”¨ <a href="https://www.npmjs.com/package/prop-types" target="_blank" rel="noopener"><code>prop-types</code> åº“</a> ä»£æ›¿ã€‚éœ€è¦å…ˆå¼•å…¥è¯¥åº“ã€‚</p>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <a href="https://react.docschina.org/blog/2017/04/07/react-v15.5.0.html#migrating-from-reactproptypes" target="_blank" rel="noopener">codemod è„šæœ¬</a>æ¥åšè‡ªåŠ¨è½¬æ¢ã€‚</p>
</blockquote>
<pre><code class="javascript">Person.propTypes = {
    name: React.PropTypes.string.isRequired,
    age: React.PropTypes.number.isRequired
}</code></pre>
<p>3)     æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’</p>
<p><code>&lt;Person {...person}/&gt;</code></p>
<p>4)     é»˜è®¤å±æ€§å€¼</p>
<pre><code class="javascript">Person.defaultProps = {
    name: &#39;Mary&#39;
}</code></pre>
<p>5)     ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°</p>
<pre><code class="javascript">constructor (props) {
    super(props)
    console.log(props) // æŸ¥çœ‹æ‰€æœ‰å±æ€§

}</code></pre>
<h3 id="2-3-5-ä»£ç "><a href="#2-3-5-ä»£ç " class="headerlink" title="2.3.5 ä»£ç "></a>2.3.5 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example1&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;example2&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/prop-types.js&quot;&gt;&lt;/script&gt; &lt;!-- éªŒè¯ç±»å‹å’Œå¿…è¦æ€§ --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;

  /*
éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶, æ•ˆæœå¦‚é¡µé¢. è¯´æ˜
  1). å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸ºç”·
  2). å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸º18
  */

  // 1ã€å®šä¹‰ç»„ä»¶
  /*function Person(props){
    return (
      &lt;ul&gt;
        &lt;li&gt;å§“åï¼š{props.name}&lt;/li&gt;
        &lt;li&gt;æ€§åˆ«ï¼š{props.sex}&lt;/li&gt;
        &lt;li&gt;å¹´é¾„ï¼š{props.age}&lt;/li&gt;
      &lt;/ul&gt;
    )
  }*/
  class Person extends React.Component{
    render(){
      return (
        &lt;ul&gt;
          &lt;li&gt;å§“åï¼š{this.props.name}&lt;/li&gt;  // thisâ€”â€”ç»„ä»¶å¯¹è±¡
          &lt;li&gt;æ€§åˆ«ï¼š{this.props.sex}&lt;/li&gt;
          &lt;li&gt;å¹´é¾„ï¼š{this.props.age}&lt;/li&gt;
        &lt;/ul&gt;
      )
    }
  }
  // æŒ‡å®šå±æ€§é»˜è®¤å€¼
  Person.defaultProps = {
    sex: &#39;ç”·&#39;,
    age: 18
  }
  // æŒ‡å®šå±æ€§å€¼çš„ç±»å‹å’Œå¿…è¦æ€§
  Person.propTypes = {
    name: PropTypes.string.isRequired,
    age: PropTypes.number
  }

  // 2ã€æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  const p1 = {
    name: &#39;Tom&#39;,
    sex: &#39;å¥³&#39;,
    age: 18
  }
  // ReactDOM.render(&lt;Person name={p1.name} sex={p1.sex} age={p1.age}/&gt;, document.getElementById(&#39;example1&#39;))
  ReactDOM.render(&lt;Person {...p1}/&gt;, document.getElementById(&#39;example1&#39;)) // ...ä½œç”¨ï¼š1.æ‰“åŒ…ï¼šfunction fn(...as){} fun(1,2,3) 2.è§£åŒ…ï¼šconst arr1=[1,2,3] const arr2=[6,...arr1,9] è¿™é‡Œä¹Ÿæ˜¯åœ¨è§£åŒ…
  const p2 = {
    name: &#39;JACK&#39;,
    age: 17
  }
  ReactDOM.render(&lt;Person name={p2.name} age={p2.age}/&gt;, document.getElementById(&#39;example2&#39;))
&lt;/script&gt;</code></pre>
<h3 id="2-3-6-é¢è¯•é¢˜"><a href="#2-3-6-é¢è¯•é¢˜" class="headerlink" title="2.3.6 é¢è¯•é¢˜"></a>2.3.6 é¢è¯•é¢˜</h3><p>é—®é¢˜: è¯·åŒºåˆ«ä¸€ä¸‹ç»„ä»¶çš„propså’Œstateå±æ€§</p>
<p>1)     state: <strong>ç»„ä»¶è‡ªèº«å†…éƒ¨å¯å˜åŒ–çš„æ•°æ®</strong></p>
<p><em>2)</em>    props: ä»ç»„ä»¶å¤–éƒ¨å‘ç»„ä»¶å†…éƒ¨<strong>ä¼ é€’æ•°æ®</strong>ï¼Œç»„ä»¶å†…éƒ¨åªè¯»ä¸ä¿®æ”¹</p>
<h2 id="2-4-ç»„ä»¶ä¸‰å¤§å±æ€§3-refsä¸äº‹ä»¶å¤„ç†"><a href="#2-4-ç»„ä»¶ä¸‰å¤§å±æ€§3-refsä¸äº‹ä»¶å¤„ç†" class="headerlink" title="2.4 ç»„ä»¶ä¸‰å¤§å±æ€§3: refsä¸äº‹ä»¶å¤„ç†"></a>2.4 ç»„ä»¶ä¸‰å¤§å±æ€§3: refsä¸äº‹ä»¶å¤„ç†</h2><h3 id="2-4-1-æ•ˆæœ"><a href="#2-4-1-æ•ˆæœ" class="headerlink" title="2.4.1 æ•ˆæœ"></a>2.4.1 æ•ˆæœ</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹:</p>
<ol start="2">
<li>ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</li>
<li>å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/props_event.gif" alt="props_event" class="lazyload"></p>
<h3 id="2-4-2-ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ-refså±æ€§"><a href="#2-4-2-ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ-refså±æ€§" class="headerlink" title="2.4.2 ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ: refså±æ€§"></a>2.4.2 ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ: refså±æ€§</h3><p>1)     ç»„ä»¶å†…çš„æ ‡ç­¾éƒ½å¯ä»¥å®šä¹‰refå±æ€§æ¥æ ‡è¯†è‡ªå·±</p>
<p>a.     &lt;input type=â€textâ€ ref={input =&gt; this.msgInput = input}/&gt;</p>
<p>b.     å›è°ƒå‡½æ•°åœ¨ç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“å®Œæˆ–å¸è½½æ—¶è‡ªåŠ¨è°ƒç”¨</p>
<p>2)     åœ¨ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡this.msgInputæ¥å¾—åˆ°å¯¹åº”çš„çœŸå®DOMå…ƒç´ </p>
<p>3)     ä½œç”¨: é€šè¿‡refè·å–ç»„ä»¶å†…å®¹ç‰¹å®šæ ‡ç­¾å¯¹è±¡, è¿›è¡Œè¯»å–å…¶ç›¸å…³æ•°æ®</p>
<h3 id="2-4-3-äº‹ä»¶å¤„ç†"><a href="#2-4-3-äº‹ä»¶å¤„ç†" class="headerlink" title="2.4.3 äº‹ä»¶å¤„ç†"></a>2.4.3 äº‹ä»¶å¤„ç†</h3><p>1)     é€šè¿‡onXxxå±æ€§æŒ‡å®šç»„ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°(æ³¨æ„å¤§å°å†™)</p>
<p>a.     Reactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰(åˆæˆ)äº‹ä»¶, è€Œä¸æ˜¯ä½¿ç”¨çš„åŸç”ŸDOMäº‹ä»¶</p>
<p>b.     Reactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼å¤„ç†çš„(å§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ )</p>
<p>2)     é€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡</p>
<pre><code>handleFocus(event) {
 event.target // è¿”å›inputå¯¹è±¡
}</code></pre><h3 id="2-4-4-å¼ºçƒˆæ³¨æ„"><a href="#2-4-4-å¼ºçƒˆæ³¨æ„" class="headerlink" title="2.4.4 å¼ºçƒˆæ³¨æ„"></a>2.4.4 å¼ºçƒˆæ³¨æ„</h3><p>1)     ç»„ä»¶å†…ç½®çš„æ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å¯¹è±¡</p>
<p>2)     åœ¨ç»„ä»¶ç±»ä¸­è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­thisä¸ºnull</p>
<p>a.     å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()</p>
<p>b.     ç®­å¤´å‡½æ•°(ES6æ¨¡å—åŒ–ç¼–ç æ—¶æ‰èƒ½ä½¿ç”¨)</p>
<h3 id="2-4-5-ä»£ç "><a href="#2-4-5-ä»£ç " class="headerlink" title="2.4.5 ä»£ç "></a>2.4.5 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹:
    1. ç•Œé¢å¦‚æœé¡µé¢æ‰€ç¤º
    2. ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼
    3. å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼
 */
  // 1ã€å®šä¹‰ç»„ä»¶ // Reactä¸­å¿…é¡»è¦ç»“æŸæ ‡ç­¾
  class MyComponent extends React.Component{

    constructor(props){
      super(props)
      this.showInput = this.showInput.bind(this)
      this.handleBlur = this.handleBlur.bind(this)
    }

    showInput(){
      const input = this.refs.content
      // alert(input.value)
      alert(this.input.value)
    }

    handleBlur(event){
      alert(event.target.value)
    }

    render(){
      return(
        &lt;div&gt;
          &lt;input type=&quot;text&quot; ref=&quot;content&quot;/&gt;&amp;nbsp;&amp;nbsp;
          &lt;input type=&quot;text&quot; ref={input =&gt; this.input = input}/&gt;&amp;nbsp;&amp;nbsp;
          &lt;button onClick={this.showInput}&gt;æç¤ºè¾“å…¥&lt;/button&gt;&amp;nbsp;&amp;nbsp;
          &lt;input type=&quot;text&quot; placeholder=&quot;å¤±å»ç„¦ç‚¹æç¤ºå†…å®¹&quot; onBlur={this.handleBlur}/&gt;
        &lt;/div&gt;
      )
    }
  }

  // 2ã€æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  ReactDOM.render(&lt;MyComponent/&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h3 id="2-4-6-åŒºåˆ«"><a href="#2-4-6-åŒºåˆ«" class="headerlink" title="2.4.6 åŒºåˆ«"></a>2.4.6 åŒºåˆ«</h3><ol>
<li>state</li>
<li>props</li>
<li>refs</li>
</ol>
<h2 id="2-5-ç»„ä»¶çš„ç»„åˆ"><a href="#2-5-ç»„ä»¶çš„ç»„åˆ" class="headerlink" title="2.5 ç»„ä»¶çš„ç»„åˆ"></a>2.5 ç»„ä»¶çš„ç»„åˆ</h2><h3 id="2-5-1-æ•ˆæœ"><a href="#2-5-1-æ•ˆæœ" class="headerlink" title="2.5.1 æ•ˆæœ"></a>2.5.1 æ•ˆæœ</h3><pre><code>åŠŸèƒ½: ç»„ä»¶åŒ–å®ç°æ­¤åŠŸèƒ½
  1. æ˜¾ç¤ºæ‰€æœ‰todoåˆ—è¡¨
  2. è¾“å…¥æ–‡æœ¬, ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºåˆ°åˆ—è¡¨çš„é¦–ä½, å¹¶æ¸…é™¤è¾“å…¥çš„æ–‡æœ¬</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8.gif" alt="componentç»„åˆä½¿ç”¨" class="lazyload"></p>
<h3 id="2-5-2-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹-æ— æ¯”é‡è¦"><a href="#2-5-2-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹-æ— æ¯”é‡è¦" class="headerlink" title="2.5.2 åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹(æ— æ¯”é‡è¦)"></a>2.5.2 åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹(æ— æ¯”é‡è¦)</h3><p>1)     æ‹†åˆ†ç»„ä»¶: æ‹†åˆ†ç•Œé¢,æŠ½å–ç»„ä»¶</p>
<p>2)     å®ç°é™æ€ç»„ä»¶: ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ(åªæœ‰é™æ€ç•Œé¢ï¼Œæ²¡æœ‰åŠ¨æ€æ•°æ®å’Œäº¤äº’)</p>
<p>3)     å®ç°åŠ¨æ€ç»„ä»¶</p>
<ul>
<li><p>å®ç°åˆå§‹åŒ–æ•°æ®åŠ¨æ€æ˜¾ç¤º</p>
</li>
<li><p>å®ç°äº¤äº’åŠŸèƒ½(ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹)</p>
</li>
</ul>
<h3 id="2-5-3-ä»£ç "><a href="#2-5-3-ä»£ç " class="headerlink" title="2.5.3 ä»£ç "></a>2.5.3 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/prop-types.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  // é™æ€ç»„ä»¶â€”â€”&gt;åŠ¨æ€ç»„ä»¶
  /*
  * -åç§°ã€ç±»å‹ï¼štodosã€æ•°ç»„ï¼ŒAddéœ€è¦ã€Listéœ€è¦
  * -æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶å†…ï¼Ÿ
  *   æ”¾åˆ°App
  *   çœ‹æ•°æ®æ˜¯æŸä¸ªç»„ä»¶éœ€è¦(ç»™è¿™ä¸ª)ï¼Œè¿˜æ˜¯æŸäº›ç»„ä»¶éœ€è¦(ç»™å…±åŒçš„çˆ¶ç»„ä»¶)
  * -éœ€è¦åœ¨å­ç»„ä»¶ä¸­æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€
  *    å­ç»„ä»¶ä¸­ä¸èƒ½ç›´æ¥æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€
  *    çŠ¶æ€åœ¨å“ªä¸ªç»„ä»¶ï¼Œæ›´æ–°çŠ¶æ€çš„è¡Œä¸ºå°±åº”è¯¥å®šä¹‰åœ¨å“ªä¸ªç»„ä»¶ï¼Œç”±å­ç»„ä»¶æ¥è°ƒç”¨(é€šè¿‡ç»„ä»¶å±æ€§ä¼ é€’)
  *    çˆ¶ç»„ä»¶å®šä¹‰å‡½æ•°ï¼Œä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶è°ƒç”¨
  */
  class App extends React.Component{

    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        todos: [&#39;åƒé¥­&#39;, &#39;ç¡è§‰&#39;, &#39;æ•²ä»£ç &#39;, &#39;æ‰“æ¸¸æˆ&#39;]
      }

      this.addTodo = this.addTodo.bind(this)  // æ²¡å®šä¹‰åŠ ä¸Šbind
    }

    addTodo(todo){
      // this.state.todos.unshift(todo) // ä¸èƒ½è¿™æ ·åš
      const {todos} = this.state
      todos.unshift(todo)
      // æ›´æ–°çŠ¶æ€
      this.setState({todos})
    }

    render(){
      const {todos} = this.state
      return(
        &lt;div&gt;
          &lt;h1&gt;Simple TODO List&lt;/h1&gt;
          &lt;Add count={todos.length} addTodo={this.addTodo}/&gt;
          &lt;List todos={todos}/&gt;
        &lt;/div&gt;
      )
    //  &lt;List todos={this.state.todos}/&gt; å‰é¢èµ‹å€¼äº†
    }
  }

  class Add extends React.Component{
    constructor(props){
      super(props)
      this.add = this.add.bind(this)
    }
    add(){
      // 1ã€è¯»å–è¾“å…¥çš„æ•°æ®
      const todo = this.todoInput.value.trim()
      // 2ã€æ£€æŸ¥åˆæ³•æ€§
      if(!todo){
        return
      }
      // 3ã€æ·»åŠ 
      this.props.addTodo(todo)
      // 4ã€æ¸…é™¤è¾“å…¥
      this.todoInput.value = &#39;&#39;
    }
    render(){
      return(
        &lt;div&gt;
          &lt;input type=&quot;text&quot; ref={input =&gt; this.todoInput=input}/&gt;
          &lt;button onClick={this.add}&gt;add #{this.props.count+1}&lt;/button&gt;
        &lt;/div&gt;
      )
    }
  }
  Add.propTypes = {
    count: PropTypes.number.isRequired,
    addTodo: PropTypes.func.isRequired
  }

  class List extends React.Component{
    render(){
      return(
        &lt;ul&gt;
          {
            this.props.todos.map((todo, index) =&gt; &lt;li key={index}&gt;{todo}&lt;/li&gt;)
          }
        &lt;/ul&gt;
      )
      /*this.props.todos.map((todo, index) =&gt; {return &lt;li key={index}&gt;{todo}&lt;/li&gt;})*/
      /* åŠ äº†å¤§æ‹¬å·éœ€è¦åŠ return */
    }
  }

  List.protoTypes = {
    todos: PropTypes.array.isRequired
  }


  ReactDOM.render(&lt;App /&gt;,document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-6-æ”¶é›†è¡¨å•æ•°æ®"><a href="#2-6-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="2.6 æ”¶é›†è¡¨å•æ•°æ®"></a>2.6 æ”¶é›†è¡¨å•æ•°æ®</h2><h3 id="2-6-1-æ•ˆæœ"><a href="#2-6-1-æ•ˆæœ" class="headerlink" title="2.6.1 æ•ˆæœ"></a>2.6.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰åŒ…å«è¡¨å•çš„ç»„ä»¶
  1. è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»é™†æç¤ºè¾“å…¥ä¿¡æ¯
  3. ä¸æäº¤è¡¨å•</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E8%A1%A8%E5%8D%95.gif" alt="componentè¡¨å• (2)" class="lazyload"></p>
<h3 id="2-6-2-ç†è§£"><a href="#2-6-2-ç†è§£" class="headerlink" title="2.6.2 ç†è§£"></a>2.6.2 ç†è§£</h3><p>1)     é—®é¢˜: åœ¨reactåº”ç”¨ä¸­, å¦‚ä½•æ”¶é›†è¡¨å•è¾“å…¥æ•°æ®</p>
<p>2)     åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»</p>
<p>a.     å—æ§ç»„ä»¶: è¡¨å•é¡¹è¾“å…¥æ•°æ®èƒ½è‡ªåŠ¨æ”¶é›†æˆçŠ¶æ€</p>
<p>b.     éå—æ§ç»„ä»¶: éœ€è¦æ—¶æ‰æ‰‹åŠ¨è¯»å–è¡¨å•è¾“å…¥æ¡†ä¸­çš„æ•°æ®</p>
<h3 id="2-6-3-ä»£ç "><a href="#2-6-3-ä»£ç " class="headerlink" title="2.6.3 ä»£ç "></a>2.6.3 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰åŒ…å«è¡¨å•çš„ç»„ä»¶
    1. ç•Œé¢å¦‚ä¸‹æ‰€ç¤º
    2. è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»é™†æç¤ºè¾“å…¥ä¿¡æ¯
    3. ä¸æäº¤è¡¨å•
  */
  class LoginForm extends React.Component{
    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state  = {
        pwd: &#39;&#39;
      }
      this.handleSubmit = this.handleSubmit.bind(this)
      this.handleChange = this.handleChange.bind(this)
    }

    handleSubmit(event){
      const name = this.nameInput.value // éå—æ§ç»„ä»¶
      const {pwd} = this.state // å—æ§ç»„ä»¶
      alert(`å‡†å¤‡æäº¤çš„ç”¨æˆ·åä¸º${name}ï¼Œå¯†ç ä¸º${pwd}`)
      // é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º
      event.preventDefault()
    }
    // å½“äº‹ä»¶å’Œæ ‡ç­¾æ˜¯åŒä¸€ä¸ªæ—¶ï¼Œä½¿ç”¨eventæ›´æ–¹ä¾¿

    handleChange(event){
      // è¯»å–è¾“å…¥çš„å€¼
      const pwd = event.target.value
      // æ›´æ–°pwdçš„çŠ¶æ€
      this.setState({pwd})
    }

    render(){
      return(
        &lt;form action=&quot;/test&quot; onSubmit={this.handleSubmit}&gt;
          ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; ref={input =&gt; this.nameInput = input}/&gt;
          å¯†ç ï¼š&lt;input type=&quot;password&quot; value={this.state.pwd} onChange={this.handleChange}/&gt;
          &lt;input type=&quot;submit&quot; value=&quot;ç™»å½•&quot;/&gt;
        &lt;/form&gt;
      )
    }
    // åŸç”ŸjsonChangeäº‹ä»¶æ˜¯åœ¨å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼Œreactä¸­æ˜¯è¾“å…¥åˆ™è§¦å‘
  }

  ReactDOM.render(&lt;LoginForm /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-7-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#2-7-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.7 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>2.7 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="2-7-1-æ•ˆæœ"><a href="#2-7-1-æ•ˆæœ" class="headerlink" title="2.7.1 æ•ˆæœ"></a>2.7.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶
  1. è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º/éšè—çš„æ¸å˜åŠ¨ç”»
  2. åˆ‡æ¢æŒç»­æ—¶é—´ä¸º2S
  3. ç‚¹å‡»æŒ‰é’®ä»ç•Œé¢ä¸­ç§»é™¤ç»„ä»¶ç•Œé¢</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.gif" alt="componentç”Ÿå‘½å‘¨æœŸ" class="lazyload"></p>
<h3 id="2-7-2-ç†è§£"><a href="#2-7-2-ç†è§£" class="headerlink" title="2.7.2 ç†è§£"></a>2.7.2 ç†è§£</h3><p>1)     ç»„ä»¶å¯¹è±¡ä»åˆ›å»ºåˆ°æ­»äº¡å®ƒä¼šç»å†ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ</p>
<p>2)     Reactç»„ä»¶å¯¹è±¡åŒ…å«ä¸€ç³»åˆ—çš„å‹¾å­å‡½æ•°(ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°), åœ¨ç”Ÿå‘½å‘¨æœŸç‰¹å®šæ—¶åˆ»å›è°ƒ</p>
<p>3)     æˆ‘ä»¬åœ¨å®šä¹‰ç»„ä»¶æ—¶, å¯ä»¥é‡å†™ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°, åšç‰¹å®šçš„å·¥ä½œ</p>
<h3 id="2-7-3-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><a href="#2-7-3-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾" class="headerlink" title="2.7.3 ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"></a>2.7.3 ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/reactlife.png" alt="ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾" class="lazyload"></p>
<p>Mountï¼šæŒ‚è½½ï¼Œå°†è™šæ‹Ÿæ ‡ç­¾æ”¾åˆ°å®¹å™¨(é¡µé¢)ä¸­</p>
<p>render()æ¸²æŸ“</p>
<p>å·¦è¾¹åˆå§‹åŒ–è¿‡ç¨‹ï¼Œè¿™äº›æ–¹æ³•ç§°ä¸ºå£°æ˜å‘¨æœŸå›è°ƒå‡½æ•°ï¼Œæˆ–ç§°ä¸ºç”Ÿå‘½å‘¨æœŸçš„å‹¾å­ï¼Œè¿™äº›æ–¹æ³•åœ¨ç‰¹å®šçš„æ—¶åˆ»è°ƒç”¨</p>
<p>(å›è°ƒå‡½æ•°ï¼šä½ å®šä¹‰çš„ï¼Œä½ æ²¡æœ‰è°ƒç”¨ï¼Œä½†æ˜¯æœ€ç»ˆæ‰§è¡Œäº†ï¼›å£°æ˜å¼ç¼–ç¨‹,æµç¨‹è®¾å®šå¥½,ã€å‘½ä»¤å¼ç¼–ç¨‹jQuery,æ¯ä¸€æ­¥è‡ªå·±æ“ä½œ)</p>
<p>willå°†ã€didå®Œæˆ</p>
<h3 id="2-7-4-ç”Ÿå‘½å‘¨æœŸè¯¦è¿°"><a href="#2-7-4-ç”Ÿå‘½å‘¨æœŸè¯¦è¿°" class="headerlink" title="2.7.4 ç”Ÿå‘½å‘¨æœŸè¯¦è¿°"></a>2.7.4 ç”Ÿå‘½å‘¨æœŸè¯¦è¿°</h3><p>1)     ç»„ä»¶çš„ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸçŠ¶æ€:</p>
<ul>
<li><p>Mountï¼šæ’å…¥çœŸå® DOM</p>
</li>
<li><p>Updateï¼šè¢«é‡æ–°æ¸²æŸ“</p>
</li>
<li><p>Unmountï¼šè¢«ç§»å‡ºçœŸå® DOM</p>
</li>
</ul>
<p>2)     React ä¸ºæ¯ä¸ªçŠ¶æ€éƒ½æä¾›äº†å‹¾å­(hook)å‡½æ•°ï¼Œå¯é‡å†™</p>
<ul>
<li><p><code>componentWillMount()</code></p>
</li>
<li><p><code>componentDidMount()</code></p>
</li>
<li><p><code>componentWillUpdate()</code></p>
</li>
<li><p><code>componentDidUpdate()</code></p>
</li>
<li><p><code>componentWillUnmount()</code></p>
</li>
</ul>
<p>3)    ç”Ÿå‘½å‘¨æœŸæµç¨‹:</p>
<p>a.     ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ¸²æŸ“æ˜¾ç¤º: ReactDOM.render()</p>
<ul>
<li><p>constructor(): åˆ›å»ºå¯¹è±¡åˆå§‹åŒ–state</p>
</li>
<li><p>componentWillMount() : å°†è¦æ’å…¥å›è°ƒ</p>
</li>
<li><p>render() : ç”¨äºæ’å…¥è™šæ‹ŸDOMå›è°ƒ</p>
</li>
<li><p>componentDidMount() : å·²ç»æ’å…¥å›è°ƒ</p>
</li>
</ul>
<p>b.     æ¯æ¬¡æ›´æ–°state: this.setSate()</p>
<ul>
<li><p>componentWillUpdate() : å°†è¦æ›´æ–°å›è°ƒ</p>
</li>
<li><p>render() : æ›´æ–°(é‡æ–°æ¸²æŸ“)</p>
</li>
<li><p>componentDidUpdate() : å·²ç»æ›´æ–°å›è°ƒ</p>
</li>
</ul>
<p>c.     ç§»é™¤ç»„ä»¶: ReactDOM.unmountComponentAtNode(containerDom)</p>
<ul>
<li>componentWillUnmount() : ç»„ä»¶å°†è¦è¢«ç§»é™¤å›è°ƒ</li>
</ul>
<p>ä¸‰ä¸ªé˜¶æ®µï¼Œå¯ä»¥éƒ½æ‰“å°ä¸€ä¸‹ï¼Œçœ‹ä¸‹æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹(ä¸å†™çš„é¡ºåºæ— å…³)</p>
<h3 id="2-7-5-é‡è¦çš„å‹¾å­"><a href="#2-7-5-é‡è¦çš„å‹¾å­" class="headerlink" title="2.7.5 é‡è¦çš„å‹¾å­"></a>2.7.5 é‡è¦çš„å‹¾å­</h3><p>1)     render(): åˆå§‹åŒ–æ¸²æŸ“æˆ–æ›´æ–°æ¸²æŸ“è°ƒç”¨</p>
<p>2)     componentDidMount(): å¼€å¯ç›‘å¬, å‘é€ajaxè¯·æ±‚</p>
<p>3)     componentWillUnmount(): åšä¸€äº›æ”¶å°¾å·¥ä½œ, å¦‚: æ¸…ç†å®šæ—¶å™¨</p>
<p>4)     componentWillReceiveProps(): åé¢éœ€è¦æ—¶è®²</p>
<h3 id="2-7-6-ä»£ç "><a href="#2-7-6-ä»£ç " class="headerlink" title="2.7.6 ä»£ç "></a>2.7.6 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶
    1. è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º/éšè—çš„åŠ¨ç”»
    2. åˆ‡æ¢æ—¶é—´ä¸º2S
    3. ç‚¹å‡»æŒ‰é’®ä»ç•Œé¢ä¸­ç§»é™¤ç»„ä»¶ç•Œé¢
   */
  class Life extends React.Component{

    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        opacity: 1
      }

      this.distroyComponent = this.distroyComponent.bind(this)
    }

    distroyComponent(){
      ReactDOM.unmountComponentAtNode(document.getElementById(&#39;example&#39;))
    }

    // é‡å†™æ–¹æ³•
    componentDidMount(){
      // å¯åŠ¨å¾ªç¯å®šæ—¶å™¨
      this.intervalId = setInterval(function () { // ä¸¤ä¸ªå‡½æ•°éœ€è¦åŒä¸€ä¸ªå˜é‡ï¼Œæ”¾åˆ°ä¸Šä¸€å±‚å…±åŒç»„ä»¶ä¸Š
        console.log(&#39;å®šæ—¶å™¨æ‰§è¡Œâ€¦â€¦&#39;)
        let {opacity} = this.state
        opacity -= 0.1
        if(opacity&lt;=0){
          opacity = 1
        }
        // æ›´æ–°çŠ¶æ€
        this.setState({opacity})
      }.bind(this), 200) // componentDidMountçš„this
    }
    componentWillUnmount(){
      // æ¸…ç†å®šæ—¶å™¨
      clearInterval(this.intervalId)
    }

    render(){ // ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¼šé‡æ–°è°ƒç”¨;æ°¸è¿œå†™åœ¨å…¶ä»–ä¸‹æ–¹ï¼Œæ„é€ å™¨åœ¨æœ€ä¸Šæ–¹
      const {opacity} = this.state
      return(
        &lt;div&gt;
          &lt;h2 style={{opacity: opacity}}&gt;{this.props.msg}&lt;/h2&gt;
          &lt;button onClick={this.distroyComponent}&gt;ä¸æ´»äº†&lt;/button&gt;
        &lt;/div&gt;
      )
    }// styleä¸­ä¸¤ä¸ªå¤§æ‹¬å·ï¼Œå¤–é¢çš„ä»£è¡¨å†™çš„æ˜¯jsä»£ç ï¼Œé‡Œé¢çš„æ˜¯å¯¹è±¡ï¼ˆæ ·å¼åï¼šå€¼ï¼Œä¹Ÿå¯ä»¥å†™ES6ï¼‰
  }

  ReactDOM.render(&lt;Life msg=&quot;reactå¤ªéš¾äº†&quot;/&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-8-è™šæ‹ŸDOMä¸DOM-Diffç®—æ³•"><a href="#2-8-è™šæ‹ŸDOMä¸DOM-Diffç®—æ³•" class="headerlink" title="2.8 è™šæ‹ŸDOMä¸DOM Diffç®—æ³•"></a>2.8 è™šæ‹ŸDOMä¸DOM Diffç®—æ³•</h2><p>è™šæ‹ŸDOMï¼šå‡å°‘æ“ä½œçœŸå®DOMçš„æ¬¡æ•°ï¼Œæ›´æ–°ç•Œé¢æ¬¡æ•°å˜å°‘</p>
<p>DOM Diffç®—æ³•ï¼šè®¡ç®—å“ªé‡Œéœ€è¦æ›´æ–°ï¼Œå“ªé‡Œä¸éœ€è¦æ›´æ–°ï¼Œå‡å°‘æ›´æ–°ç•Œé¢çš„åŒºåŸŸ</p>
<p>å…±åŒæé«˜æ›´æ–°ç•Œé¢çš„æ•ˆç‡</p>
<h3 id="2-8-1-æ•ˆæœ"><a href="#2-8-1-æ•ˆæœ" class="headerlink" title="2.8.1 æ•ˆæœ"></a>2.8.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/vDOM.gif" alt="componentè™šæ‹ŸDOM" class="lazyload"></p>
<pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;
&lt;br&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éªŒè¯:
  è™šæ‹ŸDOM+DOM Diffç®—æ³•: æœ€å°åŒ–é¡µé¢é‡ç»˜
  */

  class HelloWorld extends React.Component {
    constructor(props) {
      super(props)
      this.state = {
          date: new Date()
      }
    }

    componentDidMount () {
      setInterval(() =&gt; {
        this.setState({
            date: new Date()
        })
      }, 1000)
    }

    render () {
      console.log(&#39;render()&#39;)
      return (
        &lt;p&gt;
          Hello, &lt;input type=&quot;text&quot; placeholder=&quot;Your name here&quot;/&gt;!&amp;nbsp;
          &lt;span&gt;It is {this.state.date.toTimeString()}&lt;/span&gt;
        &lt;/p&gt;
      )
    }
  }

  ReactDOM.render(
    &lt;HelloWorld/&gt;,
    document.getElementById(&#39;example&#39;)
  )
&lt;/script&gt;</code></pre>
<p> åªæœ‰æ—¶é—´æ›´æ–°ï¼Œå…¶ä»–ä¸æ›´æ–°</p>
<h3 id="2-8-2-åŸºæœ¬åŸç†å›¾"><a href="#2-8-2-åŸºæœ¬åŸç†å›¾" class="headerlink" title="2.8.2 åŸºæœ¬åŸç†å›¾"></a>2.8.2 åŸºæœ¬åŸç†å›¾</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-5.png" alt="åŸºæœ¬åŸç†" class="lazyload"></p>
<ul>
<li><p>åˆå§‹åŒ–ï¼šè™šæ‹ŸDOMæ ‘(div&gt;p&gt;spanâ€¦â€¦)ï¼Œæ›´æ–°è™šæ‹ŸDOMç•Œé¢ä¸ä¼šå˜â€”â€”&gt;æ›´æ–°çœŸå®DOMç•Œé¢æ‰ä¼šå˜åŒ–(æ›´æ–°çŠ¶æ€)</p>
</li>
<li><p>æ›´æ–°(å…³é”®)ï¼šè°ƒç”¨setState()æ›´æ–°çŠ¶æ€(ä¼šè¿›è¡Œå¯¹æ¯”)â€”â€”&gt;æ ¹æ®å·®å¼‚æ›´æ–°çœŸå®DOMã€é‡ç»˜é¡µé¢å˜åŒ–çš„åŒºåŸŸ</p>
</li>
</ul>
<h1 id="ç¬¬3ç« -reactåº”ç”¨-åŸºäºreactè„šæ‰‹æ¶"><a href="#ç¬¬3ç« -reactåº”ç”¨-åŸºäºreactè„šæ‰‹æ¶" class="headerlink" title="ç¬¬3ç«  reactåº”ç”¨(åŸºäºreactè„šæ‰‹æ¶)"></a>ç¬¬3ç«  reactåº”ç”¨(åŸºäºreactè„šæ‰‹æ¶)</h1><h2 id="3-1-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#3-1-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="3.1 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>3.1 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h2><h3 id="3-1-1-reactè„šæ‰‹æ¶"><a href="#3-1-1-reactè„šæ‰‹æ¶" class="headerlink" title="3.1.1 reactè„šæ‰‹æ¶"></a>3.1.1 reactè„šæ‰‹æ¶</h3><p>1)     xxxè„šæ‰‹æ¶: ç”¨æ¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸºäºxxxåº“çš„æ¨¡æ¿é¡¹ç›®</p>
<ul>
<li><p>åŒ…å«äº†æ‰€æœ‰éœ€è¦çš„é…ç½®</p>
</li>
<li><p>æŒ‡å®šå¥½äº†æ‰€æœ‰çš„ä¾èµ–</p>
</li>
<li><p>å¯ä»¥ç›´æ¥å®‰è£…/ç¼–è¯‘/è¿è¡Œä¸€ä¸ªç®€å•æ•ˆæœ</p>
</li>
</ul>
<p>2)     reactæä¾›äº†ä¸€ä¸ªç”¨äºåˆ›å»ºreacté¡¹ç›®çš„è„šæ‰‹æ¶åº“: create-react-app</p>
<p>3)     é¡¹ç›®çš„æ•´ä½“æŠ€æœ¯æ¶æ„ä¸º: react + webpack + es6 + eslint</p>
<p>4)     ä½¿ç”¨è„šæ‰‹æ¶å¼€å‘çš„é¡¹ç›®çš„ç‰¹ç‚¹: æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–ã€å·¥ç¨‹åŒ–</p>
<h3 id="3-1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"><a href="#3-1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨" class="headerlink" title="3.1.2 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"></a>3.1.2 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨</h3><p><code>npm install -g create-react-app</code> å…¨å±€ä¸‹è½½</p>
<p><code>create-react-app hello-react</code></p>
<p><code>cd hello-react</code></p>
<p><code>npm start</code></p>
<p>æµè§ˆå™¨è®¿é—®<a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a></p>
<p>æ³¨ï¼š</p>
<p><code>npm root -g</code> æŸ¥çœ‹å…¨å±€ä¸‹è½½ç›®å½•<br>C:\Users\Shinelon\AppData\Roaming\npm\node_modules</p>
<h3 id="3-1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#3-1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="3.1.3 reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>3.1.3 reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h3><pre><code>ReactNews

 |--node_modules---ç¬¬ä¸‰æ–¹ä¾èµ–æ¨¡å—æ–‡ä»¶å¤¹

 |--public

   |-- index.html-----------------ä¸»é¡µé¢

 |--scripts

   |-- build.js-------------------buildæ‰“åŒ…å¼•ç”¨é…ç½®

   |-- start.js-------------------startè¿è¡Œå¼•ç”¨é…ç½®

 |--src------------æºç æ–‡ä»¶å¤¹

   |--components-----------------reactç»„ä»¶

      |-- app.jsx

   |--index.css

   |--index.js-------------------åº”ç”¨å…¥å£js(main.js)

 |--.gitignore------gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®

 |--package.json----åº”ç”¨åŒ…é…ç½®æ–‡ä»¶ 

 |--README.md-------åº”ç”¨æè¿°è¯´æ˜çš„readmeæ–‡ä»¶</code></pre><p> <code>package.json</code></p>
<ul>
<li><code>&quot;dependencies&quot;</code>ï¼šè¿è¡Œæ—¶ä¾èµ–</li>
<li><code>&quot;devDependencies&quot;</code>ï¼šå¼€å‘æ—¶ä¾èµ–ï¼Œç¼–è¯‘æ‰“åŒ…æ—¶éœ€è¦ï¼Œå¼€å‘æ—¶ä¸éœ€è¦ï¼Œç¼–è¯‘æ‰“åŒ…æ—¶å·¥å…·åŒ…</li>
</ul>
<p><code>public/index.html</code>ä¸»ç•Œé¢</p>
<ul>
<li>åªæœ‰ä¸€ä¸ª<code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code>ï¼Œä¾é ç»„ä»¶</li>
</ul>
<p><code>src/index.js</code>åº”ç”¨å…¥å£</p>
<ul>
<li>å¼•å…¥åŒ…(<code>import * from &quot;*&quot;</code>)ã€CSS(<code>import &quot;*.css&quot;</code>)</li>
<li>æ¸²æŸ“ç»„ä»¶</li>
</ul>
<p><code>README.md</code>å¯¹é¡¹ç›®çš„è¯´æ˜æ–‡ä»¶</p>
<p>SPA(Single Page Application)ï¼šå•åº”ç”¨</p>
<ul>
<li>index.html</li>
</ul>
<pre><code class="html">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code></pre>
<ul>
<li><code>src/components/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import logo from &#39;../logo.svg&#39;

export default class App extends Component {
  render() {
    return(
      &lt;div&gt;
        &lt;img className=&#39;logo&#39; src={logo} alt=&quot;logo&quot;/&gt;
        &lt;p className=&quot;title&quot;&gt;reactç»„ä»¶&lt;/p&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import App from &#39;./components/app&#39;

import &#39;./index.css&#39;

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/index.css</code></li>
</ul>
<pre><code class="css">.logo{
  width: 200px;
  height: 200px;
}
.title{
  color: red;
  font-size: 25px;
}</code></pre>
<p><code>cd react_app</code><br><code>npm start</code>æˆ–<code>npm run start</code></p>
<h2 id="3-2-demo-è¯„è®ºç®¡ç†"><a href="#3-2-demo-è¯„è®ºç®¡ç†" class="headerlink" title="3.2 demo: è¯„è®ºç®¡ç†"></a>3.2 demo: è¯„è®ºç®¡ç†</h2><h3 id="3-2-1-æ•ˆæœ"><a href="#3-2-1-æ•ˆæœ" class="headerlink" title="3.2.1 æ•ˆæœ"></a>3.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/demo_comment.gif" alt="demo_comment" class="lazyload"></p>
<h3 id="3-2-2-æ‹†åˆ†ç»„ä»¶"><a href="#3-2-2-æ‹†åˆ†ç»„ä»¶" class="headerlink" title="3.2.2 æ‹†åˆ†ç»„ä»¶"></a>3.2.2 æ‹†åˆ†ç»„ä»¶</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200708170522553.png" alt="image-20200708170522553" class="lazyload"></p>
<p>åº”ç”¨ç»„ä»¶: App</p>
<ul>
<li>state: comments/array</li>
</ul>
<p>æ·»åŠ è¯„è®ºç»„ä»¶: CommentAdd</p>
<ul>
<li><p>state: username/string, content/string</p>
</li>
<li><p>props: add/func</p>
</li>
</ul>
<p>è¯„è®ºåˆ—è¡¨ç»„ä»¶: CommentList</p>
<ul>
<li>props: comment/object, delete/func, index/number</li>
</ul>
<p>è¯„è®ºé¡¹ç»„ä»¶: CommentItem</p>
<ul>
<li>props: comments/array, delete/func</li>
</ul>
<h3 id="3-2-3-å®ç°é™æ€ç»„ä»¶"><a href="#3-2-3-å®ç°é™æ€ç»„ä»¶" class="headerlink" title="3.2.3 å®ç°é™æ€ç»„ä»¶"></a>3.2.3 å®ç°é™æ€ç»„ä»¶</h3><p>render(){return}ä¸­çš„å†…å®¹</p>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import App from &#39;./components/app/app&#39;

ReactDOM.render(&lt;App/&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/components/app/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import CommentAdd from &#39;../comment-add/comment-add&#39;
import CommentList from &#39;../comment-list/comment-list&#39;

export default class App extends React.Component {

  constructor (props) {
    super(props)

    this.state = {
      comments: []
    }

    this.delete = this.delete.bind(this)
  }

  componentDidMount () {
    //æ¨¡æ‹Ÿå¼‚æ­¥è·å–æ•°æ®
    setTimeout(() =&gt; {
      const comments = [
        {
          username: &quot;Tom&quot;,
          content: &quot;ReactJSå¥½éš¾å•Š!&quot;,
          id: Date.now()
        },
        {
          username: &quot;JACK&quot;,
          content: &quot;ReactJSè¿˜ä¸é”™!&quot;,
          id: Date.now() + 1
        }
      ]
      this.setState({
        comments
      })
    }, 1000)
  }

  add = (comment) =&gt; {
    let comments = this.state.comments
    comments.unshift(comment)
    this.setState({ comments })
  }

  delete (index) {
    let comments = this.state.comments
    comments.splice(index, 1)
    this.setState({ comments })
  }

  render () {
    return (
      &lt;div&gt;
        &lt;header className=&quot;site-header jumbotron&quot;&gt;
          &lt;div className=&quot;container&quot;&gt;
            &lt;div className=&quot;row&quot;&gt;
              &lt;div className=&quot;col-xs-12&quot;&gt;
                &lt;h1&gt;è¯·å‘è¡¨å¯¹Reactçš„è¯„è®º&lt;/h1&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/header&gt;
        &lt;div className=&quot;container&quot;&gt;
          &lt;CommentAdd add={this.add}/&gt;
          &lt;CommentList comments={this.state.comments} delete={this.delete}/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

// export default App å¯ä»¥å†™åˆ°ä¸Šé¢</code></pre>
<ul>
<li><code>src/components/comment-add/comment-add.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

class CommentAdd extends React.Component {
  constructor (props) {
    super(props)
    this.state = {
      username: &#39;&#39;,
      content: &#39;&#39;
    }
    this.addComment = this.addComment.bind(this)
    this.changeUsername = this.changeUsername.bind(this)
    this.changeContent = this.changeContent.bind(this)
  }

  addComment () {
    // æ ¹æ®è¾“å…¥çš„æ•°æ®åˆ›å»ºè¯„è®ºå¯¹è±¡
    let { username, content } = this.state
    let comment = { username, content }
    // æ·»åŠ åˆ°commentsä¸­, æ›´æ–°state
    this.props.add(comment)
    // æ¸…é™¤è¾“å…¥çš„æ•°æ®
    this.setState({
      username: &#39;&#39;,
      content: &#39;&#39;
    })
  }

  changeUsername (event) {
    this.setState({
      username: event.target.value
    })
  }

  changeContent (event) {
    this.setState({
      content: event.target.value
    })
  }

  render () {
    return (
      &lt;div className=&quot;col-md-4&quot;&gt;
        &lt;form className=&quot;form-horizontal&quot;&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label&gt;ç”¨æˆ·å&lt;/label&gt;
            &lt;input type=&quot;text&quot; className=&quot;form-control&quot; placeholder=&quot;ç”¨æˆ·å&quot;
                   value={this.state.username} onChange={this.changeUsername}/&gt;
          &lt;/div&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label&gt;è¯„è®ºå†…å®¹&lt;/label&gt;
            &lt;textarea className=&quot;form-control&quot; rows=&quot;6&quot; placeholder=&quot;è¯„è®ºå†…å®¹&quot;
                      value={this.state.content} onChange={this.changeContent}&gt;&lt;/textarea&gt;
          &lt;/div&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;div className=&quot;col-sm-offset-2 col-sm-10&quot;&gt;
              &lt;button type=&quot;button&quot; className=&quot;btn btn-default pull-right&quot; onClick={this.addComment}&gt;æäº¤&lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/form&gt;
      &lt;/div&gt;
    )
  }
}
CommentAdd.propTypes = {
  add: PropTypes.func.isRequired
}

export default CommentAdd</code></pre>
<ul>
<li><code>src/components/comment-list/comment-list.css</code></li>
</ul>
<pre><code class="css">.reply {
  margin-top: 0px;
}</code></pre>
<ul>
<li><code>src/components/comment-list/comment-list.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import CommentItem from &#39;../comment-item/comment-item&#39;
import &#39;./commentList.css&#39;
class CommentList extends React.Component {
  constructor (props) {
    super(props)
  }
  render () {
    let comments = this.props.comments
    let display = comments.length &gt; 0 ? &#39;none&#39; : &#39;block&#39;</code></pre>
<p>ä¸‹é¢h2ä¸­ç”±äºç”¨äº†åŒå¤§æ‹¬å·ï¼Œä¸€ç›´æŠ¥é”™ï¼Œå› æ­¤è¯·ç›´æ¥åˆ°githubçœ‹æºç </p>
<pre><code class="jsx">    return (
      &lt;div className=&quot;col-md-8&quot;&gt;
        &lt;h3 className=&quot;reply&quot;&gt;è¯„è®ºå›å¤ï¼š&lt;/h3&gt;
        &lt;h2 style=åŒå¤§æ‹¬å· display: display åŒå¤§æ‹¬å·&gt;æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®º&lt;/h2&gt;
        &lt;ul className=&quot;list-group&quot;&gt;
          {
            comments.map((comment, index) =&gt; {
              console.log(comment)
              return &lt;CommentItem comment={comment} key={index} index={index} delete={this.props.delete}/&gt;
            })
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
    }
}
CommentList.propTypes = {
  comments: PropTypes.array.isRequired,
  delete: PropTypes.func.isRequired
}
export default CommentList</code></pre>
<ul>
<li><code>src/components/comment-item/comment-item.css</code></li>
</ul>
<pre><code class="css">li {
  transition: .5s;
  overflow: hidden;
}

.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}

.handle a {
  display: block;
  text-decoration: none;
}

.list-group-item .centence {
  padding: 0px 50px;
}

.user {
  font-size: 22px;
}</code></pre>
<ul>
<li><code>src/components/comment-item/comment-item.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import &#39;./commentItem.css&#39;

class CommentItem extends React.Component {
  constructor (props) {
    super(props)
    this.deleteComment = this.deleteComment.bind(this)
  }

  deleteComment () {
    let username = this.props.comment.username
    if (window.confirm(`ç¡®å®šåˆ é™¤${username}çš„è¯„è®ºå—?`)) {
      this.props.delete(this.props.index)
    }
  }

  render () {
    let comment = this.props.comment
    return (
      &lt;li className=&quot;list-group-item&quot;&gt;
        &lt;div className=&quot;handle&quot;&gt;
          &lt;a href=&quot;javascript:&quot; onClick={this.deleteComment}&gt;åˆ é™¤&lt;/a&gt;
        &lt;/div&gt;
        &lt;p className=&quot;user&quot;&gt;&lt;span &gt;{comment.username}&lt;/span&gt;&lt;span&gt;è¯´:&lt;/span&gt;&lt;/p&gt;
        &lt;p className=&quot;centence&quot;&gt;{comment.content}&lt;/p&gt;
      &lt;/li&gt;
    )
  }
}
CommentItem.propTypes = {
  comment: PropTypes.object.isRequired,
  index: PropTypes.number.isRequired,
  delete: PropTypes.func.isRequired
}

export default CommentItem</code></pre>
<h3 id="3-2-4-å®ç°åŠ¨æ€ç»„ä»¶"><a href="#3-2-4-å®ç°åŠ¨æ€ç»„ä»¶" class="headerlink" title="3.2.4 å®ç°åŠ¨æ€ç»„ä»¶"></a>3.2.4 å®ç°åŠ¨æ€ç»„ä»¶</h3><p>åŠ¨æ€å±•ç¤ºåˆå§‹åŒ–æ•°æ®</p>
<ul>
<li><p>åˆå§‹åŒ–çŠ¶æ€æ•°æ®</p>
</li>
<li><p>ä¼ é€’å±æ€§æ•°æ®</p>
</li>
</ul>
<p>å“åº”ç”¨æˆ·æ“ä½œ, æ›´æ–°ç»„ä»¶ç•Œé¢</p>
<ul>
<li><p>ç»‘å®šäº‹ä»¶ç›‘å¬, å¹¶å¤„ç†</p>
</li>
<li><p>æ›´æ–°state</p>
</li>
</ul>
<h1 id="ç¬¬4ç« -react-ajax"><a href="#ç¬¬4ç« -react-ajax" class="headerlink" title="ç¬¬4ç«  react ajax"></a>ç¬¬4ç«  react ajax</h1><h2 id="4-1-ç†è§£"><a href="#4-1-ç†è§£" class="headerlink" title="4.1 ç†è§£"></a>4.1 ç†è§£</h2><h3 id="4-1-1-å‰ç½®è¯´æ˜"><a href="#4-1-1-å‰ç½®è¯´æ˜" class="headerlink" title="4.1.1 å‰ç½®è¯´æ˜"></a>4.1.1 å‰ç½®è¯´æ˜</h3><p>1)     Reactæœ¬èº«åªå…³æ³¨äºç•Œé¢, å¹¶ä¸åŒ…å«å‘é€ajaxè¯·æ±‚çš„ä»£ç </p>
<p>2)     å‰ç«¯åº”ç”¨éœ€è¦é€šè¿‡ajaxè¯·æ±‚ä¸åå°è¿›è¡Œäº¤äº’(jsonæ•°æ®)</p>
<p>3)     reactåº”ç”¨ä¸­éœ€è¦é›†æˆç¬¬ä¸‰æ–¹ajaxåº“(æˆ–è‡ªå·±å°è£…)</p>
<h3 id="4-1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"><a href="#4-1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“" class="headerlink" title="4.1.2 å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"></a>4.1.2 å¸¸ç”¨çš„ajaxè¯·æ±‚åº“</h3><p>1)     jQuery: æ¯”è¾ƒé‡, å¦‚æœéœ€è¦å¦å¤–å¼•å…¥ä¸å»ºè®®ä½¿ç”¨</p>
<p>2)     <strong>axios</strong>: è½»é‡çº§, å»ºè®®ä½¿ç”¨</p>
<p>â€‹    a.     å°è£…XmlHttpRequestå¯¹è±¡çš„ajax</p>
<p>â€‹    b.     promiseé£æ ¼</p>
<p>â€‹    c.     å¯ä»¥ç”¨åœ¨æµè§ˆå™¨ç«¯å’ŒnodeæœåŠ¡å™¨ç«¯</p>
<p>3)     fetch: åŸç”Ÿå‡½æ•°, ä½†è€ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒ</p>
<p>â€‹    a.     ä¸å†ä½¿ç”¨XmlHttpRequestå¯¹è±¡æäº¤ajaxè¯·æ±‚</p>
<p>â€‹    b.     ä¸ºäº†å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨, å¯ä»¥å¼•å…¥å…¼å®¹åº“fetch.js</p>
<h3 id="4-1-3-æ•ˆæœ"><a href="#4-1-3-æ•ˆæœ" class="headerlink" title="4.1.3 æ•ˆæœ"></a>4.1.3 æ•ˆæœ</h3><pre><code>éœ€æ±‚:
  1. ç•Œé¢æ•ˆæœå¦‚ä¸‹
  2. æ ¹æ®æŒ‡å®šçš„å…³é”®å­—åœ¨githubä¸Šæœç´¢åŒ¹é…çš„æœ€å—å…³æ³¨çš„åº“
  3. æ˜¾ç¤ºåº“å, ç‚¹å‡»é“¾æ¥æŸ¥çœ‹åº“
4. æµ‹è¯•æ¥å£: https://api.github.com/search/repositories?q=r&amp;sort=stars
</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/ajax.gif" alt="ajax" class="lazyload"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;11_ajax&lt;/title&gt;
  &lt;style&gt;
    h2{
      text-align: center;
      margin-top: 200px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚:
    1. ç•Œé¢æ•ˆæœå¦‚ä¸‹
    2. æ ¹æ®æŒ‡å®šçš„å…³é”®å­—åœ¨githubä¸Šæœç´¢åŒ¹é…çš„æœ€å—å…³æ³¨çš„åº“
    3. æ˜¾ç¤ºåº“å, ç‚¹å‡»é“¾æ¥æŸ¥çœ‹åº“
    4. æµ‹è¯•æ¥å£: https://api.github.com/search/repositories?q=r&amp;sort=stars
  */
  class MostStarRepo extends React.Component{
    state = {
      repoName: &#39;&#39;,
      repoUrl: &#39;&#39;
    }

    componentDidMount(){
      // ä½¿ç”¨axioså‘é€å¼‚æ­¥çš„ajaxè¯·æ±‚
      const url = `https://api.github.com/search/repositories?q=re&amp;sort=stars`
      axios.get(url)
          .then(response =&gt; {
            const result = response.data
            // console.log(response)
            // å¾—åˆ°æ•°æ®
            const {name, html_url} = result.items[0]
            // æ›´æ–°çŠ¶æ€
            this.setState({repoName:name, repoUrl: html_url})
          })
          .catch((error) =&gt; {
            alert(error.message)
          })
      // ä½¿ç”¨fetchå‘é€å¼‚æ­¥çš„ajaxè¯·æ±‚
      /*fetch(url)
          .then(response =&gt; {
            return response.json()
          })
          .then(data =&gt; {
            // å¾—åˆ°æ•°æ®
            const {name, html_url} = data.items[0]
            // æ›´æ–°çŠ¶æ€
            this.setState({repoName:name, repoUrl: html_url})
          })
      */
    }

    render(){
      const {repoName, repoUrl} = this.state
      if(!repoName){
        return(
          &lt;h2&gt;LOADING...&lt;/h2&gt;
        )
      }else{
        return(
          &lt;h2&gt;Most star repo is &lt;a href={repoUrl}&gt;{repoName}&lt;/a&gt;&lt;/h2&gt;
        )
      }

    }
  }
  ReactDOM.render(&lt;MostStarRepo /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="4-2-axios"><a href="#4-2-axios" class="headerlink" title="4.2 axios"></a>4.2 axios</h2><h3 id="4-2-1-æ–‡æ¡£"><a href="#4-2-1-æ–‡æ¡£" class="headerlink" title="4.2.1 æ–‡æ¡£"></a>4.2.1 æ–‡æ¡£</h3><p><a href="https://github.com/axios/axios" target="_blank" rel="noopener">https://github.com/axios/axios</a></p>
<h3 id="4-2-2-ç›¸å…³API"><a href="#4-2-2-ç›¸å…³API" class="headerlink" title="4.2.2 ç›¸å…³API"></a>4.2.2 ç›¸å…³API</h3><p>1)     GETè¯·æ±‚</p>
<pre><code class="javascript">axios.get(&#39;/user?ID=12345&#39;)
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });

axios.get(&#39;/user&#39;, {
    params: {
      ID: 12345
    }
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
</code></pre>
<p>2)     POSTè¯·æ±‚</p>
<pre><code class="javascript">axios.post(&#39;/user&#39;, {
    firstName: &#39;Fred&#39;,
axios.post(&#39;/user&#39;, {
    firstName: &#39;Fred&#39;,
    lastName: &#39;Flintstone&#39;
})
.then(function (response) {
  console.log(response);
})
.catch(function (error) {
  console.log(error);
});
</code></pre>
<h2 id="4-3-Fetch"><a href="#4-3-Fetch" class="headerlink" title="4.3 Fetch"></a>4.3 Fetch</h2><h3 id="4-3-1-æ–‡æ¡£"><a href="#4-3-1-æ–‡æ¡£" class="headerlink" title="4.3.1 æ–‡æ¡£"></a>4.3.1 æ–‡æ¡£</h3><p>1)     <a href="https://github.github.io/fetch/" target="_blank" rel="noopener">https://github.github.io/fetch/</a></p>
<p>2)     <a href="https://segmentfault.com/a/1190000003810652" target="_blank" rel="noopener">https://segmentfault.com/a/1190000003810652</a></p>
<h3 id="4-3-2-ç›¸å…³API"><a href="#4-3-2-ç›¸å…³API" class="headerlink" title="4.3.2 ç›¸å…³API"></a>4.3.2 ç›¸å…³API</h3><p>1)     GETè¯·æ±‚</p>
<pre><code class="javascript">fetch(url).then(function(response) {
  return response.json()
}).then(function(data) {
  console.log(data)
}).catch(function(e) {
  console.log(e)
});
</code></pre>
<p>2)     POSTè¯·æ±‚</p>
<pre><code class="javascript">fetch(url, {
  method: &quot;POST&quot;,
  body: JSON.stringify(data),
}).then(function(data) {
  console.log(data)
}).catch(function(e) {
  console.log(e)
})</code></pre>
<h2 id="4-4-demo-github-users"><a href="#4-4-demo-github-users" class="headerlink" title="4.4 demo: github users"></a>4.4 demo: github users</h2><h3 id="4-4-1-æ•ˆæœ"><a href="#4-4-1-æ•ˆæœ" class="headerlink" title="4.4.1 æ•ˆæœ"></a>4.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/demo_users.gif" alt="demo_users" class="lazyload"></p>
<h3 id="4-4-2-æ‹†åˆ†ç»„ä»¶"><a href="#4-4-2-æ‹†åˆ†ç»„ä»¶" class="headerlink" title="4.4.2 æ‹†åˆ†ç»„ä»¶"></a>4.4.2 æ‹†åˆ†ç»„ä»¶</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200711091558440.png" alt="image-20200711091558440" class="lazyload"></p>
<p>App</p>
<p>â€‹       * state: searchName/string</p>
<p>  Search</p>
<p>â€‹      * props: setSearchName/func</p>
<p>  List</p>
<p>â€‹      * props: searchName/string</p>
<p>â€‹      * state: firstView/bool, loading/bool, users/array, errMsg/string</p>
<h3 id="4-4-3-ç¼–å†™é™æ€ç»„ä»¶"><a href="#4-4-3-ç¼–å†™é™æ€ç»„ä»¶" class="headerlink" title="4.4.3 ç¼–å†™é™æ€ç»„ä»¶"></a>4.4.3 ç¼–å†™é™æ€ç»„ä»¶</h3><h3 id="4-4-4-ç¼–å†™åŠ¨æ€ç»„ä»¶"><a href="#4-4-4-ç¼–å†™åŠ¨æ€ç»„ä»¶" class="headerlink" title="4.4.4 ç¼–å†™åŠ¨æ€ç»„ä»¶"></a>4.4.4 ç¼–å†™åŠ¨æ€ç»„ä»¶</h3><p>componentWillReceiveProps(nextProps): ç›‘è§†æ¥æ”¶åˆ°æ–°çš„props, å‘é€ajax</p>
<p>â€‹     ä½¿ç”¨axiosåº“å‘é€ajaxè¯·æ±‚</p>
<ul>
<li><code>public/index.html</code></li>
</ul>
<pre><code class="html">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import { render } from &#39;react-dom&#39;

import App from &#39;./components/app&#39;
import &#39;./index.css&#39;

render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/index.css</code></li>
</ul>
<pre><code class="css">.album {
  min-height: 50rem; /* Can be removed; just added for demo purposes */
  padding-top: 3rem;
  padding-bottom: 3rem;
  background-color: #f7f7f7;
}

.card {
  float: left;
  width: 33.333%;
  padding: .75rem;
  margin-bottom: 2rem;
  border: 1px solid #efefef;
  text-align: center;
}

.card &gt; img {
  margin-bottom: .75rem;
  border-radius: 100px;
}

.card-text {
  font-size: 85%;
}
</code></pre>
<ul>
<li><code>src/componets/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import Search from &#39;./search&#39;
import UserList from &#39;./user-list&#39;

export default class App extends React.Component {

  state = {
    searchName: &#39;&#39;
  }

  refreshName = (searchName) =&gt; this.setState({searchName})

  render() {
    return (
      &lt;div className=&quot;container&quot;&gt;
        &lt;section className=&quot;jumbotron&quot;&gt;
          &lt;h3 className=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;
          &lt;Search refreshName={this.refreshName}/&gt;
        &lt;/section&gt;
        &lt;UserList searchName={this.state.searchName}/&gt;
      &lt;/div&gt;
    )
  }

}
</code></pre>
<ul>
<li><code>src/componets/search.jsx</code></li>
</ul>
<pre><code class="jsx">/**
 * ä¸Šéƒ¨çš„æœç´¢æ¨¡å—
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

class Search extends Component {

  static propTypes = {
    refreshName: PropTypes.func.isRequired
  }

  search = () =&gt; {
    var name = this.nameInput.value
    this.props.refreshName(name)
  }

  render() {
    return (
      &lt;div&gt;
        &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot;
               ref={(input =&gt; this.nameInput = input)}/&gt;
        &lt;button onClick={this.search}&gt;Search&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

export default Search</code></pre>
<ul>
<li><code>src/componets/user-list.jsx</code></li>
</ul>
<pre><code class="jsx">/**
 * ä¸‹éƒ¨çš„ç”¨æˆ·åˆ—è¡¨æ¨¡å—
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import axios from &#39;axios&#39;
// npm install axios --save 

class UserList extends React.Component {

  static propTypes = {
    searchName: PropTypes.string.isRequired
  }

  state = {
    firstView: true,
    loading: false,
    users: null,
    error: null
  }

  async componentWillReceiveProps(nextProps)  {
    let searchName = nextProps.searchName
    console.log(&#39;å‘é€ajaxè¯·æ±‚&#39;, searchName)
    const url = `https://api.github.com/search/users?q=${searchName}`
    this.setState({ firstView: false, loading: true })

    // ä½¿ç”¨axiosåº“
    axios.get(url)
      .then((response) =&gt; {
        console.log(response)
        this.setState({ loading: false, users: response.data.items })
      })
      .catch((error)=&gt;{
        // debugger
        console.log(&#39;error&#39;, error.response.data.message, error.message)
        this.setState({ loading: false, error: error.message })
      })

    try {
      const result = await axios.get(url)
      this.setState({ loading: false, users: result.data.items })
    } catch(err) {
      // debugger
      console.log(&#39;----&#39;, err.message)
    }
  }

  render () {

    if (this.state.firstView) {
      return &lt;h2&gt;Enter name to search&lt;/h2&gt;
    } else if (this.state.loading) {
      return &lt;h2&gt;Loading result...&lt;/h2&gt;
    } else if (this.state.error) {
      return &lt;h2&gt;{this.state.error}&lt;/h2&gt;
    } else {
      return (
        &lt;div className=&quot;row&quot;&gt;
          {
            this.state.users.map((user) =&gt; (
              &lt;div className=&quot;card&quot; key={user.html_url}&gt;
                &lt;a href={user.html_url} target=&quot;_blank&quot;&gt;
                  &lt;img src={user.avatar_url} style={{width: '100px'}} alt=&#39;user&#39;/&gt;
                &lt;/a&gt;
                &lt;p className=&quot;card-text&quot;&gt;{user.login}&lt;/p&gt;
              &lt;/div&gt;
            ))
          }
        &lt;/div&gt;
      )
    }
  }
}

export default UserList</code></pre>
<h1 id="ç¬¬5ç« -å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“"><a href="#ç¬¬5ç« -å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“" class="headerlink" title="ç¬¬5ç«  å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“"></a>ç¬¬5ç«  å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“</h1><h2 id="5-1-ç»„ä»¶é—´é€šä¿¡"><a href="#5-1-ç»„ä»¶é—´é€šä¿¡" class="headerlink" title="5.1 ç»„ä»¶é—´é€šä¿¡"></a>5.1 ç»„ä»¶é—´é€šä¿¡</h2><h3 id="5-1-1-æ–¹å¼ä¸€-é€šè¿‡propsä¼ é€’"><a href="#5-1-1-æ–¹å¼ä¸€-é€šè¿‡propsä¼ é€’" class="headerlink" title="5.1.1 æ–¹å¼ä¸€: é€šè¿‡propsä¼ é€’"></a>5.1.1 æ–¹å¼ä¸€: é€šè¿‡propsä¼ é€’</h3><p>1)     å…±åŒçš„æ•°æ®æ”¾åœ¨çˆ¶ç»„ä»¶ä¸Š, ç‰¹æœ‰çš„æ•°æ®æ”¾åœ¨è‡ªå·±ç»„ä»¶å†…éƒ¨(state)</p>
<p>2)     é€šè¿‡propså¯ä»¥ä¼ é€’ä¸€èˆ¬æ•°æ®å’Œå‡½æ•°æ•°æ®, åªèƒ½ä¸€å±‚ä¸€å±‚ä¼ é€’</p>
<p>3)     ä¸€èˆ¬æ•°æ®â€“&gt;çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶â€“&gt;å­ç»„ä»¶è¯»å–æ•°æ®</p>
<p>4)     å‡½æ•°æ•°æ®â€“&gt;å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶â€“&gt;å­ç»„ä»¶è°ƒç”¨å‡½æ•°</p>
<p>çˆ¶ç»„ä»¶ä¼ åˆ°å­™ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ä¹‹é—´ä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œç»è¿‡å­ç»„ä»¶ã€æœåŠ¡å™¨ä¼ é€’</p>
<h3 id="5-1-2-æ–¹å¼äºŒ-ä½¿ç”¨æ¶ˆæ¯è®¢é˜…-subscribe-å‘å¸ƒ-publish-æœºåˆ¶"><a href="#5-1-2-æ–¹å¼äºŒ-ä½¿ç”¨æ¶ˆæ¯è®¢é˜…-subscribe-å‘å¸ƒ-publish-æœºåˆ¶" class="headerlink" title="5.1.2 æ–¹å¼äºŒ: ä½¿ç”¨æ¶ˆæ¯è®¢é˜…(subscribe)-å‘å¸ƒ(publish)æœºåˆ¶"></a>5.1.2 æ–¹å¼äºŒ: ä½¿ç”¨æ¶ˆæ¯è®¢é˜…(subscribe)-å‘å¸ƒ(publish)æœºåˆ¶</h3><p>1)     å·¥å…·åº“: PubSubJS</p>
<p>2)     ä¸‹è½½: <code>npm install pubsub-js --save</code></p>
<p>3)     ä½¿ç”¨: </p>
<pre><code class="javascript">import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
PubSub.publish(&#39;delete&#39;, data) //å‘å¸ƒæ¶ˆæ¯
// æ¶ˆæ¯åï¼Œæ¶ˆæ¯
PubSub.subscribe(&#39;delete&#39;, function(msg, data){ }); //è®¢é˜…
// æ¶ˆæ¯åï¼Œå›è°ƒå‡½æ•°</code></pre>
<p>ä»¥ä¸Šä¸€ä¸ªdemoä¸ºä¾‹(ç”¨æˆ·æœç´¢çš„)ï¼Œsearchå’Œuserlist(main)ä¹‹é—´éœ€è¦é€šä¿¡ï¼Œå®ƒä»¬æ˜¯å…„å¼Ÿç»„ä»¶</p>
<p>åœ¨è¿™é‡Œæ˜¯é€šè¿‡çˆ¶ç»„ä»¶ï¼Œåˆ©ç”¨propsè¿›è¡Œé€šä¿¡</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714161016458.png" alt="props-search" class="lazyload"></p>
<p>è¿™æ˜¯ä»¥å‰çš„app.ejs</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714161302225.png" alt="app.ejs" class="lazyload"></p>
<p>ç°åœ¨ä¸é€šè¿‡çˆ¶ç»„ä»¶æ¥é€šä¿¡</p>
<p><code>src/components/app.ejs</code></p>
<pre><code class="ejs">import React from &#39;react&#39;
import Search from &#39;./search&#39;
import UserList from &#39;./user-list&#39;

export default class App extends React.Component {

  render() {
    return (
      &lt;div className=&quot;container&quot;&gt;
        &lt;section className=&quot;jumbotron&quot;&gt;
          &lt;h3 className=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;
          &lt;Search/&gt;
        &lt;/section&gt;
        &lt;UserList/&gt;
      &lt;/div&gt;
    )
  }

}</code></pre>
<p><code>src/components/search.ejs</code></p>
<pre><code class="ejs">/**
 * ä¸Šéƒ¨çš„æœç´¢æ¨¡å—
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
class Search extends Component {
  search = () =&gt; {
    var searchName = this.nameInput.value
    if(searchName){
      // æœç´¢
      // å‘å¸ƒæ¶ˆæ¯ search
PubSub.publish(&#39;search&#39;, searchName)
    }
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot;
               ref={(input =&gt; this.nameInput = input)}/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Search&quot; onClick={this.search} /&gt;
      &lt;/div&gt;
    )
  }
}
export default Search</code></pre>
<p><code>src/components/user-list.ejs</code></p>
<pre><code class="ejs">/**
 * ä¸‹éƒ¨çš„ç”¨æˆ·åˆ—è¡¨æ¨¡å—
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import axios from &#39;axios&#39;
import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
class UserList extends React.Component {
  static propTypes = {
    searchName: PropTypes.string.isRequired
  }
  state = {
    firstView: true,
    loading: false,
    users: null,
    error: null
  }
  componentDidMount(){
    // è®¢é˜…æ¶ˆæ¯ search
   PubSub.subscribe(&#39;search&#39;, (msg, searchName) =&gt; { // æŒ‡å®šäº†æ–°çš„nameï¼Œéœ€è¦è¯·æ±‚    
      this.setState({ firstView: false, loading: true })
      // ä½¿ç”¨axiosåº“
      const url = `https://api.github.com/search/users?q=${searchName}`
      axios.get(url)
        .then((response) =&gt; {
    console.log(response)
          this.setState({ loading: false, users: response.data.items })
        })
        .catch((error)=&gt;{
          // debugger       console.log(&#39;error&#39;, error.response.data.message, error.message)
          this.setState({ loading: false, error: error.message })
        })
      try {
        const result = axios.get(url)
        this.setState({ loading: false, users: result.data.items })
      } catch(err) {
        // debugger
        console.log(&#39;----&#39;, err.message)
      }
    })
  }
  render () {
    if (this.state.firstView) {
      return &lt;h2&gt;Enter name to search&lt;/h2&gt;
    } else if (this.state.loading) {
      return &lt;h2&gt;Loading result...&lt;/h2&gt;
    } else if (this.state.error) {
      return &lt;h2&gt;{this.state.error}&lt;/h2&gt;
    } else {
      return (
        &lt;div className=&quot;row&quot;&gt;
          {         this.state.users.map((user) =&gt; (
              &lt;div className=&quot;card&quot; key={user.html_url}&gt;
                &lt;a href={user.html_url} target=&quot;_blank&quot;&gt;
                  &lt;img src={user.avatar_url} style={{width: '100px'}} alt=&#39;user&#39;/&gt;
                &lt;/a&gt;
                &lt;p className=&quot;card-text&quot;&gt;{user.login}&lt;/p&gt;
              &lt;/div&gt;
            ))
          }
        &lt;/div&gt;
      )
    }
  }
}
export default UserList</code></pre>
<p>å†ä»¥ä¹‹å‰çš„è¯„è®ºçš„ä¸ºä¾‹</p>
<p>App.ejsä¸­æœ‰ä¸ªåˆ é™¤è¯„è®ºçš„å‡½æ•°ï¼Œä¼ ç»™äº†Listç»„ä»¶(å¹¶æ²¡æœ‰ç”¨åˆ°)ï¼Œæ¥ç€ä¼ ç»™Item</p>
<pre><code class="jsx">delete={this.delete}</code></pre>
<h3 id="5-1-3-æ–¹å¼ä¸‰-redux"><a href="#5-1-3-æ–¹å¼ä¸‰-redux" class="headerlink" title="5.1.3 æ–¹å¼ä¸‰: redux"></a>5.1.3 æ–¹å¼ä¸‰: redux</h3><p>åé¢ä¸“é—¨è®²è§£</p>
<h2 id="5-2-äº‹ä»¶ç›‘å¬ç†è§£"><a href="#5-2-äº‹ä»¶ç›‘å¬ç†è§£" class="headerlink" title="5.2 äº‹ä»¶ç›‘å¬ç†è§£"></a>5.2 äº‹ä»¶ç›‘å¬ç†è§£</h2><h3 id="5-2-1-åŸç”ŸDOMäº‹ä»¶"><a href="#5-2-1-åŸç”ŸDOMäº‹ä»¶" class="headerlink" title="5.2.1 åŸç”ŸDOMäº‹ä»¶"></a>5.2.1 åŸç”ŸDOMäº‹ä»¶</h3><p>1)     ç»‘å®šäº‹ä»¶ç›‘å¬</p>
<p>a.     äº‹ä»¶å(ç±»å‹): åªæœ‰æœ‰é™çš„å‡ ä¸ª, ä¸èƒ½éšä¾¿å†™</p>
<p>b.     å›è°ƒå‡½æ•°</p>
<p>2)         è§¦å‘äº‹ä»¶</p>
<p>a.     ç”¨æˆ·æ“ä½œç•Œé¢</p>
<p>b.     äº‹ä»¶å(ç±»å‹)</p>
<p>c.     æ•°æ®</p>
<h3 id="5-2-2-è‡ªå®šä¹‰äº‹ä»¶-æ¶ˆæ¯æœºåˆ¶"><a href="#5-2-2-è‡ªå®šä¹‰äº‹ä»¶-æ¶ˆæ¯æœºåˆ¶" class="headerlink" title="5.2.2 è‡ªå®šä¹‰äº‹ä»¶(æ¶ˆæ¯æœºåˆ¶)"></a>5.2.2 è‡ªå®šä¹‰äº‹ä»¶(æ¶ˆæ¯æœºåˆ¶)</h3><p>1)     ç»‘å®šäº‹ä»¶ç›‘å¬</p>
<p>a.     äº‹ä»¶å(ç±»å‹): ä»»æ„</p>
<p>b.     å›è°ƒå‡½æ•°: é€šè¿‡å½¢å‚æ¥æ”¶æ•°æ®, åœ¨å‡½æ•°ä½“å¤„ç†äº‹ä»¶</p>
<p>2)     è§¦å‘äº‹ä»¶(ç¼–ç )</p>
<p>a.     äº‹ä»¶å(ç±»å‹): ä¸ç»‘å®šçš„äº‹ä»¶ç›‘å¬çš„äº‹ä»¶åä¸€è‡´</p>
<p>b.     æ•°æ®: ä¼šè‡ªåŠ¨ä¼ é€’ç»™å›è°ƒå‡½æ•°</p>
<h2 id="5-3-ES6å¸¸ç”¨æ–°è¯­æ³•"><a href="#5-3-ES6å¸¸ç”¨æ–°è¯­æ³•" class="headerlink" title="5.3 ES6å¸¸ç”¨æ–°è¯­æ³•"></a>5.3 ES6å¸¸ç”¨æ–°è¯­æ³•</h2><p>1)     å®šä¹‰å¸¸é‡/å˜é‡: <code>const/let</code></p>
<p>2)     è§£æ„èµ‹å€¼:<code>let {a, b} = this.props</code>  <code>import {aa} from &#39;xxx&#39;</code></p>
<p>3)     å¯¹è±¡çš„ç®€æ´è¡¨è¾¾: <code>{a, b}</code></p>
<p>4)     ç®­å¤´å‡½æ•°: </p>
<p>a.     å¸¸ç”¨åœºæ™¯</p>
<ul>
<li><p>ç»„ä»¶çš„è‡ªå®šä¹‰æ–¹æ³•: <code>xxx = () =&gt; {}</code></p>
</li>
<li><p>å‚æ•°åŒ¿åå‡½æ•°</p>
</li>
</ul>
<p>b.     ä¼˜ç‚¹:</p>
<p>â€‹          * ç®€æ´</p>
<p>â€‹          * æ²¡æœ‰è‡ªå·±çš„this,ä½¿ç”¨å¼•ç”¨thisæŸ¥æ‰¾çš„æ˜¯å¤–éƒ¨this</p>
<p>5)     æ‰©å±•(ä¸‰ç‚¹)è¿ç®—ç¬¦: æ‹†è§£å¯¹è±¡<code>(const MyProps = {}, &lt;Xxx {...MyProps}&gt;)</code></p>
<p>6)     ç±»: <code>class/extends/constructor/super</code></p>
<p>7)     ES6æ¨¡å—åŒ–: <code>export default | import</code></p>
<h1 id="ç¬¬6ç« -react-router4"><a href="#ç¬¬6ç« -react-router4" class="headerlink" title="ç¬¬6ç«  react-router4"></a>ç¬¬6ç«  react-router4</h1><h2 id="6-1-ç›¸å…³ç†è§£"><a href="#6-1-ç›¸å…³ç†è§£" class="headerlink" title="6.1 ç›¸å…³ç†è§£"></a>6.1 ç›¸å…³ç†è§£</h2><h3 id="6-1-1-react-routerçš„ç†è§£"><a href="#6-1-1-react-routerçš„ç†è§£" class="headerlink" title="6.1.1 react-routerçš„ç†è§£"></a>6.1.1 react-routerçš„ç†è§£</h3><p>1)     reactçš„ä¸€ä¸ªæ’ä»¶åº“(ä¾èµ–/åŸºäºReact)</p>
<p>2)     ä¸“é—¨ç”¨æ¥å®ç°ä¸€ä¸ªSPAåº”ç”¨</p>
<p>3)     åŸºäºreactçš„é¡¹ç›®åŸºæœ¬éƒ½ä¼šç”¨åˆ°æ­¤åº“</p>
<h3 id="6-1-2-SPAçš„ç†è§£"><a href="#6-1-2-SPAçš„ç†è§£" class="headerlink" title="6.1.2 SPAçš„ç†è§£"></a>6.1.2 SPAçš„ç†è§£</h3><p>1)     å•é¡µWebåº”ç”¨ï¼ˆsingle page web applicationï¼ŒSPAï¼‰</p>
<p>2)     æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢</p>
<p>3)     ç‚¹å‡»é¡µé¢ä¸­çš„é“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢, æœ¬èº«ä¹Ÿä¸ä¼šå‘æœåŠ¡å™¨å‘è¯·æ±‚</p>
<p>4)     å½“ç‚¹å‡»è·¯ç”±é“¾æ¥æ—¶, åªä¼šåšé¡µé¢çš„<strong>å±€éƒ¨æ›´æ–°</strong></p>
<p>5)     æ•°æ®éƒ½éœ€è¦é€šè¿‡<strong>ajaxè¯·æ±‚</strong>è·å–, å¹¶åœ¨å‰ç«¯<strong>å¼‚æ­¥å±•ç°</strong></p>
<h3 id="6-1-3-è·¯ç”±çš„ç†è§£"><a href="#6-1-3-è·¯ç”±çš„ç†è§£" class="headerlink" title="6.1.3 è·¯ç”±çš„ç†è§£"></a>6.1.3 è·¯ç”±çš„ç†è§£</h3><p>1)     ä»€ä¹ˆæ˜¯è·¯ç”±?</p>
<p>a.     ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ä¸ª<strong>æ˜ å°„å…³ç³»(key:value)</strong></p>
<p>b.     keyä¸º<strong>è·¯ç”±è·¯å¾„(path)</strong>, valueå¯èƒ½æ˜¯function(åå°è·¯ç”±)/<strong>component(å‰å°è·¯ç”±)</strong></p>
<p>2)     è·¯ç”±åˆ†ç±»</p>
<p>a.     åå°è·¯ç”±: nodeæœåŠ¡å™¨ç«¯è·¯ç”±, valueæ˜¯function, ç”¨æ¥å¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚å¹¶è¿”å›ä¸€ä¸ªå“åº”æ•°æ®</p>
<p>b.     å‰å°è·¯ç”±: æµè§ˆå™¨ç«¯è·¯ç”±, valueæ˜¯component, å½“è¯·æ±‚çš„æ˜¯è·¯ç”±pathæ—¶, æµè§ˆå™¨ç«¯å‰æ²¡æœ‰å‘é€httpè¯·æ±‚, ä½†ç•Œé¢ä¼šæ›´æ–°æ˜¾ç¤ºå¯¹åº”çš„ç»„ä»¶ </p>
<p>3)     åå°è·¯ç”±</p>
<p>a.     æ³¨å†Œè·¯ç”±: <code>router.get(path, function(req, res))</code></p>
<p>b.     å½“nodeæ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶, æ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±, è°ƒç”¨è·¯ç”±ä¸­çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚, è¿”å›å“åº”æ•°æ®</p>
<p>4)         å‰ç«¯è·¯ç”±</p>
<p>a.     æ³¨å†Œè·¯ç”±: <code>&lt;Route path=&quot;/about&quot; component={About}&gt;</code></p>
<p>b.     å½“æµè§ˆå™¨çš„<strong>hash</strong>å˜ä¸º<code>#about</code>æ—¶, å½“å‰è·¯ç”±ç»„ä»¶å°±ä¼šå˜ä¸ºAboutç»„ä»¶</p>
<h3 id="6-1-4-å‰ç«¯è·¯ç”±çš„å®ç°"><a href="#6-1-4-å‰ç«¯è·¯ç”±çš„å®ç°" class="headerlink" title="6.1.4 å‰ç«¯è·¯ç”±çš„å®ç°"></a>6.1.4 å‰ç«¯è·¯ç”±çš„å®ç°</h3><p>(åº•å±‚å®ç°)</p>
<p>1)     historyåº“</p>
<p>a.     ç½‘å€: <a href="https://github.com/ReactTraining/history" target="_blank" rel="noopener">https://github.com/ReactTraining/history</a></p>
<p>b.     ç®¡ç†æµè§ˆå™¨ä¼šè¯å†å²(history)çš„å·¥å…·åº“</p>
<p>c.     åŒ…è£…çš„æ˜¯åŸç”ŸBOMä¸­<code>window.history</code>å’Œ<code>window.location.hash</code></p>
<p>2)     history API</p>
<p>a.     <code>History.createBrowserHistory()</code>: å¾—åˆ°å°è£…window.historyçš„ç®¡ç†å¯¹è±¡</p>
<p>b.     <code>History.createHashHistory()</code>: å¾—åˆ°å°è£…window.location.hashçš„ç®¡ç†å¯¹è±¡</p>
<p>c.     <code>history.push()</code>: æ·»åŠ ä¸€ä¸ªæ–°çš„å†å²è®°å½•</p>
<p>d.     <code>history.replace()</code>: ç”¨ä¸€ä¸ªæ–°çš„å†å²è®°å½•æ›¿æ¢å½“å‰çš„è®°å½•</p>
<p>e.     <code>history.goBack()</code>: å›é€€åˆ°ä¸Šä¸€ä¸ªå†å²è®°å½•</p>
<p>f.     <code>history.goForword()</code>: å‰è¿›åˆ°ä¸‹ä¸€ä¸ªå†å²è®°å½•</p>
<p>g.     <code>history.listen(function(location){})</code>: ç›‘è§†å†å²è®°å½•çš„å˜åŒ–</p>
<p>3)     æµ‹è¯•</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/history-%E6%96%B9%E5%BC%8F1.gif" alt="history-æ–¹å¼1" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/history-%E6%96%B9%E5%BC%8F2.gif" alt="history-æ–¹å¼2" class="lazyload"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;history test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;p&gt;&lt;input type=&quot;text&quot;&gt;&lt;/p&gt;
  &lt;a href=&quot;/test1&quot; onclick=&quot;return push(&#39;/test1&#39;)&quot;&gt;test1&lt;/a&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;push(&#39;/test2&#39;)&quot;&gt;push test2&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;back()&quot;&gt;å›é€€&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;forword()&quot;&gt;å‰è¿›&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;replace(&#39;/test3&#39;)&quot;&gt;replace test3&lt;/button&gt;&lt;br&gt;&lt;br&gt;

  &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.bootcss.com/history/4.7.2/history.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    let history = History.createBrowserHistory() // æ–¹å¼ä¸€
    history = History.createHashHistory() // æ–¹å¼äºŒ
    // console.log(history)

    function push (to) {
      history.push(to)
      return false
    } // å¯ä»¥è¿”å›

    function back() {
      history.goBack()
    }

    function forword() {
      history.goForward()
    }

    function replace (to) {
      history.replace(to)
    } // ä¸èƒ½è¿”å›

    history.listen((location) =&gt; {
      console.log(&#39;è¯·æ±‚è·¯ç”±è·¯å¾„å˜åŒ–äº†&#39;, location)
    })
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="6-2-react-routerç›¸å…³API"><a href="#6-2-react-routerç›¸å…³API" class="headerlink" title="6.2 react-routerç›¸å…³API"></a>6.2 react-routerç›¸å…³API</h2><p><a href="https://reactrouter.com/" target="_blank" rel="noopener">react_router</a></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714181151269.png" alt="react-router" class="lazyload"></p>
<p><a href="https://reactrouter.com/web/guides/quick-start" target="_blank" rel="noopener">web</a></p>
<h3 id="6-2-1-ç»„ä»¶"><a href="#6-2-1-ç»„ä»¶" class="headerlink" title="6.2.1 ç»„ä»¶"></a>6.2.1 ç»„ä»¶</h3><p>1)     <code>&lt;BrowserRouter&gt;</code>ï¼šBrowserRouteræ˜¯reactè·¯ç”±çš„å®¹å™¨</p>
<p>2)     <code>&lt;HashRouter&gt;</code>ï¼šè¿™ä¸ªæ˜¯ç”¨æ¥å…¼å®¹è€æµè§ˆå™¨çš„</p>
<p>3)     <code>&lt;Route&gt;</code>ï¼šRouteçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ¸²æŸ“è·¯ç”±åŒ¹é…çš„ç»„ä»¶ã€‚è·¯ç”±æ¸²æŸ“æœ‰ä¸‰ç§æ–¹å¼ï¼Œæ¯ä¸€ç§æ–¹å¼éƒ½å¯ä»¥ä¼ é€’match,location,historyå¯¹è±¡</p>
<p>4)     <code>&lt;Redirect&gt;</code>ï¼šè·¯ç”±é‡å®šå‘</p>
<p>5)     <code>&lt;Link&gt;</code>ï¼šLinkçš„ä½œç”¨å’Œaæ ‡ç­¾ç±»ä¼¼</p>
<p>6)     <code>&lt;NavLink&gt;</code>ï¼šNavLinkå’ŒLinkä¸€æ ·æœ€ç»ˆéƒ½æ˜¯æ¸²æŸ“æˆaæ ‡ç­¾ï¼ŒNavLinkå¯ä»¥ç»™è¿™ä¸ªaæ ‡ç­¾æ·»åŠ é¢å¤–çš„å±æ€§</p>
<p>7)     <code>&lt;Switch&gt;</code>ï¼šSwitchç»„ä»¶å†…éƒ¨å¯ä»¥æ˜¯Routeæˆ–è€…Redirectï¼Œåªä¼šæ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </p>
<h3 id="6-2-2-å…¶å®ƒ"><a href="#6-2-2-å…¶å®ƒ" class="headerlink" title="6.2.2 å…¶å®ƒ"></a>6.2.2 å…¶å®ƒ</h3><p>1)     <strong><code>history</code>å¯¹è±¡</strong>ï¼šè¿™é‡Œçš„historyå¯¹è±¡æ˜¯ä½¿ç”¨historyæ’ä»¶ç”Ÿæˆçš„ï¼Œ<a href="http://www.cnblogs.com/ye-hcj/p/7741742.htmlå·²ç»è¯¦ç»†è®²è¿‡äº†" target="_blank" rel="noopener">http://www.cnblogs.com/ye-hcj/p/7741742.htmlå·²ç»è¯¦ç»†è®²è¿‡äº†</a><br>è®°ä½ä¸€ç‚¹ï¼Œå†ä½¿ç”¨locationåšå¯¹æ¯”çš„ä½¿ç”¨ï¼Œé€šè¿‡historyè®¿é—®çš„locationæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæœ€å¥½é€šè¿‡Routeè®¿é—®location</p>
<p>2)     <code>match</code>å¯¹è±¡ï¼šmatchå¯¹è±¡è¡¨ç¤ºå½“å‰çš„è·¯ç”±åœ°å€æ˜¯æ€ä¹ˆè·³è½¬è¿‡æ¥çš„</p>
<p>3)     <code>withRouter</code>å‡½æ•°ï¼šå½“ä¸€ä¸ªéè·¯ç”±ç»„ä»¶ä¹Ÿæƒ³è®¿é—®åˆ°å½“å‰è·¯ç”±çš„match,location,historyå¯¹è±¡ï¼Œé‚£ä¹ˆwithRouterå°†æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©</p>
<h2 id="6-3-åŸºæœ¬è·¯ç”±ä½¿ç”¨"><a href="#6-3-åŸºæœ¬è·¯ç”±ä½¿ç”¨" class="headerlink" title="6.3 åŸºæœ¬è·¯ç”±ä½¿ç”¨"></a>6.3 åŸºæœ¬è·¯ç”±ä½¿ç”¨</h2><h3 id="6-3-1-æ•ˆæœ"><a href="#6-3-1-æ•ˆæœ" class="headerlink" title="6.3.1 æ•ˆæœ"></a>6.3.1 æ•ˆæœ</h3><p>![react-router demo1 (3)](<a href="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router</a> demo1 (3).gif)</p>
<p>å¹¶æ²¡æœ‰åˆ·æ–°é¡µé¢</p>
<h3 id="6-3-2-å‡†å¤‡"><a href="#6-3-2-å‡†å¤‡" class="headerlink" title="6.3.2 å‡†å¤‡"></a>6.3.2 å‡†å¤‡</h3><p>1)     ä¸‹è½½react-router: <code>npm install --save react-router@4</code></p>
<p>æˆ‘ä»¬åªéœ€è¦webç‰ˆæœ¬ï¼š<code>npm install --save react-router-dom</code></p>
<p>2)     ç”±äºä½¿ç”¨åˆ°äº†BootStrapï¼Œå› æ­¤åœ¨index.htmlä¸­å¼•å…¥bootstrap.css: <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;</code></p>
<p><code>public/index.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React-router&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ä¸€èˆ¬ä¼šå°†è·¯ç”±ç»„ä»¶å’Œéè·¯ç”±ç»„ä»¶åˆ†å¼€å†™</p>
<p>pages/viewså­˜æ”¾è·¯ç”±ç»„ä»¶</p>
<p>componentså­˜æ”¾å…¶ä»–ç»„ä»¶</p>
<h3 id="6-3-3-è·¯ç”±ç»„ä»¶-views-about-jsx"><a href="#6-3-3-è·¯ç”±ç»„ä»¶-views-about-jsx" class="headerlink" title="6.3.3 è·¯ç”±ç»„ä»¶: views/about.jsx"></a>6.3.3 è·¯ç”±ç»„ä»¶: <code>views/about.jsx</code></h3><pre><code class="jsx">import React,{Component} from &#39;react&#39;
export default class About extends Component{
  render(){
    return(
        &lt;div&gt;Aboutç»„ä»¶å†…å®¹&lt;/div&gt;
      )
  }
}</code></pre>
<h3 id="6-3-4-è·¯ç”±ç»„ä»¶-views-home-jsx"><a href="#6-3-4-è·¯ç”±ç»„ä»¶-views-home-jsx" class="headerlink" title="6.3.4 è·¯ç”±ç»„ä»¶: views/home.jsx"></a>6.3.4 è·¯ç”±ç»„ä»¶: <code>views/home.jsx</code></h3><pre><code class="jsx">import React, {Component} from &#39;react&#39;

export default class Home extends Component{
  render(){
    return (
        &lt;div&gt;Homeç»„ä»¶å†…å®¹&lt;/div&gt;
      )
  }
}</code></pre>
<h3 id="6-3-5-åŒ…è£…NavLinkç»„ä»¶-components-my-nav-link-jsx"><a href="#6-3-5-åŒ…è£…NavLinkç»„ä»¶-components-my-nav-link-jsx" class="headerlink" title="6.3.5 åŒ…è£…NavLinkç»„ä»¶: components/my-nav-link.jsx"></a>6.3.5 åŒ…è£…NavLinkç»„ä»¶: <code>components/my-nav-link.jsx</code></h3><p>ç”±äºæ¯ä¸ªNavLinkéƒ½éœ€è¦è‡ªå®šä¹‰activeæ ·å¼(åŠ å…¥å±æ€§activeClassName)ï¼Œå› æ­¤æå‡ºæ¥</p>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {NavLink} from &#39;react-router-dom&#39;

export default class MyNavLink extends Component {
  render(){
    // åˆ©ç”¨this.propsä¸‰ç‚¹è¿ç®—ç¬¦æ¥å—æ‰€æœ‰çš„å±æ€§
    return(
      &lt;NavLink {...this.props} activeClassName=&#39;activeClass&#39;/&gt;
    )
  }
}</code></pre>
<h3 id="6-3-6-åº”ç”¨ç»„ä»¶-components-app-jsx"><a href="#6-3-6-åº”ç”¨ç»„ä»¶-components-app-jsx" class="headerlink" title="6.3.6 åº”ç”¨ç»„ä»¶: components/app.jsx"></a>6.3.6 åº”ç”¨ç»„ä»¶: <code>components/app.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {NavLink, Route, Switch, Redirect} from &#39;react-router-dom&#39;
import MyNavLink from &#39;./my-nav-link&#39;
import About from &#39;../views/about&#39;
import Home from &#39;../views/home&#39;

export default class App extends React.Component {

  render() {
    return (
      &lt;div&gt;
        &lt;div className=&quot;row&quot;&gt;
          &lt;div className=&quot;col-xs-offset-2 col-xs-8&quot;&gt;
            &lt;div className=&quot;page-header&quot;&gt;
              &lt;h2&gt;React Router Demo&lt;/h2&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className=&quot;row&quot;&gt;
          &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;
            &lt;div className=&quot;list-group&quot;&gt;
              {/*å¯¼èˆªè·¯ç”±é“¾æ¥ï¼Œä¸èƒ½ä½¿ç”¨aæ ‡ç­¾ï¼ŒtoæŒ‡å‘çš„path*/}
              &lt;MyNavLink className=&quot;list-group-item&quot; to=&#39;/about&#39;&gt;About&lt;/MyNavLink&gt;
              &lt;MyNavLink className=&quot;list-group-item&quot; to=&#39;/home&#39;&gt;Home&lt;/MyNavLink&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div className=&quot;col-xs-6&quot;&gt;
            &lt;div className=&quot;panel&quot;&gt;
              &lt;div className=&quot;panel-body&quot;&gt;
                {/*å¯åˆ‡æ¢çš„è·¯ç”±ç»„ä»¶ï¼Œä½¿ç”¨switchåªæœ‰åŒ¹é…æ‰æ˜¾ç¤ºï¼Œrouteçš„pathå¯¹åº”ä¸Šæ–¹çš„toã€componentå¯¹åº”è·¯ç”±ç»„ä»¶ï¼ŒRedirectè‡ªåŠ¨é‡å®šå‘åˆ°aboutã€é»˜è®¤åˆ°aboutç»„ä»¶*/}
                &lt;Switch&gt;
                  &lt;Route path=&#39;/about&#39; component={About}/&gt;
                  &lt;Route path=&#39;/home&#39; component={Home}/&gt;
                  &lt;Redirect to=&#39;/about&#39;/&gt;
                &lt;/Switch&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre>
<h3 id="6-3-7-è‡ªå®šä¹‰æ ·å¼-index-css"><a href="#6-3-7-è‡ªå®šä¹‰æ ·å¼-index-css" class="headerlink" title="6.3.7 è‡ªå®šä¹‰æ ·å¼: index.css"></a>6.3.7 è‡ªå®šä¹‰æ ·å¼: <code>index.css</code></h3><pre><code class="css">activeClass{
  color: red !important;
}</code></pre>
<h3 id="6-3-8-å…¥å£JS-index-js"><a href="#6-3-8-å…¥å£JS-index-js" class="headerlink" title="6.3.8 å…¥å£JS: index.js"></a>6.3.8 å…¥å£JS: <code>index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
//import ReactDOM from &#39;react-dom&#39;
import {render} from &#39;react-dom&#39;
import {BrowserRouter, HashRouter} from &#39;react-router-dom&#39;
import App from &#39;./components/app&#39;

import &#39;./index.css&#39;

// ReactDOM.render(
render(
  (
    &lt;BrowserRouter&gt;
      &lt;App/&gt;
    &lt;/BrowserRouter&gt;
    /* ç»„ä»¶éœ€è¦ç”¨è·¯ç”±å™¨ç»„ä»¶åŒ…å«èµ·æ¥ï¼Œä¸¤è€…ä»»é€‰ä¸€ä¸ª */
    /*&lt;HashRouter&gt;
      &lt;App /&gt;
    &lt;/HashRouter&gt;*/
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<p>æ€»ç»“ï¼šå¦‚ä½•ç¼–å†™è·¯ç”±æ•ˆæœï¼Ÿ</p>
<ol>
<li>ç¼–å†™è·¯ç”±ç»„ä»¶</li>
<li>åœ¨çˆ¶è·¯ç”±ç»„ä»¶ä¸­æŒ‡å®š<ul>
<li>è·¯ç”±è¿æ¥ï¼š<code>&lt;NavLink&gt;&lt;/NavLink&gt;</code></li>
<li>è·¯ç”±ï¼š<code>&lt;Route&gt;&lt;/Route&gt;</code></li>
</ul>
</li>
</ol>
<h2 id="6-4-åµŒå¥—è·¯ç”±ä½¿ç”¨"><a href="#6-4-åµŒå¥—è·¯ç”±ä½¿ç”¨" class="headerlink" title="6.4 åµŒå¥—è·¯ç”±ä½¿ç”¨"></a>6.4 åµŒå¥—è·¯ç”±ä½¿ç”¨</h2><p>åµŒå¥—è·¯ç”±â€”â€”è·¯ç”±ç»„ä»¶ä¸­çš„è·¯ç”±</p>
<h3 id="6-4-1-æ•ˆæœ"><a href="#6-4-1-æ•ˆæœ" class="headerlink" title="6.4.1 æ•ˆæœ"></a>6.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo2.gif" alt="react-router demo2" class="lazyload"></p>
<h3 id="6-4-2-äºŒçº§è·¯ç”±ç»„ä»¶-views-news-jsx"><a href="#6-4-2-äºŒçº§è·¯ç”±ç»„ä»¶-views-news-jsx" class="headerlink" title="6.4.2 äºŒçº§è·¯ç”±ç»„ä»¶: views/news.jsx"></a>6.4.2 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/news.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;

export default class News extends React.Component {
  state = {
    newsArr: [&#39;news001&#39;, &#39;news002&#39;, &#39;news003&#39;]
  }

  render () {
    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.newsArr.map((news, index) =&gt; &lt;li key={index}&gt;{news}&lt;/li&gt;)
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="6-4-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><a href="#6-4-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx" class="headerlink" title="6.4.3 äºŒçº§è·¯ç”±ç»„ä»¶: views/message.jsx"></a>6.4.3 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/message.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                   &lt;a href=&#39;???&#39;&gt;{m.title}&lt;/a&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="6-4-4-ä¸€çº§è·¯ç”±ç»„ä»¶-views-home-jsx"><a href="#6-4-4-ä¸€çº§è·¯ç”±ç»„ä»¶-views-home-jsx" class="headerlink" title="6.4.4 ä¸€çº§è·¯ç”±ç»„ä»¶: views/home.jsx"></a>6.4.4 ä¸€çº§è·¯ç”±ç»„ä»¶: <code>views/home.jsx</code></h3><pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {Switch, Route, Redirect} from &#39;react-router-dom&#39;
import MyNavLink from &#39;../components/my-nav-link&#39;
import News from &#39;./news&#39;
import Message from &#39;./message&#39;

export default class Home extends Component{
  render(){
    return (
      &lt;div&gt;
        &lt;h2&gt;Homeç»„ä»¶å†…å®¹&lt;/h2&gt;
        &lt;div&gt;
          &lt;ul className=&quot;nav nav-tabs&quot;&gt;
            &lt;li&gt;
              &lt;MyNavLink to=&#39;/home/news&#39;&gt;News&lt;/MyNavLink&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;MyNavLink to=&quot;/home/message&quot;&gt;Message&lt;/MyNavLink&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
          &lt;Switch&gt;
            &lt;Route path=&#39;/home/news&#39; component={News} /&gt;
            &lt;Route path=&#39;/home/message&#39; component={Message} /&gt;
            &lt;Redirect to=&#39;/home/news&#39;/&gt;
          &lt;/Switch&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h2 id="6-5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"><a href="#6-5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®" class="headerlink" title="6.5 å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"></a>6.5 å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®</h2><p>ä¼ é€’çš„æ˜¯idå€¼</p>
<h3 id="6-5-1-æ•ˆæœ"><a href="#6-5-1-æ•ˆæœ" class="headerlink" title="6.5.1 æ•ˆæœ"></a>6.5.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo3.gif" alt="react-router demo3 (2)" class="lazyload"></p>
<h3 id="6-5-2-ä¸‰çº§è·¯ç”±ç»„ä»¶-views-message-detail-jsx"><a href="#6-5-2-ä¸‰çº§è·¯ç”±ç»„ä»¶-views-message-detail-jsx" class="headerlink" title="6.5.2 ä¸‰çº§è·¯ç”±ç»„ä»¶: views/message-detail.jsx"></a>6.5.2 ä¸‰çº§è·¯ç”±ç»„ä»¶: <code>views/message-detail.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;

const messageDetails = [
  {id: 1, title: &#39;Message001&#39;, content: &#39;ä¸­å›½ï¼Œä½ æ˜¯æœ€æ£’çš„&#39;},
  {id: 3, title: &#39;Message003&#39;, content: &#39;å¯¹çš„ï¼Œæ²¡é”™ï¼Œéå¸¸èµæˆæ¥¼ä¸Š&#39;},
  {id: 6, title: &#39;Message006&#39;, content: &#39;æˆ‘ä¹Ÿèµæˆ&#39;},
]

// å‡½æ•°çš„ç»„ä»¶
export default function MessageDetail(props) {

  const id = props.match.params.id
  const md = messageDetails.find(md =&gt; md.id===id*1)

  return (
    &lt;ul&gt;
      &lt;li&gt;ID: {md.id}&lt;/li&gt;
      &lt;li&gt;TITLE: {md.title}&lt;/li&gt;
      &lt;li&gt;CONTENT: {md.content}&lt;/li&gt;
    &lt;/ul&gt;
  )
}</code></pre>
<h3 id="6-5-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><a href="#6-5-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx" class="headerlink" title="6.5.3 äºŒçº§è·¯ç”±ç»„ä»¶: views/message.jsx"></a>6.5.3 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/message.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;
import MessageDetail from &quot;./message-detail&quot;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                  &lt;Link to={`${path}/${m.id}`}&gt;{m.title}&lt;/Link&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
        &lt;Route path={`${path}/:id`} component={MessageDetail}&gt;&lt;/Route&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<p>è·¯ç”±é“¾æ¥ä¸éè·¯ç”±é“¾æ¥ï¼šæ˜¯å¦å‘äº†è¯·æ±‚(è·¯ç”±è¿æ¥ä¸å‘)</p>
<p><code>&lt;NavLink to=&#39;&#39;&gt;&lt;/NavLink&gt;`` &lt;Link to=&#39;&#39;&gt;&lt;/Link&gt;</code></p>
<p><code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code></p>
<h2 id="6-6-å¤šç§è·¯ç”±è·³è½¬æ–¹å¼"><a href="#6-6-å¤šç§è·¯ç”±è·³è½¬æ–¹å¼" class="headerlink" title="6.6 å¤šç§è·¯ç”±è·³è½¬æ–¹å¼"></a>6.6 å¤šç§è·¯ç”±è·³è½¬æ–¹å¼</h2><p>å‰é¢è®²çš„è·¯ç”±åˆ‡æ¢éƒ½æ˜¯é€šè¿‡ç‚¹å‡»é“¾æ¥çš„æ–¹å¼åˆ‡æ¢çš„ï¼Œä¸æ˜¯é“¾æ¥ä¹Ÿèƒ½å¤Ÿ</p>
<h3 id="6-6-1-æ•ˆæœ"><a href="#6-6-1-æ•ˆæœ" class="headerlink" title="6.6.1 æ•ˆæœ"></a>6.6.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo4.gif" alt="react-router demo4" class="lazyload"></p>
<h3 id="6-6-2-äºŒçº§è·¯ç”±-views-message-jsx"><a href="#6-6-2-äºŒçº§è·¯ç”±-views-message-jsx" class="headerlink" title="6.6.2 äºŒçº§è·¯ç”±: views/message.jsx"></a>6.6.2 äºŒçº§è·¯ç”±: views/message.jsx</h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;
import MessageDetail from &quot;./message-detail&quot;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  // propsä¸­æœ‰historyå±æ€§ï¼Œå®ƒç”±pushç­‰æ–¹æ³•
  ShowDetail = (id) =&gt; {
    this.props.history.push(`/home/message/${id}`)
  }

  ShowDetail2 = (id) =&gt; {
    this.props.history.replace(`/home/message/${id}`)
  }

  back = () =&gt; {
    this.props.history.goBack()
  }

  forward = () =&gt; {
    this.props.history.goForward()
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                  &lt;Link to={`${path}/${m.id}`}&gt;{m.title}&lt;/Link&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;
                  &lt;button onClick={() =&gt; this.ShowDetail(m.id)}&gt;æŸ¥çœ‹è¯¦æƒ…(push)&lt;/button&gt;&amp;nbsp;
                  &lt;button onClick={() =&gt; this.ShowDetail2(m.id)}&gt;æŸ¥çœ‹è¯¦æƒ…(replace)&lt;/button&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
        &lt;p&gt;
          &lt;button onClick={this.back}&gt;è¿”å›&lt;/button&gt;&amp;nbsp;
          &lt;button onClick={this.forward}&gt;å‰è¿›&lt;/button&gt;&amp;nbsp;
        &lt;/p&gt;
        &lt;hr/&gt;
        &lt;Route path={`${path}/:id`} component={MessageDetail}&gt;&lt;/Route&gt;
        {/*&lt;Route path={`home/message/meassagedetail/:id`} component={MessageDetail}&gt;&lt;/Route&gt;*/}
      &lt;/div&gt;
    )
  }
}</code></pre>
<p> æ€»ç»“ï¼š</p>
<ul>
<li>è·¯ç”±å™¨æ ‡ç­¾<ul>
<li><code>&lt;BrowserRouter&gt;</code>ï¼šBrowserRouteræ˜¯reactè·¯ç”±çš„å®¹å™¨</li>
<li><code>&lt;HashRouter&gt;</code>ï¼šå¤šäº†ä¸€ä¸ª#å·</li>
</ul>
</li>
<li>è·¯ç”±<ul>
<li><code>&lt;Route&gt;</code>ï¼šRouteçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ¸²æŸ“è·¯ç”±åŒ¹é…çš„ç»„ä»¶ã€‚è·¯ç”±æ¸²æŸ“æœ‰ä¸‰ç§æ–¹å¼ï¼Œæ¯ä¸€ç§æ–¹å¼éƒ½å¯ä»¥ä¼ é€’match,location,historyå¯¹è±¡</li>
</ul>
</li>
<li><code>&lt;Redirect&gt;</code>ï¼šè·¯ç”±é‡å®šå‘</li>
<li>é“¾æ¥<ul>
<li><code>&lt;Link&gt;</code>ï¼šLinkçš„ä½œç”¨å’Œaæ ‡ç­¾ç±»ä¼¼</li>
<li><code>&lt;NavLink&gt;</code>ï¼šå¯ä»¥æ·»åŠ å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚activeClassName</li>
</ul>
</li>
<li><ul>
<li><code>&lt;Switch&gt;</code>ï¼šSwitchç»„ä»¶å†…éƒ¨å¯ä»¥æ˜¯Routeæˆ–è€…Redirectï¼Œåªä¼šæ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </li>
</ul>
</li>
</ul>
<ul>
<li>this.props.<ul>
<li>match<ul>
<li>params</li>
</ul>
</li>
<li>history<ul>
<li>push()</li>
<li>replace()</li>
<li>goback()</li>
<li>goforward()</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ç¬¬7ç« -react-ui"><a href="#ç¬¬7ç« -react-ui" class="headerlink" title="ç¬¬7ç«  react-ui"></a>ç¬¬7ç«  react-ui</h1><h2 id="7-1-æœ€æµè¡Œçš„å¼€æºReact-UIç»„ä»¶åº“"><a href="#7-1-æœ€æµè¡Œçš„å¼€æºReact-UIç»„ä»¶åº“" class="headerlink" title="7.1 æœ€æµè¡Œçš„å¼€æºReact UIç»„ä»¶åº“"></a>7.1 æœ€æµè¡Œçš„å¼€æºReact UIç»„ä»¶åº“</h2><h3 id="7-1-1-material-ui-å›½å¤–"><a href="#7-1-1-material-ui-å›½å¤–" class="headerlink" title="7.1.1 material-ui(å›½å¤–)"></a>7.1.1 material-ui(å›½å¤–)</h3><p>1)     å®˜ç½‘: <a href="http://www.material-ui.com/#/" target="_blank" rel="noopener">http://www.material-ui.com/#/</a></p>
<p>2)     github: <a href="https://github.com/callemall/material-ui" target="_blank" rel="noopener">https://github.com/callemall/material-ui</a></p>
<h3 id="7-1-2-ant-design-å›½å†…èš‚èšé‡‘æœ"><a href="#7-1-2-ant-design-å›½å†…èš‚èšé‡‘æœ" class="headerlink" title="7.1.2 ant-design(å›½å†…èš‚èšé‡‘æœ)"></a>7.1.2 ant-design(å›½å†…èš‚èšé‡‘æœ)</h3><p>1)     PCå®˜ç½‘: <a href="https://ant.design/index-cn" target="_blank" rel="noopener">https://ant.design/index-cn</a></p>
<p>2)     ç§»åŠ¨å®˜ç½‘: <a href="https://mobile.ant.design/index-cn" target="_blank" rel="noopener">https://mobile.ant.design/index-cn</a></p>
<p>3)     Github: <a href="https://github.com/ant-design/ant-design/" target="_blank" rel="noopener">https://github.com/ant-design/ant-design/</a></p>
<p>4)     Github: <a href="https://github.com/ant-design/ant-design-mobile/" target="_blank" rel="noopener">https://github.com/ant-design/ant-design-mobile/</a></p>
<h2 id="7-2-ant-design-mobileä½¿ç”¨å…¥é—¨"><a href="#7-2-ant-design-mobileä½¿ç”¨å…¥é—¨" class="headerlink" title="7.2 ant-design-mobileä½¿ç”¨å…¥é—¨"></a>7.2 ant-design-mobileä½¿ç”¨å…¥é—¨</h2><h3 id="7-2-1-æ•ˆæœ"><a href="#7-2-1-æ•ˆæœ" class="headerlink" title="7.2.1 æ•ˆæœ"></a>7.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/antd-mobile.gif" alt="antd-mobile" class="lazyload"></p>
<h3 id="7-2-2-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#7-2-2-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="7.2.2 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>7.2.2 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h3><pre><code class="bash">npm install create-react-app -g
create-react-app antm-demo
cd antm-demo
npm start</code></pre>
<h3 id="7-2-3-æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ"><a href="#7-2-3-æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ" class="headerlink" title="7.2.3 æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ"></a>7.2.3 æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ</h3><p>1)     ä¸‹è½½</p>
<p><code>npm install antd-mobile --save</code></p>
<p>2)     <code>src/components/App.jsx</code></p>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {Button, Toast} from &#39;antd-mobile&#39;
export default class App extends Component {
  handleClick = () =&gt; {
    Toast.info(&#39;æäº¤æˆåŠŸ&#39;, 2)
  }

  render() {
    return (
        &lt;div&gt;
          &lt;Button type=&quot;primary&quot; onClick={this.handleClick}&gt;æäº¤&lt;/Button&gt;
        &lt;/div&gt;   
      )
  }
  /* typeå€¼ä¸åŒæ ·å¼ä¸åŒ */
}</code></pre>
<p>3)     <code>src/index.js</code></p>
<pre><code class="javascript">import React from &#39;react&#39;;
import {render} from &#39;react-dom&#39;
import App from &quot;./components/App&quot;
// å¼•å…¥æ•´ä½“css
import &#39;antd-mobile/dist/antd-mobile.css&#39;

render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))
</code></pre>
<p>4)     <code>index.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot; /&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React ant design mobile&lt;/title&gt;
    &lt;script src=&quot;https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      if (&#39;addEventListener&#39; in document) {
        document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
          FastClick.attach(document.body);
        }, false);
      }
      if(!window.Promise) {
        document.writeln(&#39;&lt;script src=&quot;https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js&quot;&#39;+&#39;&gt;&#39;+&#39;&lt;&#39;+&#39;/&#39;+&#39;script&gt;&#39;);
      }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="7-2-4-å®ç°æŒ‰éœ€æ‰“åŒ…-ç»„ä»¶js-css"><a href="#7-2-4-å®ç°æŒ‰éœ€æ‰“åŒ…-ç»„ä»¶js-css" class="headerlink" title="7.2.4 å®ç°æŒ‰éœ€æ‰“åŒ…(ç»„ä»¶js/css)"></a>7.2.4 å®ç°æŒ‰éœ€æ‰“åŒ…(ç»„ä»¶js/css)</h3><p>1)     ä¸‹è½½ä¾èµ–åŒ…</p>
<pre><code class="bash">yarn add react-app-rewired --dev
yarn add babel-plugin-import --dev</code></pre>
<p>2)     ä¿®æ”¹é»˜è®¤é…ç½®: </p>
<p>l package.json</p>
<pre><code class="json">{
  &quot;name&quot;: &quot;react_ui&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;private&quot;: true,
  &quot;dependencies&quot;: {
    &quot;antd-mobile&quot;: &quot;^2.1.3&quot;,
    &quot;react&quot;: &quot;^16.2.0&quot;,
    &quot;react-dom&quot;: &quot;^16.2.0&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;babel-plugin-import&quot;: &quot;^1.6.3&quot;,
    &quot;react-app-rewired&quot;: &quot;^1.4.0&quot;,
    &quot;react-scripts&quot;: &quot;1.0.17&quot;
  },
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-app-rewired start&quot;,
    &quot;build&quot;: &quot;react-app-rewired build&quot;,
    &quot;test&quot;: &quot;react-app-rewired test --env=jsdom&quot;
  }
}</code></pre>
<p>l config-overrides.js</p>
<pre><code class="javascript">const {injectBabelPlugin} = require(&#39;react-app-rewired&#39;);
module.exports = function override(config, env) {
  config = injectBabelPlugin([&#39;import&#39;, {libraryName: &#39;antd-mobile&#39;, style: &#39;css&#39;}], config);
  return config;
};</code></pre>
<p>3)     ç¼–ç </p>
<pre><code class="jsx">// import &#39;antd-mobile/dist/antd-mobile.css&#39;
// import Button from &#39;antd-mobile/lib/button&#39;
// import Toast from &#39;antd-mobile/lib/toast&#39; 
import {Button, Toast} from &#39;antd-mobile&#39;</code></pre>
<h1 id="ç¬¬8ç« -redux"><a href="#ç¬¬8ç« -redux" class="headerlink" title="ç¬¬8ç«  redux"></a>ç¬¬8ç«  redux</h1><h2 id="8-1-reduxç†è§£"><a href="#8-1-reduxç†è§£" class="headerlink" title="8.1 reduxç†è§£"></a>8.1 reduxç†è§£</h2><h3 id="8-1-1-å­¦ä¹ æ–‡æ¡£"><a href="#8-1-1-å­¦ä¹ æ–‡æ¡£" class="headerlink" title="8.1.1 å­¦ä¹ æ–‡æ¡£"></a>8.1.1 å­¦ä¹ æ–‡æ¡£</h3><p>1)     è‹±æ–‡æ–‡æ¡£: <a href="https://redux.js.org/" target="_blank" rel="noopener">https://redux.js.org/</a></p>
<p>2)     ä¸­æ–‡æ–‡æ¡£: <a href="http://www.redux.org.cn/" target="_blank" rel="noopener">http://www.redux.org.cn/</a></p>
<p>3)     Github: <a href="https://github.com/reactjs/redux" target="_blank" rel="noopener">https://github.com/reactjs/redux</a></p>
<h3 id="8-1-2-reduxæ˜¯ä»€ä¹ˆ"><a href="#8-1-2-reduxæ˜¯ä»€ä¹ˆ" class="headerlink" title="8.1.2 reduxæ˜¯ä»€ä¹ˆ?"></a>8.1.2 reduxæ˜¯ä»€ä¹ˆ?</h3><p>1)     reduxæ˜¯ä¸€ä¸ªç‹¬ç«‹ä¸“é—¨ç”¨äºåš<strong>çŠ¶æ€ç®¡ç†</strong>çš„<strong>JSåº“</strong>(ä¸æ˜¯reactæ’ä»¶åº“)</p>
<p>2)     å®ƒå¯ä»¥ç”¨åœ¨react, angular, vueç­‰é¡¹ç›®ä¸­, ä½†åŸºæœ¬ä¸reacté…åˆä½¿ç”¨</p>
<p>3)     ä½œç”¨: <strong>é›†ä¸­å¼ç®¡ç†</strong>reactåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶å…±äº«çš„çŠ¶æ€</p>
<h3 id="8-1-3-reduxå·¥ä½œæµç¨‹"><a href="#8-1-3-reduxå·¥ä½œæµç¨‹" class="headerlink" title="8.1.3 reduxå·¥ä½œæµç¨‹"></a>8.1.3 reduxå·¥ä½œæµç¨‹</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715104120743.png" alt="redux" class="lazyload"></p>
<h3 id="8-1-4-ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux"><a href="#8-1-4-ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux" class="headerlink" title="8.1.4 ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux"></a>8.1.4 ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux</h3><p>1)     æ€»ä½“åŸåˆ™: èƒ½ä¸ç”¨å°±ä¸ç”¨, å¦‚æœä¸ç”¨æ¯”è¾ƒåƒåŠ›æ‰è€ƒè™‘ä½¿ç”¨</p>
<p>2)     æŸä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œéœ€è¦å…±äº«</p>
<p>3)     æŸä¸ªçŠ¶æ€éœ€è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥æ‹¿åˆ°</p>
<p>4)     ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å…¨å±€çŠ¶æ€</p>
<p>5)     ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€</p>
<h2 id="8-2-reduxçš„æ ¸å¿ƒAPI"><a href="#8-2-reduxçš„æ ¸å¿ƒAPI" class="headerlink" title="8.2 reduxçš„æ ¸å¿ƒAPI"></a>8.2 reduxçš„æ ¸å¿ƒAPI</h2><h3 id="8-2-1-createStore"><a href="#8-2-1-createStore" class="headerlink" title="8.2.1 createStore()"></a>8.2.1 <code>createStore()</code></h3><p>1)     ä½œç”¨:  åˆ›å»ºåŒ…å«æŒ‡å®šreducerçš„storeå¯¹è±¡</p>
<p>2)     ç¼–ç :</p>
<pre><code>import {createStore} from &#39;redux&#39;
import counter from &#39;./reducers/counter&#39;
const store = createStore(counter)</code></pre><h3 id="8-2-2-storeå¯¹è±¡"><a href="#8-2-2-storeå¯¹è±¡" class="headerlink" title="8.2.2 storeå¯¹è±¡"></a>8.2.2 <code>store</code>å¯¹è±¡</h3><p>1)     ä½œç”¨: </p>
<p>reduxåº“æœ€æ ¸å¿ƒçš„ç®¡ç†å¯¹è±¡</p>
<p>2)     å®ƒå†…éƒ¨ç»´æŠ¤ç€:</p>
<ul>
<li><p><code>state</code></p>
</li>
<li><p><code>reducer</code></p>
</li>
</ul>
<p>3)     æ ¸å¿ƒæ–¹æ³•:</p>
<ul>
<li><p><code>getState()</code></p>
</li>
<li><p><code>dispatch(action)</code></p>
</li>
<li><p><code>subscribe(listener)</code></p>
</li>
</ul>
<p>4)     ç¼–ç :</p>
<pre><code>store.getState()
store.dispatch({type:&#39;INCREMENT&#39;, number})
store.subscribe(render)</code></pre><h3 id="8-2-3-applyMiddleware"><a href="#8-2-3-applyMiddleware" class="headerlink" title="8.2.3 applyMiddleware()"></a>8.2.3 <code>applyMiddleware()</code></h3><p>1)     ä½œç”¨:</p>
<p>åº”ç”¨ä¸ŠåŸºäºreduxçš„ä¸­é—´ä»¶(æ’ä»¶åº“)</p>
<p>2)     ç¼–ç :</p>
<pre><code>import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39; // reduxå¼‚æ­¥ä¸­é—´ä»¶
const store = createStore(
 counter,
 applyMiddleware(thunk) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre><h3 id="8-2-4-combineReducers"><a href="#8-2-4-combineReducers" class="headerlink" title="8.2.4 combineReducers()"></a>8.2.4 <code>combineReducers()</code></h3><p>1)     ä½œç”¨:</p>
<p>åˆå¹¶å¤šä¸ªreducerå‡½æ•°</p>
<p>2)     ç¼–ç :</p>
<pre><code>export default combineReducers({
 user,
 chatUser,
 chat
})</code></pre><h2 id="8-3-reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><a href="#8-3-reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="8.3 reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ"></a>8.3 reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="8-3-1-action"><a href="#8-3-1-action" class="headerlink" title="8.3.1 action"></a>8.3.1 <code>action</code></h3><p>1)     æ ‡è¯†è¦æ‰§è¡Œè¡Œä¸ºçš„å¯¹è±¡</p>
<p>2)     åŒ…å«2ä¸ªæ–¹é¢çš„å±æ€§</p>
<p>a.     type: æ ‡è¯†å±æ€§, å€¼ä¸ºå­—ç¬¦ä¸², å”¯ä¸€, å¿…è¦å±æ€§</p>
<p>b.     xxx: æ•°æ®å±æ€§, å€¼ç±»å‹ä»»æ„, å¯é€‰å±æ€§</p>
<p>3)     ä¾‹å­:</p>
<pre><code>const action = {
    type: &#39;INCREMENT&#39;,
    data: 2
}</code></pre><p>4)     Action Creator(åˆ›å»ºActionçš„å·¥å‚å‡½æ•°)</p>
<pre><code>const increment = (number) =&gt; ({type: &#39;INCREMENT&#39;, data: number})</code></pre><h3 id="8-3-2-reducer"><a href="#8-3-2-reducer" class="headerlink" title="8.3.2 reducer"></a>8.3.2 <code>reducer</code></h3><p>1)     æ ¹æ®è€çš„stateå’Œaction, äº§ç”Ÿæ–°çš„stateçš„çº¯å‡½æ•°</p>
<p>2)     æ ·ä¾‹</p>
<pre><code>export default function counter(state = 0, action) {
  switch (action.type) {
     case &#39;INCREMENT&#39;:
        return state + action.data
     case &#39;DECREMENT&#39;:
        return state - action.data
     default:
        return state
  }
}</code></pre><p>3)     æ³¨æ„</p>
<p>a.     è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€</p>
<p>b.     ä¸è¦ä¿®æ”¹åŸæ¥çš„çŠ¶æ€</p>
<h3 id="8-3-3-store"><a href="#8-3-3-store" class="headerlink" title="8.3.3 store"></a>8.3.3 <code>store</code></h3><p>1)     å°†state,actionä¸reducerè”ç³»åœ¨ä¸€èµ·çš„å¯¹è±¡</p>
<p>2)     å¦‚ä½•å¾—åˆ°æ­¤å¯¹è±¡?</p>
<pre><code>import {createStore} from &#39;redux&#39;
import reducer from &#39;./reducers&#39;
const store = createStore(reducer)</code></pre><p>3)     æ­¤å¯¹è±¡çš„åŠŸèƒ½?</p>
<ul>
<li><p>getState(): å¾—åˆ°state</p>
</li>
<li><p>dispatch(action): åˆ†å‘action, è§¦å‘reducerè°ƒç”¨, äº§ç”Ÿæ–°çš„state</p>
</li>
<li><p>subscribe(listener): æ³¨å†Œç›‘å¬, å½“äº§ç”Ÿäº†æ–°çš„stateæ—¶, è‡ªåŠ¨è°ƒç”¨</p>
</li>
</ul>
<h2 id="8-4-ä½¿ç”¨reduxç¼–å†™åº”ç”¨"><a href="#8-4-ä½¿ç”¨reduxç¼–å†™åº”ç”¨" class="headerlink" title="8.4 ä½¿ç”¨reduxç¼–å†™åº”ç”¨"></a>8.4 ä½¿ç”¨reduxç¼–å†™åº”ç”¨</h2><h3 id="8-4-1-æ•ˆæœ"><a href="#8-4-1-æ•ˆæœ" class="headerlink" title="8.4.1 æ•ˆæœ"></a>8.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/redux.gif" alt="redux" class="lazyload"></p>
<p>ä½¿ç”¨reactå®ç°</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715112226383.png" alt="app.jsx" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715112313127.png" alt="index.js" class="lazyload"></p>
<h3 id="8-4-2-ä¸‹è½½ä¾èµ–åŒ…"><a href="#8-4-2-ä¸‹è½½ä¾èµ–åŒ…" class="headerlink" title="8.4.2 ä¸‹è½½ä¾èµ–åŒ…"></a>8.4.2 ä¸‹è½½ä¾èµ–åŒ…</h3><p><code>npm install --save redux</code></p>
<h3 id="8-4-3-src-redux-action-types-js"><a href="#8-4-3-src-redux-action-types-js" class="headerlink" title="8.4.3 src/redux/action-types.js"></a>8.4.3 <code>src/redux/action-types.js</code></h3><pre><code class="javascript">/*
Actionå¯¹è±¡çš„typeå¸¸é‡åç§°æ¨¡å—
 */
export const INCREMENT = &#39;increment&#39;
export const DECREMENT = &#39;decrement&#39;</code></pre>
<h3 id="8-4-4-src-redux-actions-js"><a href="#8-4-4-src-redux-actions-js" class="headerlink" title="8.4.4 src/redux/actions.js"></a>8.4.4 <code>src/redux/actions.js</code></h3><pre><code class="javascript">/*
action creatoræ¨¡å—
 */
import {INCREMENT, DECREMENT} from &#39;./action-types&#39;

export const increment = number =&gt; ({type: INCREMENT, number})
export const decrement = number =&gt; ({type: DECREMENT, number})</code></pre>
<h3 id="8-4-5-src-redux-reducers-js"><a href="#8-4-5-src-redux-reducers-js" class="headerlink" title="8.4.5 src/redux/reducers.js"></a>8.4.5 <code>src/redux/reducers.js</code></h3><pre><code class="javascript">/*
åŒ…å«nä¸ªreducerå‡½æ•°çš„æ¨¡å—
æ ¹æ®è€çš„stateå’ŒæŒ‡å®šaction, å¤„ç†è¿”å›ä¸€ä¸ªæ–°çš„state
 */
import {INCREMENT, DECREMENT} from &#39;./action-types&#39;

export function counter(state = 0, action) {
  console.log(&#39;counter&#39;, state, action)
  switch (action.type) {
    case INCREMENT:
      return state + action.number
    case DECREMENT:
      return state - action.number
    default:
      return state
  }
}</code></pre>
<h3 id="8-4-6-src-components-app-jsx"><a href="#8-4-6-src-components-app-jsx" class="headerlink" title="8.4.6 src/components/app.jsx"></a>8.4.6 <code>src/components/app.jsx</code></h3><pre><code class="jsx">/*
åº”ç”¨ç»„ä»¶
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import * as actions from &#39;../redux/actions&#39;
import { INCREMENT } from &#39;../redux/action-types&#39;

export default class App extends Component {

  static propTypes = {
    store: PropTypes.object.isRequired,
  }

  increment = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
    this.props.store.dispatch(actions.increment(number))
  }

  decrement = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å‡å°æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
    this.props.store.dispatch(actions.decrement(number))
  }

  incrementIfOdd = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.å¾—åˆ°åŸæœ¬çš„countçŠ¶æ€
    let count = this.props.store.getState()
    // åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶çŒœæ›´æ–°çŠ¶æ€
    if (count % 2 === 1) {
      // è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
      this.props.store.dispatch(actions.increment(number))
    }
  }

  incrementAsync = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.å¯åŠ¨å»¶æ—¶å®šæ—¶å™¨ï¼Œæ¨¡æ‹Ÿå¼‚æ­¥
    setTimeout(() =&gt; {
      // 3.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
      this.props.store.dispatch(actions.increment(number))
    }, 1000)
  }

  render() {
    const count = this.props.store.getState()
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="8-4-7-src-index-js"><a href="#8-4-7-src-index-js" class="headerlink" title="8.4.7 src/index.js"></a>8.4.7 <code>src/index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {createStore} from &#39;redux&#39;

import App from &#39;./components/app&#39;
import {counter} from &#39;./redux/reducers&#39;

// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
const store = createStore(counter) // å†…éƒ¨ä¼šç¬¬ä¸€æ¬¡è°ƒç”¨reduerå‡½æ•°ï¼Œå¾—åˆ°åˆå§‹state

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
const render = () =&gt; {
  ReactDOM.render(
    &lt;App store={store}/&gt;,
    document.getElementById(&#39;root&#39;)
  )
}
// åˆå§‹åŒ–æ¸²æŸ“
render()

// æ³¨å†Œ(è®¢é˜…)ç›‘å¬, ä¸€æ—¦çŠ¶æ€å‘ç”Ÿæ”¹å˜, è‡ªåŠ¨é‡æ–°æ¸²æŸ“
store.subscribe(render)</code></pre>
<p>ä¹Ÿå¯ä»¥æŠŠindex.jsä¸­storeæå–å‡ºæ¥</p>
<ul>
<li><code>src/redux/store.js</code></li>
</ul>
<pre><code class="javascript">import {createStore} from &#39;redux&#39;
import {counter} from &#39;./reducers&#39;
// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
const store = createStore(counter)  // // å†…éƒ¨ä¼šç¬¬ä¸€æ¬¡è°ƒç”¨reduerå‡½æ•°ï¼Œå¾—åˆ°åˆå§‹state

export default store</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;

import App from &#39;./components/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
const render = () =&gt; {
  ReactDOM.render(
    &lt;App store={store}/&gt;,
    document.getElementById(&#39;root&#39;)
  )
}
// åˆå§‹åŒ–æ¸²æŸ“
render()

// æ³¨å†Œ(è®¢é˜…)ç›‘å¬, ä¸€æ—¦çŠ¶æ€å‘ç”Ÿæ”¹å˜, è‡ªåŠ¨é‡æ–°æ¸²æŸ“
store.subscribe(render)</code></pre>
<h3 id="8-4-8-é—®é¢˜"><a href="#8-4-8-é—®é¢˜" class="headerlink" title="8.4.8 é—®é¢˜"></a>8.4.8 é—®é¢˜</h3><p>1)     reduxä¸reactç»„ä»¶çš„ä»£ç è€¦åˆåº¦å¤ªé«˜(å¤§å¤šæ•°åœ°æ–¹ç”¨åˆ°store)</p>
<p>2)     ç¼–ç ä¸å¤Ÿç®€æ´</p>
<h2 id="8-5-react-redux"><a href="#8-5-react-redux" class="headerlink" title="8.5 react-redux"></a>8.5 react-redux</h2><h3 id="8-5-1-ç†è§£"><a href="#8-5-1-ç†è§£" class="headerlink" title="8.5.1 ç†è§£"></a>8.5.1 ç†è§£</h3><p>1)     ä¸€ä¸ª<strong>reactæ’ä»¶åº“</strong></p>
<p>2)     ä¸“é—¨ç”¨æ¥ç®€åŒ–reactåº”ç”¨ä¸­ä½¿ç”¨redux</p>
<h3 id="8-5-2-React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»"><a href="#8-5-2-React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»" class="headerlink" title="8.5.2 React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»"></a>8.5.2 React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»</h3><p>1)     UIç»„ä»¶</p>
<p>â€‹    a.     åªè´Ÿè´£ UI çš„å‘ˆç°ï¼Œä¸å¸¦æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘</p>
<p>â€‹    b.     é€šè¿‡propsæ¥æ”¶æ•°æ®(ä¸€èˆ¬æ•°æ®å’Œå‡½æ•°)</p>
<p>â€‹    c.     ä¸ä½¿ç”¨ä»»ä½• Redux çš„ API</p>
<p>â€‹    d.     ä¸€èˆ¬ä¿å­˜åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸‹</p>
<p>2)     å®¹å™¨ç»„ä»¶</p>
<p>â€‹    a.     è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œä¸è´Ÿè´£UIçš„å‘ˆç°</p>
<p>â€‹    b.     ä½¿ç”¨ Redux çš„ API</p>
<p>â€‹    c.     ä¸€èˆ¬ä¿å­˜åœ¨<code>containers</code>æ–‡ä»¶å¤¹ä¸‹</p>
<h3 id="8-5-3-ç›¸å…³API"><a href="#8-5-3-ç›¸å…³API" class="headerlink" title="8.5.3 ç›¸å…³API"></a>8.5.3 ç›¸å…³API</h3><p>1)     <code>Provider</code></p>
<p>è®©æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥å¾—åˆ°stateæ•°æ®</p>
<pre><code>&lt;Provider store={store}&gt;
   &lt;App /&gt;
&lt;/Provider&gt;</code></pre><p>2)     <code>connect()</code></p>
<p>ç”¨äºåŒ…è£… UI ç»„ä»¶ç”Ÿæˆå®¹å™¨ç»„ä»¶</p>
<pre><code>import { connect } from &#39;react-redux&#39;
connect(
   mapStateToprops,
   mapDispatchToProps
)(Counter)</code></pre><p>3)     <code>mapStateToprops()</code></p>
<p>å°†å¤–éƒ¨çš„æ•°æ®ï¼ˆå³stateå¯¹è±¡ï¼‰è½¬æ¢ä¸ºUIç»„ä»¶çš„æ ‡ç­¾å±æ€§</p>
<pre><code>const mapStateToprops = function (state) {
  return {
   value: state
  }
}</code></pre><p>4)     <code>mapDispatchToProps()</code></p>
<p>å°†åˆ†å‘actionçš„å‡½æ•°è½¬æ¢ä¸ºUIç»„ä»¶çš„æ ‡ç­¾å±æ€§</p>
<p>ç®€æ´è¯­æ³•å¯ä»¥ç›´æ¥æŒ‡å®šä¸ºactionså¯¹è±¡æˆ–åŒ…å«å¤šä¸ªactionæ–¹æ³•çš„å¯¹è±¡</p>
<h3 id="8-5-4-ä½¿ç”¨react-redux"><a href="#8-5-4-ä½¿ç”¨react-redux" class="headerlink" title="8.5.4 ä½¿ç”¨react-redux"></a>8.5.4 ä½¿ç”¨react-redux</h3><p>1)     ä¸‹è½½ä¾èµ–åŒ…</p>
<p><code>npm install --save react-redux</code></p>
<p>2)     <code>redux/action-types.js</code></p>
<p>ä¸å˜</p>
<p>3)     <code>redux/actions.js</code></p>
<p>ä¸å˜</p>
<p>4)     <code>redux/reducers.js</code></p>
<p>ä¸å˜</p>
<p>5)     <code>components/counter.jsx</code></p>
<pre><code class="jsx">/*
UIç»„ä»¶: ä¸åŒ…å«ä»»ä½•redux API
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

export default class Counter extends React.Component {

  static propTypes = {
    count: PropTypes.number.isRequired,
    increment: PropTypes.func.isRequired,
    decrement: PropTypes.func.isRequired
  }

  increment = () =&gt; {
    const number = this.refs.numSelect.value * 1
    this.props.increment(number)
  }

  decrement = () =&gt; {
    const number = this.refs.numSelect.value * 1
    this.props.decrement(number)
  }

  incrementIfOdd = () =&gt; {
    const number = this.refs.numSelect.value * 1
    let count = this.props.count
    if (count % 2 === 1) {
      this.props.increment(number)
    }
  }

  incrementAsync = () =&gt; {
    const number = this.refs.numSelect.value * 1
    setTimeout(() =&gt; {
      this.props.increment(number)
    }, 1000)
  }

  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {this.props.count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<p>6)     <code>containters/app.jsx</code></p>
<pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
// å¼•å…¥è¿æ¥å‡½æ•°
import {connect} from &#39;react-redux&#39;
// å¼•å…¥actionå‡½æ•°
import {increment, decrement} from &#39;../redux/actions&#39;

import Counter from &#39;../components/counter&#39;

// å‘å¤–æš´éœ²è¿æ¥Appç»„ä»¶çš„åŒ…è£…ç»„ä»¶
export default connect(
  state =&gt; ({count: state}),
  {increment, decrement}
)(Counter)</code></pre>
<p>7)     <code>store.js</code></p>
<p>ä¸å˜</p>
<p>8)     <code>index.js</code></p>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./containers/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<h3 id="8-5-5-é—®é¢˜"><a href="#8-5-5-é—®é¢˜" class="headerlink" title="8.5.5 é—®é¢˜"></a>8.5.5 é—®é¢˜</h3><p>1)    reduxé»˜è®¤æ˜¯ä¸èƒ½è¿›è¡Œå¼‚æ­¥å¤„ç†çš„, ï¼ˆå‰é¢çš„éƒ½æ˜¯reactå®ç°çš„ï¼‰</p>
<p>2)    åº”ç”¨ä¸­åˆéœ€è¦åœ¨reduxä¸­æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡(ajax, å®šæ—¶å™¨)</p>
<h2 id="8-6-reduxå¼‚æ­¥ç¼–ç¨‹"><a href="#8-6-reduxå¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="8.6 reduxå¼‚æ­¥ç¼–ç¨‹"></a>8.6 reduxå¼‚æ­¥ç¼–ç¨‹</h2><h3 id="8-6-1-ä¸‹è½½reduxæ’ä»¶-å¼‚æ­¥ä¸­é—´ä»¶"><a href="#8-6-1-ä¸‹è½½reduxæ’ä»¶-å¼‚æ­¥ä¸­é—´ä»¶" class="headerlink" title="8.6.1 ä¸‹è½½reduxæ’ä»¶(å¼‚æ­¥ä¸­é—´ä»¶)"></a>8.6.1 ä¸‹è½½reduxæ’ä»¶(å¼‚æ­¥ä¸­é—´ä»¶)</h3><p><code>npm install --save redux-thunk</code></p>
<h3 id="8-6-2-redux-store-js"><a href="#8-6-2-redux-store-js" class="headerlink" title="8.6.2 redux/store.js"></a>8.6.2 <code>redux/store.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39;
import {composeWithDevTools} from &#39;redux-devtools-extension&#39;

import reducers from &#39;./reducers&#39;

// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
export default createStore(
  reducers,
  applyMiddleware(thunk) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre>
<h3 id="8-6-3-index-js"><a href="#8-6-3-index-js" class="headerlink" title="8.6.3 index.js"></a>8.6.3 <code>index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./containers/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<h3 id="8-6-4-redux-actions-js"><a href="#8-6-4-redux-actions-js" class="headerlink" title="8.6.4 redux/actions.js"></a>8.6.4 <code>redux/actions.js</code></h3><pre><code class="jsx">/*
action creatoræ¨¡å—
 */
import {
  INCREMENT,
  DECREMENT
} from &#39;./action-types&#39;

export const increment = number =&gt; ({type: INCREMENT, number})

export const decrement = number =&gt; ({type: DECREMENT, number})

// å¼‚æ­¥action creator(è¿”å›ä¸€ä¸ªå‡½æ•°)
export const incrementAsync = number =&gt; {
  return dispatch =&gt; { // è¦åœ¨è¿™è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå¾—åœ¨storeä¸­åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
    // å¼‚æ­¥çš„ä»£ç 
    setTimeout(() =&gt; {
      // 1sä¹‹åæ‰åˆ†å‘ä¸€ä¸ªå¢åŠ çš„action
      dispatch(increment(number))
    }, 1000)
  }
}</code></pre>
<p> åŒæ­¥çš„actionéƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡</p>
<p>å¼‚æ­¥çš„actionè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°</p>
<h3 id="8-6-5-components-counter-jsx"><a href="#8-6-5-components-counter-jsx" class="headerlink" title="8.6.5 components/counter.jsx"></a>8.6.5 <code>components/counter.jsx</code></h3><pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

export default class Counter extends React.Component {

  static propTypes = {
    count: PropTypes.number.isRequired,
    increment: PropTypes.func.isRequired,
    decrement: PropTypes.func.isRequired
  }

  increment = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.increment(number)
  }

  decrement = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.decrement(number)
  }

  incrementIfOdd = () =&gt; {
    const number = this.refs.numSelect.value*1
    let count = this.props.count
    if(count%2===1) {
      this.props.increment(number)
    }
  }

  // Async
  incrementAsync = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.incrementAsync(number)
  }

  render () {
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {this.props.count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="8-6-6-containers-app-jsx"><a href="#8-6-6-containers-app-jsx" class="headerlink" title="8.6.6 containers/app.jsx"></a>8.6.6 <code>containers/app.jsx</code></h3><pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
// å¼•å…¥è¿æ¥å‡½æ•°
import {connect} from &#39;react-redux&#39;
// å¼•å…¥actionå‡½æ•°
import {increment, decrement, incrementAsync} from &#39;../redux/actions&#39;
import Counter from &#39;../components/counter&#39;

// å‘å¤–æš´éœ²è¿æ¥Appç»„ä»¶çš„åŒ…è£…ç»„ä»¶
export default connect(
  state =&gt; ({count: state.counter}),
  {increment, decrement, incrementAsync}
)(Counter)
</code></pre>
<p><code>redux/action-types.js</code></p>
<pre><code class="javascript">export const INCREMENT = &#39;increment&#39;
export const DECREMENT = &#39;decrement&#39;</code></pre>
<h2 id="8-7-ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·"><a href="#8-7-ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·" class="headerlink" title="8.7 ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·"></a>8.7 ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·</h2><h3 id="8-7-1-å®‰è£…chromeæµè§ˆå™¨æ’ä»¶"><a href="#8-7-1-å®‰è£…chromeæµè§ˆå™¨æ’ä»¶" class="headerlink" title="8.7.1 å®‰è£…chromeæµè§ˆå™¨æ’ä»¶"></a>8.7.1 å®‰è£…chromeæµè§ˆå™¨æ’ä»¶</h3><p><a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?utm_source=chrome-ntp-icon" target="_blank" rel="noopener">Redux DevTools</a></p>
<h3 id="8-7-2-ä¸‹è½½å·¥å…·ä¾èµ–åŒ…"><a href="#8-7-2-ä¸‹è½½å·¥å…·ä¾èµ–åŒ…" class="headerlink" title="8.7.2 ä¸‹è½½å·¥å…·ä¾èµ–åŒ…"></a>8.7.2 ä¸‹è½½å·¥å…·ä¾èµ–åŒ…</h3><pre><code>npm install --save-dev redux-devtools-extension</code></pre><h3 id="8-7-3-ç¼–ç "><a href="#8-7-3-ç¼–ç " class="headerlink" title="8.7.3 ç¼–ç "></a>8.7.3 ç¼–ç </h3><pre><code class="javascript">import { composeWithDevTools } from &#39;redux-devtools-extension&#39;
const store = createStore(  counter,  composeWithDevTools(applyMiddleware(thunk))
)</code></pre>
<h2 id="8-8-Reduxç‰ˆè¯„è®º"><a href="#8-8-Reduxç‰ˆè¯„è®º" class="headerlink" title="8.8 Reduxç‰ˆè¯„è®º"></a>8.8 Reduxç‰ˆè¯„è®º</h2><h3 id="8-8-1-éœ€æ±‚"><a href="#8-8-1-éœ€æ±‚" class="headerlink" title="8.8.1 éœ€æ±‚"></a>8.8.1 éœ€æ±‚</h3><p>ä½¿ç”¨react_reduxå’Œä¸­é—´ä»¶å®ç°å¼‚æ­¥è¯„è®ºåŠŸèƒ½</p>
<h3 id="8-8-2-å®‰è£…"><a href="#8-8-2-å®‰è£…" class="headerlink" title="8.8.2 å®‰è£…"></a>8.8.2 å®‰è£…</h3><pre><code class="bash">â€¦â€¦
npm install --save react-redux
npm install --save redux-thunk
npm install --save-dev redux-devtools-extension</code></pre>
<h3 id="8-8-3-ç›®å½•ç»“æ„"><a href="#8-8-3-ç›®å½•ç»“æ„" class="headerlink" title="8.8.3 ç›®å½•ç»“æ„"></a>8.8.3 ç›®å½•ç»“æ„</h3><blockquote>
<ul>
<li>REACT_REDUX<ul>
<li>public<ul>
<li>css<ul>
<li>bootstrap.css</li>
</ul>
</li>
<li>index.html</li>
</ul>
</li>
<li>src<ul>
<li>components<ul>
<li>app<ul>
<li>app.jsx</li>
</ul>
</li>
<li>comment-add<ul>
<li>comment-add.jsx</li>
</ul>
</li>
<li>comment-item<ul>
<li>comment-item.jsx</li>
<li>comment-item.css</li>
</ul>
</li>
<li>comment-list<ul>
<li>comment-list.jsx</li>
<li>comment-list.css</li>
</ul>
</li>
</ul>
</li>
<li>redux<ul>
<li>action-types.js</li>
<li>actions.js</li>
<li>reducers.js</li>
<li>store.js</li>
</ul>
</li>
<li>index.js</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="8-8-4-æ–‡ä»¶å†…å®¹"><a href="#8-8-4-æ–‡ä»¶å†…å®¹" class="headerlink" title="8.8.4 æ–‡ä»¶å†…å®¹"></a>8.8.4 æ–‡ä»¶å†…å®¹</h3><ul>
<li><code>public/index.html</code></li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React App&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./components/app/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)
</code></pre>
<ul>
<li><code>src/componets/app/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import {connect} from &#39;react-redux&#39;
import CommentAdd from &#39;../comment-add/comment-add&#39;
import CommentList from &#39;../comment-list/comment-list&#39;
import {getComments} from &#39;../../redux/actions&#39;

class App extends React.Component {

  componentDidMount() {
    //æ¨¡æ‹Ÿå¼‚æ­¥è·å–æ•°æ®
    this.props.getComments()
  }

  render() {
    return (
      &lt;div&gt;
        &lt;header className=&quot;site-header jumbotron&quot;&gt;
          &lt;div className=&quot;container&quot;&gt;
            &lt;div className=&quot;row&quot;&gt;
              &lt;div className=&quot;col-xs-12&quot;&gt;
                &lt;h1&gt;è¯·å‘è¡¨å¯¹Reactçš„è¯„è®º&lt;/h1&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/header&gt;
        &lt;div className=&quot;container&quot;&gt;
          &lt;CommentAdd/&gt;
          &lt;CommentList/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

export default connect(
  null,
  {getComments}
)(App)</code></pre>
<ul>
<li><code>src/componets/comment-add/comment-add.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import {addComment} from &#39;../../redux/actions&#39;
class CommentAdd extends React.Component {
constructor (props) {
  super(props)
  this.state = {
    username: &#39;&#39;,
    content: &#39;&#39;
  }
  this.addComment = this.addComment.bind(this)
  this.changeUsername = this.changeUsername.bind(this)
  this.changeContent = this.changeContent.bind(this)
}
addComment () {
  // æ ¹æ®è¾“å…¥çš„æ•°æ®åˆ›å»ºè¯„è®ºå¯¹è±¡
  let { username, content } = this.state
  let comment = { username, content }
  // æ·»åŠ åˆ°commentsä¸­, æ›´æ–°state
  this.props.addComment(comment)
  // æ¸…é™¤è¾“å…¥çš„æ•°æ®
  this.setState({
    username: &#39;&#39;,
    content: &#39;&#39;
  })
}
changeUsername (event) {
  this.setState({
    username: event.target.value
  })
}
changeContent (event) {
  this.setState({
    content: event.target.value
  })
}
render () {
  return (
    &lt;div className=&quot;col-md-4&quot;&gt;
      &lt;form className=&quot;form-horizontal&quot;&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label&gt;ç”¨æˆ·å&lt;/label&gt;
          &lt;input type=&quot;text&quot; className=&quot;form-control&quot; placeholder=&quot;ç”¨æˆ·å&quot;
                 value={this.state.username} onChange={this.changeUsername}/&gt;
        &lt;/div&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label&gt;è¯„è®ºå†…å®¹&lt;/label&gt;
          &lt;textarea className=&quot;form-control&quot; rows=&quot;6&quot; placeholder=&quot;è¯„è®ºå†…å®¹&quot;
                    value={this.state.content} onChange={this.changeContent}&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;div className=&quot;col-sm-offset-2 col-sm-10&quot;&gt;
            &lt;button type=&quot;button&quot; className=&quot;btn btn-default pull-right&quot; onClick={this.addComment}&gt;æäº¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  )
}
}
CommentAdd.propTypes = {
addComment: PropTypes.func.isRequired
}
export default connect(
null,
{addComment}
)(CommentAdd)</code></pre>
</li>
</ul>
<ul>
<li><code>src/componets/comment-item/comment-item.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import &#39;./commentItem.css&#39;
import {deleteComment} from &#39;../../redux/actions&#39;
class CommentItem extends React.Component {
constructor(props) {
  super(props)
}
deleteComment = () =&gt; {
  let username = this.props.comment.username
  if (window.confirm(`ç¡®å®šåˆ é™¤${username}çš„è¯„è®ºå—?`)) {
    this.props.deleteComment(this.props.index)
  }
}
render() {
  let comment = this.props.comment
  return (
    &lt;li className=&quot;list-group-item&quot;&gt;
      &lt;div className=&quot;handle&quot;&gt;
        &lt;a href=&quot;javascript:&quot; onClick={this.deleteComment}&gt;åˆ é™¤&lt;/a&gt;
      &lt;/div&gt;
      &lt;p className=&quot;user&quot;&gt;&lt;span&gt;{comment.username}&lt;/span&gt;&lt;span&gt;è¯´:&lt;/span&gt;&lt;/p&gt;
      &lt;p className=&quot;centence&quot;&gt;{comment.content}&lt;/p&gt;
    &lt;/li&gt;
  )
}
}
CommentItem.propTypes = {
comment: PropTypes.object.isRequired,
index: PropTypes.number.isRequired,
deleteComment: PropTypes.func.isRequired
}
export default connect(
null,
{deleteComment}
)(CommentItem)
</code></pre>
</li>
</ul>
<pre><code>






- `src/componets/comment-item/comment-item.css`
```css
li {
  transition: .5s;
  overflow: hidden;
}
.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}
.handle a {
  display: block;
  text-decoration: none;
}
.list-group-item .centence {
  padding: 0px 50px;
}
.user {
  font-size: 22px;
}</code></pre><ul>
<li><code>src/componets/comment-list/comment-list.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import CommentItem from &#39;../comment-item/comment-item&#39;
import &#39;./commentList.css&#39;
class CommentList extends React.Component {
render () {
  let comments = this.props.comments
  let display = comments.length &gt; 0 ? &#39;none&#39; : &#39;block&#39;
  return (
    &lt;div className=&quot;col-md-8&quot;&gt;
      &lt;h3 className=&quot;reply&quot;&gt;è¯„è®ºå›å¤ï¼š&lt;/h3&gt;
      &lt;h2 style=åŒå¤§æ‹¬å· display: display åŒå¤§æ‹¬å·&gt;æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®ºï¼ï¼ï¼&lt;/h2&gt;
      &lt;ul className=&quot;list-group&quot;&gt;
        {
          comments.map((comment, index) =&gt; {
            console.log(comment)
            return &lt;CommentItem comment={comment} key={index} index={index}/&gt;
          })
        }
      &lt;/ul&gt;
    &lt;/div&gt;
  )
}
}
CommentList.propTypes = {
comments: PropTypes.array.isRequired,
}
export default connect(
state =&gt; ({comments: state.comments})
)(CommentList)</code></pre>
</li>
</ul>
<ul>
<li><code>src/componets/comment-list/comment-list.css</code><pre><code class="css">.reply {
margin-top: 0px;
}</code></pre>
</li>
</ul>
<ul>
<li><code>redux/action-types.js</code><pre><code class="javascript">export const ADD_COMMENT = &#39;ADD_COMMENT&#39;
export const DELETE_COMMENT = &#39;DELETE_COMMENT&#39;
export const RECEIVE_COMMENTS = &#39;RECEIVE_COMMENTS&#39;</code></pre>
</li>
</ul>
<ul>
<li><code>redux/actions.js</code><pre><code class="javascript">import {
ADD_COMMENT,
DELETE_COMMENT,
RECEIVE_COMMENTS
} from &#39;./action-types&#39;
export const addComment = (comment) =&gt; ({type: ADD_COMMENT, data: comment})
export const deleteComment = (index) =&gt; ({type: DELETE_COMMENT, data: index})
const receiveComments = (comments) =&gt; ({type: RECEIVE_COMMENTS, data: comments})
export const getComments = () =&gt; {
return dispatch =&gt; {
  setTimeout(() =&gt; {
    const comments = [
      {
        username: &quot;Tom&quot;,
        content: &quot;ReactJSå¥½éš¾å•Š!&quot;,
        id: Date.now()
      },
      {
        username: &quot;JACK&quot;,
        content: &quot;ReactJSè¿˜ä¸é”™!&quot;,
        id: Date.now() + 1
      }
    ]
    dispatch(receiveComments(comments))
  }, 1000)
}
}</code></pre>
</li>
</ul>
<ul>
<li><code>redux/reducers.js</code></li>
</ul>
<pre><code class="javascript">import {combineReducers} from &#39;redux&#39;
import {
  ADD_COMMENT,
  DELETE_COMMENT,
  RECEIVE_COMMENTS
} from &#39;./action-types&#39;
const initComments = []
function comments(state = initComments, action) {
  switch (action.type) {
    case ADD_COMMENT:
      return [...state, action.data]
    case DELETE_COMMENT:
      return state.filter((c, index) =&gt; index !== action.data)
    case RECEIVE_COMMENTS:
      return action.data
    default:
      return state
  }
}
export default combineReducers({
  comments
})</code></pre>
<ul>
<li><code>redux/store.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39;
import {composeWithDevTools} from &#39;redux-devtools-extension&#39;
import reducers from &#39;./reducers&#39;
// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
export default createStore(
  reducers,
  composeWithDevTools(applyMiddleware(thunk)) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre>
<h2 id="8-9-ç›¸å…³é‡è¦çŸ¥è¯†-çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°"><a href="#8-9-ç›¸å…³é‡è¦çŸ¥è¯†-çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°" class="headerlink" title="8.9 ç›¸å…³é‡è¦çŸ¥è¯†: çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°"></a>8.9 ç›¸å…³é‡è¦çŸ¥è¯†: çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°</h2><h3 id="8-9-1-çº¯å‡½æ•°"><a href="#8-9-1-çº¯å‡½æ•°" class="headerlink" title="8.9.1 çº¯å‡½æ•°"></a>8.9.1 çº¯å‡½æ•°</h3><p>1)     ä¸€ç±»ç‰¹åˆ«çš„å‡½æ•°: åªè¦æ˜¯åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡º</p>
<p>2)    å¿…é¡»éµå®ˆä»¥ä¸‹ä¸€äº›çº¦æŸ </p>
<p>a.    ä¸å¾—æ”¹å†™å‚æ•°</p>
<p>b.    ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/O çš„API</p>
<p>c.    èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.random()ç­‰ä¸çº¯çš„æ–¹æ³• </p>
<p>3)     reducerå‡½æ•°å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°</p>
<h3 id="8-9-2-é«˜é˜¶å‡½æ•°"><a href="#8-9-2-é«˜é˜¶å‡½æ•°" class="headerlink" title="8.9.2 é«˜é˜¶å‡½æ•°"></a>8.9.2 é«˜é˜¶å‡½æ•°</h3><p>4)     ç†è§£: ä¸€ç±»ç‰¹åˆ«çš„å‡½æ•°</p>
<p>a.     æƒ…å†µ1: å‚æ•°æ˜¯å‡½æ•°</p>
<p>b.     æƒ…å†µ2: è¿”å›æ˜¯å‡½æ•°</p>
<p>5)         å¸¸è§çš„é«˜é˜¶å‡½æ•°: </p>
<p>a.     å®šæ—¶å™¨è®¾ç½®å‡½æ•°</p>
<p>b.     æ•°ç»„çš„map()/filter()/reduce()/find()/bind()</p>
<p>c.     react-reduxä¸­çš„connectå‡½æ•°</p>
<p>6)         ä½œç”¨: </p>
<p>â€‹     èƒ½å®ç°æ›´åŠ åŠ¨æ€, æ›´åŠ å¯æ‰©å±•çš„åŠŸèƒ½</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/07/04/Git/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="Gitå­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>Gitå­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´07æœˆ04æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>2k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 8 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><h3 id="é›†ä¸­å¼-svn"><a href="#é›†ä¸­å¼-svn" class="headerlink" title="é›†ä¸­å¼(svn)"></a>é›†ä¸­å¼(svn)</h3><p>svnå› ä¸ºæ¯æ¬¡å­˜çš„éƒ½æ˜¯å·®å¼‚ éœ€è¦çš„ç¡¬ç›˜ç©ºé—´ä¼šç›¸å¯¹çš„å°ä¸€ç‚¹  å¯æ˜¯å›æ»šçš„é€Ÿåº¦ä¼šå¾ˆæ…¢</p>
<ul>
<li>ä¼˜ç‚¹: <pre><code>ä»£ç å­˜æ”¾åœ¨å•ä¸€çš„æœåŠ¡å™¨ä¸Š ä¾¿äºé¡¹ç›®çš„ç®¡ç†</code></pre></li>
<li>ç¼ºç‚¹: <pre><code>æœåŠ¡å™¨å®•æœº: å‘˜å·¥å†™çš„ä»£ç å¾—ä¸åˆ°ä¿éšœ
æœåŠ¡å™¨ç‚¸äº†: æ•´ä¸ªé¡¹ç›®çš„å†å²è®°å½•éƒ½ä¼šä¸¢å¤±</code></pre></li>
</ul>
<h3 id="åˆ†å¸ƒå¼-git"><a href="#åˆ†å¸ƒå¼-git" class="headerlink" title="åˆ†å¸ƒå¼(git)"></a>åˆ†å¸ƒå¼(git)</h3><p>gitæ¯æ¬¡å­˜çš„éƒ½æ˜¯é¡¹ç›®çš„å®Œæ•´å¿«ç…§ éœ€è¦çš„ç¡¬ç›˜ç©ºé—´ä¼šç›¸å¯¹å¤§ä¸€ç‚¹<br>    (Gitå›¢é˜Ÿå¯¹ä»£ç åšäº†æè‡´çš„å‹ç¼© æœ€ç»ˆéœ€è¦çš„å®é™…ç©ºé—´æ¯”svnå¤šä¸äº†å¤ªå¤š å¯æ˜¯Gitçš„å›æ»šé€Ÿåº¦æå¿«)</p>
<ul>
<li>ä¼˜ç‚¹:<pre><code>å®Œå…¨çš„åˆ†å¸ƒå¼</code></pre></li>
<li>ç¼ºç‚¹:    <pre><code>å­¦ä¹ èµ·æ¥æ¯”SVNé™¡å³­</code></pre></li>
</ul>
<h2 id="Gitåº•å±‚å‘½ä»¤"><a href="#Gitåº•å±‚å‘½ä»¤" class="headerlink" title="Gitåº•å±‚å‘½ä»¤"></a>Gitåº•å±‚å‘½ä»¤</h2><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/git.webp" alt="git" class="lazyload"></p>
<h3 id="åº•å±‚å‘½ä»¤"><a href="#åº•å±‚å‘½ä»¤" class="headerlink" title="åº•å±‚å‘½ä»¤"></a>åº•å±‚å‘½ä»¤</h3><pre><code>gitå¯¹è±¡
    git hash-object -w fileUrl : ç”Ÿæˆä¸€ä¸ªkey(hashå€¼):val(å‹ç¼©åçš„æ–‡ä»¶å†…å®¹)é”®å€¼å¯¹å­˜åˆ°.git/objects
treeå¯¹è±¡
    git update-index --add --cacheinfo 100644 hash test.txt : å¾€æš‚å­˜åŒºæ·»åŠ ä¸€æ¡è®°å½•(è®©gitå¯¹è±¡ å¯¹åº” ä¸Šæ–‡ä»¶å)å­˜åˆ°.git/index
    git write-tree : ç”Ÿæˆæ ‘å¯¹è±¡å­˜åˆ°.git/objects
commitå¯¹è±¡
    echo &#39;first commit&#39; | git commit-tree treehash : ç”Ÿæˆä¸€ä¸ªæäº¤å¯¹è±¡å­˜åˆ°.git/objects
å¯¹ä»¥ä¸Šå¯¹è±¡çš„æŸ¥è¯¢
    git cat-file -p hash       : æ‹¿å¯¹åº”å¯¹è±¡çš„å†…å®¹
    git cat-file -t hash       : æ‹¿å¯¹åº”å¯¹è±¡çš„ç±»å‹</code></pre><h3 id="æŸ¥çœ‹æš‚å­˜åŒº"><a href="#æŸ¥çœ‹æš‚å­˜åŒº" class="headerlink" title="æŸ¥çœ‹æš‚å­˜åŒº"></a>æŸ¥çœ‹æš‚å­˜åŒº</h3><pre><code>git ls-files -s        </code></pre><p>â€‹    </p>
<h2 id="Gité«˜å±‚å‘½ä»¤"><a href="#Gité«˜å±‚å‘½ä»¤" class="headerlink" title="Gité«˜å±‚å‘½ä»¤"></a>Gité«˜å±‚å‘½ä»¤</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre><code>git --version</code></pre><h3 id="åˆå§‹åŒ–é…ç½®"><a href="#åˆå§‹åŒ–é…ç½®" class="headerlink" title="åˆå§‹åŒ–é…ç½®"></a>åˆå§‹åŒ–é…ç½®</h3><pre><code>git config --global user.name &quot;damu&quot;
git config --global user.email damu@example.com    
git config --list</code></pre><h3 id="åˆå§‹åŒ–ä»“åº“"><a href="#åˆå§‹åŒ–ä»“åº“" class="headerlink" title="åˆå§‹åŒ–ä»“åº“"></a>åˆå§‹åŒ–ä»“åº“</h3><pre><code>git init</code></pre><h3 id="C-æ–°å¢"><a href="#C-æ–°å¢" class="headerlink" title="C(æ–°å¢)"></a>C(æ–°å¢)</h3><pre><code>åœ¨å·¥ä½œç›®å½•ä¸­æ–°å¢æ–‡ä»¶
git status
git add ./
git commit -m &quot;msg&quot;    </code></pre><h3 id="U-ä¿®æ”¹"><a href="#U-ä¿®æ”¹" class="headerlink" title="U(ä¿®æ”¹)"></a>U(ä¿®æ”¹)</h3><pre><code>åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶
git status
git add ./
git commit -m &quot;msg&quot;     </code></pre><h3 id="D-åˆ é™¤-amp-é‡å‘½å"><a href="#D-åˆ é™¤-amp-é‡å‘½å" class="headerlink" title="D(åˆ é™¤ &amp; é‡å‘½å)"></a>D(åˆ é™¤ &amp; é‡å‘½å)</h3><p>   git rm è¦åˆ é™¤çš„æ–‡ä»¶     git mv è€æ–‡ä»¶ æ–°æ–‡ä»¶<br>   git  status             git  status<br>   git commit -m â€œmsgâ€     git commit -m â€œmsgâ€</p>
<h3 id="R-æŸ¥è¯¢"><a href="#R-æŸ¥è¯¢" class="headerlink" title="R(æŸ¥è¯¢)"></a>R(æŸ¥è¯¢)</h3><p>   git  status   :  æŸ¥çœ‹å·¥ä½œç›®å½•ä¸­æ–‡ä»¶çš„çŠ¶æ€(å·²è·Ÿè¸ª(å·²æäº¤ å·²æš‚å­˜ å·²ä¿®æ”¹) æœªè·Ÿè¸ª)<br>   git  diff     :  æŸ¥çœ‹æœªæš‚å­˜çš„ä¿®æ”¹<br>   git  diff â€“cache : æŸ¥çœ‹æœªæäº¤çš„æš‚å­˜<br>   git  log â€“oneline : æŸ¥çœ‹æäº¤è®°å½•</p>
<h3 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h3><pre><code>åˆ†æ”¯çš„æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªæäº¤å¯¹è±¡!!!
HEAD: 
    æ˜¯ä¸€ä¸ªæŒ‡é’ˆ å®ƒé»˜è®¤æŒ‡å‘masteråˆ†æ”¯ åˆ‡æ¢åˆ†æ”¯æ—¶å…¶å®å°±æ˜¯è®©HEADæŒ‡å‘ä¸åŒçš„åˆ†æ”¯
    æ¯æ¬¡æœ‰æ–°çš„æäº¤æ—¶ HEADéƒ½ä¼šå¸¦ç€å½“å‰æŒ‡å‘çš„åˆ†æ”¯ ä¸€èµ·å¾€å‰ç§»åŠ¨
git  log --oneline --decorate --graph --all : æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®çš„åˆ†æ”¯å›¾  
git branch : æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨
git branch -v: æŸ¥çœ‹åˆ†æ”¯æŒ‡å‘çš„æœ€æ–°çš„æäº¤
git branch name : åœ¨å½“å‰æäº¤å¯¹è±¡ä¸Šåˆ›å»ºæ–°çš„åˆ†æ”¯
git branch name commithash: åœ¨æŒ‡å®šçš„æäº¤å¯¹è±¡ä¸Šåˆ›å»ºæ–°çš„åˆ†æ”¯
git checkout name :     åˆ‡æ¢åˆ†æ”¯
git branch -d name : åˆ é™¤ç©ºçš„åˆ†æ”¯ åˆ é™¤å·²ç»è¢«åˆå¹¶çš„åˆ†æ”¯
git branch -D name : å¼ºåˆ¶åˆ é™¤åˆ†æ”¯ </code></pre><p>â€‹       </p>
<h2 id="Gitåˆ†æ”¯"><a href="#Gitåˆ†æ”¯" class="headerlink" title="Gitåˆ†æ”¯"></a>Gitåˆ†æ”¯</h2><h3 id="gitåˆ†æ”¯æœ¬è´¨"><a href="#gitåˆ†æ”¯æœ¬è´¨" class="headerlink" title="gitåˆ†æ”¯æœ¬è´¨"></a>gitåˆ†æ”¯æœ¬è´¨</h3><pre><code>åˆ†æ”¯æœ¬è´¨æ˜¯ä¸€ä¸ªæäº¤å¯¹è±¡,æ‰€æœ‰çš„åˆ†æ”¯éƒ½ä¼šæœ‰æœºä¼šè¢«HEADæ‰€å¼•ç”¨(HEADä¸€ä¸ªæ—¶åˆ»åªä¼šæŒ‡å‘ä¸€ä¸ªåˆ†æ”¯)
å½“æˆ‘ä»¬æœ‰æ–°çš„æäº¤çš„æ—¶å€™ HEADä¼šæºå¸¦å½“å‰æŒæœ‰çš„åˆ†æ”¯å¾€å‰ç§»åŠ¨</code></pre><h3 id="gitåˆ†æ”¯å‘½ä»¤"><a href="#gitåˆ†æ”¯å‘½ä»¤" class="headerlink" title="gitåˆ†æ”¯å‘½ä»¤"></a>gitåˆ†æ”¯å‘½ä»¤</h3><pre><code>åˆ›å»ºåˆ†æ”¯            : git branch branchname
åˆ‡æ¢åˆ†æ”¯           : git checkout  branchname
åˆ›å»º&amp;åˆ‡æ¢åˆ†æ”¯     : git checkout -b branchname
ç‰ˆæœ¬ç©¿æ¢­(æ—¶å…‰æœº) :  git branch branchname commitHash  
æ™®é€šåˆ é™¤åˆ†æ”¯      : git  branch -d branchname
å¼ºåˆ¶åˆ é™¤åˆ†æ”¯      : git  branch -D branchname
åˆå¹¶åˆ†æ”¯         : git merge branchname
    å¿«è¿›åˆå¹¶ --&gt; ä¸ä¼šäº§ç”Ÿå†²çª
    å…¸å‹åˆå¹¶ --&gt; æœ‰æœºä¼šäº§ç”Ÿå†²çª
    è§£å†³å†²çª --&gt; æ‰“å¼€å†²çªçš„æ–‡ä»¶ è¿›è¡Œä¿®æ”¹ add commit </code></pre><p>â€‹    </p>
<pre><code>æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨ : git branch
æŸ¥çœ‹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯åˆ—è¡¨: git branch --merged
    ä¸€æ—¦å‡ºç°åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ å°±åº”è¯¥åˆ é™¤
æŸ¥çœ‹æ²¡æœ‰åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯åˆ—è¡¨: git branch --no-merged
    ä¸€æ—¦å‡ºç°åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ å°±åº”è¯¥è§‚å¯Ÿä¸€ä¸‹æ˜¯å¦éœ€è¦åˆå¹¶</code></pre><h3 id="gitåˆ†æ”¯çš„æ³¨æ„ç‚¹"><a href="#gitåˆ†æ”¯çš„æ³¨æ„ç‚¹" class="headerlink" title="gitåˆ†æ”¯çš„æ³¨æ„ç‚¹"></a>gitåˆ†æ”¯çš„æ³¨æ„ç‚¹</h3><pre><code>åœ¨åˆ‡æ¢çš„æ—¶å€™ ä¸€å®šè¦ä¿è¯å½“å‰åˆ†æ”¯æ˜¯å¹²å‡€çš„!!!
    å…è®¸åˆ‡æ¢åˆ†æ”¯: 
        åˆ†æ”¯ä¸Šæ‰€æœ‰çš„å†…å®¹å¤„äº å·²æäº¤çŠ¶æ€    
        (é¿å…)åˆ†æ”¯ä¸Šçš„å†…å®¹æ˜¯åˆå§‹åŒ–åˆ›å»º å¤„äºæœªè·Ÿè¸ªçŠ¶æ€
        (é¿å…)åˆ†æ”¯ä¸Šçš„å†…å®¹æ˜¯åˆå§‹åŒ–åˆ›å»º ç¬¬ä¸€æ¬¡å¤„äºå·²æš‚å­˜çŠ¶æ€
    ä¸å…è®¸åˆ‡åˆ†æ”¯:
         åˆ†æ”¯ä¸Šæ‰€æœ‰çš„å†…å®¹å¤„äº å·²ä¿®æ”¹çŠ¶æ€  æˆ– ç¬¬äºŒæ¬¡ä»¥åçš„å·²æš‚å­˜çŠ¶æ€  

åœ¨åˆ†æ”¯ä¸Šçš„å·¥ä½œåšåˆ°ä¸€åŠæ—¶ å¦‚æœæœ‰åˆ‡æ¢åˆ†æ”¯çš„éœ€æ±‚, æˆ‘ä»¬åº”è¯¥å°†ç°æœ‰çš„å·¥ä½œå­˜å‚¨èµ·æ¥
    git stash : ä¼šå°†å½“å‰åˆ†æ”¯ä¸Šçš„å·¥ä½œæ¨åˆ°ä¸€ä¸ªæ ˆä¸­
    åˆ†æ”¯åˆ‡æ¢  è¿›è¡Œå…¶ä»–å·¥ä½œ å®Œæˆå…¶ä»–å·¥ä½œå åˆ‡å›åŸåˆ†æ”¯
    git stash apply : å°†æ ˆé¡¶çš„å·¥ä½œå†…å®¹è¿˜åŸ ä½†ä¸è®©ä»»ä½•å†…å®¹å‡ºæ ˆ 
    git stash drop  : å–å‡ºæ ˆé¡¶çš„å·¥ä½œå†…å®¹å å°±åº”è¯¥å°†å…¶åˆ é™¤(å‡ºæ ˆ)
    git stash pop   :      git stash apply +  git stash drop 
    git stash list : æŸ¥çœ‹å­˜å‚¨</code></pre><h3 id="åæ‚”è¯"><a href="#åæ‚”è¯" class="headerlink" title="åæ‚”è¯"></a>åæ‚”è¯</h3><pre><code>æ’¤é”€å·¥ä½œç›®å½•çš„ä¿®æ”¹   :  git checkout -- filename
æ’¤é”€æš‚å­˜åŒºçš„ä¿®æ”¹     :  git reset HEAD  filename
æ’¤é”€æäº¤             :  git commit --amend</code></pre><h3 id="resetä¸‰éƒ¨æ›²"><a href="#resetä¸‰éƒ¨æ›²" class="headerlink" title="resetä¸‰éƒ¨æ›²"></a>resetä¸‰éƒ¨æ›²</h3><pre><code>git reset --soft commithash    ---&gt; ç”¨commithashçš„å†…å®¹é‡ç½®HEADå†…å®¹
git reset [--mixed] commithash ---&gt; ç”¨commithashçš„å†…å®¹é‡ç½®HEADå†…å®¹ é‡ç½®æš‚å­˜åŒº
git reset --hard commithash    ---&gt; ç”¨commithashçš„å†…å®¹é‡ç½®HEADå†…å®¹ é‡ç½®æš‚å­˜åŒº é‡ç½®å·¥ä½œç›®å½•</code></pre><h3 id="è·¯å¾„reset"><a href="#è·¯å¾„reset" class="headerlink" title="è·¯å¾„reset"></a>è·¯å¾„reset</h3><pre><code>æ‰€æœ‰çš„è·¯å¾„resetéƒ½è¦çœç•¥ç¬¬ä¸€æ­¥!!!
    ç¬¬ä¸€æ­¥æ˜¯é‡ç½®HEADå†…å®¹  æˆ‘ä»¬çŸ¥é“HEADæœ¬è´¨æŒ‡å‘ä¸€ä¸ªåˆ†æ”¯ åˆ†æ”¯çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæäº¤å¯¹è±¡ 
    æäº¤å¯¹è±¡ æŒ‡å‘ä¸€ä¸ªæ ‘å¯¹è±¡ æ ‘å¯¹è±¡åˆå¾ˆæœ‰å¯èƒ½æŒ‡å‘å¤šä¸ªgitå¯¹è±¡ ä¸€ä¸ªgitå¯¹è±¡ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶!!!
    HEADå¯ä»¥ä»£è¡¨ä¸€ç³»åˆ—æ–‡ä»¶çš„çŠ¶æ€!!!!
git reset [--mixed] commithash filename  
     ç”¨commithashä¸­filenameçš„å†…å®¹é‡ç½®æš‚å­˜åŒº</code></pre><h3 id="checkoutæ·±å…¥ç†è§£"><a href="#checkoutæ·±å…¥ç†è§£" class="headerlink" title="checkoutæ·±å…¥ç†è§£"></a>checkoutæ·±å…¥ç†è§£</h3><pre><code>git   checkout brancname  è·Ÿ   git reset --hard commithashç‰¹åˆ«åƒ
    å…±åŒç‚¹
        éƒ½éœ€è¦é‡ç½® HEAD   æš‚å­˜åŒº   å·¥ä½œç›®å½•
    åŒºåˆ«
         checkoutå¯¹å·¥ä½œç›®å½•æ˜¯å®‰å…¨çš„    reset --hardæ˜¯å¼ºåˆ¶è¦†ç›–
         checkoutåŠ¨HEADæ—¶ä¸ä¼šå¸¦ç€åˆ†æ”¯èµ°è€Œæ˜¯åˆ‡æ¢åˆ†æ”¯
         reset --hardæ—¶æ˜¯å¸¦ç€åˆ†æ”¯èµ°

checkout + è·¯å¾„
      git checkout commithash  filename   
           é‡ç½®æš‚å­˜åŒº
           é‡ç½®å·¥ä½œç›®å½•
      git checkout -- filename  
          é‡ç½®å·¥ä½œç›®å½•  </code></pre><h2 id="eslint"><a href="#eslint" class="headerlink" title="eslint"></a>eslint</h2><h3 id="eslint-1"><a href="#eslint-1" class="headerlink" title="eslint"></a>eslint</h3><pre><code>jsä»£ç çš„æ£€æŸ¥å·¥å…·
ä¸‹è½½: npm i eslint -D
ä½¿ç”¨:
    ç”Ÿæˆé…ç½®æ–‡ä»¶ npx eslint --init
    æ£€æŸ¥jsæ–‡ä»¶   npx eslint ç›®å½•å
    å‘½ä¸­çš„è§„åˆ™:
        å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨å•å¼•å·
        è¯­å¥ç»“å°¾ä¸èƒ½æœ‰åˆ†å·
        æ–‡ä»¶çš„æœ€åå¿…é¡»è¦æœ‰æ¢è¡Œ</code></pre><h3 id="eslintç»“åˆgit"><a href="#eslintç»“åˆgit" class="headerlink" title="eslintç»“åˆgit"></a>eslintç»“åˆgit</h3><pre><code>husky: å“ˆå£«å¥‡, ä¸ºGitä»“åº“è®¾ç½®é’©å­ç¨‹åº
ä½¿ç”¨
    åœ¨ä»“åº“åˆå§‹åŒ–å®Œæ¯•ä¹‹å å†å»å®‰è£…å“ˆå£«å¥‡
    åœ¨package.jsonæ–‡ä»¶å†™é…ç½®
        &quot;husky&quot;: {
            &quot;hooks&quot;: {
              &quot;pre-commit&quot;: &quot;npm run lint&quot;   
              //åœ¨git commitä¹‹å‰ä¸€å®šè¦é€šè¿‡npm run lintçš„æ£€æŸ¥
              // åªæœ‰npm run lintä¸æŠ¥é”™æ—¶ commitæ‰èƒ½çœŸæ­£çš„è¿è¡Œ
            }
          }           </code></pre><h2 id="è¿œç¨‹åä½œ"><a href="#è¿œç¨‹åä½œ" class="headerlink" title="è¿œç¨‹åä½œ"></a>è¿œç¨‹åä½œ</h2><h3 id="ä¸‰ä¸ªå¿…é¡»æ‡‚å¾—æ¦‚å¿µ"><a href="#ä¸‰ä¸ªå¿…é¡»æ‡‚å¾—æ¦‚å¿µ" class="headerlink" title="ä¸‰ä¸ªå¿…é¡»æ‡‚å¾—æ¦‚å¿µ"></a>ä¸‰ä¸ªå¿…é¡»æ‡‚å¾—æ¦‚å¿µ</h3><pre><code>æœ¬åœ°åˆ†æ”¯
è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯(remote/åˆ†æ”¯å)
è¿œç¨‹åˆ†æ”¯</code></pre><h3 id="è¿œç¨‹åä½œçš„åŸºæœ¬æµç¨‹"><a href="#è¿œç¨‹åä½œçš„åŸºæœ¬æµç¨‹" class="headerlink" title="è¿œç¨‹åä½œçš„åŸºæœ¬æµç¨‹"></a>è¿œç¨‹åä½œçš„åŸºæœ¬æµç¨‹</h3><pre><code>ç¬¬ä¸€æ­¥: é¡¹ç›®ç»ç†åˆ›å»ºä¸€ä¸ªç©ºçš„è¿œç¨‹ä»“åº“
ç¬¬äºŒæ­¥: é¡¹ç›®ç»ç†åˆ›å»ºä¸€ä¸ªå¾…æ¨é€çš„æœ¬åœ°ä»“åº“
ç¬¬ä¸‰æ­¥: ä¸ºè¿œç¨‹ä»“åº“é…åˆ«å  é…å®Œç”¨æˆ·å é‚®ç®±
ç¬¬å››æ­¥: åœ¨æœ¬åœ°ä»“åº“ä¸­åˆå§‹åŒ–ä»£ç  æäº¤ä»£ç 
ç¬¬äº”æ­¥: æ¨é€
ç¬¬å…­æ­¥: é‚€è¯·æˆå‘˜
ç¬¬ä¸ƒæ­¥: æˆå‘˜å…‹éš†è¿œç¨‹ä»“åº“
ç¬¬å…«æ­¥: æˆå‘˜åšå‡ºä¿®æ”¹
ç¬¬ä¹æ­¥: æˆå‘˜æ¨é€è‡ªå·±çš„ä¿®æ”¹
ç¬¬åæ­¥: é¡¹ç›®ç»ç†æ‹‰å–æˆå‘˜çš„ä¿®æ”¹</code></pre><h3 id="åšè·Ÿè¸ª"><a href="#åšè·Ÿè¸ª" class="headerlink" title="åšè·Ÿè¸ª"></a>åšè·Ÿè¸ª</h3><pre><code>å…‹éš†æ‰ä»“åº“æ—¶ ä¼šè‡ªåŠ¨ä¸ºmasteråšè·Ÿè¸ª
æœ¬åœ°æ²¡æœ‰åˆ†æ”¯
    git checkout --track è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯(remote/åˆ†æ”¯å)
æœ¬åœ°å·²ç»åˆ›å»ºäº†åˆ†æ”¯
    git branch -u è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯(remote/åˆ†æ”¯å)</code></pre><h3 id="æ¨é€"><a href="#æ¨é€" class="headerlink" title="æ¨é€"></a>æ¨é€</h3><pre><code>git push</code></pre><h3 id="æ‹‰å–"><a href="#æ‹‰å–" class="headerlink" title="æ‹‰å–"></a>æ‹‰å–</h3><pre><code>git pull</code></pre><h3 id="pull-request"><a href="#pull-request" class="headerlink" title="pull request"></a>pull request</h3><pre><code>è®©ç¬¬ä¸‰æ–¹äººå‘˜å‚ä¸åˆ°é¡¹ç›®ä¸­ fork</code></pre><h3 id="ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„äº”ä¸ªå‘½ä»¤"><a href="#ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„äº”ä¸ªå‘½ä»¤" class="headerlink" title="ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„äº”ä¸ªå‘½ä»¤"></a>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„äº”ä¸ªå‘½ä»¤</h3><pre><code>git status
git add
git commit
git push
git pull</code></pre><p>â€‹    </p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/06/14/nodejs/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="NodeJså­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>NodeJså­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´06æœˆ14æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>4.6k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 20 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="ä¸€ã€åŸºæœ¬çŸ¥è¯†"><a href="#ä¸€ã€åŸºæœ¬çŸ¥è¯†" class="headerlink" title="ä¸€ã€åŸºæœ¬çŸ¥è¯†"></a>ä¸€ã€åŸºæœ¬çŸ¥è¯†</h2><h3 id="1ã€å‘½ä»¤è¡Œçª—å£"><a href="#1ã€å‘½ä»¤è¡Œçª—å£" class="headerlink" title="1ã€å‘½ä»¤è¡Œçª—å£"></a>1ã€å‘½ä»¤è¡Œçª—å£</h3><ul>
<li><p>åˆç§°cmdçª—å£ã€ç»ˆç«¯ã€shell</p>
</li>
<li><p>æ‰“å¼€æ–¹å¼ï¼š</p>
<ul>
<li><p>winï¼š<kbd>win</kbd>+<kbd>R</kbd>ï¼Œè¾“å…¥<code>cmd</code>ï¼Œæ‰“å¼€</p>
</li>
<li><p>mac\linux: <code>terminal</code></p>
</li>
</ul>
</li>
<li><p>å‰é¢æ˜¾ç¤ºçš„ä¸ºç›®å‰æ‰€åœ¨çš„ç›®å½•</p>
</li>
<li><p>å¸¸ç”¨çš„å‘½ä»¤</p>
<ul>
<li>dir åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶</li>
<li>cd  ç›®å½•å è¿›å…¥åˆ°æŒ‡å®šçš„ç›®å½•</li>
<li>ç›®å½•<ul>
<li>. è¡¨ç¤ºå½“å‰ç›®å½•</li>
<li>.. è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•</li>
</ul>
</li>
<li>md ç›®å½•å åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</li>
<li>rd ç›®å½•å åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹</li>
<li>è¾“å…¥å½“å‰ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶å(åŒ…æ‹¬åç¼€)å¯ä»¥æ‰“å¼€è¿™ä¸ªæ–‡ä»¶</li>
</ul>
</li>
<li><p>ç¯å¢ƒå˜é‡(Windowsç³»ç»Ÿä¸­çš„å˜é‡)</p>
<ul>
<li>path  </li>
<li>å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œçª—å£æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–è°ƒç”¨ä¸€ä¸ªç¨‹åºæ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆåœ¨å½“å‰ç›®å½•ä¸‹å¯»æ‰¾æ–‡ä»¶ç¨‹åºï¼Œå¦‚æœæ‰¾åˆ°äº†åˆ™ç›´æ¥æ‰“å¼€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šä¾æ¬¡åˆ°ç¯å¢ƒå˜é‡pathçš„è·¯å¾„ä¸­å¯»æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°ä¸ºæ­¢ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™æŠ¥é”™</li>
<li>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›ç»å¸¸éœ€è¦è®¿é—®çš„ç¨‹åºå’Œæ–‡ä»¶çš„è·¯å¾„æ·»åŠ åˆ°pahtä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»æ„ä½ç½®æ¥è®¿é—®è¿™äº›æ–‡ä»¶å’Œç¨‹åºäº†</li>
</ul>
</li>
</ul>
<h3 id="2ã€è¿›ç¨‹å’Œçº¿ç¨‹"><a href="#2ã€è¿›ç¨‹å’Œçº¿ç¨‹" class="headerlink" title="2ã€è¿›ç¨‹å’Œçº¿ç¨‹"></a>2ã€è¿›ç¨‹å’Œçº¿ç¨‹</h3><h4 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h4><ul>
<li>è¿›ç¨‹è´Ÿè´£ä¸ºç¨‹åºçš„è¿è¡Œæä¾›å¿…å¤‡çš„ç¯å¢ƒ</li>
<li>è¿›ç¨‹å°±ç›¸å½“äºå·¥å‚ä¸­çš„è½¦é—´</li>
</ul>
<h4 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h4><ul>
<li>çº¿ç¨‹æ˜¯è®¡ç®—æœºä¸­çš„æœ€å°çš„è®¡ç®—å•ä½ï¼Œçº¿ç¨‹è´Ÿè´£æ‰§è¡Œè¿›ç¨‹ä¸­çš„ç¨‹åº</li>
<li>çº¿ç¨‹å°±ç›¸å½“äºå·¥å‚ä¸­çš„å·¥äºº</li>
<li><ul>
<li>å•çº¿ç¨‹<ul>
<li>jsæ˜¯å•çº¿ç¨‹</li>
</ul>
</li>
<li>å¤šçº¿ç¨‹</li>
</ul>
</li>
</ul>
<h2 id="äºŒã€Node-jsç®€ä»‹"><a href="#äºŒã€Node-jsç®€ä»‹" class="headerlink" title="äºŒã€Node.jsç®€ä»‹"></a>äºŒã€Node.jsç®€ä»‹</h2><ul>
<li>nodejsæ˜¯ä¸€ä¸ªèƒ½å¤Ÿåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œjsçš„å¼€æ”¾æºä»£ç ã€è·¨å¹³å°çš„jsè¿è¡Œç¯å¢ƒ</li>
<li>nodeé‡‡ç”¨googleå¼€å‘çš„v8å¼•æ“è¿è¡Œjsä»£ç ï¼Œä½¿ç”¨</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1588819260571.png" alt="1588819260571" class="lazyload"></p>
<h2 id="ä¸‰ã€nodeä½¿ç”¨"><a href="#ä¸‰ã€nodeä½¿ç”¨" class="headerlink" title="ä¸‰ã€nodeä½¿ç”¨"></a>ä¸‰ã€nodeä½¿ç”¨</h2><pre><code class="shell">node
&gt; var i = 0
&gt; console.log(i)</code></pre>
<pre><code class="shell">node hello.js</code></pre>
<h2 id="å››ã€COMMONJSè§„èŒƒ"><a href="#å››ã€COMMONJSè§„èŒƒ" class="headerlink" title="å››ã€COMMONJSè§„èŒƒ"></a>å››ã€COMMONJSè§„èŒƒ</h2><h3 id="1ã€ECMAScriptæ ‡å‡†çš„ç¼ºé™·"><a href="#1ã€ECMAScriptæ ‡å‡†çš„ç¼ºé™·" class="headerlink" title="1ã€ECMAScriptæ ‡å‡†çš„ç¼ºé™·"></a>1ã€ECMAScriptæ ‡å‡†çš„ç¼ºé™·</h3><ul>
<li>æ²¡æœ‰æ¨¡å—ç³»ç»Ÿ</li>
<li>æ ‡å‡†åº“è¾ƒå°‘</li>
<li>æ²¡æœ‰æ ‡å‡†æ¥å£</li>
<li>ç¼ºä¹ç®¡ç†ç³»ç»Ÿ</li>
</ul>
<h3 id="2ã€æ¨¡å—åŒ–-module-js"><a href="#2ã€æ¨¡å—åŒ–-module-js" class="headerlink" title="2ã€æ¨¡å—åŒ– module.js"></a>2ã€æ¨¡å—åŒ– module.js</h3><ul>
<li><p>åœ¨nodeä¸­ï¼Œä¸€ä¸ªjså°±æ˜¯ä¸€ä¸ªæ¨¡å—</p>
</li>
<li><p>åœ¨Nodeä¸­ï¼Œæ¯ä¸€ä¸ªjsæ–‡ä»¶ä¸­çš„jsä»£ç éƒ½æ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè€Œä¸æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¸€ä¸ªæ¨¡å—ä¸­çš„å˜é‡å’Œå‡½æ•°åœ¨å…¶ä»–æ¨¡å—ä¸­æ— æ³•è®¿é—®</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡exportsæ¥å‘å¤–éƒ¨æš´éœ²å˜é‡å’Œæ–¹æ³•ï¼Œåªéœ€è¦å°†è¦æš´éœ²ç»™å¤–éƒ¨çš„å˜é‡æˆ–æ–¹æ³•è®¾ç½®ä¸ºexportsçš„å±æ€§å³å¯</p>
<pre><code class="javascript">exports.x=&quot;æˆ‘æ˜¯modeule.jsä¸­çš„x&quot;
exports.fn = function(){}</code></pre>
</li>
<li><p>åœ¨Nodeä¸­æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡globalï¼Œå®ƒçš„ä½œç”¨å’Œç½‘é¡µä¸­windowç±»ä¼¼ï¼Œåœ¨å…¨å±€ä¸­åˆ›å»ºçš„å˜é‡éƒ½ä¼šä½œä¸ºglobalçš„å±æ€§ä¿å­˜ï¼Œåœ¨å…¨å±€ä¸­åˆ›å»ºçš„å‡½æ•°éƒ½ä¼šä½œä¸ºglobalçš„æ–¹æ³•ä¿å­˜</p>
<pre><code class="javascript">var a = 10;
console.log(global.a);</code></pre>
</li>
<li><p>arguments</p>
<ul>
<li>arguments.callee è¿™ä¸ªå±æ€§ä¿å­˜çš„æ˜¯å½“å‰æ‰§è¡Œçš„å‡½æ•°å¯¹è±¡</li>
</ul>
</li>
<li><p>åœ¨nodeæ‰§è¡Œæ¨¡å—ä¸­çš„ä»£ç æ—¶ï¼Œå®ƒé¦–å…ˆä¼šåœ¨ä»£ç çš„æœ€é¡¶éƒ¨æ·»åŠ ä»£ç <code>function(exports, require, module, __filename, __dirname){</code>ï¼Œåœ¨ä»£ç çš„æœ€åº•éƒ¨ï¼Œæ·»åŠ ä»£ç <code>}</code>.å®é™…ä¸Šæ¨¡å—ä¸­çš„ä»£ç éƒ½æ˜¯åŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æ‰§è¡Œçš„ï¼Œå¹¶ä¸”åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼ŒåŒæ—¶ä¼ é€’è¿›äº†5ä¸ªå®å‚(<code>arguments.length</code>)ã€‚</p>
<ul>
<li><p>exports è¯¥å¯¹è±¡ç”¨æ¥å°†å˜é‡æˆ–å‡½æ•°æš´éœ²åˆ°å¤–éƒ¨</p>
</li>
<li><p>require å‡½æ•°ï¼Œç”¨æ¥å¼•å…¥å¤–éƒ¨çš„æ¨¡å—</p>
</li>
<li><p>module </p>
<ul>
<li><p>moduleä»£è¡¨çš„æ˜¯å½“å‰æ¨¡å—æœ¬èº«</p>
</li>
<li><p>exportså°±æ˜¯moduleçš„å±æ€§</p>
</li>
<li><p>æ—¢å¯ä»¥ä½¿ç”¨exportså¯¼å‡ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨modeule.exportså¯¼å‡º <code>module.exports==exports</code>ï¼Œ<code>module.exports.a  exports.a</code></p>
</li>
<li><p>é€šè¿‡exportsåªèƒ½ä½¿ç”¨.çš„æ–¹å¼æ¥å‘å¤–æš´éœ²å†…éƒ¨å˜é‡ï¼Œè€Œmodele.exportsæ—¢å¯ä»¥é€šè¿‡.çš„å½¢å¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶</p>
<pre><code class="javascript">exports.xxx = xxx
module.exports.xxx = xxx
module.exports = {
    name = &quot;swk&quot;
    age = 15000
    sayName = function{
        console.log(name)
    }
}</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>__filename å½“å‰æ¨¡å—çš„å®Œæ•´è·¯å¾„</p>
</li>
<li><p>__dirname å½“å‰æ¨¡å—æ‰€åœ¨æ–‡ä»¶å¤¹çš„å®Œæ•´è·¯å¾„</p>
</li>
</ul>
<ul>
<li>åœ¨nodeä¸­é€šè¿‡require()å‡½æ•°æ¥å¼•å…¥å¤–éƒ¨çš„æ¨¡å—ï¼Œrequire()å¯ä»¥ä¼ é€’ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œnodeå°†ä¼šè‡ªåŠ¨æ ¹æ®è¯¥è·¯å¾„æ¥å¼•å…¥å¤–éƒ¨æ¨¡å—ï¼Œè¿™é‡Œçš„è·¯å¾„å¦‚æœä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¿…é¡»ä»¥.æˆ–..å¼€å¤´ã€‚ä½¿ç”¨requireå¼•å…¥æ¨¡å—åï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä»£è¡¨çš„æ˜¯å¼•å…¥çš„æ¨¡å—</li>
</ul>
<pre><code class="javascript">var md = require(&quot;./modele.js&quot;);
console.log(md)</code></pre>
<ul>
<li><p>æ¨¡å—åˆ†ä¸ºä¸¤å¤§ç±»</p>
<ul>
<li><p>æ ¸å¿ƒæ¨¡å—</p>
<ul>
<li>ç”±nodeå¼•æ“æä¾›çš„æ¨¡å—</li>
</ul>
</li>
<li><p>æ–‡ä»¶æ¨¡å—</p>
<ul>
<li>ç”±ç”¨æˆ·è‡ªå·±åˆ›å»ºçš„æ¨¡å—</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3ã€CommonJSè§„èŒƒ"><a href="#3ã€CommonJSè§„èŒƒ" class="headerlink" title="3ã€CommonJSè§„èŒƒ"></a>3ã€CommonJSè§„èŒƒ</h3><ul>
<li>CommonJSè§„èŒƒçš„æå‡ºï¼Œä¸»è¦æ˜¯ä¸ºäº†å¼¥è¡¥å½“å‰JavaScriptæ²¡æœ‰æ ‡å‡†çš„ç¼ºé™·ã€‚</li>
<li>CommonJSè§„èŒƒä¸ºjsåˆ¶å®šäº†ä¸€ä¸ªç¾å¥½çš„æ„¿æ™¯ï¼Œå¸Œæœ›jsèƒ½å¤Ÿåœ¨ä»»ä½•åœ°æ–¹è¿è¡Œã€‚</li>
<li>CommonJSè§„èŒƒå¯¹æ¨¡å—çš„å®šä¹‰ååˆ†ç®€å•<ul>
<li>æ¨¡å—å¼•ç”¨</li>
<li>æ¨¡å—å®šä¹‰</li>
<li>æ¨¡å—æ ‡è¯†<ul>
<li>æˆ‘ä»¬ä½¿ç”¨require()å¼•å…¥å¤–éƒ¨æ¨¡å—æ—¶ï¼Œä½¿ç”¨çš„å°±æ˜¯æ¨¡å—æ ‡è¯†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¨¡å—æ ‡è¯†æ¥æ‰¾åˆ°æŒ‡å®šçš„æ¨¡å—</li>
<li>æ ¸å¿ƒæ¨¡å—çš„æ ‡è¯†å°±æ˜¯æ¨¡å—çš„åå­—</li>
<li>æ–‡ä»¶æ¨¡å—çš„æ ‡è¯†å°±æ˜¯æ–‡ä»¶çš„è·¯å¾„(ç»å¯¹ã€ç›¸å¯¹)ï¼Œç›¸å¯¹è·¯å¾„ä½¿ç”¨.æˆ–..å¼€å¤´</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="äº”ã€åŒ…-Package"><a href="#äº”ã€åŒ…-Package" class="headerlink" title="äº”ã€åŒ… Package"></a>äº”ã€åŒ… Package</h2><h3 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><ul>
<li>CommonJSçš„åŒ…è§„èŒƒå…è®¸æˆ‘ä»¬å°†ä¸€ç»„ç›¸å…³çš„<strong>æ¨¡å—ç»„åˆåˆ°ä¸€èµ·</strong>ï¼Œå½¢æˆä¸€ç»„å®Œæ•´çš„å·¥å…·ã€‚</li>
<li>CommonJSçš„åŒ…è§„èŒƒç”±åŒ…ç»“æ„å’ŒåŒ…æè¿°æ–‡ä»¶ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ</li>
<li>åŒ…ç»“æ„ï¼šç”¨äºç»„ç»‡åŒ…ä¸­çš„å„ç§æ–‡ä»¶</li>
<li>åŒ…æè¿°æ–‡ä»¶ï¼šæè¿°åŒ…çš„ç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¾›å¤–éƒ¨è¯»å–åˆ†æ</li>
</ul>
<h3 id="2ã€åŒ…ç»“æ„"><a href="#2ã€åŒ…ç»“æ„" class="headerlink" title="2ã€åŒ…ç»“æ„"></a>2ã€åŒ…ç»“æ„</h3><p>åŒ…å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œè§£å‹ä»¥åè¿˜åŸä¸ºç›®å½•ã€‚</p>
<p>ç¬¦åˆè§„èŒƒçš„ç›®å½•ï¼Œåº”è¯¥åŒ…å«å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li><p><strong>package.json æè¿°æ–‡ä»¶</strong></p>
<pre><code class="json">{
    &quot;dependecies&quot;: {}, // ä¾èµ–
    &quot;description&quot;: &quot;æè¿°&quot;,
    &quot;devDependencies&quot;: { // å¼€å‘ä¾èµ–
        ...
    }
    ...
    &quot;version&quot;: &quot;v1.0.0&quot;
}</code></pre>
</li>
</ul>
<ul>
<li><p>bin å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</p>
</li>
<li><p>lib jsä»£ç </p>
</li>
<li><p>doc æ–‡æ¡£</p>
</li>
<li><p>test å•å…ƒæµ‹è¯•</p>
</li>
</ul>
<h3 id="3ã€åŒ…æè¿°æ–‡ä»¶"><a href="#3ã€åŒ…æè¿°æ–‡ä»¶" class="headerlink" title="3ã€åŒ…æè¿°æ–‡ä»¶"></a>3ã€åŒ…æè¿°æ–‡ä»¶</h3><p>åŒ…æè¿°æ–‡ä»¶ç”¨äºè¡¨è¾¾éä»£ç ç›¸å…³çš„ä¿¡æ¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªJSONæ ¼å¼çš„æ–‡ä»¶â€”â€”package.jsonï¼Œä½äºåŒ…çš„æ ¹ç›®å½•ä¸‹ï¼Œæ˜¯åŒ…çš„é‡è¦ç»„æˆéƒ¨åˆ†</p>
<p>package.jsonä¸­çš„å­—æ®µ(ä¸èƒ½å†™æ³¨é‡Š)</p>
<ul>
<li><code>name</code></li>
<li><code>description</code></li>
<li><code>version</code></li>
<li><code>keywords</code></li>
<li><code>maintainers</code></li>
<li><code>contributors</code></li>
<li><code>bugs</code></li>
<li><code>licenses</code></li>
<li><code>repositories</code></li>
<li><code>dependencies</code></li>
<li><code>homepage</code></li>
<li><code>os</code></li>
<li><code>cpu</code></li>
<li><code>engine</code></li>
<li><code>builtin</code></li>
<li><code>directories</code></li>
<li><code>implements</code></li>
<li><code>scripts</code></li>
<li><code>author</code></li>
<li><code>bin</code></li>
<li><code>main</code></li>
<li><code>devDependencies</code></li>
</ul>
<ol>
<li>æ ‡è¯†</li>
<li>ä¾èµ–</li>
<li>è¿è¡Œ/æ‰“åŒ…</li>
</ol>
<p>é€šè¿‡<code>npm run</code></p>
<h2 id="å…­ã€NPM-Node-Package-Manager"><a href="#å…­ã€NPM-Node-Package-Manager" class="headerlink" title="å…­ã€NPM(Node Package Manager)"></a>å…­ã€NPM(Node Package Manager)</h2><h3 id="1ã€ç®€ä»‹-1"><a href="#1ã€ç®€ä»‹-1" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><ul>
<li><p>CommonJSåŒ…è§„èŒƒæ˜¯ç†è®ºï¼ŒNPMæ˜¯å…¶ä¸­ä¸€ç§å®è·µ</p>
</li>
<li><p>å¯¹äºNodeè€Œè¨€ï¼ŒNPMå¸®åŠ©å…¶å®Œæˆäº†ç¬¬ä¸‰æ–¹æ¨¡å—çš„å‘å¸ƒã€å®‰è£…å’Œä¾èµ–ç­‰ã€‚å€ŸåŠ©NPMï¼ŒNodeä¸ç¬¬ä¸‰æ–¹æ¨¡å—ä¹‹é—´å½¢æˆäº†å¾ˆå¥½çš„ä¸€ä¸ªç”Ÿæ€ç³»ç»Ÿã€‚</p>
</li>
</ul>
<h3 id="2ã€NPMå‘½ä»¤"><a href="#2ã€NPMå‘½ä»¤" class="headerlink" title="2ã€NPMå‘½ä»¤"></a>2ã€NPMå‘½ä»¤</h3><ul>
<li><code>npm -v</code> æŸ¥çœ‹npmç‰ˆæœ¬</li>
<li><code>npm version</code> æŸ¥çœ‹æ‰€æœ‰æ¨¡å—ç‰ˆæœ¬</li>
<li><code>npm</code> å¸®åŠ©è¯´æ˜</li>
<li><code>npm init</code> åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºpackage.jsonæ–‡ä»¶ï¼Œé©¼å³°å‘½åæ”¹ä¸º_è¿æ¥</li>
<li><code>npm search åŒ…å</code>   æœç´¢åŒ…</li>
<li><code>npm install/i åŒ…å</code>  å®‰è£…åŒ…ï¼Œå°†ä¼šåœ¨å½“å‰ç›®å½•çš„<code>node_modules</code>ä¸‹ï¼Œç›´æ¥é€šè¿‡åŒ…åå¼•å…¥å³å¯ï¼Œ<code>var math = require(&quot;math&quot;)</code></li>
<li><code>npm install åŒ…å -g</code>  å…¨å±€å®‰è£…åŒ…ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸€äº›å·¥å…·</li>
<li><code>npm remove/r åŒ…å</code>  åˆ é™¤ä¸€ä¸ªæ¨¡å—</li>
<li><code>npm install åŒ…å --save</code>  <strong>å®‰è£…åŒ…å¹¶å°†å…¶æ·»åŠ åˆ°ä¾èµ–ä¸­</strong>ï¼Œä¸€èˆ¬ä¸ä¼ node_modulesï¼Œå¤ªå¤§ã€ä¸èƒ½ä¿è¯æ˜¯æœ€æ–°çš„ï¼Œæœ‰äº†ä¾èµ–ï¼Œä¼ package.jsonç›´æ¥<code>npm install</code>å¯ä»¥ä¸‹è½½å½“å‰é¡¹ç›®æ‰€ä¾èµ–çš„åŒ…</li>
<li><code>npm uninstall åŒ…å</code>  å¸è½½åŒ…</li>
<li><code>npm install æ–‡ä»¶è·¯å¾„</code>  ä»æœ¬åœ°å®‰è£…</li>
<li><code>npm install åŒ…å -registry=åœ°å€</code>  ä»é•œåƒæºå®‰è£…åŒ…</li>
<li><code>npm config set registry åœ°å€</code>  è®¾ç½®é•œåƒæº</li>
</ul>
<p>æ·˜å®é•œåƒï¼š<a href="https://npm.taobao.org" target="_blank" rel="noopener">https://npm.taobao.org</a></p>
<p>ä¸€èˆ¬ä¸ç›´æ¥è®¾ç½®å®˜æ–¹åŸç‰ˆnpmæ›¿æ¢ä¸ºå…¶ä»–æºï¼Œå¯ä»¥ä½¿ç”¨cnpm</p>
<ul>
<li><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code>  </li>
</ul>
<p>æ³¨ï¼š</p>
<ul>
<li>Nodeåœ¨ä½¿ç”¨æ¨¡å—åå­—æ¥å¼•å…¥æ¨¡å—æ—¶ï¼Œå®ƒä¼šé¦–å…ˆåœ¨å½“å‰ç›®å½•çš„node_modulesä¸­å¯»æ‰¾æ˜¯å¦å«æœ‰è¯¥æ¨¡å—ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™å»ä¸Šä¸€çº§ç›®å½•çš„node_modulesä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™å†å»ä¸Šä¸€çº§ç›®å½•å¯»æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°ä¸ºæ­¢ï¼Œå¦‚æœæ‰¾åˆ°ç£ç›˜æ ¹ç›®å½•ä»æ²¡æœ‰ï¼Œåˆ™æŠ¥é”™ã€‚</li>
</ul>
<h2 id="ä¸ƒã€Buffer-ç¼“å†²åŒº"><a href="#ä¸ƒã€Buffer-ç¼“å†²åŒº" class="headerlink" title="ä¸ƒã€Buffer(ç¼“å†²åŒº)"></a>ä¸ƒã€Buffer(ç¼“å†²åŒº)</h2><ul>
<li><p>Bufferçš„å°±ç»“æ„å’Œæ•°ç»„å¾ˆåƒï¼Œæ“ä½œçš„æ–¹æ³•ä¹Ÿå’Œæ•°ç»„ç±»ä¼¼</p>
</li>
<li><p>æ•°ç»„ä¸­ä¸èƒ½å­˜å‚¨äºŒè¿›åˆ¶çš„æ–‡ä»¶ï¼Œè€Œbufferå°±æ˜¯ä¸“é—¨ç”¨æ¥å­˜å‚¨<strong>äºŒè¿›åˆ¶</strong>æ•°æ®çš„</p>
</li>
<li><p>ä½¿ç”¨bufferä¸éœ€è¦å¼•å…¥æ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨å³å¯</p>
<pre><code class="javascript">var str = &quot;hello&quot;
// å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åˆ°bufferä¸­
var buf = Buffer.from(str)
console.log(buf)
console.log(buf.length,str.length)  // å ç”¨å†…å­˜çš„å¤§å°,å­—ç¬¦ä¸²çš„é•¿åº¦</code></pre>
</li>
<li><p>åœ¨bufferä¸­å­˜å‚¨çš„éƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œä½†æ˜¯åœ¨æ˜¾ç¤ºçš„æ—¶å€™éƒ½æ˜¯ä»¥16è¿›åˆ¶çš„å½¢å¼æ˜¾ç¤ºçš„ï¼Œbufferä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„èŒƒå›´æ˜¯ä»00åˆ°ff(0<del>255) 00000000</del>11111111 8ä½(bit) = 1å­—èŠ‚(byte)ï¼Œbufferä¸­çš„ä¸€ä¸ªå…ƒç´ å ç”¨å†…å­˜çš„ä¸€ä¸ªå­—èŠ‚     psï¼šä¸€ä¸ªæ±‰å­—3å­—èŠ‚ï¼Œä¸€ä¸ªè‹±æ–‡å­—æ¯1å­—èŠ‚</p>
</li>
<li><p>bufferçš„å¤§å°ä¸€æ—¦ç¡®å®šï¼Œåˆ™ä¸èƒ½ä¿®æ”¹ï¼ŒBufferå®é™…ä¸Šæ˜¯å¯¹åº•å±‚å†…å­˜çš„ç›´æ¥æ“ä½œ</p>
<ul>
<li><code>Buffer.from(str)</code>å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸ºbuffer</li>
<li><code>Buffer.alloc(size)</code>åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„buffer</li>
<li><code>Buffer.allocUnsafe(size)</code>åˆ›å»ºä¸€ä¸ªæŒ‡å®šçš„å¤§å°çš„bufferï¼Œä½†æ˜¯å¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®</li>
<li><code>buf.toString()</code>å°†bufferé‡Œçš„æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²</li>
</ul>
<pre><code class="javascript">// åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„buffer
var buf = new Buffer(10) // 10ä¸ªå­—èŠ‚çš„buffer
// bufferæ„é€ å‡½æ•°éƒ½æ˜¯ä¸æ¨èä½¿ç”¨çš„
var buf2 = Buffer.alloc(10)   // å…¨éƒ½æ˜¯00
buf2[0] = 88
buf2[1] = 255
buf2[2] = 0xaa
buf2[3] = 556
// 1000101100æˆªå–åå…«ä½
buf2[10] = 15  // æ²¡æ”¹å˜
// åªè¦æ•°å­—åœ¨æ§åˆ¶å°æˆ–é¡µé¢ä¸­è¾“å‡ºä¸€å®šæ˜¯10è¿›åˆ¶
console.log(buf2[2])
console.log(buf2[2].toString(16))  // å¯ä»¥è¿™æ ·è½¬ä¸º16è¿›åˆ¶æ˜¾ç¤º

var buf3 = Buffer.allocUnsafe(10)  // åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„bufferï¼Œä½†æ˜¯bufferä¸­å¯èƒ½å«æœ‰æ•æ„Ÿæ•°æ®ï¼Œä¸å…¨ä¸º00</code></pre>
</li>
</ul>
<p><a href="https://nodejs.cn" target="_blank" rel="noopener">https://nodejs.cn</a></p>
<h2 id="å…«ã€æ–‡ä»¶ç³»ç»Ÿ-File-System"><a href="#å…«ã€æ–‡ä»¶ç³»ç»Ÿ-File-System" class="headerlink" title="å…«ã€æ–‡ä»¶ç³»ç»Ÿ(File System)"></a>å…«ã€æ–‡ä»¶ç³»ç»Ÿ(File System)</h2><h3 id="1ã€ç®€ä»‹-2"><a href="#1ã€ç®€ä»‹-2" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><ul>
<li><p>æ–‡ä»¶ç³»ç»Ÿç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡Nodejsæ¥æ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶</p>
</li>
<li><p>åœ¨Nodeä¸­ï¼Œä¸æ–‡ä»¶ç³»ç»Ÿçš„äº¤äº’æ˜¯éå¸¸é‡è¦çš„ï¼ŒæœåŠ¡å™¨çš„æœ¬è´¨å°±æ˜¯å°†æœ¬åœ°çš„æ–‡ä»¶å‘é€ç»™è¿œç¨‹çš„å®¢æˆ·ç«¯</p>
</li>
<li><p>Nodeé€šè¿‡fsæ¨¡å—æ¥å’Œæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’</p>
</li>
<li><p>fsæ¨¡å—æä¾›äº†ä¸€äº›æ ‡å‡†æ–‡ä»¶è®¿é—®APIæ¥æ‰“å¼€ã€è¯»å–ã€å†™å…¥æ–‡ä»¶ï¼Œä»¥åŠä¸å…¶äº¤äº’</p>
</li>
<li><p>è¦ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œéœ€è¦å…ˆå¼•å…¥fsæ¨¡å—ï¼Œfsæ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œç›´æ¥å¼•å…¥ä¸éœ€è¦ä¸‹è½½ï¼›è¦ä½¿ç”¨fsæ¨¡å—ï¼Œé¦–å…ˆéœ€è¦å¯¹å…¶è¿›è¡ŒåŠ è½½<code>const fs = require(&quot;fs&quot;)</code></p>
</li>
</ul>
<h3 id="2ã€åŒæ­¥å’Œå¼‚æ­¥è°ƒç”¨"><a href="#2ã€åŒæ­¥å’Œå¼‚æ­¥è°ƒç”¨" class="headerlink" title="2ã€åŒæ­¥å’Œå¼‚æ­¥è°ƒç”¨"></a>2ã€åŒæ­¥å’Œå¼‚æ­¥è°ƒç”¨</h3><ul>
<li><p>fsæ¨¡å—ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½æœ‰ä¸¤ç§å½¢å¼å¯ä¾›é€‰æ‹©ï¼ŒåŒæ­¥(fs.xxx)å’Œå¼‚æ­¥(fs.xxxSync)</p>
</li>
<li><p>åŒæ­¥æ–‡ä»¶ç³»ç»Ÿä¼šé˜»å¡ç¨‹åºçš„æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯é™¤éæ“ä½œå®Œæ¯•ï¼Œå¦åˆ™ä¸ä¼šå‘ä¸‹æ‰§è¡Œä»£ç </p>
</li>
<li><p>å¼‚æ­¥æ–‡ä»¶ç³»ç»Ÿä¸ä¼šé˜»å¡ç¨‹åºçš„æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨æ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°å°†ç»“æœè¿”å›</p>
</li>
</ul>
<h3 id="3ã€åŒæ­¥ã€å¼‚æ­¥æ–‡ä»¶å†™å…¥"><a href="#3ã€åŒæ­¥ã€å¼‚æ­¥æ–‡ä»¶å†™å…¥" class="headerlink" title="3ã€åŒæ­¥ã€å¼‚æ­¥æ–‡ä»¶å†™å…¥"></a>3ã€åŒæ­¥ã€å¼‚æ­¥æ–‡ä»¶å†™å…¥</h3><ul>
<li><p>åŒæ­¥æ–‡ä»¶çš„å†™å…¥</p>
<ul>
<li><p>æ“ä½œæ­¥éª¤</p>
<ol>
<li><p>æ‰“å¼€æ–‡ä»¶</p>
<ul>
<li><p><code>fs.openSync(path, flags[, mode])</code></p>
</li>
<li><p>path è¦æ‰“å¼€æ–‡ä»¶çš„è·¯å¾„</p>
</li>
<li><p>flags æ‰“å¼€æ–‡ä»¶è¦åšçš„æ“ä½œçš„ç±»å‹ï¼šråªè¯»çš„ã€wå¯å†™çš„</p>
</li>
<li><p>mode è®¾ç½®æ–‡ä»¶çš„æ“ä½œæƒé™ï¼Œä¸€èˆ¬ä¸ä¼ </p>
</li>
<li><p>è¿”å›å€¼ï¼š è¿”å›ä¸€ä¸ªæ–‡ä»¶çš„æè¿°ç¬¦ï¼Œå¯ä»¥é€šè¿‡è¯¥æè¿°ç¬¦æ¥å¯¹æ–‡ä»¶è¿›è¡Œå„ç§æ“ä½œ</p>
<pre><code class="javascript">var fs = require(&quot;fs&quot;);
var fd = fs.openSync(&quot;hello.txt&quot;, &quot;w&quot;);
// console.log(fd)</code></pre>
</li>
</ul>
</li>
<li><p>å‘æ–‡ä»¶ä¸­å†™å…¥å†…å®¹</p>
<ul>
<li><p><code>fs.writeSync(fd, string[, position[, encoding]])</code></p>
</li>
<li><p>fd æ–‡ä»¶çš„æè¿°ç¬¦ï¼Œéœ€è¦ä¼ é€’è¦å†™å…¥çš„æ–‡ä»¶çš„æè¿°ç¬¦</p>
</li>
<li><p>string è¦å†™å…¥çš„å†…å®¹</p>
</li>
<li><p>position å†™å…¥çš„èµ·å§‹ä½ç½®</p>
</li>
<li><p>encoding å†™å…¥çš„ç¼–ç ï¼Œé»˜è®¤utf-8</p>
<pre><code class="javascript">fs.writeSync(fd, &quot;è¿™æ˜¯å†™å…¥çš„å†…å®¹&quot;)</code></pre>
</li>
</ul>
</li>
<li><p>ä¿å­˜å¹¶å…³é—­æ–‡ä»¶</p>
<ul>
<li><code>fs.closeSync(fd)</code></li>
<li>fd è¦å…³é—­çš„æ–‡ä»¶çš„æè¿°ç¬¦</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>å¼‚æ­¥æ–‡ä»¶å†™å…¥</p>
<ol>
<li><p><code>fs.open(path, flags[, mode], callback)</code></p>
<ul>
<li><p>ç”¨æ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</p>
</li>
<li><p>å¼‚æ­¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œæœ‰è¿”å›å€¼çš„éƒ½æ˜¯åŒæ­¥æ–¹æ³•ã€‚å¼‚æ­¥è°ƒç”¨çš„æ–¹æ³•ï¼Œç»“æœéƒ½æ˜¯é€šè¿‡å›è°ƒå‡½æ•°å‚æ•°è¿”å›çš„ã€‚</p>
</li>
<li><p>callback å›è°ƒå‡½æ•°ä¸¤ä¸ªå‚æ•°(arguements):</p>
<ul>
<li><p>err é”™è¯¯å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯åˆ™ä¸ºnull</p>
</li>
<li><p>fd æ–‡ä»¶çš„æè¿°ç¬¦</p>
</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
var f
fs.open(&quot;hello.txt&quot;,&quot;w&quot;,function(err, fd){
    // console.log(&#39;å›è°ƒå‡½æ•°ä¸­çš„ä»£ç &#39;)  // callbackä¸­çš„ä»£ç ä¼šåœ¨è¯»å–å®Œæ¯•ä¹‹åæ‰§è¡Œ
    if(!err){
        f = fd
    }else{
        console.log(err)
    }
})
console.log(&quot;openä¸‹çš„ä»£ç &quot;)    // èƒ½æ¯”ä¸Šé¢çš„æ›´æ—©æ‰§è¡Œ</code></pre>
<pre><code></code></pre></li>
</ol>
</li>
</ul>
<ol start="2">
<li><p><code>fs.write(fd, string[, position[, encoding]], callback)</code></p>
<ul>
<li>ç”¨æ¥å¼‚æ­¥å†™å…¥ä¸€ä¸ªæ–‡ä»¶</li>
</ul>
<ol start="3">
<li><p><code>fs.close(fd, callback)</code></p>
<ul>
<li><p>ç”¨æ¥å…³é—­æ–‡ä»¶</p>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
fs.open(&quot;hello.txt&quot;,&quot;w&quot;,function(err, fd){
   if(!err){
       fs.write(fd, &quot;è¿™æ˜¯å¼‚æ­¥å†™å…¥çš„å†…å®¹&quot;,function(err)          {
           if(!err){
               console.log(&#39;å†™å…¥æˆåŠŸ&#39;)
           }
           fs.close(fd, function(err){
               if(!err){
                   console.log(&#39;æ–‡ä»¶å·²å…³é—­&#39;)
               }
           })
       })
   }else{
       console.log(err)
   }
})</code></pre>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="4ã€ç®€å•æ–‡ä»¶å†™å…¥"><a href="#4ã€ç®€å•æ–‡ä»¶å†™å…¥" class="headerlink" title="4ã€ç®€å•æ–‡ä»¶å†™å…¥"></a>4ã€ç®€å•æ–‡ä»¶å†™å…¥</h3><ul>
<li><p><code>fs.writeFile(file, data[, options], callback)</code></p>
<ul>
<li><p>file è¦æ“ä½œçš„æ–‡ä»¶çš„è·¯å¾„</p>
</li>
<li><p>data è¦å†™å…¥çš„æ•°æ®</p>
</li>
<li><p>options é€‰é¡¹ï¼Œå¯ä»¥å¯¹å†™å…¥è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡{encoding, mode, flag}</p>
<ul>
<li>encoding: â€˜utf8â€™</li>
<li>mode: â€˜0o666â€™</li>
<li>flag: â€˜wâ€™   ä¸€èˆ¬ç”¨r(åªè¯»)ã€w(å¯å†™)ã€a(è¿½åŠ )</li>
</ul>
</li>
<li><p>callback å½“å†™å…¥å®Œæˆä»¥åæ‰§è¡Œçš„å‡½æ•°</p>
<pre><code class="javascript">var fs = require(&#39;fs&#39;)
// è·¯å¾„ä¹Ÿå¯ä»¥C:/Users/Shinlo/Desktop/hello.txt
fs.writeFile(&quot;C:\\Users\\Shinlon\\Desktop\\hello.txt&quot;, &quot;è¿™æ˜¯é€šè¿‡writeFileå†™å…¥çš„å†…å®¹&quot;, {flag: &quot;a&quot;}, function(err){
    if(!err){
        console.log(&#39;å†™å…¥æˆåŠŸ&#39;)
    }else{
        console.log(err)
    }
})</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1588844894085.png" alt="1588844894085" class="lazyload"></p>
</li>
</ul>
</li>
<li><p><code>fs.writeFileSync(file, data[, options])</code></p>
<ul>
<li>åŒæ­¥ç®€å•å†™å…¥</li>
</ul>
</li>
</ul>
<h3 id="5ã€æµå¼æ–‡ä»¶å†™å…¥"><a href="#5ã€æµå¼æ–‡ä»¶å†™å…¥" class="headerlink" title="5ã€æµå¼æ–‡ä»¶å†™å…¥"></a>5ã€æµå¼æ–‡ä»¶å†™å…¥</h3><ul>
<li><p>åŒæ­¥ã€å¼‚æ­¥ã€ç®€å•æ–‡ä»¶çš„å†™å…¥éƒ½ä¸é€‚åˆå¤§æ–‡ä»¶çš„å†™å…¥ï¼Œæ€§èƒ½è¾ƒå·®ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</p>
</li>
<li><p>æµå¼æ–‡ä»¶å†™å…¥</p>
<ul>
<li><p><code>fs.createWriteStream(path[, options])</code></p>
<ul>
<li>å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªå¯å†™æµ</li>
<li>path æ–‡ä»¶è·¯å¾„</li>
<li>options é…ç½®çš„å‚æ•°</li>
</ul>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
var ws = fs.createWriteStream(&quot;hello.txt&quot;)
// å¯ä»¥é€šè¿‡ç›‘å¬æµçš„openå’Œcloseäº‹ä»¶æ¥ç›‘å¬æµçš„æ‰“å¼€å’Œå…³é—­
// ws.on(&quot;open&quot;, function{  // onç»‘å®šä¸€ä¸ªé•¿æœŸæœ‰æ•ˆçš„äº‹ä»¶
ws.once(&quot;open&quot;, function{   // onceç»‘å®šä¸€æ¬¡æ€§çš„äº‹ä»¶ï¼Œåœ¨è§¦å‘ä¸€æ¬¡ä¹‹åäº‹ä»¶è‡ªåŠ¨å¤±æ•ˆ
    console.log(&quot;æµæ‰“å¼€äº†&quot;)
})
ws.once(&quot;close&quot;, function{
    console.log(&quot;æµå…³é—­äº†&quot;)
})
// é€šè¿‡wså‘æ–‡ä»¶ä¸­è¾“å‡ºå†…å®¹
ws.write(&quot;é€šè¿‡å¯å†™æµå†™å…¥æ–‡ä»¶çš„å†…å®¹1&quot;)
ws.write(&quot;é€šè¿‡å¯å†™æµå†™å…¥æ–‡ä»¶çš„å†…å®¹2&quot;)
ws.write(&quot;é€šè¿‡å¯å†™æµå†™å…¥æ–‡ä»¶çš„å†…å®¹3&quot;)
// åªè¦æµè¿˜å­˜åœ¨å°±å¯ä»¥æ¥ç€å†™å…¥
// å…³é—­æµ
// ws.close()    // è¿™ä¸ªåœ¨ä¼ å…¥çš„æ–¹å‘æ–­å¼€æµï¼Œæ–‡ä»¶æ²¡åˆ°ç®¡å­é‡Œ
ws.end()        // åœ¨ä¼ å‡ºçš„è¿™ä¸€æ–¹æ–­å¼€æµï¼Œæ•°æ®å·²ç»åœ¨ç®¡å­é‡Œäº†</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="6ã€æ–‡ä»¶çš„è¯»å–"><a href="#6ã€æ–‡ä»¶çš„è¯»å–" class="headerlink" title="6ã€æ–‡ä»¶çš„è¯»å–"></a>6ã€æ–‡ä»¶çš„è¯»å–</h3><ul>
<li><p>åŒæ­¥æ–‡ä»¶è¯»å–</p>
</li>
<li><p>å¼‚æ­¥æ–‡ä»¶è¯»å–</p>
</li>
<li><p>ç®€å•æ–‡ä»¶è¯»å–</p>
<ul>
<li><p><code>fs.readFile(path[, options], callback)</code></p>
</li>
<li><p><code>fs.readFileSync(path[, options])</code></p>
<ul>
<li>path è¦è¯»å–çš„æ–‡ä»¶çš„è·¯å¾„</li>
<li>options è¯»å–çš„é€‰é¡¹</li>
<li>callback å›è°ƒå‡½æ•°ï¼Œé€šè¿‡å›è°ƒå‡½æ•°å°†è¯»å–åˆ°çš„å†…å®¹è¿”å›<ul>
<li>err é”™è¯¯å¯¹è±¡</li>
<li>data è¯»å–åˆ°çš„æ•°æ®ï¼Œä¼šè¿”å›ä¸€ä¸ªBuffer</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
var path=&quot;C:/Users/Shinlon/a.mp3&quot;
fs.readFile(&quot;hello.txt&quot;, function(err, data){
    if(!err){
        console.log(data)  // bufferé€šç”¨æ€§æ›´é«˜
        // console.log(data.toString())æ–‡æœ¬å¯ä»¥ï¼Œå…¶ä»–ä¸è¡Œ
        fswriteFile(&quot;hello.mp3&quot;, data, function(err){
            if(!err){
                console.log(&quot;æ–‡ä»¶å†™å…¥æˆåŠŸ&quot;)
            }
        })
    }
})</code></pre>
</li>
</ul>
</li>
<li><p>æµå¼æ–‡ä»¶è¯»å–</p>
<ul>
<li>æµå¼æ–‡ä»¶è¯»å–ä¹Ÿé€‚ç”¨äºä¸€äº›æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå¯ä»¥åˆ†å¤šæ¬¡å°†æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­</li>
<li><code>fs.createReadStream(path[, options])</code></li>
</ul>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
// åˆ›å»ºä¸€ä¸ªå¯è¯»æµ
var rs = fs.createReadStream(&quot;an.jpg&quot;)
// ç›‘å¬æµçš„å¼€å¯å’Œå…³é—­
rs.once(&quot;open&quot;, function(){
    console.log(&quot;å¯è¯»æµæ‰“å¼€äº†&quot;)
})
rs.once(&quot;close&quot;, function(){
    console.log(&quot;å¯è¯»æµå…³é—­äº†&quot;)
})
// è¯»å–ä¸€ä¸ªå¯è¯»æµä¸­çš„æ•°æ®ï¼Œå¿…é¡»è¦ä¸ºå¯è¯»æµç»‘å®šä¸€ä¸ªdataäº‹ä»¶ï¼Œdataäº‹ä»¶ç»‘å®šå®Œæ¯•ï¼Œå®ƒä¼šè‡ªåŠ¨å¼€å§‹è¯»å–æ•°æ®
rs.on(&quot;data&quot;, function(data){
    console.log(data) // å‚æ•°å°±æ˜¯æ•°æ® data.lengthæœ€å¤§65536å­—èŠ‚
})</code></pre>
</li>
</ul>
<p>å¯è¯»æµã€å¯å†™æµå¤åˆ¶ä¸€ä¸ªå¤§æ–‡ä»¶</p>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
var rs = fs.createReadStream(&quot;an.jpg&quot;)
var ws = fs.createWriteStream(&quot;an.jpg&quot;)
rs.once(&quot;open&quot;, function(){
    console.log(&quot;å¯è¯»æµæ‰“å¼€äº†&quot;)
})
rs.once(&quot;close&quot;, function(){
    console.log(&quot;å¯è¯»æµå…³é—­äº†&quot;)
    // æ•°æ®è¯»å–å®Œæ¯•ï¼Œå…³é—­å¯å†™æµ
    ws.end()
})
ws.once(&quot;open&quot;, function(){
    console.log(&quot;å¯å†™æµæ‰“å¼€äº†&quot;)
})
ws.once(&quot;close&quot;, function(){
    console.log(&quot;å¯å†™æµå…³é—­äº†&quot;)
})
rs.on(&quot;data&quot;, function(data){
    ws.write(data)
})</code></pre>
<p>ç®€å•çš„æ–¹å¼</p>
<pre><code class="javascript">var fs = require(&quot;fs&quot;)
var rs = fs.createReadStream(&quot;an.jpg&quot;)
var ws = fs.createWriteStream(&quot;an.jpg&quot;)
rs.once(&quot;open&quot;, function(){
    console.log(&quot;å¯è¯»æµæ‰“å¼€äº†&quot;)
})
rs.once(&quot;close&quot;, function(){
    console.log(&quot;å¯è¯»æµå…³é—­äº†&quot;)
})
ws.once(&quot;open&quot;, function(){
    console.log(&quot;å¯å†™æµæ‰“å¼€äº†&quot;)
})
ws.once(&quot;close&quot;, function(){
    console.log(&quot;å¯å†™æµå…³é—­äº†&quot;)
})
// pipe()å¯ä»¥å°†å¯è¯»æµä¸­çš„å†…å®¹ç›´æ¥è¾“å‡ºåˆ°å¯å†™æµä¸­
rs.pipe(ws)</code></pre>
<h3 id="7ã€fsçš„å…¶ä»–æ–¹æ³•"><a href="#7ã€fsçš„å…¶ä»–æ–¹æ³•" class="headerlink" title="7ã€fsçš„å…¶ä»–æ–¹æ³•"></a>7ã€fsçš„å…¶ä»–æ–¹æ³•</h3><ul>
<li><p>éªŒè¯è·¯å¾„æ˜¯å¦å­˜åœ¨</p>
<ul>
<li><del>fs.exists(path, callback)</del></li>
<li><code>fs.exitsSync(path)</code></li>
</ul>
<pre><code>var fs = require(&quot;fs&quot;)
var isExists = fs.exitsSync(&quot;a.mp3&quot;)
// console.log(isExists)</code></pre></li>
<li><p>è·å–æ–‡ä»¶ä¿¡æ¯</p>
<ul>
<li><code>fs.stat(path, callback)</code>è·å–æ–‡ä»¶çš„çŠ¶æ€ï¼Œä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­ä¿å­˜äº†å½“å‰å¯¹è±¡çŠ¶æ€çš„ç›¸å…³ä¿¡æ¯</li>
<li><code>fs.statSync(path)</code></li>
</ul>
<pre><code>fs.stat(&quot;a.mp3&quot;, function(err, stat){
    console.log(stat)
})</code></pre><ul>
<li>statå‚æ•°çš„ä¸€äº›å±æ€§ã€æ–¹æ³•<ul>
<li>size å¤§å°</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ul>
</li>
<li><p>åˆ é™¤æ–‡ä»¶</p>
<ul>
<li><code>fs.unlink(path, callback)</code></li>
<li><code>fs.unlinkSync(path)</code></li>
</ul>
<pre><code>fs.unlinkSync(&quot;hello.txt&quot;)</code></pre></li>
<li><p>åˆ—å‡ºæ–‡ä»¶</p>
<ul>
<li><code>fs.readdir(path[, options], callback)</code>è¯»å–ä¸€ä¸ªç›®å½•çš„ç›®å½•ç»“æ„</li>
<li><code>fs.readdirSync(path[, options])</code><ul>
<li>filesæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–æ–‡ä»¶çš„åå­—</li>
</ul>
</li>
</ul>
<pre><code>fs.readdir(&quot;.&quot;, function(err, files){
    if(!err){
        console.log(files)
    }
})</code></pre></li>
<li><p>æˆªæ–­æ–‡ä»¶</p>
<ul>
<li><code>fs.truncate(path, len, callback)</code> å°†æ–‡ä»¶ä¿®æ”¹ä¸ºæŒ‡å®šçš„å¤§å°</li>
<li><code>fs.truncateSync(path, len)</code></li>
</ul>
<pre><code>fs.truncateSync(&quot;hello.txt&quot;, 3)</code></pre></li>
<li><p>å»ºç«‹ç›®å½•</p>
<ul>
<li><code>fs.mkdir(path[,mode], callback)</code></li>
<li><code>fs.mkdirSync(path[, mode])</code></li>
</ul>
<pre><code>fs.mkdirSync(&quot;hello&quot;)</code></pre></li>
<li><p>åˆ é™¤ç›®å½•</p>
<ul>
<li><code>fs.rmdir(path, callback)</code></li>
<li><code>fs.rmdirSync(path)</code></li>
</ul>
<pre><code>fs.rmdirSync(&quot;hello&quot;)</code></pre></li>
<li><p>é‡å‘½åæ–‡ä»¶å’Œç›®å½•</p>
<ul>
<li><code>fs.rename(oldPath, newPath, callback)</code></li>
<li><code>fs.renameSync(oldPath, newPath)</code><ul>
<li>oldPath æ—§çš„è·¯å¾„</li>
<li>newPath æ–°çš„è·¯å¾„</li>
<li>callback å›è°ƒå‡½æ•°</li>
</ul>
</li>
</ul>
<pre><code>fs.rename(&quot;a.mp3&quot;, &quot;new.mp3&quot;, function(err){
    if(!err){
        console.log(&quot;succece&quot;)
    }
})</code></pre></li>
<li><p>ç›‘è§†æ–‡ä»¶æ›´æ”¹å†™å…¥</p>
<ul>
<li><code>fs.watchFile(filename[, options], listener)</code><ul>
<li>filename è¦ç›‘è§†çš„æ–‡ä»¶çš„åå­—</li>
<li>options é…ç½®é€‰é¡¹</li>
<li>listener å›è°ƒå‡½æ•°ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šæ‰§è¡Œ<ul>
<li>curr å½“å‰æ–‡ä»¶çš„çŠ¶æ€</li>
<li>prev ä¿®æ”¹å‰æ–‡ä»¶çš„çŠ¶æ€</li>
<li>è¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯statså¯¹è±¡</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>fs.watchFile(&quot;hello.txt&quot;, function{
    console.log(prev.size)
    console.log(curr.size)
})</code></pre><ul>
<li>æ—¶é—´é—´éš”ï¼Œé…ç½®é€‰é¡¹ä¸­</li>
</ul>
<pre><code>fs.watchFile(&quot;hello.txt&quot;, {interval: 1000}, function{
    console.log(prev.size)
    console.log(curr.size)
})</code></pre></li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/06/14/MongoDB/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="MongoDBå­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>MongoDBå­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´06æœˆ14æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>5.3k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 25 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h1 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h1><h2 id="ä¸€ã€æ•°æ®åº“ç®€ä»‹"><a href="#ä¸€ã€æ•°æ®åº“ç®€ä»‹" class="headerlink" title="ä¸€ã€æ•°æ®åº“ç®€ä»‹"></a>ä¸€ã€æ•°æ®åº“ç®€ä»‹</h2><ul>
<li>æ•°æ®åº“æ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“</li>
<li>æˆ‘ä»¬çš„ç¨‹åºéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿è¡Œçš„ï¼Œä¸€æ—¦ç¨‹åºè¿è¡Œç»“æŸæˆ–è€…è®¡ç®—æœºæ–­ç”µï¼Œç¨‹åºè¿è¡Œçš„æ•°æ®éƒ½ä¼šä¸¢å¤±</li>
<li>æ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦å°†ä¸€äº›ç¨‹åºè¿è¡Œçš„æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¹‹ä¸­ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§</li>
<li>è¯´ç™½äº†ï¼Œæ•°æ®åº“å°±æ˜¯å­˜å‚¨æ•°æ®çš„ä»“åº“</li>
<li>æ•°æ®åº“åˆ†ç±»<ul>
<li>å…³ç³»å‹æ•°æ®åº“(RDBMS)<ul>
<li>MySQLã€Oracleã€DB2ã€SQL Serverâ€¦â€¦</li>
<li>å…³ç³»æ•°æ®åº“ä¸­éƒ½æ˜¯è¡¨</li>
</ul>
</li>
<li>éå…³ç³»å‹æ•°æ®åº“(No SQL  Not Only SQL)<ul>
<li>MongoDBã€Redisâ€¦â€¦</li>
<li>é”®å€¼å¯¹æ•°æ®åº“</li>
<li>æ–‡æ¡£æ•°æ®åº“MongoDB</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="äºŒã€MongoDBç®€ä»‹"><a href="#äºŒã€MongoDBç®€ä»‹" class="headerlink" title="äºŒã€MongoDBç®€ä»‹"></a>äºŒã€MongoDBç®€ä»‹</h2><ul>
<li><p>MongoDBæ˜¯ä¸ºå¿«é€Ÿå¼€å‘äº’è”ç½‘Webåº”ç”¨è€Œè®¾è®¡çš„æ•°æ®åº“ç³»ç»Ÿ</p>
</li>
<li><p>MongoDBçš„è®¾è®¡ç›®æ ‡æ˜¯æç®€ã€çµæ´»ã€ä½œä¸ºWebåº”ç”¨æ ˆçš„ä¸€éƒ¨åˆ†</p>
</li>
<li><p>MongoDBçš„æ•°æ®æ¨¡å‹æ˜¯é¢å‘æ–‡æ¡£çš„ï¼Œæ‰€è°“æ–‡æ¡£æ˜¯ä¸€ç§ç±»ä¼¼äºJSONçš„ç»“æ„ï¼Œç®€å•ç†è§£MongoDBè¿™ä¸ªæ•°æ®åº“ä¸­å­˜çš„æ˜¯å„ç§å„æ ·çš„JSONï¼ˆBSONï¼‰</p>
</li>
<li><p>ä¸‰ä¸ªæ¦‚å¿µ</p>
<ul>
<li>æ•°æ®åº“ï¼ˆdatabaseï¼‰ï¼šæ•°æ®åº“æ˜¯ä¸€ä¸ªä»“åº“ï¼Œåœ¨ä»“åº“ä¸­å¯ä»¥å­˜æ”¾é›†åˆ</li>
<li>é›†åˆï¼ˆcollectionï¼‰ï¼šé›†åˆç±»ä¼¼äºæ•°ç»„ï¼Œåœ¨é›†åˆä¸­å¯ä»¥å­˜æ”¾æ–‡æ¡£</li>
<li>æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼šæ–‡æ¡£æ•°æ®åº“ä¸­çš„æœ€å°å•ä½ï¼Œæˆ‘ä»¬å­˜å‚¨å’Œæ“ä½œçš„å†…å®¹éƒ½æ˜¯æ–‡æ¡£</li>
</ul>
</li>
<li><p>ä¸‹è½½MongoDB</p>
<ul>
<li>ä¸‹è½½åœ°å€ï¼š<a href="https://www.mongodb.org/dl/win32/" target="_blank" rel="noopener">https://www.mongodb.org/dl/win32/</a></li>
<li>MongoDBçš„ç‰ˆæœ¬å¶æ•°ç‰ˆæœ¬ä¸ºç¨³å®šç‰ˆï¼Œå¥‡æ•°ç‰ˆæœ¬ä¸ºå¼€å‘ç‰ˆ</li>
<li>MongoDBå¯¹äº32ä½ç³»ç»Ÿæ”¯æŒä¸ä½³ï¼Œæ‰€ä»¥3.2ç‰ˆæœ¬ä»¥åæ²¡æœ‰å†å¯¹32ä½ç³»ç»Ÿçš„æ”¯æŒ</li>
</ul>
</li>
<li><p>å®‰è£…MongoDB</p>
<ul>
<li><p>å®‰è£…</p>
</li>
<li><p>é…ç½®ç¯å¢ƒå˜é‡ D:\Program Files\MongoDB\Server\4.2\bin</p>
</li>
<li><p>åœ¨Cç›˜æ ¹ç›®å½•ä¸‹åˆ›å»ºdata/dbæ–‡ä»¶å¤¹</p>
</li>
<li><p>æ‰“å¼€cmdå‘½ä»¤è¡Œçª—å£</p>
<ul>
<li>è¾“å…¥<code>mongod</code>å¯åŠ¨MongoDBæœåŠ¡å™¨</li>
<li>32ä½çš„åˆæ¬¡å¯åŠ¨éœ€è¦è¾“å…¥<code>mongod --storageEngine=mmapv1</code></li>
</ul>
</li>
<li><p>å†æ‰“å¼€ä¸€ä¸ªcmdçª—å£</p>
<ul>
<li>è¾“å…¥<code>mongo</code>è¿æ¥mongodbï¼Œå‡ºç°<code>&gt;</code></li>
</ul>
</li>
<li><p>å…¶ä»–é…ç½®å‘½ä»¤<code>mongod --dbpath &quot;D:\Program Files\MongoDB\Server\4.2\data\db --port 123&quot;</code></p>
</li>
<li><p>æ•°æ®åº“</p>
<ul>
<li><p>æœåŠ¡å™¨ç”¨æ¥ä¿å­˜æ•°æ®ï¼Œ<code>mongod</code>å¯åŠ¨</p>
</li>
<li><p>å®¢æˆ·ç«¯ç”¨æ¥æ“ä½œæœåŠ¡å™¨ï¼Œå¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼Œ<code>mongo</code>æ¥å¯åŠ¨</p>
</li>
<li><p>éœ€è¦æ‰“å¼€ä¸¤ä¸ªçª—å£ï¼Œæˆ‘ä»¬å¯ä»¥å°†MongoDBè®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡ï¼Œå¯ä»¥è‡ªåŠ¨åœ¨åå°å¯åŠ¨ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½æ‰‹åŠ¨å¯åŠ¨</p>
<ul>
<li><p>C://data/åˆ›å»ºdbã€logç›®å½•</p>
</li>
<li><p>åœ¨D:\Program Files\MongoDB\Server\4.2ä¸‹æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶mongod.cfgï¼Œé…ç½®æ–‡ä»¶ä¸­æ·»åŠ å†…å®¹</p>
<pre><code>systemLog:
    destination: file
    path: c:\data\log\mongod.log
storage:
    dbPath: c:\data\db</code></pre></li>
<li><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥å‘½ä»¤<code>sc.exe create MongoDB binPath=&quot;\&quot;D:\Program Files\MongoDB\Server\4.2\bin\mongod.exe\&quot; --service --config=\&quot;D:\Program Files\MongoDB\Server\4.2\mongod.cfg\&quot;&quot; DisplayName= &quot;MongoDB&quot; start= &quot;auto&quot;</code></p>
</li>
<li><p>å¯åŠ¨MongoDBæœåŠ¡</p>
</li>
<li><p>å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œåˆ™è¾“å…¥<code>sc delete MongoDB</code>åˆ é™¤æœåŠ¡ä¹‹åï¼Œé‡æ–°å¼€å§‹é…ç½®</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ä¸‰ã€MongoDBçš„åŸºæœ¬æ“ä½œ"><a href="#ä¸‰ã€MongoDBçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="ä¸‰ã€MongoDBçš„åŸºæœ¬æ“ä½œ"></a>ä¸‰ã€MongoDBçš„åŸºæœ¬æ“ä½œ</h2><p>åœ¨MongoDBä¸­ï¼Œæ•°æ®åº“å’Œé›†åˆéƒ½ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºï¼Œå½“æˆ‘ä»¬åˆ›å»ºæ–‡æ¡£æ—¶ï¼Œå¦‚æœæ–‡æ¡£æ‰€åœ¨çš„é›†åˆæˆ–æ•°æ®åº“ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œé›†åˆ</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1588908280549.png" alt="MongoDB" class="lazyload"></p>
<h3 id="1ã€åŸºæœ¬å‘½ä»¤"><a href="#1ã€åŸºæœ¬å‘½ä»¤" class="headerlink" title="1ã€åŸºæœ¬å‘½ä»¤"></a>1ã€åŸºæœ¬å‘½ä»¤</h3><ul>
<li>æ˜¾ç¤ºå½“å‰çš„æ‰€æœ‰æ•°æ®åº“<ul>
<li><code>show dbs</code></li>
<li><code>show databases</code></li>
</ul>
</li>
<li>è¿›å…¥åˆ°æŒ‡å®šçš„æ•°æ®åº“ä¸­<ul>
<li><code>use æ•°æ®åº“å</code></li>
</ul>
</li>
<li>dbè¡¨ç¤ºçš„æ˜¯å½“å‰æ‰€å¤„çš„æ•°æ®åº“<ul>
<li><code>db</code></li>
</ul>
</li>
<li>æ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰çš„é›†åˆ<ul>
<li><code>show collections</code></li>
</ul>
</li>
</ul>
<h3 id="2ã€æ•°æ®åº“çš„CRUDæ“ä½œ"><a href="#2ã€æ•°æ®åº“çš„CRUDæ“ä½œ" class="headerlink" title="2ã€æ•°æ®åº“çš„CRUDæ“ä½œ"></a>2ã€æ•°æ®åº“çš„CRUDæ“ä½œ</h3><p>å®‰è£…å›¾å½¢åŒ–å·¥å…·ï¼š<code>MongodbManagerFree</code>æˆ–<code>Studio-3T</code></p>
<ul>
<li><p>å‘æ•°æ®åº“ä¸­æ’å…¥æ–‡æ¡£</p>
<ul>
<li><code>db.&lt;collection&gt;.insert(doc)</code> å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ã€‚å½“æˆ‘ä»¬å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»™æ–‡æ¡£æŒ‡å®š<code>_id</code>å±æ€§ï¼Œåˆ™æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºæ–‡æ¡£æ·»åŠ <code>_id</code>ï¼Œè¯¥å±æ€§ç”¨æ¥ä½œä¸ºæ–‡æ¡£çš„å”¯ä¸€æ ‡è¯†ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šï¼Œå¦‚æœæˆ‘ä»¬æŒ‡å®šäº†ï¼Œæ•°æ®åº“å°±ä¸ä¼šæ·»åŠ äº†ï¼Œå¦‚æœè‡ªå·±æŒ‡å®š_idä¹Ÿå¿…é¡»ç¡®ä¿å®ƒçš„å”¯ä¸€æ€§</li>
</ul>
<pre><code>// å‘testæ•°æ®åº“ä¸­çš„stusé›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–°çš„å­¦ç”Ÿå¯¹è±¡{name:&quot;swk&quot;,age:18,gender:&quot;man&quot;}
use test
db.stus.insert({name:&quot;swk&quot;,age:18,gender:&quot;man&quot;})
db.stus.insert([
    {name:&quot;shs&quot;,age:38,gender:&quot;man&quot;},
    {name:&quot;bgj&quot;,age:18,gender:&quot;female&quot;},
    {name:&quot;zbj&quot;,age:28,gender:&quot;man&quot;}
])
ObjectId()  // æ ¹æ®æ—¶é—´æˆ³ã€æœºå™¨ç 
db.stus.insert({_id:&quot;ts&quot;,name:&quot;ts&quot;,age:18,gender:&quot;man&quot;})   // å»ºè®®ä¸è¦è‡ªå·±æŒ‡å®š</code></pre><ul>
<li><code>db.&lt;collection&gt;.insertOne(doc)</code>  æ’å…¥ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡</li>
<li><code>db.&lt;collection&gt;.insertMany(doc)</code>  æ’å…¥å¤šä¸ªæ–‡æ¡£å¯¹è±¡</li>
<li>è¿™ä¸¤ä¸ªå’Œä¸Šé¢çš„å·®ä¸å¤šï¼Œå°±æ˜¯å†™å¼€äº†æ›´å®¹æ˜“ç†è§£</li>
</ul>
<p>æ³¨ï¼šMongoDBä¸­çš„æ–‡æ¡£çš„å±æ€§å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œå½“ä¸€ä¸ªæ–‡æ¡£çš„å±æ€§å€¼æ˜¯æ–‡æ¡£æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ºå†…åµŒæ–‡æ¡£ã€‚</p>
<p>MongoDBæ”¯æŒç›´æ¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å±æ€§è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœè¦æŸ¥è¯¢å†…åµŒæ–‡æ¡£ï¼Œå¯ä»¥é€šè¿‡<code>.</code>çš„å½¢å¼æ¥åŒ¹é…ã€‚å±æ€§åå¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥</p>
</li>
<li><p>æŸ¥è¯¢</p>
<ul>
<li><code>db.&lt;collectin&gt;.find()</code> æŸ¥è¯¢å½“å‰é›†åˆä¸­çš„æ‰€æœ‰çš„æ–‡æ¡£<ul>
<li>find()ç”¨æ¥æŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ã€‚åœ¨å¼€å‘æ—¶ï¼Œç»å¯¹ä¸ä¼šæ‰§è¡Œä¸å¸¦æ¡ä»¶çš„æŸ¥è¯¢</li>
<li>find()å¯ä»¥æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ¡ä»¶å‚æ•°<ul>
<li>{}è¡¨ç¤ºæŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰çš„æ–‡æ¡£</li>
<li>{å­—æ®µå:å€¼}æŸ¥è¯¢å±æ€§æ˜¯æŒ‡å®šå€¼çš„æ–‡æ¡£<ul>
<li>å€¼è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ªé€‰é¡¹,å¤šä¸ªæ¡ä»¶ä¹‹é—´ä½¿ç”¨<code>,</code>è¿æ¥</li>
<li><code>$eq</code> ç­‰äº</li>
<li><code>$gt</code>  <code>$gte</code> å¤§äº  å¤§äºç­‰äº</li>
<li><code>$in</code></li>
<li><code>$lt</code> <code>$lte</code></li>
<li><code>$ne</code></li>
<li><code>$nin</code></li>
<li><code>$or</code> æˆ–</li>
</ul>
</li>
</ul>
</li>
<li>find()è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„</li>
<li><code>db.stus.find({}).count()</code>è¿”å›å¯¹è±¡ä¸ªæ•°ï¼Œä¸€èˆ¬ç”¨è¿™ä¸ªï¼›<code>db.stus.find({}).length()</code></li>
<li><code>db.stus.find().limit(10)</code> è®¾ç½®æ˜¾ç¤ºæ•°æ®çš„ä¸Šé™ï¼Œè¿™é‡Œè¡¨ç¤ºåªæ˜¾ç¤ºå‰åæ¡æ•°æ®</li>
<li><code>db.numbers.find().skip(10).limit(10)</code> skip()ç”¨äºè·³è¿‡æŒ‡å®šæ•°é‡çš„æ•°æ®ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºç¬¬11~20æ¡æ•°æ®ã€‚MongoDBä¼šè‡ªåŠ¨è°ƒæ•´skipå’Œlimitçš„ä½ç½®ï¼Œå› æ­¤é¡ºåºéšä¾¿</li>
</ul>
</li>
<li><code>db.&lt;collectin&gt;.findOne()</code> æŸ¥è¯¢å½“å‰é›†åˆä¸­ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£<ul>
<li>findOne()è¿”å›çš„æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡</li>
</ul>
</li>
</ul>
<pre><code>db.stus.find();
db.stus.find({});
db.stus.find({}).count();
db.stus.find({}).length();
db.stus.find({_id:&quot;ts&quot;});
db.stus.find({age: 28,name:&quot;zbj&quot;});
db.stus.find({age: 28})[1];
db.stus.find({age:{$gt:20}})</code></pre></li>
<li><p>ä¿®æ”¹</p>
<ul>
<li><code>db.&lt;collectin&gt;.update(æŸ¥è¯¢æ¡ä»¶,æ–°å¯¹è±¡[,é…ç½®é€‰é¡¹])</code> <ul>
<li>update()é»˜è®¤æƒ…å†µä¸‹å›ä½¿ç”¨æ–°å¯¹è±¡æ¥æ›¿æ¢æ—§çš„å¯¹è±¡</li>
<li>å¦‚æœéœ€è¦ä¿®æ”¹æŒ‡å®šçš„å±æ€§ï¼Œè€Œä¸æ˜¯æ›¿æ¢ï¼Œéœ€è¦ä½¿ç”¨â€œä¿®æ”¹æ“ä½œç¬¦â€æ¥å®Œæˆä¿®æ”¹<ul>
<li><code>$set</code> å¯ä»¥ç”¨æ¥ä¿®æ”¹æ–‡æ¡£ä¸­çš„æŒ‡å®šå±æ€§</li>
<li><code>$push</code>ç”¨äºå‘æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ </li>
<li><code>$addT0Set</code>å‘æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå¦‚æœæ•°ç»„ä¸­å·²ç»å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™ä¸ä¼šæ·»åŠ </li>
<li><code>$unset</code> å¯ä»¥ç”¨æ¥åˆ é™¤æ–‡æ¡£çš„æŒ‡å®šå±æ€§</li>
</ul>
</li>
<li>update()é»˜è®¤åªä¼šä¿®æ”¹ä¸€ä¸ª</li>
</ul>
</li>
<li><code>db.&lt;collectin&gt;.updateMany(æŸ¥è¯¢æ¡ä»¶,æ–°å¯¹è±¡)</code>  åŒæ—¶ä¿®æ”¹å¤šä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£</li>
<li><code>db.&lt;collectin&gt;.updateOne(æŸ¥è¯¢æ¡ä»¶,æ–°å¯¹è±¡)</code>  ä¿®æ”¹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£</li>
<li><code>db.&lt;collectin&gt;.replace(æŸ¥è¯¢æ¡ä»¶,æ–°å¯¹è±¡)</code>   æ›¿æ¢ä¸€ä¸ªæ–‡æ¡£</li>
<li>è¿™ä¸‰ä¸ªä¹Ÿæ˜¯å°†ç¬¬ä¸€ä¸ªåˆ†å¼€äº†</li>
</ul>
<pre><code>db.stus.upadate({name:&#39;shs&#39;},{age:29}) // æ›¿æ¢
db.stus.upadate({name:&#39;shs&#39;},{$set{age:29ï¼Œ address:&quot;lsh&quot;}) // ä¿®æ”¹ï¼Œé»˜è®¤å€¼ä¿®æ”¹ä¸€ä¸ª
db.stus.upadate({name:&#39;shs&#39;},{$set{address:&quot;lsh&quot;})
db.stus.upadate({name:&#39;shs&#39;},{$unset{age:29}) // åˆ é™¤
db.stus.upadate({name:&#39;shs&#39;},{$set{age:29ï¼Œ address:&quot;lsh&quot;}) // æ·»åŠ é…ç½®é¡¹ä¹Ÿå¯ä»¥ä¿®æ”¹å¤šä¸ª</code></pre></li>
</ul>
<ul>
<li><p>åˆ é™¤</p>
<ul>
<li><code>db.&lt;collectin&gt;.remove()</code> <ul>
<li>remove()å¯ä»¥æ ¹æ®æ¡ä»¶æ¥åˆ é™¤æ–‡æ¡£ï¼Œä¼ é€’çš„æ¡ä»¶çš„æ–¹å¼å’Œfind()ä¸€æ ·</li>
<li>åˆ é™¤ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰çš„æ–‡æ¡£ï¼Œé»˜è®¤ä¼šåˆ é™¤å¤šä¸ª</li>
<li>å¦‚æœremove()ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ä¸€ä¸ªtrueï¼Œåˆ™åªä¼šåˆ é™¤ä¸€ä¸ª</li>
<li>å¦‚æœåªä¼ é€’ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œåˆ™ä¼šåˆ é™¤æ‰€æœ‰çš„</li>
</ul>
</li>
<li><code>db.&lt;collectin&gt;.deleteOne()</code></li>
<li><code>db.&lt;collectin&gt;.deleteMany()</code>  </li>
<li><code>db.collection.drop()</code> åˆ é™¤é›†åˆ</li>
<li><code>db.dropDatabase()</code>åˆ é™¤æ•°æ®åº“</li>
<li>ä¸€èˆ¬æ•°æ®åº“ä¸­çš„æ•°æ®éƒ½ä¸ä¼šåˆ é™¤ï¼Œæ‰€ä»¥åˆ é™¤çš„æ–¹æ³•å¾ˆå°‘è°ƒç”¨ï¼Œä¸€èˆ¬åœ¨æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œæ¥è¡¨ç¤ºæ•°æ®æ˜¯å¦è¢«åˆ é™¤</li>
</ul>
<pre><code>db.stus.remove()

db.stus.remove({})   // æ¸…ç©ºé›†åˆï¼ˆæ€§èƒ½ç•¥å·®ï¼‰
db.stus.drop()     // åˆ é™¤é›†åˆ
db.database()       // åˆ é™¤æ•°æ®åº“
// ä¸€èˆ¬åˆ é™¤ä¸€ä¸ªæ–‡æ¡£éƒ½æ˜¯ç”¨è¿™ç§æ–¹å¼
db.stus.inert([
    {
        name: &quot;ts&quot;,
        isDel: 0
    },
    {
        name: &quot;zbj&quot;,
        isDel: 0
    },
    {
        name:&quot;shs&quot;,
        isDel: 0
    }
])
db.stus.updateOne({name:&quot;ts&quot;},{$et:{isDel:1}})
db.stus.find({isDel:0})</code></pre></li>
</ul>
<h2 id="å››ã€æ–‡æ¡£ä¹‹é—´çš„å…³ç³»"><a href="#å››ã€æ–‡æ¡£ä¹‹é—´çš„å…³ç³»" class="headerlink" title="å››ã€æ–‡æ¡£ä¹‹é—´çš„å…³ç³»"></a>å››ã€æ–‡æ¡£ä¹‹é—´çš„å…³ç³»</h2><ul>
<li><p>ä¸€å¯¹ä¸€(One to One)</p>
<ul>
<li>å¤«å¦»ï¼ˆä¸€ä¸ªä¸ˆå¤«å¯¹åº”ä¸€ä¸ªå¦»å­ï¼‰</li>
<li>åœ¨MongoDBä¸­ï¼Œå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å½¢å¼æ¥ä½“ç°å‡ºä¸€å¯¹ä¸€çš„å…³ç³»</li>
</ul>
<pre><code>db.wifeAndHusband.insert([
    {
        name:&quot;hr&quot;,
        husband:{
            name:&quot;gj&quot;
        }
    },{
        name:&quot;pjl&quot;
        husband:{
            name:&quot;wdl&quot;
        }
    }
])</code></pre></li>
</ul>
<ul>
<li><p>ä¸€å¯¹å¤š(One to Many)/å¤šå¯¹ä¸€(Many to One)</p>
<ul>
<li>çˆ¶æ¯â€”â€”å­©å­ã€ç”¨æˆ·â€”â€”è®¢å•ã€æ–‡ç« â€”â€”è¯„è®º</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡å†…åµŒæ–‡æ¡£æ¥æ˜ å°„ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå±æ€§å˜ä¸ºæ•°ç»„</li>
</ul>
<pre><code>db.users.insert([
    {
        username:&quot;swk&quot;
    },{
        username:&quot;zbj&quot;
    }
])
db.order.insert({
    list:[&quot;pg&quot;,&quot;xj&quot;,&quot;dyl&quot;],
    user_id:ObjectId(&quot;swk_Id&quot;)
})
var user_idd = db.users.findOne({username:&quot;swk&quot;})._id
db.order.find({user_id:user_idd})</code></pre></li>
</ul>
<ul>
<li><p>å¤šå¯¹å¤š(Many to Many)</p>
<ul>
<li>åˆ†ç±»â€”â€”å•†å“ã€è€å¸ˆâ€”â€”å­¦ç”Ÿ</li>
<li>å­¦ç”Ÿå±äºå¤šä¸ªè€å¸ˆã€è€å¸ˆæ•™å¤šä¸ªå­¦ç”Ÿï¼Œå­¦ç”Ÿä¸­æœ‰ä¸€ä¸ªè€å¸ˆçš„idï¼Œidå¤šä¸ªç”¨æ•°ç»„</li>
</ul>
<pre><code>db.teachers.insert([
    {
        name: &#39;hqg&#39;,
    },
    {
        name: &#39;hys&#39;,
    },
    {
        name: &quot;gxr&quot;
    }
])
db.stus.insert([
    {
        name:&quot;gj&quot;,
        tech_ids:[
            ObjectID(&#39;hqgID&#39;),
            ObjectID(&quot;hysID&quot;)
        ]
    },
    {
        name:&quot;swk&quot;,
        tech_ids: [
            ObjectID(&#39;hqgID&#39;),
            ObjectID(&quot;hysID&quot;),
            ObjectID(&quot;gxr&quot;)
        ]
    }
])
db.teachers.find()
db.stus.find()</code></pre></li>
</ul>
<h2 id="äº”ã€sortå’ŒæŠ•å½±"><a href="#äº”ã€sortå’ŒæŠ•å½±" class="headerlink" title="äº”ã€sortå’ŒæŠ•å½±"></a>äº”ã€sortå’ŒæŠ•å½±</h2><ul>
<li><code>db.emp.find()</code> æŸ¥è¯¢æ–‡æ¡£æ—¶ï¼Œé»˜è®¤æƒ…å†µæ˜¯æŒ‰ç…§_idçš„å€¼è¿›è¡Œæ’åˆ—(å‡åº)</li>
<li><code>db.emp.find({}).sort({sal:1})</code> sort()å¯ä»¥ç”¨æ¥æŒ‡å®šæ–‡æ¡£çš„æ’åºçš„è§„åˆ™ï¼Œsort()éœ€è¦ä¼ é€’ä¸€ä¸ªé˜Ÿå½¢æ¥æŒ‡å®šæ’åºçš„è§„åˆ™<ul>
<li>1 è¡¨ç¤ºå‡åº</li>
<li>-1 è¡¨ç¤ºé™åº</li>
<li><code>db.emp.find({}).sort(sal:1, empno:-1)</code> å…ˆæŒ‰ç…§salå‡åºæ’åˆ—ï¼Œå¦‚æœsalç›¸åŒï¼ŒæŒ‰ç…§empnoé™åºæ’åˆ—</li>
</ul>
</li>
<li>æ³¨ï¼šlimitã€skipã€sortä¹¦å†™é¡ºåºæ²¡æœ‰è¦æ±‚</li>
<li><code>db.emp.find({}, {ename:1})</code>åœ¨æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°çš„ä½ç½®æ¥è®¾ç½®æŸ¥è¯¢ç»“æœçš„æŠ•å½±   <code>db.emp.find({}, {ename: 1, _id: 0, sal: 1})</code></li>
</ul>
<h2 id="å…­ã€MongoOseç®€ä»‹"><a href="#å…­ã€MongoOseç®€ä»‹" class="headerlink" title="å…­ã€MongoOseç®€ä»‹"></a>å…­ã€MongoOseç®€ä»‹</h2><h3 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><ul>
<li>ä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡shellæ¥å®Œæˆå¯¹æ•°æ®åº“çš„å„ç§æ“ä½œçš„ï¼Œåœ¨å¼€å‘ä¸­å¤§éƒ¨åˆ†çš„æ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦é€šè¿‡ç¨‹åºæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œ</li>
<li>Mongooseå°±æ˜¯ä¸€ä¸ªè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡Nodeæ¥æ“ä½œMongoDBçš„æ¨¡å—</li>
<li>Mongooseæ˜¯ä¸€ä¸ªå¯¹è±¡æ–‡æ¡£æ¨¡å‹(ODM)åº“ï¼Œå®ƒå¯¹NodeåŸç”Ÿçš„MongoDBæ¨¡å—è¿›è¡Œäº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–å°è£…ï¼Œå¹¶æä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½</li>
<li>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨æ¥æŠŠç»“æ„åŒ–çš„æ¨¡å¼åº”ç”¨åˆ°ä¸€ä¸ªMongoDBé›†åˆï¼Œå¹¶æä¾›äº†éªŒè¯å’Œç±»å‹è½¬æ¢ç­‰å¥½å¤„</li>
</ul>
<h3 id="2ã€Mongooseå¥½å¤„"><a href="#2ã€Mongooseå¥½å¤„" class="headerlink" title="2ã€Mongooseå¥½å¤„"></a>2ã€Mongooseå¥½å¤„</h3><ul>
<li>å¯ä»¥ä¸ºæ–‡æ¡£åˆ›å»ºä¸€ä¸ªæ¨¡å¼ç»“æ„ï¼ˆSchemaï¼‰   â€”â€”çº¦æŸ</li>
<li>å¯ä»¥å¯¹æ¨¡å‹ä¸­çš„å¯¹è±¡/æ–‡æ¡£è¿›è¡ŒéªŒè¯</li>
<li>æ•°æ®å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢è½¬ä¸ºå¯¹è±¡æ¨¡å‹</li>
<li>å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶æ¥åº”ç”¨ä¸šåŠ¡é€»è¾‘æŒ‚é’©</li>
<li>æ¯”NodeåŸç”Ÿçš„MongoDBé©±åŠ¨æ›´å®¹æ˜“</li>
</ul>
<h3 id="3ã€æ–°çš„å¯¹è±¡"><a href="#3ã€æ–°çš„å¯¹è±¡" class="headerlink" title="3ã€æ–°çš„å¯¹è±¡"></a>3ã€æ–°çš„å¯¹è±¡</h3><ul>
<li>Schema(æ¨¡å¼å¯¹è±¡)<ul>
<li>å®šä¹‰çº¦æŸäº†æ•°æ®åº“ä¸­çš„æ–‡æ¡£ç»“æ„</li>
</ul>
</li>
<li>Model<ul>
<li>Modelå¯¹è±¡ä½œä¸ºé›†åˆä¸­æ‰€æœ‰æ–‡æ¡£çš„è¡¨ç¤ºï¼Œç›¸å½“äºMongoDBæ•°æ®åº“ä¸­çš„é›†åˆ</li>
</ul>
</li>
<li>Document<ul>
<li>Documentè¡¨ç¤ºé›†åˆä¸­çš„å…·ä½“æ–‡æ¡£ï¼Œç›¸å½“äºé›†åˆä¸­çš„ä¸€ä¸ªå…·ä½“çš„æ–‡æ¡£</li>
</ul>
</li>
</ul>
<h2 id="ä¸ƒã€è¿æ¥MongoDBæ•°æ®åº“"><a href="#ä¸ƒã€è¿æ¥MongoDBæ•°æ®åº“" class="headerlink" title="ä¸ƒã€è¿æ¥MongoDBæ•°æ®åº“"></a>ä¸ƒã€è¿æ¥MongoDBæ•°æ®åº“</h2><ol>
<li>ä¸‹è½½å®‰è£…Mongoose   <code>npm i mongoose --save</code></li>
<li>åœ¨é¡¹ç›®ä¸­å¼•å…¥Mongoose   <code>var mongoose = require(&quot;mongoose&quot;)</code></li>
<li>è¿æ¥æ•°æ®åº“   <code>mongoose.connect(&#39;mongodb://æ•°æ®åº“IPåœ°å€:ç«¯å£å·/æ•°æ®åº“å&#39;);</code><ul>
<li>ç«¯å£å·å¦‚æœæ˜¯é»˜è®¤ç«¯å£å·(27017)ï¼Œåˆ™å¯ä»¥çœç•¥ä¸å†™</li>
</ul>
</li>
<li>[å¯é€‰] ç›‘å¬MongoDBæ•°æ®åº“çš„è¿æ¥çŠ¶æ€<ul>
<li>åœ¨Mongooseå¯¹è±¡ä¸­ï¼Œæœ‰ä¸€ä¸ªå±æ€§å«åšconnectionï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºçš„å°±æ˜¯æ•°æ®åº“è¿æ¥é€šè¿‡ç›‘è§†è¯¥å¯¹è±¡çš„çŠ¶æ€ï¼Œå¯ä»¥æ¥ç›‘å¬æ•°æ®åº“çš„è¿æ¥ä¸æ–­å¼€<ul>
<li><code>mongoose.connection.once(&quot;open&quot;,function(){})</code> æ•°æ®åº“è¿æ¥æˆåŠŸçš„äº‹ä»¶</li>
<li><code>mongoose.connection.once(&quot;close&quot;,function(){})</code> æ•°æ®åº“æ–­å¼€çš„äº‹ä»¶</li>
</ul>
</li>
</ul>
</li>
<li>æ–­å¼€æ•°æ®åº“è¿æ¥(ä¸€èˆ¬ä¸éœ€è¦è°ƒç”¨) <code>mongoose.disconnect()</code><ul>
<li>MongoDBæ•°æ®åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦è¿æ¥ä¸€æ¬¡ï¼Œè¿æ¥ä¸€æ¬¡ä»¥åï¼Œé™¤éé¡¹ç›®åœæ­¢ã€æœåŠ¡å™¨å…³é—­ï¼Œå¦æ¥è¿æ¥ä¸€èˆ¬ä¸ä¼šæ–­å¼€</li>
</ul>
</li>
</ol>
<pre><code>// ä¾‹å­
var mongoose = require(&quot;mongoose&quot;)
mongoose.connect(&quot;mongodb://127.0.0.1/mongoose_test&quot;)
mongoose.connection.once(&quot;open&quot;,function(){
    console.log(&quot;æ•°æ®åº“å·²è¿æ¥&quot;)
})
mongoose.connection.once(&quot;close&quot;,function(){
    console.log(&quot;æ•°æ®åº“å·²æ–­å¼€&quot;)
})
mongoose.disconnect()</code></pre><h2 id="å…«ã€Schemaã€Modelå’ŒDocument"><a href="#å…«ã€Schemaã€Modelå’ŒDocument" class="headerlink" title="å…«ã€Schemaã€Modelå’ŒDocument"></a>å…«ã€Schemaã€Modelå’ŒDocument</h2><p>æœ‰äº†Modelï¼Œå°±å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œäº†</p>
<ul>
<li><code>Model.crate(doc(s), [callback])</code><ul>
<li>ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–‡æ¡£å¹¶æ·»åŠ åˆ°æ•°æ®åº“ä¸­</li>
<li>doc(s)  å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£å¯¹è±¡çš„æ•°ç»„</li>
<li>callback  å½“æ“ä½œå®Œæˆä¹‹åè°ƒç”¨çš„å›è°ƒå‡½æ•°</li>
</ul>
</li>
<li>æŸ¥è¯¢<ul>
<li><code>Model.find(conditions, [projection], [options], [callback])</code> æŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ æ€»ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„</li>
<li><code>Model.findById(id, [projection], options), [callback]</code> æ ¹æ®æ–‡æ¡£çš„idå±æ€§æŸ¥è¯¢æ–‡æ¡£</li>
<li><code>Model.findOne([conditions], [projection], [options], [callback])</code> æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£  æ€»ä¼šè¿”å›ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡<ul>
<li>conditions æŸ¥è¯¢çš„æ¡ä»¶</li>
<li>projection æŠ•å½±  éœ€è¦è·å–åˆ°çš„å­—æ®µ ä¸¤ç§æ–¹å¼ <ul>
<li><code>{}</code>  å¯¹è±¡ï¼Œè¦çš„å­—æ®µä¸º1ï¼Œä¸è¦çš„ä¸º0</li>
<li><code>&quot;&quot;</code> å­—æ®µåã€ä¸è¦çš„è®¾ä¸º-</li>
</ul>
</li>
<li>options æŸ¥è¯¢é€‰é¡¹ï¼ˆskip limitï¼‰</li>
<li>callback å›è°ƒå‡½æ•°ï¼ŒæŸ¥è¯¢ç»“æœä¼šé€šè¿‡å›è°ƒå‡½æ•°è¿”å›ï¼Œæ¯æ‰å‡½æ•°å¿…é¡»ä¼ ï¼Œå¦‚æœä¸ä¼ å›è°ƒå‡½æ•°ï¼Œå‹æ ¹ä¸ä¼šæŸ¥è¯¢</li>
</ul>
</li>
<li>é€šè¿‡find()æŸ¥è¯¢çš„ç»“æœï¼Œè¿”å›çš„å¯¹è±¡ï¼Œå°±æ˜¯Documentï¼Œæ–‡æ¡£å¯¹è±¡</li>
</ul>
</li>
<li>ä¿®æ”¹<ul>
<li><code>Model.update(conditions, doc, [options], [callback])</code></li>
<li><code>Model.updateMany(conditions, doc, [options], [callback])</code></li>
<li><code>Model.updateOne(conditions, doc, [options], [callback])</code><ul>
<li>ç”¨æ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£</li>
<li>conditions æŸ¥è¯¢æ¡ä»¶</li>
<li>doc ä¿®æ”¹åçš„å¯¹è±¡</li>
<li>options é…ç½®å‚æ•°</li>
<li>callback å›è°ƒå‡½æ•°</li>
</ul>
</li>
<li><code>Model.replaceOne(conditions, doc, [options], [callback])</code> æ›¿æ¢</li>
</ul>
</li>
<li>åˆ é™¤(ä¸ç”¨è¿™ä¸ª)<ul>
<li><code>Model.remove(conditions, [callback])</code></li>
<li><code>Model.deleteOne(conditions, [callback])</code></li>
<li><code>Model.deleteMany(conditions, [callback])</code></li>
</ul>
</li>
<li><code>Model.count(conditions, [callback])</code><ul>
<li>ç»Ÿè®¡æ–‡æ¡£çš„æ•°é‡</li>
</ul>
</li>
</ul>
<p>Documentå’Œé›†åˆä¸­çš„æ–‡æ¡£ä¸€ä¸€å¯¹åº”ï¼ŒDocumentæ˜¯Modelçš„å®ä¾‹ï¼Œé€šè¿‡ModelæŸ¥è¯¢åˆ°ç»“æœéƒ½æ˜¯Document</p>
<p>Documentçš„æ–¹æ³•</p>
<ul>
<li><code>Model#save([options], [options.safe], [options.validateBeforeSave], [fn])</code></li>
<li><code>update(update, [options], [callback])</code><ul>
<li>ä¿®æ”¹å¯¹è±¡</li>
</ul>
</li>
<li><code>remove([callback])</code><ul>
<li>åˆ é™¤å¯¹è±¡(æ‹’ç»ç”¨è¿™ä¸ª)</li>
</ul>
</li>
<li><code>get(name)</code><ul>
<li>è·å–æ–‡æ¡£ä¸­çš„æŒ‡å®šå±æ€§å€¼</li>
</ul>
</li>
<li><code>set(name, value)</code><ul>
<li>è®¾ç½®æ–‡æ¡£çš„æŒ‡å®šçš„å±æ€§å€¼</li>
</ul>
</li>
<li><code>id</code><ul>
<li>è·å–æ–‡æ¡£çš„_idå±æ€§å€¼</li>
</ul>
</li>
<li><code>toJSON()</code><ul>
<li>è½¬æ¢ä¸ºä¸€ä¸ªJSONå¯¹è±¡</li>
</ul>
</li>
<li><code>toObject()</code><ul>
<li>å°†Documentå¯¹è±¡è½¬æ¢ä¸ºæ™®é€šçš„jså¯¹è±¡</li>
<li>è½¬æ¢ä¸ºæ™®é€šçš„jså¯¹è±¡ä»¥åï¼Œæ‰€æœ‰çš„Documentå¯¹è±¡çš„æ–¹æ³•æˆ–å±æ€§éƒ½ä¸èƒ½ä½¿ç”¨äº†</li>
</ul>
</li>
<li>å…¶ä»– <code>equals(doc)</code>  <code>isNew</code>  <code>isInit(path)</code> </li>
</ul>
<pre><code class="javascript">var mongoose = require(&quot;mongoose&quot;)
mongoose.connect(&quot;mongodb://127.0.0.1/mongoose_test&quot;, {useMongoClient:true})
// Schemaå¯¹æ•°æ®è¿›è¡Œçº¦æŸ
// å°†mongoose.Schemaèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡
var Schema = mongoose.Schema
// åˆ›å»ºSchema(æ¨¡å¼)å¯¹è±¡
var stuSchema = new Schema({
    name: String,
    age: Number,
    gender: {
        type: String,
        default: &quot;male&quot;
    },
    address: String
})

// Modelä»£è¡¨çš„æ˜¯æ•°æ®åº“ä¸­çš„é›†åˆï¼Œé€šè¿‡Modelæ‰èƒ½å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ
// é€šè¿‡Schemaæ¥åˆ›å»ºModel
// mogoose.model(&quot;è¦æ˜ å°„çš„é›†åˆå&quot;, åˆšåˆ›å»ºçš„Schemaå¯¹è±¡) Mongooseä¼šè‡ªåŠ¨å°†é›†åˆåå˜ä¸ºå¤æ•°
var StuModel = mogoose.model(&quot;student&quot;, stuSchema)
// å‘æ•°æ®åº“ä¸­å‡ºå…¥ä¸€ä¸ªæ–‡æ¡£ model.create(æ–‡æ¡£, å›è°ƒå‡½æ•°)
stuModel.create({
    name: &#39;swk&#39;,
    age: 18,
    gender: &#39;male&#39;,
    address: &quot;hgs&quot;
}, function(err){
    if(!err){
        console.log(&quot;æ’å…¥æˆåŠŸ&quot;)
    }
})
stuModel.create([{
    name: &#39;shs&#39;,
    age: 28,
    gender: &#39;male&#39;,
    address: &quot;lsh&quot;
},{
    name: &quot;bgj&quot;,
    age: 17,
    gender: &quot;female&quot;,
    address: &quot;bgd&quot;
}], function(err){
    if(!err){
        console.log(&quot;æ’å…¥æˆåŠŸ&quot;)
    }
})

// æŸ¥è¯¢
StuModel.find({name:&quot;shs&quot;},function(err, docs){
    if(!err){
        console.log(docs)
        console.log(docs[0].name)
    }
})
/* StuModel.find({name:&quot;shs&quot;},{name:1, _id:0},function(err, docs){
    if(!err){
        console.log(docs)
    }
}) */
StuModel.find({name:&quot;shs&quot;},&quot;name -_id&quot;,function(err, docs){
    if(!err){
        console.log(docs)
    }
})
StuModel.find({name:&quot;shs&quot;},&quot;name -_id&quot;,{skip:3, limit:1},function(err, docs){
    if(!err){
        console.log(docs)
    }
})
StuModel.findOne({}, function(err, doc){
    if(!err){
        console.log(doc.name)
    }
})
StuModel.findById(&quot;...&quot;,function(err,doc){
    if(!err){
        console.log(doc)
    }
})

// Documentå¯¹è±¡æ˜¯Modelçš„å®ä¾‹
/* StuModel.findById(&quot;...&quot;,function(err,doc){
    if(!err){
        console.log(doc instantceof StuModel)
    }
})
 */

StuModel.updateOne({name: &#39;ts&#39;}, {$set:{age:20}},function(err){
    if(!err){
        console.log(&quot;ä¿®æ”¹æˆåŠŸ&quot;)
    }
})

StuModel.remove({name:&quot;bgj&quot;}, function(err){
    if(!err){
        console.log(&quot;åˆ é™¤æˆåŠŸ&quot;)
    }
})

StuModel.count({}, function(err, count){
    if(!err){
        console.log(count)
    }
})



// åˆ›å»ºä¸€ä¸ªDocument
var stu = new StuModel({
    name: &quot;blm&quot;,
    age: 14,
    gender: &quot;male&quot;,
    address: &quot;bbt&quot;
})
stu.save(function(err){
    if(!err){
        console.log(&quot;ä¿å­˜æˆåŠŸ&quot;)
    }
})
StuModel.findOne({}, function(err, doc){
    if(!err){
        /* doc.update({$set:{age: 28}}, function(err){
            if(!err){
                console.log(&quot;ä¿®æ”¹æˆåŠŸ&quot;)
            }
        }) */
        doc.age = 28
        save()

        /* doc.remove(function(err){
            if(!err){
                console.log(&quot;åˆ é™¤æˆåŠŸ&quot;)
            }
        }) */
        // console.log(doc.get(&quot;age&quot;))
        console.log(doc.age)
        // doc.set(&quot;name&quot;, &quot;zhu&quot;)
        doc.name = &quot;zhu&quot;
        // console.log(doc.id)
        console.log(doc._id)
        console.log(doc.toJSON())
        doc = doc.toObject()
        delete doc.address
        console.log(doc)
    }
})</code></pre>
<h2 id="ä¹ã€Mongooseçš„æ¨¡å—åŒ–"><a href="#ä¹ã€Mongooseçš„æ¨¡å—åŒ–" class="headerlink" title="ä¹ã€Mongooseçš„æ¨¡å—åŒ–"></a>ä¹ã€Mongooseçš„æ¨¡å—åŒ–</h2><p>å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼Œç”¨æ¥è¿æ¥MongoDBæ•°æ®åº“</p>
<pre><code class="javascript">// conn_mongo.js
var mongoose = require(&quot;mongoose&quot;)
mongoose.connect(&quot;mongodb://127.0.0.1/mongoose_test&quot;)</code></pre>
<p>å®šä¹‰ä¸€ä¸ªstudentçš„æ¨¡å‹ï¼Œå‡ ä¸ªæ¨¡å‹å°±å¯ä»¥åˆ›å»ºå‡ ä¸ªjsæ–‡ä»¶</p>
<pre><code class="javascript">// student.js
var mongoose = require(&quot;mongoose&quot;)
var Schema = mongoose.Schema
var stuSchema = new Schema({
    name: String,
    age: Number,
    gender: {
        type: String,
        default: &quot;male&quot;
    },
    address: String
})
var StuModel = mongoose.model(&quot;student&quot;, stuSchema)
// exports.model = StuModel
module.exports = StuModel</code></pre>
<p>å…¶ä»–åœ°æ–¹å¼•å…¥</p>
<pre><code class="javascript">require(&quot;./conn_mongo&quot;)
// var Student = require(&quot;./models/student&quot;).model
var Student = require(&quot;./models/student&quot;)
Student.find({}, function(err, docs){
    if(!err){
        console.log(docs)
    }
})</code></pre>
<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><pre><code>//1.è¿›å…¥my_testæ•°æ®åº“
use my_test

//2.å‘æ•°æ®åº“çš„useré›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£  
db.users.insert({
    username:&quot;sunwukong&quot;
});

//3.æŸ¥è¯¢useré›†åˆä¸­çš„æ–‡æ¡£
db.users.find();

//4.å‘æ•°æ®åº“çš„useré›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–‡æ¡£   
db.users.insert({
    username:&quot;zhubajie&quot;
});

//5.æŸ¥è¯¢æ•°æ®åº“useré›†åˆä¸­çš„æ–‡æ¡£
db.users.find();

//6.ç»Ÿè®¡æ•°æ®åº“useré›†åˆä¸­çš„æ–‡æ¡£æ•°é‡
db.users.find().count();

//7.æŸ¥è¯¢æ•°æ®åº“useré›†åˆä¸­usernameä¸ºsunwukongçš„æ–‡æ¡£
db.users.find({username:&quot;sunwukong&quot;});

//8.å‘æ•°æ®åº“useré›†åˆä¸­çš„usernameä¸ºsunwukongçš„æ–‡æ¡£ï¼Œæ·»åŠ ä¸€ä¸ªaddresså±æ€§ï¼Œå±æ€§å€¼ä¸ºhuaguoshan
db.users.update({username:&quot;sunwukong&quot;},{$set:{address:&quot;huaguoshan&quot;}});


//9.ä½¿ç”¨{username:&quot;tangseng&quot;} æ›¿æ¢ username ä¸º zhubajieçš„æ–‡æ¡£
db.users.replaceOne({username:&quot;zhubajie&quot;},{username:&quot;tangseng&quot;});    

//10.åˆ é™¤usernameä¸ºsunwukongçš„æ–‡æ¡£çš„addresså±æ€§
db.users.update({username:&quot;sunwukong&quot;},{$unset:{address:1}});


//11.å‘usernameä¸ºsunwukongçš„æ–‡æ¡£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªhobby:{cities:[&quot;beijing&quot;,&quot;shanghai&quot;,&quot;shenzhen&quot;] , movies:[&quot;sanguo&quot;,&quot;hero&quot;]}
//MongoDBçš„æ–‡æ¡£çš„å±æ€§å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œå½“ä¸€ä¸ªæ–‡æ¡£çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ–‡æ¡£å«åš å†…åµŒæ–‡æ¡£
db.users.update({username:&quot;sunwukong&quot;},{$set:{hobby:{cities:[&quot;beijing&quot;,&quot;shanghai&quot;,&quot;shenzhen&quot;] , movies:[&quot;sanguo&quot;,&quot;hero&quot;]}}});
db.users.find();

//12.å‘usernameä¸ºtangsengçš„æ–‡æ¡£ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªhobby:{movies:[&quot;A Chinese Odyssey&quot;,&quot;King of comedy&quot;]}
db.users.update({username:&quot;tangseng&quot;},{$set:{hobby:{movies:[&quot;A Chinese Odyssey&quot;,&quot;King of comedy&quot;]}}})

//13.æŸ¥è¯¢å–œæ¬¢ç”µå½±heroçš„æ–‡æ¡£
//MongoDBæ”¯æŒç›´æ¥é€šè¿‡å†…åµŒæ–‡æ¡£çš„å±æ€§è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœè¦æŸ¥è¯¢å†…åµŒæ–‡æ¡£åˆ™å¯ä»¥é€šè¿‡.çš„å½¢å¼æ¥åŒ¹é…
//å¦‚æœè¦é€šè¿‡å†…åµŒæ–‡æ¡£æ¥å¯¹æ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢ï¼Œæ­¤æ—¶å±æ€§åå¿…é¡»ä½¿ç”¨å¼•å· 
db.users.find({&#39;hobby.movies&#39;:&quot;hero&quot;});

//14.å‘tangsengä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ç”µå½±Interstellar
//$push ç”¨äºå‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ 
//$addToSet å‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  ï¼Œ å¦‚æœæ•°ç»„ä¸­å·²ç»å­˜åœ¨äº†è¯¥å…ƒç´ ï¼Œåˆ™ä¸ä¼šæ·»åŠ 
db.users.update({username:&quot;tangseng&quot;},{$push:{&quot;hobby.movies&quot;:&quot;Interstellar&quot;}});
db.users.update({username:&quot;tangseng&quot;},{$addToSet:{&quot;hobby.movies&quot;:&quot;Interstellar&quot;}});
db.users.find();

//15.åˆ é™¤å–œæ¬¢beijingçš„ç”¨æˆ·
db.users.remove({&quot;hobby.cities&quot;:&quot;beijing&quot;});

//16.åˆ é™¤useré›†åˆ
db.users.remove({});
db.users.drop();

show dbs;

//17.å‘numbersä¸­æ’å…¥20000æ¡æ•°æ® 7.2s
for(var i=1 ; i&lt;=20000 ; i++){
    db.numbers.insert({num:i});
}

db.numbers.find()

db.numbers.remove({});


//0.4s
var arr = [];

for(var i=1 ; i&lt;=20000 ; i++){
    arr.push({num:i});
}

db.numbers.insert(arr);


//18.æŸ¥è¯¢numbersä¸­numä¸º500çš„æ–‡æ¡£
db.numbers.find({num:500})

//19.æŸ¥è¯¢numbersä¸­numå¤§äº5000çš„æ–‡æ¡£
db.numbers.find({num:{$gt:500}});
db.numbers.find({num:{$eq:500}});

//20.æŸ¥è¯¢numbersä¸­numå°äº30çš„æ–‡æ¡£
db.numbers.find({num:{$lt:30}});

//21.æŸ¥è¯¢numbersä¸­numå¤§äº40å°äº50çš„æ–‡æ¡£
db.numbers.find({num:{$gt:40 , $lt:50}});

//22.æŸ¥è¯¢numbersä¸­numå¤§äº19996çš„æ–‡æ¡£
db.numbers.find({num:{$gt:19996}});

//23.æŸ¥çœ‹numbersé›†åˆä¸­çš„å‰10æ¡æ•°æ®
db.numbers.find({num:{$lte:10}});

//limit()è®¾ç½®æ˜¾ç¤ºæ•°æ®çš„ä¸Šé™
db.numbers.find().limit(10);
//åœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä»¬ç»å¯¹ä¸ä¼šæ‰§è¡Œä¸å¸¦æ¡ä»¶çš„æŸ¥è¯¢
db.numbers.find();

//24.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬11æ¡åˆ°20æ¡æ•°æ®
/*
    åˆ†é¡µ æ¯é¡µæ˜¾ç¤º10æ¡
        1-10     0
        11-20    10
        21-30    20
        ã€‚ã€‚ã€‚

        skip((é¡µç -1) * æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°).limit(æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°);

    skip()ç”¨äºè·³è¿‡æŒ‡å®šæ•°é‡çš„æ•°æ®    

    MongoDBä¼šè‡ªåŠ¨è°ƒæ•´skipå’Œlimitçš„ä½ç½®
*/
db.numbers.find().skip(10).limit(10);

//25.æŸ¥çœ‹numbersé›†åˆä¸­çš„ç¬¬21æ¡åˆ°30æ¡æ•°æ®
db.numbers.find().skip(20).limit(10);

db.numbers.find().limit(10).skip(10);




//26.å°†deptå’Œempé›†åˆå¯¼å…¥åˆ°æ•°æ®åº“ä¸­
db.dept.find()
db.emp.find()

//27.æŸ¥è¯¢å·¥èµ„å°äº2000çš„å‘˜å·¥
db.emp.find({sal:{$lt:2000}});

//28.æŸ¥è¯¢å·¥èµ„åœ¨1000-2000ä¹‹é—´çš„å‘˜å·¥
db.emp.find({sal:{$lt:2000 , $gt:1000}});

//29.æŸ¥è¯¢å·¥èµ„å°äº1000æˆ–å¤§äº2500çš„å‘˜å·¥
db.emp.find({$or:[{sal:{$lt:1000}} , {sal:{$gt:2500}}]});

//30.æŸ¥è¯¢è´¢åŠ¡éƒ¨çš„æ‰€æœ‰å‘˜å·¥
//(depno)
var depno = db.dept.findOne({dname:&quot;è´¢åŠ¡éƒ¨&quot;}).deptno;
db.emp.find({depno:depno});

//31.æŸ¥è¯¢é”€å”®éƒ¨çš„æ‰€æœ‰å‘˜å·¥
var depno = db.dept.findOne({dname:&quot;é”€å”®éƒ¨&quot;}).deptno;
db.emp.find({depno:depno});

//32.æŸ¥è¯¢æ‰€æœ‰mgrä¸º7698çš„æ‰€æœ‰å‘˜å·¥
db.emp.find({mgr:7698})

//33.ä¸ºæ‰€æœ‰è–ªèµ„ä½äº1000çš„å‘˜å·¥å¢åŠ å·¥èµ„400å…ƒ
db.emp.updateMany({sal:{$lte:1000}} , {$inc:{sal:400}});
db.emp.find()
</code></pre><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/06/04/AngularJs/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="AngularJså­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>AngularJså­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´06æœˆ04æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>2.5k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 12 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="1ã€Angularä»‹ç»"><a href="#1ã€Angularä»‹ç»" class="headerlink" title="1ã€Angularä»‹ç»"></a>1ã€Angularä»‹ç»</h2><ul>
<li>å®˜ç½‘ï¼š <a href="https://angularjs.org" target="_blank" rel="noopener">https://angularjs.org</a></li>
<li>Angularæ˜¯Googleå¼€æºçš„å‰ç«¯JSç»“æ„åŒ–æ¡†æ¶</li>
<li>AngularJSç‰¹æ€§å’Œä¼˜ç‚¹<ul>
<li>åŒå‘æ•°æ®ç»‘å®š</li>
<li>å£°æ˜å¼ä¾èµ–æ³¨å…¥</li>
<li>è§£è€¦åº”ç”¨é€»è¾‘ï¼Œæ•°æ®æ¨¡å‹å’Œè§†å›¾<ul>
<li>è€¦åˆåº¦ï¼šä¸¤è€…ä¹‹é—´å…³ç³»å¯†åˆ‡åº¦</li>
<li>é™ä½è€¦åˆåº¦</li>
</ul>
</li>
<li>å®Œå–„çš„é¡µé¢æŒ‡ä»¤</li>
<li>å®šåˆ¶è¡¨å•éªŒè¯</li>
<li>Ajaxå°è£…</li>
</ul>
</li>
<li>ä¸jQueryæ¯”è¾ƒ<ul>
<li>jQuery<ul>
<li>JSå‡½æ•°åº“</li>
<li>å°è£…ç®€åŒ–DOMæ“ä½œ</li>
</ul>
</li>
<li>Angular<ul>
<li>JSç»“æ„åŒ–æ¡†æ¶</li>
<li>ä¸»ä½“ä¸å†æ˜¯DOMï¼Œè€Œæ˜¯é¡µé¢ä¸­çš„åŠ¨æ€æ•°æ®</li>
</ul>
</li>
</ul>
</li>
<li>AngularJSèƒ½åšä»€ä¹ˆé¡¹ç›®<ul>
<li>æ„å»ºå•é¡µé¢(SPA)Webåº”ç”¨æˆ–Web APPåº”ç”¨<ul>
<li>å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰Simple Page Applicationç‰¹ç‚¹ï¼š<ul>
<li>å°†æ‰€æœ‰çš„æ´»åŠ¨å±€é™äºä¸€ä¸ªé¡µé¢</li>
<li>å½“é¡µé¢ä¸­æœ‰éƒ¨åˆ†æ•°æ®å‘ç”Ÿäº†å˜åŒ–ä¸ä¼šå»åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯å±€éƒ¨åˆ·æ–°</li>
<li>åˆ©ç”¨çš„AjaxæŠ€æœ¯ã€è·¯ç”±</li>
</ul>
</li>
</ul>
</li>
<li>åº”ç”¨<ul>
<li><del>é¥¿äº†ä¹ˆ <a href="https://www.ele.me/home/" target="_blank" rel="noopener">https://www.ele.me/home/</a></del></li>
<li>å¾®ä¿¡ç½‘é¡µç‰ˆ <a href="https://wx.qq.com" target="_blank" rel="noopener">https://wx.qq.com</a></li>
<li>çŸ¥ä¹å‘¨æŠ¥ <a href="https://zhuanlan.zhihu.com/Weekly" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/Weekly</a></li>
<li>åå°ç®¡ç†åº”ç”¨ï¼šé˜¿é‡Œäº‘ã€åœŸè±†åå°ã€å”¯å“ä¼šâ€¦â€¦</li>
</ul>
</li>
</ul>
</li>
<li>ç‰ˆæœ¬å­¦ä¹ <ul>
<li>1.0 JavaScript </li>
<li><del>2.0 3.0 4.0 TypeScript</del></li>
</ul>
</li>
</ul>
<h3 id="2ã€ç¬¬ä¸€ä¸ªAngularç¨‹åº"><a href="#2ã€ç¬¬ä¸€ä¸ªAngularç¨‹åº" class="headerlink" title="2ã€ç¬¬ä¸€ä¸ªAngularç¨‹åº"></a>2ã€ç¬¬ä¸€ä¸ªAngularç¨‹åº</h3><p>ä½¿ç”¨jQueryå®ç°</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;jQueryå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;input type=&quot;text&quot;&gt;
  &lt;p&gt;æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼š&lt;span&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;script src=&quot;jquery.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    $(function(){  //document.ready æ–‡æ¡£(é¡µé¢ç»“æ„)åŠ è½½å®Œæ¯• window.onload:æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯•ï¼ŒåŒ…æ‹¬å›¾ç‰‡ç­‰èµ„æº
      $(&#39;input&#39;).keyup(function(){
        var value = this.value   // $(this).val()
        $(&#39;span&#39;).html(value)
      })
    })
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ä½¿ç”¨AngularJSå®ç°</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;AngularJSå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body ng-app&gt;
  &lt;input type=&quot;text&quot; ng-model=&quot;username&quot;&gt;
  &lt;p&gt;æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼š&lt;span&gt;{{username}}&lt;/span&gt;&lt;/p&gt;
  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/angular.js/1.2.29/angular.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Chromeæ’ä»¶ï¼š</p>
<blockquote>
<p>ng-inspector for AngularJS</p>
</blockquote>
<ul>
<li><code>ng-app</code>(æŒ‡ä»¤)ï¼šå‘Šè¯‰angularæ ¸å¿ƒï¼Œå®ƒç®¡ç†å½“å‰æ ‡ç­¾æ‰€åŒ…å«çš„æ•´ä¸ªåŒºåŸŸï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨åˆ›å»º$rootScopeæ ¹ä½œç”¨åŸŸå¯¹è±¡ï¼ˆé€šå¸¸æ”¾åœ¨bodyæ ‡ç­¾ï¼‰</li>
<li><code>ng-model</code>ï¼šå°†å½“å‰è¾“å…¥æ¡†çš„å€¼ä¸è°å…³è”(å±æ€§å:å±æ€§å€¼)ï¼Œå¹¶ä½œä¸ºå½“å‰ä½œç”¨åŸŸå¯¹è±¡($rootScope)çš„å±æ€§</li>
</ul>
<pre><code>{{}}(è¡¨è¾¾å¼)ï¼šæ˜¾ç¤ºæ•°æ®ï¼Œä»å½“å‰ä½œç”¨åŸŸå¯¹è±¡çš„æŒ‡å®šå±æ€§åä¸Šå–</code></pre><ul>
<li><p>è¡¨è¾¾å¼ï¼šé€šå¸¸æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•éœ€è¦å€¼çš„åœ°æ–¹ï¼Œæ¯”å¦‚å‡½æ•°è°ƒç”¨çš„å‚æ•°ã€ä¸€ä¸ªå˜é‡åã€ä¸€ä¸ªè¿ç®—ç­‰</p>
</li>
<li><p>è¯­å¥ï¼šé€šå¸¸è¡¨ç¤ºä¸€ä¸ªå®Œæ•´çš„æ‰§è¡Œå•ä½ï¼Œä¸€æ®µå®Œæ•´çš„jså¯æ‰§è¡Œä»£ç ï¼Œæœ‰çš„è¯­å¥ä¹Ÿå¯ä»¥ç”¨è¡¨è¾¾å¼æ¥æ‰§è¡Œï¼Œç§°ä¸ºè¡¨è¾¾å¼è¯­å¥</p>
</li>
<li><p>åŒºåˆ«ï¼šè¯­å¥ç”¨åˆ†å·ç»“å°¾ï¼Œæœ‰äº›è¯­å¥æˆ‘ä»¬æ²¡æœ‰åŠ åˆ†å·ï¼Œä¾‹å¦‚console.logè™½ç„¶æ²¡åŠ åˆ†å·ï¼Œä½†ä¹Ÿæ˜¯è¯­å¥ï¼Œå› ä¸ºjså¼•æ“ä¼šè‡ªåŠ¨åœ¨è§£æçš„æ—¶å€™åŠ ä¸Šåˆ†å·</p>
</li>
<li><p>ç‰¹ä¾‹ï¼šifè¯­å¥ï¼Œå°±ä¸ç”¨åŠ åˆ†å·ï¼Œä¹Ÿå¯ä»¥æ˜¯å®Œæ•´çš„è¯­å¥</p>
</li>
</ul>
<h2 id="äºŒã€å››ä¸ªé‡è¦æ¦‚å¿µ"><a href="#äºŒã€å››ä¸ªé‡è¦æ¦‚å¿µ" class="headerlink" title="äºŒã€å››ä¸ªé‡è¦æ¦‚å¿µ"></a>äºŒã€å››ä¸ªé‡è¦æ¦‚å¿µ</h2><h3 id="1ã€åŒå‘æ•°æ®ç»‘å®š"><a href="#1ã€åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="1ã€åŒå‘æ•°æ®ç»‘å®š"></a>1ã€åŒå‘æ•°æ®ç»‘å®š</h3><ul>
<li><p>æ•°æ®ç»‘å®šï¼šæ•°æ®ä»ä¸€ä¸ªåœ°æ–¹Aè½¬ç§»(ä¼ é€’)åˆ°å¦ä¸€ä¸ªåœ°æ–¹Bï¼Œè€Œä¸”è¿™ä¸ªæ“ä½œç”±æ¡†æ¶æ¥å®Œæˆ</p>
</li>
<li><p>åŒå‘æ•°æ®ç»‘å®šï¼šæ•°æ®å¯ä»¥ä»View(è§†å›¾å±‚)æµå‘Model(æ¨¡å‹)ï¼Œä¹Ÿå¯ä»¥ä»Modelæµå‘View</p>
<ul>
<li><p>è§†å›¾(View)ï¼šä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„é¡µé¢ï¼ˆä¸»è¦æ˜¯AngularæŒ‡ä»¤å’Œè¡¨è¾¾å¼ï¼‰</p>
</li>
<li><p>æ¨¡å‹(Model)ï¼šä½œç”¨åŸŸå¯¹è±¡(å½“å‰ä¸º$rootScope)ï¼Œå®ƒå¯ä»¥åŒ…å«ä¸€äº›å±æ€§æˆ–æ–¹æ³•</p>
</li>
<li><p>å½“æ”¹å˜Viewä¸­çš„æ•°æ®ï¼ŒModelå¯¹è±¡çš„å¯¹åº”å±æ€§ä¹Ÿä¼šéšä¹‹æ”¹å˜ï¼šng-modelæŒ‡ä»¤ æ•°æ®ä»Viewåˆ°Model</p>
</li>
<li><p>å½“ModelåŸŸå¯¹è±¡çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé¡µé¢å¯¹åº”æ•°æ®éšä¹‹æ›´æ–°ï¼š{{}}è¡¨è¾¾å¼  æ•°æ®ä»Modelåˆ°View</p>
</li>
<li><p>ng-modelæ˜¯åŒå‘æ•°æ®ç»‘å®šï¼Œè€Œ{{}}æ˜¯å•å‘æ•°æ®ç»‘å®š</p>
<p>(Viewâ€”â€”é¡µé¢   Modelâ€”â€”å†…å­˜)</p>
</li>
</ul>
</li>
<li><p>ng-initï¼šç”¨æ¥åˆå§‹åŒ–å½“å‰ä½œç”¨åŸŸå˜é‡  ï¼ˆViewâ€“&gt;Modelâ€“&gt;View)</p>
</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;AngularJSå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body ng-app&gt;    &lt;!-- ng-app=&quot;&quot;é™¤äº†æ¥ç®¡åŒºåŸŸï¼Œè¿˜ä¼šè‡ªåŠ¨ç”Ÿæˆæ ¹ä½œç”¨åŸŸ($rootScope) --&gt;
  &lt;!--
  &lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&gt;   å…ˆä¼ é€’åˆ°Modelï¼Œå†ä»Modelåˆ°ä¸‰ä¸ªViewä¸­çš„ç›¸åº”ä½ç½®
  &lt;p&gt;å§“å1ï¼š{{name}}&lt;/p&gt;
  &lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&gt;
  &lt;p&gt;å§“å2ï¼š{{name}}&lt;/p&gt;
  --&gt;
  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/angular.js/1.2.29/angular.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>æ˜¾ç¤ºç»“æœ</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589612197548.png" alt="æµ‹è¯•" class="lazyload"></p>
<p>è¿‡ç¨‹</p>
<pre><code class="html">&lt;body ng-app&gt;</code></pre>
<p>ng-app=â€â€é™¤äº†æ¥ç®¡åŒºåŸŸï¼Œè¿˜ä¼šè‡ªåŠ¨ç”Ÿæˆæ ¹ä½œç”¨åŸŸ($rootScope)</p>
<pre><code class="html">&lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589611921666.png" alt="è¿‡ç¨‹1" class="lazyload"></p>
<pre><code class="html">&lt;p&gt;å§“å1ï¼š{{name}}&lt;/p&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589612077497.png" alt="è¿‡ç¨‹2" class="lazyload"></p>
<ul>
<li>åˆå§‹åŒ–æ•°æ®</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;AngularJSå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body ng-app ng-init=&quot;name=&#39;Tom&#39;&quot;&gt; &lt;!-- ng-initåˆå§‹åŒ–æ•°æ® --&gt;
  &lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&gt;
  &lt;p&gt;å§“å1ï¼š{{name}}&lt;/p&gt;
  &lt;input type=&quot;text&quot; ng-model=&quot;name&quot;&gt;
  &lt;p&gt;å§“å2ï¼š{{name}}&lt;/p&gt;
  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/angular.js/1.2.29/angular.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589612507494.png" alt="è¿‡ç¨‹3" class="lazyload"></p>
<h3 id="2ã€ä¾èµ–æ³¨å…¥"><a href="#2ã€ä¾èµ–æ³¨å…¥" class="headerlink" title="2ã€ä¾èµ–æ³¨å…¥"></a>2ã€ä¾èµ–æ³¨å…¥</h3><ul>
<li>ä¾èµ–å¯¹è±¡ï¼šå®ŒæˆæŸä¸ªç‰¹å®šçš„åŠŸèƒ½éœ€è¦æŸä¸ªå¯¹è±¡æ‰èƒ½å®ç°ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯ä¾èµ–å¯¹è±¡ã€‚</li>
<li>ä¾èµ–æ³¨å…¥ï¼šä¾èµ–çš„å¯¹è±¡ä»¥å½¢å‚çš„å½¢å¼è¢«æ³¨å…¥è¿›æ¥ä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ä¾èµ–æ³¨å…¥ã€‚</li>
<li>Angularçš„<code>$scope</code>å¯¹è±¡å°±æ˜¯ä¾èµ–å¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯ä¾èµ–æ³¨å…¥çš„å½¢å¼è¿›è¡Œä½¿ç”¨ã€‚</li>
<li>å›è°ƒå‡½æ•°çš„eventçš„å°±æ˜¯ä¾èµ–å¯¹è±¡</li>
<li>å›è°ƒå‡½æ•°æœ‰å½¢å‚å°±æ˜¯ä¾èµ–æ³¨å…¥</li>
</ul>
<p>è¡¥ï¼š</p>
<p>å¼€å‘çš„ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>å‘½ä»¤å¼<ul>
<li>æ›´åŠ æ³¨é‡çš„æ˜¯æ‰§è¡Œçš„è¿‡ç¨‹</li>
<li>æ›´åƒè€ƒè¯•çš„è§£ç­”é¢˜</li>
</ul>
</li>
<li>å£°æ˜å¼<ul>
<li>æ›´åŠ æ³¨é‡çš„æ˜¯æ‰§è¡Œçš„ç»“æœ</li>
<li>å£°æ˜å¼æ˜¯å¯¹å‘½ä»¤çš„å±€éƒ¨åŒ…è£…</li>
<li>æ›´åƒé€‰æ‹©é¢˜æˆ–å¡«ç©ºé¢˜</li>
</ul>
</li>
</ul>
<p>egï¼šæ•°ç»„ä¸­æ¯ä¸€é¡¹åŠ 10</p>
<pre><code class="javascript">var arr = [1,2,3,4,5]
var newArr1 = []
// å‘½ä»¤å¼
for(var i = 0; i &lt; arr.length; i++){
    var value = arr[i] + 10
    newArr1.push(value)
}
console.log(newArr1)
// å£°æ˜å¼
var newArr2 = arr.map(function(item, index){
    return item + 10
})
console.log(newArr2)</code></pre>
<h2 id="ä¸‰ã€ä¸‰ä¸ªé‡è¦å¯¹è±¡"><a href="#ä¸‰ã€ä¸‰ä¸ªé‡è¦å¯¹è±¡" class="headerlink" title="ä¸‰ã€ä¸‰ä¸ªé‡è¦å¯¹è±¡"></a>ä¸‰ã€ä¸‰ä¸ªé‡è¦å¯¹è±¡</h2><h3 id="1ã€ä½œç”¨åŸŸä¸æ§åˆ¶å™¨"><a href="#1ã€ä½œç”¨åŸŸä¸æ§åˆ¶å™¨" class="headerlink" title="1ã€ä½œç”¨åŸŸä¸æ§åˆ¶å™¨"></a>1ã€ä½œç”¨åŸŸä¸æ§åˆ¶å™¨</h3><ul>
<li>ä½œç”¨åŸŸå¯¹è±¡<ul>
<li>ä¸€ä¸ªJSå®ä¾‹å¯¹è±¡ï¼Œng-appæŒ‡ä»¤é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªæ ¹ä½œç”¨åŸŸå¯¹è±¡($rootScope)</li>
<li>å®ƒçš„å±æ€§å’Œæ–¹æ³•ä¸é¡µé¢ä¸­çš„æŒ‡ä»¤æˆ–è¡¨è¾¾å¼æ˜¯å…³è”çš„</li>
</ul>
</li>
<li>æ§åˆ¶å™¨<ul>
<li>ç”¨æ¥æ§åˆ¶AngularJSåº”ç”¨æ•°æ®çš„å®ä¾‹å¯¹è±¡</li>
<li>ng-controllerï¼šæŒ‡å®šæ§åˆ¶å™¨æ„é€ å‡½æ•°ï¼ŒAngularä¼šè‡ªåŠ¨newæ­¤å‡½æ•°åˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡</li>
<li>åŒæ—¶Angularè¿˜æœ‰åˆ›å»ºä¸€ä¸ªæ–°çš„åŸŸå¯¹è±¡$scopeï¼Œå®ƒæ˜¯$rootScopeçš„å­å¯¹è±¡</li>
<li>åœ¨æ§åˆ¶å™¨å‡½æ•°ä¸­å£°æ˜<code>$scope</code>å½¢å‚ï¼ŒAngularä¼šè‡ªåŠ¨å°†<code>$scope</code>ä¼ å…¥</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;AngularJSå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body ng-app ng-init=&quot;age=12&quot;&gt;
  &lt;div ng-controller=&quot;MyController&quot;&gt;
    &lt;input type=&quot;text&quot; placeholder=&quot;å§“&quot; ng-model=&quot;firstName&quot;&gt;
    &lt;input type=&quot;text&quot; placeholder=&quot;å&quot; ng-model=&quot;lastName&quot;&gt;
    &lt;p&gt;å§“å1ï¼š{{firstName+'-'+lastName}}&lt;/p&gt;
    &lt;p&gt;å§“å2ï¼š{{getName()}}&lt;/p&gt;
    {{age}}
  &lt;/div&gt;
  &lt;div&gt;
    {{firstName}}   &lt;!-- ä¸èƒ½æ˜¾ç¤º --&gt;
  &lt;/div&gt;
  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/angular.js/1.2.29/angular.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    function MyController($scope){ // å½¢å‚å¿…é¡»æ˜¯$scope
      // console.log($scope)
      // console.log(this instanceof MyController)
      $scope.firstName = &#39;lu&#39;
      $scope.lastName = &#39;wang&#39;
      $scope.getName = function(){
        return $scope.firstName + &#39; &#39; + $scope.lastName
        // return this.firstName + &#39; &#39; + this.lastName
      }
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589613477087.png" alt="ä½œç”¨åŸŸ" class="lazyload"></p>
<h3 id="2ã€æ¨¡å—å’Œæ§åˆ¶å™¨"><a href="#2ã€æ¨¡å—å’Œæ§åˆ¶å™¨" class="headerlink" title="2ã€æ¨¡å—å’Œæ§åˆ¶å™¨"></a>2ã€æ¨¡å—å’Œæ§åˆ¶å™¨</h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;AngularJSå®ç°&lt;/title&gt;
&lt;/head&gt;
&lt;body ng-app=&quot;myApp&quot;&gt;   &lt;!--æŒ‡å‘æ¨¡å—å¯¹è±¡çš„åå­—--&gt;
  &lt;div ng-controller=&quot;MyController&quot;&gt;
    &lt;input type=&quot;text&quot; ng-model=&#39;empName&#39;&gt;
    &lt;p&gt;å‘˜å·¥åå­—1ï¼š{{empName}}&lt;/p&gt;
  &lt;/div&gt;
  &lt;div ng-controller=&quot;MyController2&quot;&gt;
    &lt;input type=&quot;text&quot; ng-model=&#39;empName&#39;&gt;
    &lt;p&gt;å‘˜å·¥åå­—2ï¼š{{empName}}&lt;/p&gt;
  &lt;/div&gt;
  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/angular.js/1.5.5/angular.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    // console.log(angular)
    /* // åˆ›å»ºæ¨¡å—å¯¹è±¡
    var myModule = angular.module(&quot;myApp&quot;, [])
    // ç”Ÿæˆä½œç”¨åŸŸå¯¹è±¡
    myModule.controller(&#39;MyController&#39;, function($scope){
      $scope.empName = &#39;Tom&#39;
    })
    myModule.controller(&#39;MyController2&#39;, function($scope){
      $scope.empName = &#39;Jack&#39;
    }) */
    // ä¼˜åŒ– é“¾å¼è°ƒç”¨
    /* &lt;angular.module(&quot;myApp&quot;, [])
          .controller(&#39;MyController&#39;, function($scope){  // è¿”å›å€¼æ˜¯æ¨¡å—å¯¹è±¡
            $scope.empName = &#39;Tom&#39;
          })
          .controller(&#39;MyController2&#39;, function($scope){ // éšå¼å£°æ˜ä¾èµ–æ³¨å…¥
            $scope.empName = &#39;Jack&#39;
          }) */
      // ä½†æ˜¯ï¼Œç”±äºjsä»£ç å‹ç¼©ä¹‹åå½¢å‚ä¼šç”¨å…¶ä»–å­—æ¯abcdä»£æ›¿ï¼Œä¼šé€ æˆangularè§£æä¸äº†ï¼Œè§£å†³æ–¹æ¡ˆï¼š
      &lt;angular.module(&quot;myApp&quot;, [])
          .controller(&#39;MyController&#39;, [&#39;$scope&#39;, function($scope){ // æ˜¾å¼å£°æ˜ä¾èµ–æ³¨å…¥
            $scope.empName = &#39;Tom&#39;
          }])
          .controller(&#39;MyController2&#39;, [&#39;$scope&#39;, function($scope){
            $scope.empName = &#39;Jack&#39;
          }])
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="å››ã€ä¸¤ä¸ªé¡µé¢è¯­æ³•"><a href="#å››ã€ä¸¤ä¸ªé¡µé¢è¯­æ³•" class="headerlink" title="å››ã€ä¸¤ä¸ªé¡µé¢è¯­æ³•"></a>å››ã€ä¸¤ä¸ªé¡µé¢è¯­æ³•</h2><h3 id="1ã€è¡¨è¾¾å¼"><a href="#1ã€è¡¨è¾¾å¼" class="headerlink" title="1ã€è¡¨è¾¾å¼"></a>1ã€è¡¨è¾¾å¼</h3><ul>
<li>ä½¿ç”¨Angularè¡¨è¾¾å¼ï¼š<ul>
<li>è¯­æ³•ï¼š</li>
<li>ä½œç”¨ï¼šæ˜¾ç¤ºè¡¨è¾¾å¼çš„ç»“æœæ•°æ®</li>
<li>æ³¨æ„ï¼šè¡¨è¾¾å¼ä¸­å¼•ç”¨çš„å˜é‡å¿…é¡»æ˜¯å½“å‰åŸŸå¯¹è±¡æœ‰çš„å±æ€§(åŒ…æ‹¬å…¶åŸå‹å±æ€§)</li>
</ul>
</li>
<li>æ“ä½œçš„æ•°æ®<ul>
<li>åŸºæœ¬ç±»å‹æ•°æ®ï¼šNumber/String/Boolean</li>
<li>undefined, Infinity,NaN,nullè§£æä¸ºç©ºä¸²â€â€ï¼Œä¸æ˜¾ç¤ºä»»ä½•æ•ˆæœ</li>
<li>å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•</li>
<li>æ•°ç»„</li>
</ul>
</li>
</ul>
<h3 id="2ã€å¸¸ç”¨æŒ‡ä»¤"><a href="#2ã€å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="2ã€å¸¸ç”¨æŒ‡ä»¤"></a>2ã€å¸¸ç”¨æŒ‡ä»¤</h3><ul>
<li>AngularæŒ‡ä»¤<ul>
<li>Angularä¸ºHTMLé¡µé¢æ‰©å±•çš„ï¼šè‡ªå®šä¹‰æ ‡ç­¾å±æ€§æˆ–æ ‡ç­¾</li>
<li>ä¸Angularçš„ä½œç”¨åŸŸå¯¹è±¡(scope)äº¤äº’ï¼Œæ‰©å±•é¡µé¢çš„åŠ¨æ€è¡¨ç°åŠ›</li>
</ul>
</li>
<li>å¸¸ç”¨æŒ‡ä»¤<ul>
<li>ng-appï¼š</li>
<li>ng-model</li>
<li>ng-init</li>
<li>ng-click</li>
<li>ng-controller</li>
<li>ng-bind</li>
<li>ng-repeat</li>
<li>ng-show</li>
<li>ng-hide</li>
<li>ng-class</li>
<li>ng-style</li>
<li>ng-mouseenter</li>
<li>ng-mouseleave</li>
</ul>
</li>
</ul>
<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><h3 id="1ã€æˆ‘çš„ç¬”è®°"><a href="#1ã€æˆ‘çš„ç¬”è®°" class="headerlink" title="1ã€æˆ‘çš„ç¬”è®°"></a>1ã€æˆ‘çš„ç¬”è®°</h3><p>åŠŸèƒ½ï¼šåœ¨æ–‡æœ¬è¾“å…¥åŒºåŸŸå†™æ–‡æœ¬ï¼Œä¸‹æ–¹æ˜¾ç¤ºå¯è¾“å…¥å‰©ä½™å­—ç¬¦é‡ï¼›ä¿å­˜èƒ½å¤Ÿå°†æ–‡æœ¬ä¿å­˜ï¼Œè¿™æ ·ç‚¹å‡»è¯»å–çš„æ—¶å€™æ–‡æœ¬èƒ½æ¥ç€åœ¨æ–‡æœ¬è¾“å…¥åŒºåŸŸæ˜¾ç¤ºï¼Œç‚¹åˆ é™¤åˆ é™¤</p>
<h3 id="2ã€æˆ‘çš„å¤‡å¿˜å½•"><a href="#2ã€æˆ‘çš„å¤‡å¿˜å½•" class="headerlink" title="2ã€æˆ‘çš„å¤‡å¿˜å½•"></a>2ã€æˆ‘çš„å¤‡å¿˜å½•</h3><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/06/04/ES/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="ESå’Œæ¨¡å—åŒ–å­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>ESå’Œæ¨¡å—åŒ–å­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´06æœˆ04æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>12.1k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 60 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <h2 id="ä¸€ã€ç†è§£ES"><a href="#ä¸€ã€ç†è§£ES" class="headerlink" title="ä¸€ã€ç†è§£ES"></a>ä¸€ã€ç†è§£ES</h2><ol>
<li><p>å…¨ç§°: ECMAScript</p>
<ul>
<li>å®ƒæ˜¯ä¸€ç§ç”±ECMAç»„ç»‡(å‰èº«ä¸ºæ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼š)åˆ¶å®šå’Œå‘å¸ƒçš„è„šæœ¬è¯­è¨€è§„èŒƒ</li>
<li>æˆ‘ä»¬å­¦ä¹ çš„JavaScriptå°±æ˜¯ECMAçš„å®ç°ï¼Œä½†å±äºECMAScriptå’ŒJavaScriptå¹³æ—¶è¡¨è¾¾åŒä¸€ä¸ªæ„æ€</li>
</ul>
</li>
<li><p>JSåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><p>ECMAScript(jsåŸºç¡€ã€æ ¸å¿ƒ)</p>
</li>
<li><p>æ‰©å±•â€“&gt;æµè§ˆå™¨ç«¯</p>
<ul>
<li>BOM(æµè§ˆå™¨å¯¹è±¡æ¨¡å‹)</li>
<li>DOM(æ–‡æ¡£å¯¹è±¡æ¨¡å‹)</li>
</ul>
</li>
<li><p>æ‰©å±•â€“&gt;æœåŠ¡å™¨ç«¯</p>
<ul>
<li>Node.js</li>
</ul>
</li>
</ul>
</li>
<li><p>ESçš„å‡ ä¸ªé‡è¦ç‰ˆæœ¬</p>
<ul>
<li>ES5ï¼š09å¹´å‘å¸ƒ</li>
<li><strong>ES6(ES2015)</strong>:15å¹´å‘å¸ƒï¼Œä¹Ÿç§°ä¸ºECMA2015â€”â€”é‡ç‚¹</li>
<li>ES7(ES2016):16å¹´å‘å¸ƒï¼Œä¹Ÿç§°ä¸ºECMA2016ï¼ˆå˜åŒ–ä¸å¤§ï¼‰</li>
</ul>
</li>
</ol>
<h2 id="äºŒã€ES5"><a href="#äºŒã€ES5" class="headerlink" title="äºŒã€ES5"></a>äºŒã€ES5</h2><h3 id="1ã€ä¸¥æ ¼æ¨¡å¼"><a href="#1ã€ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="1ã€ä¸¥æ ¼æ¨¡å¼"></a>1ã€ä¸¥æ ¼æ¨¡å¼</h3><ul>
<li><p>ç†è§£</p>
<ul>
<li>è¿è¡Œæ¨¡å¼: æ­£å¸¸(æ··æ‚)æ¨¡å¼ä¸ä¸¥æ ¼æ¨¡å¼</li>
<li>è¿™ç§æ¨¡å¼ä½¿å¾—JavaScriptåœ¨æ›´ä¸¥æ ¼çš„è¯­æ³•æ¡ä»¶ä¸‹è¿è¡Œ</li>
</ul>
</li>
<li><p>ç›®çš„/ä½œç”¨: </p>
<ul>
<li>ä½¿å¾—Javascriptåœ¨æ›´ä¸¥æ ¼çš„æ¡ä»¶ä¸‹è¿è¡Œ</li>
<li>æ¶ˆé™¤Javascriptè¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸º</li>
<li>æ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¿è¯ä»£ç è¿è¡Œçš„å®‰å…¨</li>
</ul>
</li>
</ul>
<ul>
<li><p>ä½¿ç”¨</p>
<ul>
<li>åœ¨å…¨å±€æˆ–å‡½æ•°çš„ç¬¬ä¸€æ¡è¯­å¥å®šä¹‰ä¸ºï¼š<code>use strict</code></li>
<li>å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒï¼Œåªè§£æä¸ºä¸€æ¡ç®€å•çš„è¯­å¥ï¼Œæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨</li>
</ul>
</li>
<li><p>è¯­æ³•å’Œè¡Œä¸ºæ”¹å˜</p>
<ul>
<li>å£°æ˜å®šä¹‰å˜é‡å¿…é¡»ç”¨var</li>
<li>ç¦æ­¢è‡ªå®šä¹‰çš„å‡½æ•°ä¸­çš„thiså…³é”®å­—æŒ‡å‘å…¨å±€å¯¹è±¡(window)</li>
<li>åˆ›å»ºevalä½œç”¨åŸŸ, æ›´å®‰å…¨</li>
<li>å¯¹è±¡ä¸èƒ½æœ‰é‡åçš„å±æ€§</li>
</ul>
<pre><code class="html">&lt;script&gt;
  &#39;use strict&#39;
  var username = &#39;luwang&#39;
  // name = &#39;luwang&#39; åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ç”¨varå£°æ˜å˜é‡ä¼šæŠ¥é”™
  console.log(username)

  function Person(name, age){
    this.name = name
    this.age = age
  }
  new Person(&#39;luwang&#39;, 23)
  // Person(&#39;luwang&#39;, 23) //æ²¡æœ‰newä¼šæŠ¥é”™

  var str = &#39;web&#39;
  eval(&#39;var str = &quot;HTML&quot;; alert(str)&#39;) // HTML
  alert(str) // web å³å¼€å¯ä¸¥æ ¼æ¨¡å¼ä¹‹åä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ

  var obj = {
    username: &#39;luwang&#39;,
    username: &#39;luwang&#39;  // å®šä¹‰é‡åäº†
  }
&lt;/script&gt;</code></pre>
</li>
</ul>
<h3 id="2ã€JSONå¯¹è±¡"><a href="#2ã€JSONå¯¹è±¡" class="headerlink" title="2ã€JSONå¯¹è±¡"></a>2ã€JSONå¯¹è±¡</h3><ul>
<li>ä½œç”¨: ç”¨äºåœ¨jsonå¯¹è±¡/æ•°ç»„ä¸jså¯¹è±¡/æ•°ç»„ç›¸äº’è½¬æ¢</li>
<li><code>JSON.stringify(obj/arr)</code> jså¯¹è±¡(æ•°ç»„)è½¬æ¢ä¸ºjsonå¯¹è±¡(æ•°ç»„)</li>
<li><code>JSON.parse(json)</code> jsonå¯¹è±¡(æ•°ç»„)è½¬æ¢ä¸ºjså¯¹è±¡(æ•°ç»„)<pre><code class="html">&lt;script&gt;
var obj = {username: &#39;wallleap&#39;}
obj = JSON.stringify(obj)
console.log(typeof obj)
obj = JSON.parse(obj)
console.log(typeof obj)
&lt;/script&gt;</code></pre>
</li>
</ul>
<h3 id="3ã€Objectæ‰©å±•"><a href="#3ã€Objectæ‰©å±•" class="headerlink" title="3ã€Objectæ‰©å±•"></a>3ã€Objectæ‰©å±•</h3><p>ES5ç»™Objectæ‰©å±•äº†ä¸€äº›é™æ€æ–¹æ³•ï¼Œå¸¸ç”¨çš„ä¸¤ä¸ªï¼š</p>
<ul>
<li><p><code>Object.create(prototype[, descriptors])</code>: åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
<ul>
<li><p>ä½œç”¨ï¼šä»¥æŒ‡å®šå¯¹è±¡ä¸ºåŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡</p>
</li>
<li><p>ä¸ºæ–°çš„å¯¹è±¡æŒ‡å®šæ–°çš„å±æ€§, å¹¶å¯¹å±æ€§è¿›è¡Œæè¿°</p>
<ul>
<li><code>value</code>: æŒ‡å®šå€¼</li>
<li><code>writable</code> : æ ‡è¯†å½“å‰å±æ€§å€¼æ˜¯å¦æ˜¯å¯ä¿®æ”¹çš„, é»˜è®¤ä¸º<code>false</code></li>
<li><code>configurable</code>ï¼šæ ‡è¯†å½“å‰å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤ä¸º<code>false</code></li>
<li><code>enumerable</code>ï¼šæ ‡è¯†å½“å‰å±æ€§æ˜¯å¦èƒ½ç”¨for inæšä¸¾ï¼Œé»˜è®¤ä¸º<code>false</code></li>
</ul>
<pre><code class="html">&lt;script&gt;
  var obj = {username: &#39;luwang&#39;, age:23}
  var obj1 = {}
  obj1 = Object.create(obj, {  // objçš„å±æ€§ä¸ºobj1çš„åŸå‹
    sex: {
      value: &#39;ç”·&#39;,
      writable: true,  // é»˜è®¤false
      configurable: true,
      enumerable: true
    }
  })
  console.log(obj1.sex)
  obj1.sex = &#39;nan&#39;
  console.log(obj1.sex)
  delete obj1.sex
  console.log(obj1)
  for(var i in obj1){
    console.log(i)
  }
&lt;/script&gt;</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><code>Object.defineProperties(object, descriptors)</code>: ä¸ºæŒ‡å®šå¯¹è±¡å®šä¹‰æ‰©å±•å¤šä¸ªå±æ€§</p>
<ul>
<li><strong>getæ–¹æ³•</strong> : ç”¨æ¥å¾—åˆ°å½“å‰å±æ€§å€¼çš„å›è°ƒå‡½æ•°</li>
<li><strong>setæ–¹æ³•</strong> : ç”¨æ¥ç›‘è§†å½“å‰å±æ€§å€¼å˜åŒ–çš„å›è°ƒå‡½æ•°</li>
</ul>
<pre><code class="html">&lt;script&gt;
  var obj = {username: &#39;luwang&#39;, age:23}
  var obj1 = {}
  var obj2 = {firstName: &#39;lu&#39;, lastName: &#39;wang&#39;}
  Object.defineProperties(obj2, {
    fullName: { // æ­¤æ–¹æ³•åœ¨åŸå‹ä¸­
      get: function(){ // è·å–æ‰©å±•å±æ€§çš„å€¼
        console.log(&#39;getæ–¹æ³•è¢«è°ƒç”¨&#39;)
        return this.firstName + &#39; &#39; + this.lastName
      },
      set: function(data){ // ç›‘å¬æ‰©å±•å±æ€§ï¼Œå½“æ‰©å±•å±æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œè‡ªåŠ¨è°ƒç”¨åä¼šè®²å˜åŒ–çš„å€¼ä½œä¸ºå®å‚æ³¨å…¥åˆ°setå‡½æ•°
        console.log(&#39;setæ–¹æ³•è¢«è°ƒç”¨ï¼Œ&#39;, data)
        var names = data.split(&#39; &#39;) // æ ¹æ®ç©ºæ ¼æ‹†åˆ†ä¸ºæ•°ç»„
        this.firstName = names[0]
        this.lastName = names[1]
      }
    }
  })
  console.log(obj2.fullName) // getä¼šè‡ªåŠ¨è°ƒç”¨ 
  obj2.fullName = &#39;lu wang&#39;  
  console.log(obj2.fullName)
&lt;/script&gt;</code></pre>
<p>console.log(obj2)   fullName</p>
<p>æƒ°æ€§æ±‚å€¼ï¼šç‚¹å‡»æ‰ç»™å€¼(ä»€ä¹ˆæ—¶å€™è¦ä»€ä¹ˆæ—¶å€™ç»™)ï¼Œä¼šå†æ¬¡è°ƒç”¨getæ–¹æ³•</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1589786198022.png" alt="æƒ°æ€§æ±‚å€¼" class="lazyload"></p>
<ul>
<li>ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼š<ul>
<li>getæ–¹æ³•ï¼šè·å–æ‰©å±•å±æ€§å€¼çš„æ—¶å€™getæ–¹æ³•è‡ªåŠ¨è°ƒç”¨</li>
<li>setæ–¹æ³•ï¼šç›‘å¬</li>
</ul>
</li>
<li>å­˜å‚¨å™¨å±æ€§ï¼šsetterï¼Œgetterä¸€ä¸ªç”¨æ¥å­˜å€¼ï¼Œä¸€ä¸ªç”¨æ¥å–å€¼</li>
</ul>
</li>
</ul>
<p>å¯¹è±¡æœ¬èº«ä¹Ÿæœ‰ä¸¤ä¸ªæ–¹æ³•</p>
<ul>
<li>get propertyName(){}</li>
<li>set propertyName(){}</li>
</ul>
<pre><code class="html">&lt;script&gt;
  var obj = {
    firstName: &#39;lu&#39;, 
    lastName: &#39;wang&#39;,
    get fullName(){
      return this.firstName + &#39; &#39; + this.lastName
    },
    set fullName(data){
      var names = data.split(&#39; &#39;)
      this.firstName = names[0]
      this.lastName = names[1]
    }
  }
  console.log(obj)
  obj.fullName = &#39;lu wang&#39;
  console.log(obj.fullName)
&lt;/script&gt;</code></pre>
<h3 id="4ã€Arrayæ‰©å±•"><a href="#4ã€Arrayæ‰©å±•" class="headerlink" title="4ã€Arrayæ‰©å±•"></a>4ã€Arrayæ‰©å±•</h3><ul>
<li><p>Array.prototype.indexOf(value) : å¾—åˆ°å€¼åœ¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡</p>
</li>
<li><p>Array.prototype.lastIndexOf(value) : å¾—åˆ°å€¼åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªä¸‹æ ‡</p>
</li>
<li><p><strong>Array.prototype.forEach(function(item, index){}) : éå†æ•°ç»„</strong></p>
</li>
<li><p><strong>Array.prototype.map(function(item, index){}) : éå†æ•°ç»„è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</strong></p>
</li>
<li><p><strong>Array.prototype.filter(function(item, index){}) : éå†è¿‡æ»¤å‡ºä¸€ä¸ªå­æ•°ç»„ï¼Œè¿”å›æ¡ä»¶ä¸ºtrueçš„å€¼</strong></p>
<pre><code class="javascript">var arr = [2,4,5,1,6,7,4,3,9]
console.log(arr.indexOf(4))
console.log(arr.lastIndexOf(4))
arr.forEach(function(item, index){
    console.log(item, index)
})
var arr1 = arr.map(function(item, index){
    return item + 10
})
console.log(arr, arr1)
arr.filter(fuction(item, index){
    return item &gt; 3
})</code></pre>
</li>
</ul>
<h3 id="5ã€Functionæ‰©å±•"><a href="#5ã€Functionæ‰©å±•" class="headerlink" title="5ã€Functionæ‰©å±•"></a>5ã€Functionæ‰©å±•</h3><p>thisï¼Œå¼ºåˆ¶ç»‘å®šä½¿ç”¨callå’Œbind</p>
<p>eg:</p>
<pre><code class="javascript">var obj = {username: &#39;luwang&#39;}
function foo(){
    console.log(this)   
}
foo() // this--&gt;Window å…¨å±€
// callå’Œapplyä¸ä¼ å‚çš„æ—¶å€™æ˜¯ä¸€æ ·çš„
foo.call(obj) // this--&gt;{username: &#39;luwang&#39;} objå¯¹è±¡
foo.apply(obj) // this--&gt;{username: &#39;luwang&#39;} objå¯¹è±¡
// bindçš„ç‰¹ç‚¹ï¼š ç»‘å®šå®Œthisä¸ä¼šç«‹å³è°ƒç”¨å½“å‰çš„å‡½æ•°ï¼Œè€Œæ˜¯å°†å‡½æ•°è¿”å›
// var bar = foo.bind(obj)
// bar()
foo.bind(obj)()


// ä¼ å…¥å‚æ•°çš„å½¢å¼
var obj1 = {age: 23}
function fun(data){
    console.log(this, data)
}
fun(22) // Window  22
// callç›´æ¥ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ï¼Œä¾æ¬¡ä¼ å…¥
fun.call(obj1, 21) // {age: 23} 21
// ç¬¬äºŒå‚æ•°å¿…é¡»æ˜¯æ•°ç»„ï¼Œä¼ å…¥æ”¾åœ¨æ•°ç»„é‡Œ
fun.apply(obj1, [20]) // {age: 23} 20

// bindä¼ å‚çš„æ–¹å¼é€šcallä¸€æ ·
fun.bind(obj1, 18)()</code></pre>
<ul>
<li><p><code>Function.prototype.bind(obj)</code></p>
<ul>
<li>å°†å‡½æ•°å†…çš„thisç»‘å®šä¸ºobj, å¹¶å°†å‡½æ•°è¿”å›</li>
</ul>
</li>
<li><p>é¢è¯•é¢˜: åŒºåˆ«bind()ä¸call()å’Œapply()?</p>
<ul>
<li><p><code>fn.bind(obj)</code> : æŒ‡å®šå‡½æ•°ä¸­çš„this, å¹¶è¿”å›å‡½æ•°(ä¸ä¼šç«‹å³è°ƒç”¨)ï¼Œä¸€èˆ¬ç”¨åœ¨å›è°ƒå‡½æ•°ç»‘å®šå…¶ä»–å¯¹è±¡çš„this</p>
<pre><code class="javascript">var obj = {username: &#39;luwang&#39;}
setTimeout(function(){
    console.log(this) // Window
}, 1000)
setTimeout(function(){
    console.log(this) // Window
}.bind(obj), 1000)</code></pre>
</li>
<li><p><code>fn.call(obj)</code>: æŒ‡å®šå‡½æ•°ä¸­çš„this,å¹¶è°ƒç”¨å‡½æ•°</p>
</li>
<li><p><code>fn.apply(obj)</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="6ã€Dateæ‰©å±•"><a href="#6ã€Dateæ‰©å±•" class="headerlink" title="6ã€Dateæ‰©å±•"></a>6ã€Dateæ‰©å±•</h3><ul>
<li>Date.now() : å¾—åˆ°å½“å‰æ—¶é—´å€¼</li>
</ul>
<h2 id="ä¸‰ã€ES6"><a href="#ä¸‰ã€ES6" class="headerlink" title="ä¸‰ã€ES6"></a>ä¸‰ã€ES6</h2><h3 id="1ã€2ä¸ªæ–°çš„å…³é”®å­—"><a href="#1ã€2ä¸ªæ–°çš„å…³é”®å­—" class="headerlink" title="1ã€2ä¸ªæ–°çš„å…³é”®å­—"></a>1ã€2ä¸ªæ–°çš„å…³é”®å­—</h3><ul>
<li>å—ä½œç”¨åŸŸï¼šES5ä¸­æ²¡æœ‰(åªæœ‰å…¨å±€å’Œå‡½æ•°ä½œç”¨åŸŸ)ï¼ŒES6æœ‰</li>
</ul>
<ol>
<li><p><strong>let</strong></p>
<ul>
<li><p>ä½œç”¨ï¼šä¸varç›¸ä¼¼ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªå˜é‡</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>åœ¨å—ä½œç”¨åŸŸå†…æœ‰æ•ˆ</li>
<li>ä¸èƒ½é‡å¤å£°æ˜</li>
<li>ä¸ä¼šé¢„å¤„ç†ï¼Œä¸å­˜åœ¨å˜é‡æå‡</li>
</ul>
</li>
<li><p>åº”ç”¨</p>
<ul>
<li><p>å¾ªç¯éå†åŠ ç›‘å¬</p>
<pre><code class="html">&lt;br/&gt;&lt;button&gt;æŒ‰é’®1&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;
&lt;button&gt;æŒ‰é’®2&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;
&lt;button&gt;æŒ‰é’®3&lt;/button&gt;
&lt;script&gt;
    var btns = document.getElementsByTagName(&#39;button&#39;)
    for(var i = 0; i &lt; btns.length; i++){
        var btn = btns[i]
        btn.onclick = function(){
            alert(i)
        }
    }
    /*
     * ä¸€ç›´ä¼šæ˜¾ç¤º3
     * ç‚¹å‡»äº‹ä»¶å¯¹åº”çš„æ˜¯å›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°åˆç§°å‹¾å­å‡½æ•°ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ”¾åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰ä¸»çº¿ç¨‹ä¸Šçš„ä»£ç æ‰§è¡Œå®Œæ¯•ä¹‹åå†é€šè¿‡é’©å­ä¸€æ ·çš„å½¢å¼ï¼Œå‹¾å‡ºæ¥æ‰§è¡Œ
     * ä»¥å‰çš„æ–¹å¼æ˜¯é€šè¿‡é—­åŒ…ï¼Œç«‹å³æ‰§è¡Œå‡½æ•°(è‡ªå·±çš„ä½œç”¨åŸŸ)
    */
    for(var i = 0; i &lt; btns.length; i++){
      var btn = btns[i]
      ;(function(i){  // å£°æ˜çš„å½¢å‚
        btn.onclick = function(){
        alert(i)
      }
      })(i)   // ä¼ çš„å®å‚
    }
    /*
    * é—­åŒ…åˆ©ç”¨çš„æ˜¯å‡½æ•°ä½œç”¨åŸŸçš„ç‰¹ç‚¹
    * å› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨let
    */
    for(let i = 0; i &lt; btns.length; i++){ // letï¼Œåœ¨å—ä½œç”¨åŸŸå†…æœ‰æ•ˆ
      var btn = btns[i]
      btn.onclick = function(){
        alert(i)
      }
    }
&lt;/script&gt;</code></pre>
</li>
<li><p>ä½¿ç”¨letä»£æ›¿varæ˜¯è¶‹åŠ¿</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>const</strong></p>
<ul>
<li><p>ä½œç”¨ï¼šå®šä¹‰ä¸€ä¸ªå¸¸é‡</p>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>ä¸èƒ½ä¿®æ”¹</li>
<li>å…¶ä»–ç‰¹ç‚¹åŒlet</li>
</ul>
</li>
<li><p>åº”ç”¨</p>
<ul>
<li>ä¿å­˜ä¸ç”¨æ”¹å˜çš„æ•°æ®</li>
</ul>
<pre><code class="javas">const PI = 3.1415926</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="2ã€å˜é‡-å¯¹è±¡-çš„è§£æ„èµ‹å€¼"><a href="#2ã€å˜é‡-å¯¹è±¡-çš„è§£æ„èµ‹å€¼" class="headerlink" title="2ã€å˜é‡(å¯¹è±¡)çš„è§£æ„èµ‹å€¼"></a>2ã€å˜é‡(å¯¹è±¡)çš„è§£æ„èµ‹å€¼</h3><ul>
<li><p>ç†è§£ï¼šä»å¯¹è±¡æˆ–æ•°ç»„ä¸­æå–æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™å¤šä¸ªå˜é‡</p>
</li>
<li><p>å°†åŒ…å«å¤šä¸ªæ•°æ®çš„å¯¹è±¡(æ•°ç»„)ä¸€æ¬¡èµ‹å€¼ç»™å¤šä¸ªå˜é‡</p>
</li>
<li><p>æ•°æ®æº: å¯¹è±¡/æ•°ç»„</p>
</li>
<li><p>ç›®æ ‡: {a, b}/[a, b]</p>
</li>
<li><p>å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼š<code>let {n, a} = {n:&#39;tom&#39;, a:12}</code> æŠŠå¯¹è±¡ä¸­çš„å€¼èµ‹å€¼å‡ºæ¥(æ ¹æ®å±æ€§åkey)</p>
</li>
<li><p>æ•°ç»„çš„è§£æ„èµ‹å€¼ï¼š<code>let[a, b] = [1, &#39;luwang&#39;]</code> (æ ¹æ®ä¸‹æ ‡)</p>
</li>
<li><p>ç”¨é€”ï¼šç»™å¤šä¸ªå½¢å‚èµ‹å€¼</p>
<pre><code class="javascript">let obj = {
    username: &#39;luwang&#39;,
    age: 23
}
// let username = obj.username
// let age = obj.age
// console.log(username, age)
// let {username, age} = obj // å¯¹è±¡ï¼Œå› æ­¤éœ€è¦ä»¥å¯¹è±¡çš„å½¢å¼æ¥æ¥æ”¶ åªéœ€è¦ä¸€ä¸ªå°±å†™ä¸€ä¸ªï¼Œä¸éœ€è¦æŒ‰é¡ºåº
// console.log(username, age)
let {age} = obj
console.log(age)

let arr = [1, 3, 5,&#39;abc&#39;, true]
// let [a, b, c, d, e] = arr
// console.log(a, b, c, d, e)
// let [a, b] = arr
// console.log(a, b)
let [,,a, b] = arr
console.log(a, b)

function foo({username, age}){ // {username, age} = obj
    console.log(username, age)
}
foo(obj)</code></pre>
</li>
</ul>
<h3 id="3ã€å„ç§æ•°æ®ç±»å‹çš„æ‰©å±•"><a href="#3ã€å„ç§æ•°æ®ç±»å‹çš„æ‰©å±•" class="headerlink" title="3ã€å„ç§æ•°æ®ç±»å‹çš„æ‰©å±•"></a>3ã€å„ç§æ•°æ®ç±»å‹çš„æ‰©å±•</h3><ul>
<li><p>å­—ç¬¦ä¸²</p>
<ul>
<li><strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong> <ul>
<li>ä½œç”¨: ç®€åŒ–å­—ç¬¦ä¸²çš„æ‹¼æ¥</li>
<li>æ¨¡æ¿å­—ç¬¦ä¸²å¿…é¡»ç”¨``ï¼Œæ³¢æµªçº¿é‚£ä¸ª</li>
<li>å˜åŒ–çš„éƒ¨åˆ†ä½¿ç”¨${xxx}å®šä¹‰</li>
</ul>
</li>
</ul>
<pre><code class="javascript">let obj = {username: &#39;luwang&#39;, age: 23}
/*
* ä¹‹å‰çš„å†™æ³•ï¼šç®€å•æ‹¼ä¸²
* ç¼ºç‚¹ï¼šå¯èƒ½ä¼šæ‹¼é”™ï¼Œæ•ˆç‡ä½ã€‚æ¯”å¦‚ï¼Œurlæºå¸¦10ä¸ªå‚æ•°ï¼ŒåŠ¨æ€æ‹¼èµ·æ¥
*/
let str = &#39;My name is &#39; + obj.username + &#39;, age is &#39;+ obj.age
console.log(str)
/*
* ES6æä¾›çš„æ¨¡æ¿å­—ç¬¦ä¸²
*/
str = `My name is ${obj.username} age is ${obj.age}`</code></pre>
<ul>
<li><code>includes(str)</code> : åˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ä¸²</li>
<li><code>startsWith(str)</code>: åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´</li>
<li><code>endsWith(str)</code> : åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾</li>
<li><code>repeat(count)</code>: é‡å¤æŒ‡å®šæ¬¡æ•°</li>
</ul>
<pre><code class="javascript">let str = &#39;asdfghjkklqwrtyuiopzxcvbnm123467890&#39;
console.log(str.includes(&#39;t&#39;)) // true
console.log(str.includes(&#39;abc&#39;)) // false
console.log(str.startsWith(&#39;a&#39;)) // true
console.log(str.endsWith(&#39;0&#39;)) // true
console.log(str.repeat(2)) // asdfghjkklqwrtyuiopzxcvbnm123467890asdfghjkklqwrtyuiopzxcvbnm123467890</code></pre>
</li>
</ul>
<ul>
<li><p>æ•°å€¼æ‰©å±•</p>
<ul>
<li>äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶è¡¨ç¤ºæ³•ï¼šäºŒè¿›åˆ¶ç”¨0bï¼Œå…«è¿›åˆ¶ç”¨0o</li>
<li><code>Number.isFinite(i)</code>ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æœ‰é™å¤§çš„æ•°å­—</li>
<li><code>Number.isNaN(i)</code>ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯NaN</li>
<li><code>Number.isInteger(i)</code>ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ•´æ•°</li>
<li><code>Number.parseInt(str)</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å€¼</li>
<li><code>Math.trunc(i)</code>ï¼šç›´æ¥å»é™¤å°æ•°éƒ¨åˆ†</li>
</ul>
<pre><code class="javascript">console.log(0b1010)
console.log(0o12)
console.log(Number.isFinite(Infinity))
console.log(Number.isNaN(NaN))
console.log(Number.isInteger(123.1))
console.log(Number.isInteger(123.0))
console.log(Number.parseInt(&#39;123abc123&#39;)) // 123
console.log(Number.parseInt(&#39;a123abc123&#39;)) // NN
console.log(Math.trunc(123.123)) // 123</code></pre>
</li>
</ul>
<ul>
<li><p>å¯¹è±¡</p>
<ul>
<li><p><strong>ç®€åŒ–çš„å¯¹è±¡å†™æ³•</strong></p>
<ul>
<li>çœç•¥åŒåçš„å±æ€§å€¼</li>
<li>çœç•¥æ–¹æ³•çš„function</li>
</ul>
<pre><code class="JavaScript">let name = &#39;Tom&#39;;
let age = 12;
/* æ­£å¸¸æƒ…å†µ */
let obj = {
    name: name,
    age: ageï¼Œ
    getName: function(){
        retrun this.name
    }
}
console.log(obj)
/* keyå’Œvalueç›¸åŒï¼Œå¯ä»¥çœç•¥ */
let person = {
    name,  // åŒåçš„å±æ€§å¯ä»¥ä¸å†™
    age,
    setName (name) { // å¯ä»¥çœç•¥å‡½æ•°çš„function
        this.name = name
    }
}</code></pre>
</li>
<li><p><code>Object.assign(target, source1, source2..)</code>: å°†æºå¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸Š</p>
</li>
</ul>
<pre><code class="javascript">let obj = {}
let obj1 = {username:&#39;a&#39;, age: 20}
let obj2 = {sex: &#39;ç”·&#39;}
// Object.assign(obj, obj1)
// console.log(obj) // {username: &quot;a&quot;, age: 20}
Object.assign(obj, obj1, obj2)
console.log(obj) // {username: &quot;a&quot;, age: 20, sex: &quot;ç”·&quot;}</code></pre>
<ul>
<li><code>Object.is(v1, v2)</code> : åˆ¤æ–­2ä¸ªæ•°æ®æ˜¯å¦å®Œå…¨ç›¸ç­‰</li>
</ul>
<pre><code class="javascript">console.log(0 == -0) // true
console.log(NaN == NaN) //false
console.log(Object.is(0, -0)) // false
console.log(Object.is(NaN, NaN)) // true</code></pre>
<ul>
<li><strong>proto</strong>å±æ€§ : éšå¼åŸå‹å±æ€§.ES6ä¸­èƒ½ç›´æ¥æ“ä½œ<code>__proto__</code>å±æ€§</li>
</ul>
<pre><code class="javascript">let obj = {}
let obj1 = {salary: 5000000}
obj.__proto__ = obj1
console.log(obj)
console.log(obj.salary)</code></pre>
</li>
</ul>
<ul>
<li><p>æ•°ç»„</p>
<ul>
<li><code>Array.from(v)</code> : å°†ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯éå†å¯¹è±¡è½¬æ¢ä¸ºçœŸæ•°ç»„</li>
<li><code>Array.of(v1, v2, v3)</code> : å°†ä¸€ç³»åˆ—å€¼è½¬æ¢æˆæ•°ç»„</li>
<li><code>find(function(value, index, arr){return true})</code> : æ‰¾å‡ºç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶è¿”å›trueçš„å…ƒç´ </li>
<li><code>findIndex(function(value, index, arr){return true})</code>: æ‰¾å‡ºç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶è¿”å›trueçš„å…ƒç´ ä¸‹æ ‡</li>
</ul>
<pre><code class="html">&lt;button&gt;æ¸¬è©¦1&lt;/button&gt;&lt;br&gt;
&lt;button&gt;æ¸¬è©¦2&lt;/button&gt;&lt;br&gt;
&lt;button&gt;æ¸¬è©¦3&lt;/button&gt;
&lt;script&gt;
  let btns = document.getElementsByTagName(&#39;button&#39;)
  // å½æ•¸çµ„ ä¸èƒ½ä½¿ç”¨forEach(æ•¸çµ„çš„æ–¹æ³•)
  Array.from(btns).forEach(function(item, index){
    console.log(item)
  })

  let arr = Array.of(1, 4, &#39;abc&#39;, true)
  console.log(arr)

  let arr2 = [2,3,4,2,5,7,3,6]
  console.log(arr2.find(function(item, index){
    return item &gt; 4
  }))
  console.log(arr2.findIndex(function(item, index){
    return item &gt; 4
  }))
&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p>å‡½æ•°</p>
<ul>
<li><strong>ç®­å¤´å‡½æ•°</strong><ul>
<li>ç”¨æ¥å®šä¹‰åŒ¿åå‡½æ•°</li>
<li>åŸºæœ¬è¯­æ³•:<ul>
<li>æ²¡æœ‰å‚æ•°: () =&gt; console.log(â€˜xxxxâ€™)   ç®­å¤´å‰çš„()ä¸èƒ½çœç•¥</li>
<li>ä¸€ä¸ªå‚æ•°: i =&gt; i+2  å¯ä»¥çœç•¥</li>
<li>å¤§äºä¸€ä¸ªå‚æ•°: (i,j) =&gt; i+j  ()ä¸èƒ½çœç•¥</li>
<li>å‡½æ•°ä½“ä¸ç”¨å¤§æ‹¬å·: é»˜è®¤è¿”å›ç»“æœ</li>
<li>å‡½æ•°ä½“å¦‚æœæœ‰å¤šä¸ªè¯­å¥, éœ€è¦ç”¨{}åŒ…å›´</li>
</ul>
</li>
<li>ä½¿ç”¨åœºæ™¯: å¤šç”¨æ¥å®šä¹‰å›è°ƒå‡½æ•°</li>
<li>ç‰¹ç‚¹ï¼š<ul>
<li>ç®€æ´</li>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œç®­å¤´å‡½æ•°çš„thisä¸æ˜¯è°ƒç”¨çš„æ—¶å€™å†³å®šçš„ï¼Œè€Œæ˜¯åœ¨å®šä¹‰çš„æ—¶å€™æ‰€å¤„çš„å¯¹è±¡å°±æ˜¯å®ƒçš„this</li>
<li>æ‰©å±•ç†è§£ï¼šç®­å¤´å‡½æ•°çš„thisçœ‹å¤–å±‚æ˜¯å¦æœ‰å‡½æ•°<ul>
<li>ç®­å¤´å¤–å±‚æœ‰å‡½æ•°ï¼Œthisæ˜¯å¤–å±‚å‡½æ•°çš„this</li>
<li>ç®­å¤´å¤–å±‚æ— å‡½æ•°ï¼Œthisæ˜¯window</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="javascript">let fun = function(){console.log(&#39;fun&#39;)}
fun()
// 1ã€æ²¡æœ‰å½¢å‚
let fun1 = () =&gt; console.log(&#39;fun1&#39;)
fun1()

// 2ã€åªæœ‰ä¸€ä¸ªå½¢å‚
let fun2 = (a) =&gt; console.log(a)
// å¯çœç•¥() let fun2 = a =&gt; console.log(a)
fun2(&#39;aaa&#39;)

// 3ã€ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„å½¢å‚
let fun3 = (x,y) =&gt; console.log(x, y)
fun3(1, 2)

// Iã€å‡½æ•°ä½“åªæœ‰ä¸€æ¡è¯­å¥æˆ–è¡¨è¾¾å¼ï¼Œ{}å¯ä»¥çœç•¥--&gt;ä¼šè‡ªåŠ¨è¿”å›è¯­å¥æ‰§è¡Œçš„ç»“æœæˆ–è¡¨è¾¾å¼çš„ç»“æœ
let foo = (x, y) =&gt; x + y
// let foo = (x, y) =&gt; {return x + y}
console.log(foo(1, 3))

// IIã€å‡½æ•°ä½“ä¸æ­¢ä¸€æ¡è¯­å¥æˆ–è€…è¡¨è¾¾å¼ï¼Œ {}ä¸å¯ä»¥çœç•¥
let foo2 = (x, y) =&gt; {
    console.log(x, y)
    return x + y
}
console.log(foo2(3, 5))

// ç®­å¤´å‡½æ•°çš„this
&lt;br/&gt;&lt;button id=&quot;btn1&quot;&gt;æŒ‰é’®1&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;
&lt;button id=&quot;btn2&quot;&gt;æŒ‰é’®2&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;
&lt;button id=&quot;btn3&quot;&gt;æŒ‰é’®3&lt;/button&gt;
&lt;script&gt;
    let btn1 = document.getElementById(&#39;btn1&#39;)
    let btn2 = document.getElementById(&#39;btn2&#39;)
    let btn3 = document.getElementById(&#39;btn3&#39;)
    btn1.onclick = function(){
      console.log(this) // &lt;button id=&quot;btn1&quot;&gt;æŒ‰é’®1&lt;/button&gt;
    }
    btn2.onclick = () =&gt; {
      console.log(this)  // Window
    }
    let obj = {
      name: &#39;ç®­å¤´å‡½æ•°&#39;,
      getName: function(){
        btn3.onclick = () =&gt; {
          console.log(this) // {name: &quot;ç®­å¤´å‡½æ•°&quot;, getName: Æ’}
        }
      }
    }
    obj.getName()
    let obj1 = {
      name: &#39;ç®­å¤´å‡½æ•°&#39;,
      getName: () =&gt; {
        btn3.onclick = () =&gt; {
          console.log(this) // Window
        }
      }
    }
    obj.getName()
&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p><strong>3ç‚¹è¿ç®—ç¬¦/ç‚¹ç‚¹ç‚¹è¿ç®—ç¬¦</strong></p>
<ul>
<li>rest(å¯å˜)å‚æ•°<ul>
<li>é€šè¿‡å½¢å‚å·¦ä¾§çš„â€¦æ¥è¡¨è¾¾, å–ä»£argumentsçš„ä½¿ç”¨</li>
<li>æ¯”argumentsçµæ´»ï¼Œåªèƒ½æ˜¯æœ€åéƒ¨åˆ†å½¢å‚å‚æ•°<ul>
<li>argumentsæ˜¯ä¼ªæ•°ç»„ï¼Œæœ‰lengthï¼Œä½†æ˜¯æ²¡æœ‰æ•°ç»„çš„ä¸€èˆ¬æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨forEachéå†</li>
<li>calleeæ˜¯argumentsçš„ä¸€ä¸ªå±æ€§ï¼Œç­‰äºå‡½æ•°æœ¬èº«ï¼Œé€’å½’çš„æ—¶å€™å¯ä»¥å†™ä¸ºï¼š<code>arguments.callee()</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="javascript">// arguments
function foo(a, b){
  console.log(arguments)
  // arguments.callee() è°ƒç”¨è‡ªèº«ï¼Œç›¸å½“äºfoo(å‚æ•°)
  /* arguments.forEach(function(item, index){ // ä¼šæŠ¥é”™ï¼Œä¼ªæ•°ç»„å¹¶æ²¡æœ‰æ•°ç»„çš„ä¸€èˆ¬æ–¹æ³•
      console.log(item, index)
  }) */
}
foo(2,5)</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1590476357564.png" alt="å‚æ•°" class="lazyload"></p>
<pre><code class="javascript">// ç‚¹ç‚¹ç‚¹è¿ç®—ç¬¦
function foo(...value){
  console.log(arguments)
  console.log(value) // å°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„æ•°ç»„
  value.forEach(function(item, index){
    console.log(item, index)
  })
}
foo(2,5)

function foo(a, ...value){// ...valueåªèƒ½æ”¾åœ¨æœ€åé¢
  console.log(arguments)
  // arguments.callee()
  console.log(value)    // ä½¿ç”¨çš„æ—¶å€™ä¸ç”¨åŠ ...
  value.forEach(function(item, index){
    console.log(item, index)
  })
}
foo(2, 3, 5, 7) // æœ€å‰é¢çš„å°±æ˜¯aï¼Œvalueå°±ä¸åŒ…æ‹¬å®ƒäº†</code></pre>
</li>
</ul>
<ul>
<li><p>ç¬¬äºŒç§ç”¨æ³•â€”â€”æ‰©å±•è¿ç®—ç¬¦</p>
<ul>
<li>å¯ä»¥åˆ†è§£å‡ºæ•°ç»„æˆ–å¯¹è±¡ä¸­çš„æ•°æ®</li>
</ul>
<pre><code class="javascript">let arr = [1, 6]
let arr1 = [2, 3, 4, 5]
arr = [1, ...arr1, 6]
console.log(arr)    // (6) [1, 2, 3, 4, 5, 6]  æ•°ç»„
console.log(...arr) // 1 2 3 4 5 6  æ¯é¡¹å€¼</code></pre>
</li>
</ul>
<ul>
<li><p><strong>å½¢å‚çš„é»˜è®¤å€¼</strong></p>
<ul>
<li>å®šä¹‰å½¢å‚æ—¶æŒ‡å®šå…¶é»˜è®¤çš„å€¼</li>
<li>å½“ä¸ä¼ å…¥å‚æ•°çš„æ—¶å€™é»˜è®¤ä½¿ç”¨å½¢å‚é‡Œçš„é»˜è®¤å€¼</li>
</ul>
<pre><code class="javascript">// å®šä¹‰ä¸€ä¸ªç‚¹çš„åæ ‡çš„æ„é€ å‡½æ•°
function Point(x, y){
  this.x = x
  this.y = y
}
let point = new Point(50, 20)
console.log(point) // Point {x: 50, y: 20}
// å¿˜è®°ä¼ å‚
let point1 = new Point()
console.log(point1) // Point {x: undefined, y: undefined}

/* 
* å› æ­¤ä¼šæœ‰éœ€æ±‚ï¼Œåœ¨å¿˜è®°ä¼ å‚çš„æ—¶å€™ä½¿ç”¨é»˜è®¤å€¼
* åœ¨å½¢å‚çš„ä½ç½®èµ‹é»˜è®¤å€¼
*/
function Point(x = 0, y = 0){
  this.x = x
  this.y = y
}
let point = new Point(50, 20)
console.log(point) // Point {x: 50, y: 20}
// å¿˜è®°ä¼ å‚ï¼Œä½¿ç”¨é»˜è®¤å€¼
let point1 = new Point()
console.log(point1) // Point {x: 0, y: 0}</code></pre>
</li>
</ul>
<h3 id="4ã€æ·±åº¦å…‹éš†"><a href="#4ã€æ·±åº¦å…‹éš†" class="headerlink" title="4ã€æ·±åº¦å…‹éš†"></a>4ã€æ·±åº¦å…‹éš†</h3><ul>
<li><p>æ‹·è´æ•°æ®ï¼š</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹<ul>
<li>æ‹·è´åä¼šç”Ÿæˆä¸€ä»½æ–°çš„æ•°æ®</li>
<li>ä¿®æ”¹æ‹·è´ä»¥åçš„æ•°æ®ä¸ä¼šå½±å“åŸæ•°æ®</li>
</ul>
</li>
<li>å¼•ç”¨æ•°æ®ç±»å‹<ul>
<li>æ‹·è´åä¸ä¼šç”Ÿæˆæ–°çš„æ•°æ®ï¼Œè€Œæ˜¯æ‹·è´çš„å¼•ç”¨</li>
<li>ä¿®æ”¹æ‹·è´ä»¥åçš„æ•°æ®ä¼šå½±å“åŸæ¥çš„æ•°æ®</li>
</ul>
</li>
</ul>
<pre><code class="javascript">// åŸºæœ¬æ•¸æ“šé¡å‹
let str = &#39;abcd&#39;
let str2 = str
console.log(str, str2)
str2 = &#39;&#39;
console.log(str, str2)

// å¼•ç”¨æ•¸æ“šé¡å‹
let obj = {username: &#39;kobe&#39;, age:39}
let obj1 = obj
console.log(obj, obj1)
obj1.username = &#39;wade&#39;
console.log(obj, obj1)
let arr = [1,4,{username:&#39;kobe&#39;,age:39}]
let arr2 = arr
arr2[0] = &#39;abcd&#39;
console.log(arr, arr2)</code></pre>
</li>
</ul>
<ul>
<li><p>æ‹·è´æ•°æ®çš„æ–¹æ³•</p>
<ul>
<li>ç›´æ¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡    // æµ…æ‹·è´(æµ…å…‹éš†)â€”â€”èƒ½å½±å“</li>
<li><code>Object.assign()</code>     // æµ…æ‹·è´</li>
</ul>
<pre><code class="javascript">let obj = {username: &#39;kobe&#39;}
let obj2 = Object.assign(obj)
console.log(obj, obj2)
obj2.username = &#39;wade&#39;
console.log(obj, obj2)</code></pre>
<ul>
<li><code>Array.prototype.concat()</code>   //æµ…æ‹·è´</li>
</ul>
<pre><code class="javascript">let arr = [1, 4, {username: &#39;kobe&#39;}]
let testArr = [&#39;ce&#39;, &#39;shi&#39;]
// let arr2 = arr.concat(testArr)
let arr2 = arr.concat()
console.log(arr, arr2)
arr2[1] = &#39;a&#39;
console.log(arr, arr2)
arr2[2].username = &#39;wade&#39;
console.log(arr, arr2)</code></pre>
<ul>
<li><code>Array.prototype.slice()</code>   // æµ…æ‹·è´</li>
</ul>
<pre><code class="javascript">let arr = [1, 4, {username: &#39;kobe&#39;}]
let arr2 = arr.slice()
arr2[2].username = &#39;wade&#39;
console.log(arr, arr2)</code></pre>
<ul>
<li><code>JSON.parse(JSON.stringify())</code>   // æ·±æ‹·è´(æ·±åº¦å…‹éš†)â€”â€”ä¿®æ”¹ä¸å½±å“å¼•ç”¨ç±»å‹çš„åŸæ•°æ®ã€‚<ul>
<li>æ‹·è´çš„æ•°æ®é‡Œä¸èƒ½æœ‰å‡½æ•°(å¤„ç†ä¸äº†)ï¼Œå…ˆæ˜¯å°†æ•°æ®è½¬ä¸ºäº†JSONæ ¼å¼ï¼Œå­—ç¬¦ä¸²å¯¹åº”jsä¸­çš„åªæœ‰å¯¹è±¡å’Œæ•°ç»„ï¼Œæ²¡æœ‰å‡½æ•°</li>
</ul>
</li>
</ul>
<pre><code class="javascript">let arr = [1, 4, {username: &#39;kobe&#39;}]
let arr2 = JSON.stringify(arr)
arr2 = JSON.parse(arr2)
arr2[2].username = &#39;wade&#39;
console.log(arr, arr2)</code></pre>
</li>
<li><p>æµ…æ‹·è´</p>
<ul>
<li>ç‰¹ç‚¹ï¼šæ‹·è´çš„æ˜¯å¼•ç”¨ï¼Œä¿®æ”¹æ‹·è´ä»¥åçš„æ•°æ®ä¼šå½±å“åŸæ¥çš„æ•°æ®ï¼Œä½¿å¾—åŸæ•°æ®ä¸å®‰å…¨</li>
</ul>
</li>
<li><p>æ·±æ‹·è´</p>
<ul>
<li>ç‰¹ç‚¹ï¼šæ‹·è´çš„æ—¶å€™ç”Ÿæˆæ–°æ•°æ®ï¼Œä¿®æ”¹æ‹·è´ä»¥åçš„æ•°æ®ä¸ä¼šå½±å“åŸæ•°æ®</li>
</ul>
</li>
<li><p>è¿™ä¸¤ä¸ªéƒ½æ˜¯é’ˆå¯¹å¯¹è±¡/æ•°ç»„æ¥è¯´çš„</p>
</li>
<li><p>æ€è€ƒï¼šå¦‚ä½•å®ç°æ·±åº¦æ‹·è´ï¼Ÿ</p>
<ul>
<li><p>æ‹·è´çš„æ•°æ®é‡Œæœ‰å¯¹è±¡/æ•°ç»„ï¼Œå³ä½¿æœ‰å¯¹è±¡/æ•°ç»„å¯ä»¥ç»§ç»­éå†å¯¹è±¡ã€æ•°ç»„ï¼Œæ‹¿åˆ°é‡Œè¾¹çš„æ¯ä¸€é¡¹å€¼ï¼Œç›´åˆ°æ‹¿åˆ°çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç„¶åå†å»å¤åˆ¶(æ‹·è´çš„æ•°æ®é‡Œä¸èƒ½æœ‰å¯¹è±¡/æ•°ç»„)</p>
</li>
<li><p>çŸ¥è¯†ç‚¹å‚¨å¤‡</p>
<ul>
<li>å¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹<ol>
<li><code>typeof</code>è¿”å›çš„æ•°æ®ç±»å‹ï¼š Stringã€Numberã€booleanã€undefinedã€Objectã€Function</li>
<li><code>Object.prototype.toString.call(obj)</code>â€”&gt;<code>Object.prototype.toString.call(data).slice(8, -1)</code></li>
</ol>
</li>
</ul>
<pre><code class="javascript">let result = &#39;abc&#39; // [object String]
result = null // [object Null]
result = [1, &#39;a&#39;] // test-demo.html:17 [object Array]
// console.log(Object.prototype.toString.call(result))
// console.log(typeof Object.prototype.toString.call(result)) // è¿”å›çš„æ˜¯string
// å› æ­¤å¯ä»¥ç”¨ä¸‹é¢è¿™ç§æ–¹å¼æ˜¾ç¤ºæ•°æ®ç±»å‹
console.log(Object.prototype.toString.call(result).slice(8, -1))
</code></pre>
<ul>
<li><p>for in å¾ªç¯</p>
<ul>
<li>ç”¨äºå¾ªç¯å¯¹è±¡ï¼Œæšä¸¾å‡ºæ¥çš„æ˜¯å±æ€§å</li>
</ul>
<pre><code class="javascript">let obj = {username: &#39;kobe&#39;, age: 39}
for(let i in obj){
  console.log(i) // username age
}</code></pre>
<ul>
<li>å¾ªç¯æ•°ç»„æ—¶ï¼Œæšä¸¾çš„æ˜¯ä¸‹æ ‡</li>
</ul>
<pre><code class="javascript">let arr = [1,3,&#39;abc&#39;]
for(let i in arr){
  console.log(i) // 0 1 2
}</code></pre>
</li>
</ul>
</li>
<li><p>å®ç°æ·±åº¦å…‹éš†</p>
</li>
</ul>
<pre><code class="javascript">// å®šä¹‰æ£€æµ‹æ•°æ®ç±»å‹çš„åŠŸèƒ½å‡½æ•°
function checkType(target){
  return Object.prototype.toString.call(target).slice(8, -1)
}
console.log(checkType([1,2,&#39;a&#39;]))
// å®ç°æ·±åº¦å…‹éš†--&gt;å¯¹è±¡/æ•°ç»„
function clone(target){
  // 1.åˆ¤æ–­æ‹·è´çš„æ•°æ®ç±»å‹
  let result, targetType = checkType(target)
  if(targetType === &#39;Object&#39;){
    // 2.åˆå§‹åŒ–æ•°æ®ï¼Œå¯¹è±¡/æ•°ç»„/å…¶ä»–ç±»å‹ä»ä¸æ”¹å˜
    result = {}
  }else if(targetType === &#39;Array&#39;){
    result = []
  }else{
    return target
  }
  // 3.éå†ç›®æ ‡æ•°æ®
  for(let i in target){
    // éå†æ•°æ®ç»“æ„çš„æ¯ä¸€é¡¹å€¼
    let value = target[i] // keyã€ä¸‹æ ‡éƒ½å¯ä»¥ç”¨[]
    // åˆ¤æ–­ç›®æ ‡ç»“æ„é‡Œçš„æ¯ä¸€å€¼æ˜¯å¦å­˜åœ¨æ•°ç»„/å¯¹è±¡
    if(checkType(value) === &#39;Object&#39; || checkType(value) === &#39;Array&#39;){// å¯¹è±¡ã€æ•°ç»„ä¸­è¿˜åµŒå¥—äº†å¯¹è±¡æ•°ç»„
      // ç»§ç»­éå†è·å–åˆ°çš„valueå€¼
      result[i] = clone(value)
    }else{ // è·å–åˆ°çš„valueå€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–å‡½æ•°
      result[i] = value
    }
  }
  return result
}
let arr = [1,2,{username: &#39;kobe&#39;}]
let arr2 = clone(arr)
console.log(arr, arr2)
arr2[2].username = &#39;abdc&#39;
console.log(arr, arr2)

let obj = {username: &#39;luwang&#39;, age: 23}
let obj2 = clone(obj)
console.log(obj, obj2)
obj2.username = &#39;LUWANG&#39;
console.log(obj, obj2)</code></pre>
</li>
</ul>
<h3 id="7ã€classç±»"><a href="#7ã€classç±»" class="headerlink" title="7ã€classç±»"></a>7ã€classç±»</h3><ul>
<li><p>é€šè¿‡classå®šä¹‰ç±»ï¼Œå®ç°ç±»çš„ç»§æ‰¿</p>
<ul>
<li><p>å›é¡¾ï¼šåŸå‹ã€æ„é€ å‡½æ•°ã€æ„é€ å‡½æ•°+åŸå‹â€”â€”ç»§æ‰¿</p>
<pre><code class="javascript">function Person(name, age){
  this.name = name
  this.age = age
}
let person = new Person(&#39;kobe&#39;, 39)
console.log(person)</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591769869983.png" alt="ç»§æ‰¿" class="lazyload"></p>
</li>
</ul>
</li>
<li><p>åœ¨ç±»ä¸­é€šè¿‡ constructor() å®šä¹‰æ„é€ æ–¹æ³•(ç›¸å½“äºæ„é€ å‡½æ•°)</p>
<pre><code class="javascript">// å®šç¾©ä¸€å€‹äººç‰©çš„é¡
class Person{
 // ç±»çš„æ„é€ æ–¹æ³•
  constructor(name, age){
    this.name = name
    this.age = age
  }
  // ç±»çš„ä¸€èˆ¬æ–¹æ³•
  showMe(){
    console.log(this.name)
  }
}
let person = new Person(&#39;kobe&#39;, 39)
console.log(person)
person.showName()</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591770059566.png" alt="ç»§æ‰¿" class="lazyload"></p>
</li>
<li><p>ä¸€èˆ¬æ–¹æ³•: xxx () {}</p>
</li>
<li><p>ç”¨extendsæ¥å®šä¹‰å­ç±»ï¼ˆå®ç°ç´¯çš„ç»§æ‰¿ï¼‰</p>
</li>
<li><p>ç”¨super()æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•</p>
</li>
<li><p>å­ç±»æ–¹æ³•è‡ªå®šä¹‰: å°†ä»çˆ¶ç±»ä¸­ç»§æ‰¿æ¥çš„æ–¹æ³•é‡æ–°å®ç°ä¸€éï¼ˆé‡å†™ä»çˆ¶ç±»ç»§æ‰¿çš„ä¸€èˆ¬æ–¹æ³•ï¼‰</p>
<pre><code class="javascript">// å®šç¾©ä¸€å€‹äººç‰©çš„é¡
class Person{
  constructor(name, age){
    this.name = name
    this.age = age
  }
  showMe(){
    console.log(&#39;èª¿ç”¨çˆ¶é¡çš„æ–¹æ³•&#39;)
    console.log(this.name, this.age)
  }
}
let person = new Person(&#39;kobe&#39;, 39)
person.showMe()

// å­é¡
class StarPerson extends Person{
  constructor(name, age, salary){
    super(name, age) // èª¿ç”¨çˆ¶é¡çš„æ§‹é€ æ–¹æ³•
    this.salary = salary
  }
  showMe(){
    console.log(&#39;å­é¡é‡å¯«çš„æ–¹æ³•&#39;)
    console.log(this.name, this.age, this.salary)
  }
}
let p1 = new StarPerson(&#39;wade&#39;, 36, 10000000)
console.log(p1)
p1.showMe()</code></pre>
</li>
<li><p>jsä¸­æ²¡æœ‰æ–¹æ³•é‡è½½(æ–¹æ³•åç›¸åŒ, ä½†å‚æ•°ä¸åŒ)çš„è¯­æ³•</p>
</li>
</ul>
<h3 id="4ã€set-Mapå®¹å™¨ç»“æ„"><a href="#4ã€set-Mapå®¹å™¨ç»“æ„" class="headerlink" title="4ã€set/Mapå®¹å™¨ç»“æ„"></a>4ã€set/Mapå®¹å™¨ç»“æ„</h3><ul>
<li><p>å®¹å™¨: èƒ½ä¿å­˜å¤šä¸ªæ•°æ®çš„å¯¹è±¡, åŒæ—¶å¿…é¡»å…·å¤‡æ“ä½œå†…éƒ¨æ•°æ®çš„æ–¹æ³•</p>
</li>
<li><p>ä»»æ„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºå®¹å™¨ä½¿ç”¨, ä½†æœ‰çš„å¯¹è±¡ä¸å¤ªé€‚åˆä½œä¸ºå®¹å™¨ä½¿ç”¨(å¦‚å‡½æ•°)</p>
</li>
<li><p><strong>Setçš„ç‰¹ç‚¹</strong>: ä¿å­˜å¤šä¸ªvalue, valueæ˜¯ä¸é‡å¤ ====&gt;æ•°ç»„å…ƒç´ å»é‡</p>
</li>
<li><p><strong>Mapçš„ç‰¹ç‚¹</strong>: ä¿å­˜å¤šä¸ªkeyâ€“value, keyæ˜¯ä¸é‡å¤, valueæ˜¯å¯ä»¥é‡å¤çš„</p>
</li>
<li><p>API</p>
<ul>
<li>Setå®¹å™¨ï¼šæ— åºä¸å¯é‡å¤çš„å¤šä¸ªvalueçš„é›†åˆä½“<ul>
<li><code>Set()</code></li>
<li><code>Set(arr)</code> //arræ˜¯ä¸€ç»´æ•°ç»„</li>
<li><code>add(value)</code></li>
<li><code>delete(value)</code></li>
<li><code>clear()</code></li>
<li><code>has(value)</code></li>
<li><code>size</code></li>
<li>Mapå®¹å™¨ï¼šæ— åºçš„keyã€ä¸é‡å¤çš„å¤šä¸ªkey-valueçš„é›†åˆä½“</li>
</ul>
</li>
<li><code>Map()</code></li>
<li><code>Map(arr)</code>//arræ˜¯äºŒç»´æ•°ç»„</li>
<li><code>set(key, value)</code></li>
<li><code>get(key)</code></li>
<li><code>delete(key)</code></li>
<li><code>clear()</code></li>
<li><code>has(key)</code></li>
<li><code>size</code></li>
</ul>
<pre><code class="javascript">// let set = new Set()
let set = new Set([1,2,4,5,2,3,6]) // é‡å¤çš„ä¼šå»é™¤
console.log(set)
set.add(7)
console.log(set.size, set)
console.log(set.has(8))
console.log(set.has(7))
set.delete(7)
console.log(set.size, set)
set.clear()
console.log(set.size, set)

// let map = new Map()
let map = new Map([[&#39;username&#39;, &#39;aaa&#39;], [&#39;age&#39;, 35], [&#39;sex&#39;, &#39;female&#39;]]) // äºŒç»´æ•°ç»„ï¼Œä¸”åªèƒ½æœ‰ä¸¤å€¼(ä¸€ä¸ªæ˜¯keyï¼Œä¸€ä¸ªæ˜¯value)
map.set(&#39;other&#39;, &#39;shuoming&#39;)
console.log(map.size, map)
map.delete(&#39;other&#39;)
console.log(map)
console.log(map.has(&#39;username&#39;))
map.clear()
console.log(map)</code></pre>
</li>
</ul>
<h3 id="5ã€forâ€“ofå¾ªç¯"><a href="#5ã€forâ€“ofå¾ªç¯" class="headerlink" title="5ã€forâ€“ofå¾ªç¯"></a>5ã€forâ€“ofå¾ªç¯</h3><ul>
<li>å¯ä»¥éå†ä»»ä½•å®¹å™¨ï¼ˆSetã€Mapï¼‰</li>
</ul>
<pre><code class="javascript">let set = new Set([1, 2, 4, 3, 4, 5]) 
for(let i of set){
  console.log(i)
}

// å¯ä»¥ç”¨Setç»™æ•°ç»„å»é‡
let arr = [1,2,4,5,5,6,2]
let arr1 = arr
arr = [] // ä¿ç•™æ•°ç»„ç±»å‹
let set = new Set(arr1)
for(let i of set){
  arr.push(i)
}
console.log(arr)</code></pre>
<ul>
<li>æ•°ç»„</li>
<li>å¯¹è±¡</li>
<li>ä¼ª/ç±»å¯¹è±¡</li>
<li>å­—ç¬¦ä¸²</li>
<li>å¯è¿­ä»£çš„å¯¹è±¡</li>
</ul>
<h3 id="6ã€Promiseå¯¹è±¡"><a href="#6ã€Promiseå¯¹è±¡" class="headerlink" title="6ã€Promiseå¯¹è±¡"></a>6ã€Promiseå¯¹è±¡</h3><ul>
<li><p>ç†è§£ï¼š</p>
<ul>
<li>Promiseå¯¹è±¡ä»£è¡¨äº†æŸä¸ªå°†è¦å‘ç”Ÿçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰</li>
<li>ES6çš„Promiseæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆpromiseå®ä¾‹</li>
</ul>
<ul>
<li><p>è§£å†³<code>å›è°ƒåœ°ç‹±</code>(å›è°ƒå‡½æ•°çš„å±‚å±‚åµŒå¥—, ç¼–ç æ˜¯ä¸æ–­å‘å³æ‰©å±•, é˜…è¯»æ€§å¾ˆå·®)ï¼›æœ‰äº†promiseå¯¹è±¡ï¼Œå¯ä»¥å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥çš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ï¼ˆå›è°ƒåœ°ç‹±ï¼‰</p>
</li>
<li><p>èƒ½ä»¥åŒæ­¥ç¼–ç çš„æ–¹å¼å®ç°å¼‚æ­¥è°ƒç”¨</p>
</li>
<li><p>åœ¨es6ä¹‹å‰åŸç”Ÿçš„jsä¸­æ˜¯æ²¡è¿™ç§å®ç°çš„, ä¸€äº›ç¬¬ä¸‰æ–¹æ¡†æ¶(jQuery)å®ç°äº†promise</p>
</li>
<li><p>promiseå¯¹è±¡çš„3ä¸ªçŠ¶æ€ï¼š</p>
<ul>
<li>pendingï¼šåˆå§‹åŒ–çŠ¶æ€</li>
<li>fullfilledï¼šæˆåŠŸçŠ¶æ€</li>
<li>rejectedï¼šå¤±è´¥çŠ¶æ€</li>
</ul>
</li>
<li><p>åº”ç”¨ï¼š</p>
<ul>
<li>ä½¿ç”¨promiseå®ç°è¶…æ—¶å¤„ç†</li>
<li>ä½¿ç”¨promiseå°è£…å¤„ç†Ajaxè¯·æ±‚</li>
</ul>
<pre><code>let request = new XMLHttpRequest()
request.responseType = &#39;json&#39;
request.open(&quot;GET&quot;, url)
request.send()</code></pre></li>
</ul>
</li>
</ul>
<ul>
<li><p>ES6ä¸­å®šä¹‰å®ç°API(ä½¿ç”¨PromiseåŸºæœ¬æ­¥éª¤): </p>
<pre><code>// 1. åˆ›å»ºpromiseå¯¹è±¡
let promise = new Promise((resolve, reject) =&gt; { 
      // åˆå§‹åŒ–promiseçŠ¶æ€ä¸ºpending
  // æ‰§è¡Œå¼‚æ­¥æ“ä½œ 
  if(å¼‚æ­¥æ“ä½œæˆåŠŸ) { // è°ƒç”¨æˆåŠŸçš„å›è°ƒ
    resolve(result);     // ä¿®æ”¹promiseçŠ¶æ€ä¸ºfullfilled
  } else { // è°ƒç”¨å¤±è´¥çš„å›è°ƒ
    reject(errorMsg);   // ä¿®æ”¹promiseçš„çŠ¶æ€ä¸ºrejected
  } 
}) 
// 2. è°ƒç”¨promiseå¯¹è±¡çš„then()
promise.then(function(
  result =&gt; console.log(result), 
  errorMsg =&gt; alert(errorMsg)
))</code></pre><p>ä¾‹å­ï¼š</p>
<pre><code class="javascript">// 1ã€åˆ›å»ºpromiseå¯¹è±¡
let promise = new Promise((resolve, reject) =&gt; {
  // åˆå§‹åŒ–promiseçŠ¶æ€  pendingï¼š åˆå§‹åŒ–
  console.log(&#39;11111111&#39;)
  // æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé€šå¸¸æ˜¯å‘é€Ajaxè¯·æ±‚ï¼Œå¼€å¯å®šæ—¶å™¨
  setTimeout(() =&gt; {
    console.log(&#39;3333333&#39;)
    // æ ¹æ®å¼‚æ­¥ä»»åŠ¡çš„è¿”å›ç»“æœå»ä¿®æ”¹promiseçš„çŠ¶æ€
    // å¼‚æ­¥ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ
    // resolve(&#39;å“ˆå“ˆï¼Œ&#39;) // ä¿®æ”¹promiseçš„çŠ¶æ€ä¸º fullfilledï¼šæˆåŠŸ
    // å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå¤±è´¥
    reject(&#39;555, &#39;) // ä¿®æ”¹promiseçš„çŠ¶æ€ä¸º rejsectedï¼š å¤±è´¥
  }, 2000)
})
console.log(&#39;222222222&#39;)
// 2. è°ƒç”¨promiseå¯¹è±¡çš„then()
promise
  .then((data) =&gt; { // æˆåŠŸçš„å›è°ƒ
    console.log(data, &#39;æˆåŠŸäº†~~~&#39;)
  }, (error) =&gt; { // å¤±è´¥çš„å›è°ƒ
    console.log(error, &#39;å¤±è´¥äº†â€¦â€¦&#39;)
})</code></pre>
<p>å®ä¾‹ï¼šæ–°é—»ã€æ–°é—»çš„è¯„è®ºï¼šåªå‘æ–°é—»çš„å†…å®¹ï¼›åœ¨æ¥ç€æ ¹æ®æ–°é—»çš„idæ‹¿å–è¿™ä¸ªæ–°é—»ä¸‹çš„è¯„è®º</p>
<p>1ã€æ‰“å¼€ES5_6_7ä¸­codeç›®å½•ä¸­çš„es_server</p>
<p>2ã€è¾“å…¥å‘½ä»¤<code>node bin/www</code></p>
<p>3ã€æµè§ˆå™¨ä¸­è®¿é—® <a href="http://localhost:3000/news" target="_blank" rel="noopener">http://localhost:3000/news</a> ï¼Œèƒ½å¤Ÿè·å–æ•°æ®</p>
<pre><code class="javascript">// å®šä¹‰è·å–æ–°é—»çš„åŠŸèƒ½å‡½æ•°
function getNews(url){
  let promise = new Promise((resolve, reject) =&gt; {
    // çŠ¶æ€ï¼šåˆå§‹åŒ–
    // æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡
    let xmlHttp = new XMLHttpRequest()
    // ç»‘å®šç›‘å¬readyState
    /*xmlHttp.onreadystatechange = function(){
      if(xmlHttp.readyState === 4 &amp;&amp; xmlHttp.status == 200){
        // è¯·æ±‚æˆåŠŸ
        console.log(xmlHttp.responseText)
        // ä¿®æ”¹çŠ¶æ€
        resolve(xmlHttp.responseText) // ä¿®æ”¹promiseçš„çŠ¶æ€ä¸ºæˆåŠŸ
      }else{
        // è¯·æ±‚å¤±è´¥
        reject(&#39;æš‚æ—¶æ²¡æœ‰æ–°é—»å†…å®¹&#39;)
      }
    } --&gt; é€»è¾‘æœ‰é—®é¢˜*/
    xmlHttp.onreadystatechange = function(){
      if(xmlHttp.readyState === 4){
        if(xmlHttp.status == 200){
          // è¯·æ±‚æˆåŠŸ
          // console.log(xmlHttp.responseText)
          // ä¿®æ”¹çŠ¶æ€
          resolve(xmlHttp.responseText) // ä¿®æ”¹promiseçš„çŠ¶æ€ä¸ºæˆåŠŸ
        }else{
          // è¯·æ±‚å¤±è´¥
          reject(&#39;æš‚æ—¶æ²¡æœ‰æ–°é—»å†…å®¹&#39;)
        }
      }
    }

    // open è®¾ç½®è¯·æ±‚å¾—æ–¹å¼ä»¥åŠurl
    xmlHttp.open(&#39;GET&#39;, url)
    // å‘é€
    xmlHttp.send()
  })
  return promise
}
getNews(&#39;http://localhost:3000/news?id=2&#39;)
  .then((data) =&gt; {
    console.log(data)
    // å‘é€è¯·æ±‚è·å–è¯„è®ºå†…å®¹å‡†å¤‡url
    let commentsUrl = JSON.parse(data).commentsUrl
    let url = &#39;http://localhost:3000&#39; + commentsUrl
    // å‘é€è¯·æ±‚
    return getNews(url)
  },(error) =&gt; {
    console.log(error)
  })
  .then((data) =&gt; {
    console.log(data)
  }, () =&gt; {

})</code></pre>
</li>
</ul>
<h3 id="8ã€Symbolå±æ€§"><a href="#8ã€Symbolå±æ€§" class="headerlink" title="8ã€Symbolå±æ€§"></a>8ã€Symbolå±æ€§</h3><ul>
<li>å‰è¨€ï¼šES5ä¸­å¯¹è±¡çš„å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®¹æ˜“é€ æˆé‡åï¼Œæ±¡æŸ“ç¯å¢ƒ</li>
<li>æ¦‚å¿µï¼šES6ä¸­æ·»åŠ äº†ä¸€ç§<strong>åŸå§‹æ•°æ®ç±»å‹symbol</strong>(å·²æœ‰çš„æ•°æ®ç±»å‹ï¼šStringã€Numberã€booleanã€nullã€undefinedã€å¯¹è±¡)</li>
<li>ç‰¹ç‚¹<ul>
<li>Symbolå±æ€§å¯¹åº”çš„å€¼æ˜¯<strong>å”¯ä¸€</strong>çš„ï¼Œè§£å†³å‘½åå†²çªé—®é¢˜</li>
<li>Symbolå€¼<strong>ä¸èƒ½</strong>ä¸<strong>å…¶ä»–æ•°æ®</strong>è¿›è¡Œ<strong>è®¡ç®—</strong>ï¼ŒåŒ…æ‹¬ä¸å­—ç¬¦ä¸²æ‹¼ä¸²</li>
<li>for inã€for oféå†æ—¶ä¸ä¼šéå†symbolå±æ€§</li>
</ul>
</li>
<li>ä½¿ç”¨<ul>
<li>è°ƒç”¨Symbolå‡½æ•°å¾—åˆ°symbolå€¼</li>
<li>ä¼ å‚æ ‡è¯†</li>
<li>å†…ç½®Symbolå€¼<ul>
<li>é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„Symbolå€¼ä»¥å¤–ï¼ŒES6è¿˜æä¾›äº†11ä¸ªå†…ç½®çš„Symbolå€¼ï¼ˆæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼‰</li>
<li>å¯¹è±¡çš„Symbol.iteratorå±æ€§ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="javascript">// åˆ›å»ºsymbolå±æ€§å€¼
let symbol = Symbol()
console.log(symbol)  // Symbol()
let obj = {username:&#39;kobe&#39;, age:39}
// å¯ä»¥æ·»åŠ symbolå±æ€§â€”â€”ä½†æ˜¯å¾—ç”¨å¦ä¸€ç§æ–¹å¼
obj.gender = &#39;ç”·&#39;
obj[symbol] = &#39;hello&#39;
console.log(obj)  // {username: &quot;kobe&quot;, age: 39, gender: &quot;ç”·&quot;, Symbol(): &quot;hello&quot;}

//let symbol2 = Symbol()
//let symbol3 = Symbol()
// å¹¶ä¸ç›¸åŒï¼Œå€¼æ˜¯å”¯ä¸€çš„
//console.log(symbol2, symbol3, symbol2 == symbol3)  // Symbol() Symbol() false

// å¯ä»¥ä¼ å‚ï¼Œè¿™æ ·å°±èƒ½å¾ˆæ˜æ˜¾çœ‹å‡ºä¸åŒäº†
let symbol2 = Symbol(&#39;one&#39;)
let symbol3 = Symbol(&#39;two&#39;)
console.log(symbol2, symbol3, symbol2 == symbol3)  // Symbol(one) Symbol(two) false

// å¯ä»¥ç”¨æ¥å®šä¹‰å¸¸é‡
const Person_key = Symbol(&#39;person_key&#39;)
console.log(Person_key)  // Symbol(person_key)






// ç­‰åŒäºåœ¨æŒ‡å®šçš„æ•°æ®ç»“æ„ä¸Šéƒ¨ç½²äº†Iteratoræ¥å£
// å½“ä½¿ç”¨for ofå»éå†æŸä¸€ä¸ªæ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œé¦–å…ˆå»æ‰¾Symbol.itearatorï¼Œæ‰¾åˆ°äº†å°±å»éå†ï¼Œæ²¡æœ‰æ‰¾åˆ°å°±ä¸èƒ½éå†
let targetData = {
  [Symbol.iterator]: function(){
    let nextIndex = 0
    return{
      next: function(){
        return nextIndex &lt; this.length ? {value: this[nextIndex++], done: false} : {value: undefined, done: true}
      }
    }
  }
}
// ä½¿ç”¨ä¸‰ç‚¹è¿ç®—ç¬¦ã€è§£æ„èµ‹å€¼ï¼Œé»˜è®¤ä¼šå»è°ƒç”¨Iteratoræ¥å£
let arr2 = [1,6]
let arr3 = [2,3,4,5]
arr2 = [1,...arr3,6]
console.log(arr2)
let [a,b] = arr2
console.log(a,b)
</code></pre>
<h3 id="9ã€Iteratoréå†å™¨"><a href="#9ã€Iteratoréå†å™¨" class="headerlink" title="9ã€Iteratoréå†å™¨"></a>9ã€Iteratoréå†å™¨</h3><ul>
<li><p>æ¦‚å¿µï¼šiteratoræ˜¯ä¸€ç§æ¥å£æœºåˆ¶ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶</p>
</li>
<li><p>ä½œç”¨ï¼š</p>
<ul>
<li>ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£</li>
<li>ä½¿å¾—æ•°æ®æœºæ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰ç…§æŸç§æ¬¡åºæ’åˆ—</li>
<li>ES6åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤forâ€¦ofå¾ªç¯ï¼ŒIteratoræ¥å£ä¸»è¦ä¾›forâ€¦ofæ¶ˆè´¹</li>
</ul>
</li>
<li><p>å·¥ä½œåŸç†</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)ï¼ŒæŒ‡å‘æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®</li>
<li>ç¬¬ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼ŒæŒ‡é’ˆè‡ªåŠ¨æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜</li>
<li>æ¥ä¸‹æ¥ä¸æ–­è°ƒç”¨nextæ–¹æ³•ï¼ŒæŒ‡é’ˆä¼šä¸€ç›´å¾€åç§»åŠ¨ï¼Œç›´åˆ°æŒ‡å‘æœ€åä¸€ä¸ªæˆå‘˜</li>
<li>æ²¡è°ƒç”¨nextæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªåŒ…å«valueå’Œdoneçš„å¯¹è±¡<code>{value: å½“å‰æˆå‘˜çš„å€¼, done: å¸ƒå°”å€¼}</code><ul>
<li>valueè¡¨ç¤ºå½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå¯¹åº”çš„å¸ƒå°”å€¼è¡¨ç¤ºå½“å‰çš„æ•°æ®çš„ç»“æ„æ˜¯å¦éå†ç»“æŸ</li>
<li>å½“éå†ç»“æŸçš„æ—¶å€™è¿”å›çš„valueå€¼æ˜¯undefinedï¼Œdoneå€¼ä¸ºfalse</li>
</ul>
</li>
</ul>
</li>
<li><p>åŸç”Ÿå…·å¤‡Iteratoræ¥å£çš„æ•°æ®(å¯ç”¨forâ€¦oféå†)</p>
</li>
<li><p>æ‰©å±•ç†è§£</p>
<ul>
<li>å½“æ•°æ®ç»“æ„ä¸Šéƒ¨ç½²äº†Symbol.iteratoræ¥å£ï¼Œè¯¥æ•°æ®å°±æ˜¯å¯ä»¥ç”¨for oféå†</li>
<li>å½“ä½¿ç”¨for ofå»éå†ç›®æ ‡æ•°æ®çš„æ—¶å€™ï¼Œè¯¥æ•°æ®ä¼šè‡ªåŠ¨å»æ‰¾Symbol.iteratorå±æ€§ï¼ˆSymbol.iteratorå±æ€§æŒ‡å‘å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•ï¼‰<ul>
<li>Array</li>
<li>arguments</li>
<li>setå®¹å™¨</li>
<li>mapå®¹å™¨</li>
<li>String</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ul>
<pre><code class="javascript">// æ¨¡æ‹ŸæŒ‡é’ˆå¯¹è±¡(éå†å™¨å¯¹è±¡)
function myIterator(arr){// Iteratoræ¥å£
let nextIndex = 0 // è®°å½•æŒ‡é’ˆçš„ä½ç½®
  return{
    next: function(){// éå†å™¨å¯¹è±¡
      return nextIndex &lt; arr.length ? {value: arr[nextIndex++], done: false} : {value: undefined, done: true}
    }
  }
}
// å‡†å¤‡ä¸€ä¸ªæ•°æ®
let arr =[1,4,65,&#39;abc&#39;]

let iteratorObj = myIterator(arr)
console.log(iteratorObj.next()) // {value: 1, done: false}
console.log(iteratorObj.next()) // {value: 4, done: false}
console.log(iteratorObj.next()) // {value: 65, done: false}
console.log(iteratorObj.next()) // {value: &quot;abc&quot;, done: false}
console.log(iteratorObj.next()) // {value: undefined, done: true}

// å°†iteratoræ¥å£éƒ¨ç½²åˆ°æŒ‡å®šçš„æ•°æ®ç±»å‹ä¸Šï¼Œå¯ä»¥ä½¿ç”¨for ofå»å¾ªç¯éå†
// æ•°ç»„ã€å­—ç¬¦ä¸²ã€argumentã€setå®¹å™¨ã€mapå®¹å™¨
for(let i of arr){
  console.log(i)
}// 1 4 65 abc

let str = &#39;abcdefg&#39;
for(let i of str){
  console.log(i)
}// a b c d e f g

function fun(){
  for(let i of arguments){
    console.log(i)
  }
}
fun(1,4,5,&#39;abc&#39;) // 1 4 5 abc

// let obj = {username:&#39;kobe&#39;, age: 39}
// for(let i of obj){
//   console.log(i)
// }// Uncaught TypeError: obj is not iterable ä¸å¯è¿­ä»£</code></pre>
</li>
</ul>
<h3 id="10ã€Generatorå‡½æ•°"><a href="#10ã€Generatorå‡½æ•°" class="headerlink" title="10ã€Generatorå‡½æ•°"></a>10ã€Generatorå‡½æ•°</h3><ul>
<li><p>æ¦‚å¿µ</p>
<ul>
<li>ES6æä¾›çš„è§£å†³å¼‚æ­¥ç¼–ç¨‹çš„æ–¹æ¡ˆä¹‹ä¸€</li>
<li>Generatorå‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå†…éƒ¨å°è£…äº†ä¸åŒçŠ¶æ€çš„æ•°æ®</li>
<li>ç”¨æ¥ç”Ÿæˆéå†å™¨å¯¹è±¡</li>
<li>å¯æš‚åœå‡½æ•°(æƒ°æ€§æ±‚å€¼)ï¼Œyieldå¯æš‚åœï¼Œnextæ–¹æ³•å¯å¯åŠ¨ã€‚æ¯æ¬¡è¿”å›çš„æ˜¯yieldåçš„è¡¨è¾¾å¼ç»“æœ</li>
</ul>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li><p>function ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·</p>
</li>
<li><p>å†…éƒ¨ç”¨yieldè¡¨è¾¾å¼æ¥å®šä¹‰ä¸åŒçš„çŠ¶æ€</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="javascript">function* generatorExample(){
    let result = yield &#39;hello&#39;  // çŠ¶æ€å€¼ä¸ºhello
    yield &#39;generator&#39;  // çŠ¶æ€å€¼ä¸ºgenerator
}</code></pre>
</li>
<li><p>generatorå‡½æ•°è¿”å›çš„æ˜¯æŒ‡é’ˆå¯¹è±¡ï¼Œè€Œä¸ä¼šæ‰§è¡Œå‡½æ•°å†…éƒ¨é€»è¾‘</p>
<pre><code class="javascript">function* generatorExample(){
    console.log(&#39;å¼€å§‹æ‰§è¡Œ&#39;)
    let result = yield &#39;hello&#39;  // çŠ¶æ€å€¼ä¸ºhello
    yield &#39;generator&#39;  // çŠ¶æ€å€¼ä¸ºgenerator
}
generatorExample() // è°ƒç”¨å¹¶ä¸ä¼šæ‰§è¡Œå‡½æ•°å†…éƒ¨é€»è¾‘</code></pre>
</li>
<li><p>è°ƒç”¨nextæ–¹æ³•å‡½æ•°ï¼Œå†…éƒ¨é€»è¾‘å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ°yieldè¡¨è¾¾å¼åœæ­¢ï¼Œè¿”å›<code>{value: yieldåçš„è¡¨è¾¾å¼ç»“æœ/returnåçš„è¿”å›ç»“æœ(å¦‚æœæ²¡å†™ï¼Œè¿”å›undefined),done: booleanå€¼(åé¢è¿˜æœ‰è¿”å›falseï¼Œæ²¡æœ‰è¿”å›true)}</code></p>
<pre><code class="javascript">function* generatorExample(){
    console.log(&#39;å¼€å§‹æ‰§è¡Œ&#39;)
    let result = yield &#39;hello&#39;  // çŠ¶æ€å€¼ä¸ºhelloï¼Œä¼šæ‰§è¡Œï¼Œåœæ­¢ æµ‹è¯•yield console.log(&#39;ä¼šæ‰§è¡Œ&#39;)
    console.log(&#39;ä¸‹æ¬¡è°ƒç”¨nextæ‰§è¡Œ&#39;)
    yield &#39;generator&#39;  // çŠ¶æ€å€¼ä¸ºgenerator
    console.log(&#39;ä¸‹æ¬¡è°ƒç”¨nextæ‰§è¡Œ&#39;)
    return &#39;è¿”å›çš„ç»“æœ&#39;
}
let MG = generatorExample() // è¿”å›çš„æ˜¯æŒ‡é’ˆå¯¹è±¡
console.log(MG.next()) // æ‰§è¡Œï¼Œé‡åˆ°yieldåœæ­¢
console.log(MG.next(&#39;å¯ä»¥æ‹¿åˆ°è¿™ä¸ªå€¼&#39;)) // å†æ¬¡è°ƒç”¨nextï¼Œå¾€ä¸‹æ‰§è¡Œï¼Œå¯ä»¥ä¼ å‚
console.log(MG.next()) // å†æ¬¡è°ƒç”¨nextï¼Œå¾€ä¸‹æ‰§è¡Œï¼Œè¿”å›true</code></pre>
</li>
<li><p>å†æ¬¡è°ƒç”¨nextæ–¹æ³•ä¼šä»ä¸Šä¸€æ¬¡åœæ­¢æ—¶çš„yieldå¤„å¼€å§‹ï¼Œç›´åˆ°æœ€å</p>
</li>
<li><p>yieldè¯­å¥è¿”å›ç»“æœé€šå¸¸ä¸ºundefinedï¼Œå½“è°ƒç”¨nextæ–¹æ³•æ—¶ä¼ å‚å†…å®¹ä¼šä½œä¸ºå¯åŠ¨æ—¶yieldè¯­å¥çš„è¿”å›å€¼</p>
</li>
<li><p>è¡¥å……</p>
<ul>
<li>å¯¹è±¡çš„Symbol.iteratorå±æ€§ï¼ŒæŒ‡å‘éå†å™¨å¯¹è±¡</li>
</ul>
<pre><code class="javascript">let obj = {username:&#39;kobe&#39;, age: 39}
obj[Symbol.iterator] = function* myTest(){
    yield 1
    yield 2
    yield 3
}
for(let i of obj){
  console.log(i)
}</code></pre>
<ul>
<li>æ¡ˆä¾‹<ul>
<li>éœ€æ±‚<ul>
<li>å‘é€ajaxè¯·æ±‚è·å–æ–°é—»å†…å®¹</li>
<li>æ–°é—»å†…å®¹è·å–æˆåŠŸåå†æ¬¡å‘é€è¯·æ±‚ï¼Œè·å–å¯¹åº”çš„æ–°é—»è¯„è®ºå†…å®¹</li>
<li>æ–°é—»å†…å®¹è·å–å¤±è´¥åˆ™ä¸éœ€è¦å†æ¬¡å‘é€è¯·æ±‚</li>
</ul>
</li>
<li>å¯åŠ¨æœåŠ¡å™¨â€”â€”è¿›å…¥es_serverç›®å½•ï¼Œcmdè¾“å…¥å‘½ä»¤<code>node bin/www</code></li>
</ul>
</li>
</ul>
<pre><code class="javascript">// è¦æ¯”ä½¿ç”¨Promiseæ›´å¥½
function getNews(url){
  $.get(url, function(data){ // å‰é¢å¼•å…¥äº†jQuery
    console.log(data)
    let url = &#39;http://localhost:3000&#39; + data.commentsUrl
    SX.next(url) // æ”¾åœ¨è¿™é‡Œä¹Ÿå¯ä»¥å¾€ä¸‹ç§»ï¼Œå¹¶ä¸”è¿™é‡Œå‚æ•°ä¼ è¾“æ›´æ–¹ä¾¿
  })
}
function* sendXml(){
  let url = yield getNews(&#39;http://localhost:3000/news?id=3&#39;) // å¦‚æœè¿™é‡Œå‡ºé”™ï¼Œåé¢è¯„è®ºä¹Ÿä¸ä¼šå†æ‰§è¡Œäº†
  yield getNews(url)
}
// è·å–éå†å™¨å¯¹è±¡
let SX = sendXml()
SX.next()</code></pre>
</li>
</ul>
</li>
</ul>
<p>â€‹        </p>
<h2 id="å››ã€æ¨¡å—åŒ–"><a href="#å››ã€æ¨¡å—åŒ–" class="headerlink" title="å››ã€æ¨¡å—åŒ–"></a>å››ã€æ¨¡å—åŒ–</h2><h3 id="1ã€ç†è§£"><a href="#1ã€ç†è§£" class="headerlink" title="1ã€ç†è§£"></a>1ã€ç†è§£</h3><ul>
<li><p>ä»€ä¹ˆæ˜¯æ¨¡å—?</p>
<ul>
<li>å°†ä¸€ä¸ªå¤æ‚çš„ç¨‹åºä¾æ®ä¸€å®šçš„è§„åˆ™(è§„èŒƒ)å°è£…æˆå‡ ä¸ªå—(æ–‡ä»¶), å¹¶è¿›è¡Œç»„åˆåœ¨ä¸€èµ·</li>
<li>å—çš„å†…éƒ¨æ•°æ®/å®ç°æ˜¯ç§æœ‰çš„, åªæ˜¯å‘å¤–éƒ¨æš´éœ²ä¸€äº›æ¥å£(æ–¹æ³•)ä¸å¤–éƒ¨å…¶å®ƒæ¨¡å—é€šä¿¡</li>
</ul>
</li>
<li><p>ä¸€ä¸ªæ¨¡å—çš„ç»„æˆ</p>
<ul>
<li>æ•°æ®â€”&gt;å†…éƒ¨çš„å±æ€§</li>
<li>æ“ä½œæ•°æ®çš„è¡Œä¸ºâ€”&gt;å†…éƒ¨çš„å‡½æ•°</li>
</ul>
</li>
<li><p>æ¨¡å—åŒ–</p>
<ul>
<li>ç¼–ç æ—¶æ˜¯æŒ‰ç…§æ¨¡å—ä¸€ä¸ªä¸€ä¸ªç¼–ç çš„, æ•´ä¸ªé¡¹ç›®å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„é¡¹ç›®</li>
</ul>
</li>
<li><p>æ¨¡å—åŒ–çš„è¿›åŒ–è¿‡ç¨‹</p>
<ul>
<li><p>å…¨å±€functionæ¨¡å¼ : </p>
<ul>
<li>ç¼–ç : å…¨å±€å˜é‡/å‡½æ•°</li>
<li>é—®é¢˜: æ±¡æŸ“å…¨å±€å‘½åç©ºé—´, å®¹æ˜“å¼•èµ·å‘½åå†²çª/æ•°æ®ä¸å®‰å…¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591870404488.png" alt="å…¨å±€å˜é‡" class="lazyload"></p>
<ul>
<li><p>namespaceæ¨¡å¼ : </p>
<ul>
<li>ç¼–ç : å°†æ•°æ®/è¡Œä¸ºå°è£…åˆ°å¯¹è±¡ä¸­</li>
<li>è§£å†³: å‘½åå†²çª(å‡å°‘äº†å…¨å±€å˜é‡)</li>
<li>é—®é¢˜: æ•°æ®ä¸å®‰å…¨(å¤–éƒ¨å¯ä»¥ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®)</li>
</ul>
</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591870416611.png" alt="Namespace" class="lazyload"></p>
<ul>
<li><p>IIFEæ¨¡å¼/å¢å¼º</p>
<ul>
<li><p>IIFE : ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼â€”&gt;åŒ¿åå‡½æ•°è‡ªè°ƒç”¨</p>
</li>
<li><p>ç¼–ç : å°†æ•°æ®å’Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå‡½æ•°å†…éƒ¨, é€šè¿‡ç»™windowæ·»åŠ å±æ€§æ¥å‘å¤–æš´éœ²æ¥å£</p>
</li>
</ul>
</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591870442007.png" alt="IIFE" class="lazyload"></p>
<ul>
<li><p>å¼•å…¥ä¾èµ–: é€šè¿‡å‡½æ•°å½¢å‚æ¥å¼•å…¥ä¾èµ–æ¨¡å—</p>
<pre><code>(function(window, module2){
  var data = &#39;atguigu.com&#39;
  function foo() {
     module2.xxx()
     console.log(&#39;foo()&#39;+data)
  }
  function bar() {
     console.log(&#39;bar()&#39;+data)
  }

  window.module = {foo}
})(window, module2)</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591870456267.png" alt="IIFEå¢å¼º" class="lazyload"></p>
</li>
<li><p>æ¨¡å—åŒ–å¥½å¤„</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591870477012.png" alt="æ¨¡å—åŒ–å¥½å¤„" class="lazyload"></p>
<ul>
<li>é¿å…å‘½åå†²çª(å‡å°‘å‘½åç©ºé—´æ±¡æŸ“)</li>
<li>æ›´å¥½çš„åˆ†ç¦», æŒ‰éœ€åŠ è½½</li>
<li>æ›´é«˜å¤ç”¨æ€§</li>
<li>é«˜å¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li><p>é¡µé¢å¼•å…¥åŠ è½½script</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/1591871174402.png" alt="å¼•å…¥js" class="lazyload"></p>
<ul>
<li>é—®é¢˜<ul>
<li>è¯·æ±‚è¿‡å¤š</li>
<li>ä¾èµ–æ¨¡ç³Š</li>
<li>éš¾ä»¥ç»´æŠ¤</li>
</ul>
</li>
</ul>
</li>
<li><p>æ¨¡å—åŒ–è§„èŒƒ</p>
<ul>
<li><p><strong>CommonJS</strong></p>
<ul>
<li><p>Node.js : æœåŠ¡å™¨ç«¯</p>
</li>
<li><p>Browserify : æµè§ˆå™¨ç«¯    ä¹Ÿç§°ä¸ºjsçš„æ‰“åŒ…å·¥å…·</p>
</li>
<li><p>åŸºæœ¬è¯­æ³•:</p>
<ul>
<li><p>å®šä¹‰æš´éœ²æ¨¡å— : exports</p>
<pre><code>exports.xxx = value
module.exports = value</code></pre><p>å¼•å…¥æ¨¡å— : require</p>
<pre><code>var module = require(&#39;æ¨¡å—å/æ¨¡å—ç›¸å¯¹è·¯å¾„&#39;)</code></pre></li>
</ul>
</li>
<li><p>æ¯ä¸ªæ–‡ä»¶éƒ½å¯ä»¥å½“ä½œä¸€ä¸ªæ¨¡å—</p>
</li>
<li><p>å¼•å…¥æ¨¡å—å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™?</p>
<ul>
<li>Node : è¿è¡Œæ—¶, åŠ¨æ€åŒæ­¥å¼•å…¥</li>
<li>Browserify : åœ¨è¿è¡Œå‰å¯¹æ¨¡å—è¿›è¡Œç¼–è¯‘/è½¬è¯‘/æ‰“åŒ…çš„å¤„ç†(å·²ç»å°†ä¾èµ–çš„æ¨¡å—åŒ…å«è¿›æ¥äº†), <pre><code>è¿è¡Œçš„æ˜¯æ‰“åŒ…ç”Ÿæˆçš„js, è¿è¡Œæ—¶ä¸å­˜åœ¨éœ€è¦å†ä»è¿œç¨‹å¼•å…¥ä¾èµ–æ¨¡å—</code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>*<em>AMD *</em>: æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ—¶å¼‚æ­¥çš„</p>
<ul>
<li><p>require.js</p>
</li>
<li><p>åŸºæœ¬è¯­æ³•</p>
<ul>
<li><p>å®šä¹‰æš´éœ²æ¨¡å—: define([ä¾èµ–æ¨¡å—å], function(){return æ¨¡å—å¯¹è±¡})</p>
</li>
<li><p>å¼•å…¥æ¨¡å—: require([â€˜æ¨¡å—1â€™, â€˜æ¨¡å—2â€™, â€˜æ¨¡å—3â€™], function(m1, m2){//ä½¿ç”¨æ¨¡å—å¯¹è±¡})</p>
</li>
<li><p>é…ç½®: </p>
<pre><code>require.config({
  //åŸºæœ¬è·¯å¾„
  baseUrl : &#39;js/&#39;,
  //æ ‡è¯†åç§°ä¸è·¯å¾„çš„æ˜ å°„
  paths : {
    &#39;æ¨¡å—1&#39; : &#39;modules/æ¨¡å—1&#39;,
    &#39;æ¨¡å—2&#39; : &#39;modules/æ¨¡å—2&#39;,
    &#39;angular&#39; : &#39;libs/angular&#39;,
    &#39;angular-messages&#39; : &#39;libs/angular-messages&#39;
  },
  //éAMDçš„æ¨¡å—
  shim : {
    &#39;angular&#39; : {
        exports : &#39;angular&#39;
    },
    &#39;angular-messages&#39; : {
        exports : &#39;angular-messages&#39;,
        deps : [&#39;angular&#39;]
    }
  }
})</code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>CMD(é€šç”¨æ¨¡å—å®šä¹‰) : æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼›æ¨¡å—ä½¿ç”¨æ—¶æ‰ä¼šåŠ è½½æ‰§è¡Œ</p>
<ul>
<li><p>sea.js</p>
</li>
<li><p>åŸºæœ¬è¯­æ³•</p>
<ul>
<li><p>å®šä¹‰æš´éœ²æ¨¡å—: </p>
<pre><code>define(function(require, module, exports){
  é€šè¿‡requireå¼•å…¥ä¾èµ–æ¨¡å—
  é€šè¿‡module/exportsæ¥æš´éœ²æ¨¡å—
  exports.xxx = value
})</code></pre></li>
<li><p>ä½¿ç”¨æ¨¡å—seajs.use([â€˜æ¨¡å—1â€™, â€˜æ¨¡å—2â€™])</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ES6</strong></p>
<ul>
<li><p>ES6å†…ç½®äº†æ¨¡å—åŒ–çš„å®ç°ï¼Œä¾èµ–æ¨¡å—éœ€è¦ç¼–è¯‘æ‰“åŒ…å¤„ç†</p>
</li>
<li><p>åŸºæœ¬è¯­æ³•</p>
<ul>
<li><p>å®šä¹‰æš´éœ²æ¨¡å— : export</p>
<ul>
<li><p>æš´éœ²ä¸€ä¸ªå¯¹è±¡: </p>
<pre><code>export default å¯¹è±¡</code></pre></li>
<li><p>æš´éœ²å¤šä¸ª: </p>
<pre><code>export var xxx = value1
export let yyy = value2

var xxx = value1
let yyy = value2
export {xxx, yyy}</code></pre></li>
</ul>
</li>
<li><p>å¼•å…¥ä½¿ç”¨æ¨¡å— : import</p>
<ul>
<li><p>defaultæ¨¡å—:</p>
<pre><code>import xxx  from &#39;æ¨¡å—è·¯å¾„/æ¨¡å—å&#39;</code></pre></li>
<li><p>å…¶å®ƒæ¨¡å—</p>
<pre><code>import {xxx, yyy} from &#39;æ¨¡å—è·¯å¾„/æ¨¡å—å&#39;
import * as module1 from &#39;æ¨¡å—è·¯å¾„/æ¨¡å—å&#39;</code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>é—®é¢˜: æ‰€æœ‰æµè§ˆå™¨è¿˜ä¸èƒ½ç›´æ¥è¯†åˆ«ES6æ¨¡å—åŒ–çš„è¯­æ³•  </p>
</li>
<li><p>è§£å†³:</p>
<ul>
<li>ä½¿ç”¨Babelå°†ES6â€”&gt;ES5(ä½¿ç”¨äº†CommonJS) â€”-æµè§ˆå™¨è¿˜ä¸èƒ½ç›´æ¥æ”¯è¡Œ</li>
<li>ä½¿ç”¨Browserifyâ€”&gt;æ‰“åŒ…å¤„ç†â€”-æµè§ˆå™¨å¯ä»¥è¿è¡Œ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2ã€CommonJSåŸºäºæœåŠ¡å™¨ç«¯ï¼ˆNode-jsï¼‰"><a href="#2ã€CommonJSåŸºäºæœåŠ¡å™¨ç«¯ï¼ˆNode-jsï¼‰" class="headerlink" title="2ã€CommonJSåŸºäºæœåŠ¡å™¨ç«¯ï¼ˆNode.jsï¼‰"></a>2ã€CommonJSåŸºäºæœåŠ¡å™¨ç«¯ï¼ˆNode.jsï¼‰</h3><ul>
<li><p>ä¸‹è½½å®‰è£…Node.js</p>
</li>
<li><p>åˆ›å»ºç›®å½•ç»“æ„</p>
<ul>
<li><p>Modules</p>
<ul>
<li>module1.js</li>
<li>module2.js</li>
<li>module3.js</li>
</ul>
</li>
<li><p>app.js</p>
</li>
<li><p>package.jsonï¼ˆå‘½ä»¤åˆ›å»º,<code>npm init</code>,å†è¾“å…¥åŒ…åï¼‰</p>
<pre><code class="json">{
    &quot;name&quot;: &quot;conmmonjs_node&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;
}</code></pre>
</li>
</ul>
</li>
<li><p>ä¸‹è½½ç¬¬ä¸‰æ–¹æ¨¡å—<code>npm install uniq --save</code></p>
<ul>
<li><p>package.json</p>
<pre><code class="json">{
    &quot;name&quot;: &quot;conmmonjs_node&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;dependencies&quot;:{
        &quot;uniq&quot;: &quot;^1.0.1&quot;
    }
}</code></pre>
</li>
</ul>
</li>
<li><p>æ¨¡å—åŒ–ç¼–ç </p>
<ul>
<li><p>module1.js</p>
<pre><code class="javascript">// module.exports = value æš´éœ²ä¸€ä¸ªå¯¹è±¡
module.exports = {
    msg: &#39;module1&#39;,
    foo(){
        console.log(this.msg)
    }
}</code></pre>
</li>
<li><p>module2.js</p>
<pre><code class="javascript">// æš´éœ²ä¸€ä¸ªå‡½æ•° module.exports = function(){}
module.exports = fuction(){
    console.log(&quot;module2&quot;)
}</code></pre>
</li>
<li><p>module3.js</p>
<pre><code class="javascript">// exports.xxx = value åˆ†åˆ«æš´éœ²
exports.foo = function(){
    console.log(&#39;foo() module3&#39;)
}
exports.bar = function(){
    console.log(&#39;bar() module3&#39;)
}

exports.arr = [2, 4, 5, 2, 3, 5, 1]</code></pre>
</li>
<li><p>app.js</p>
<pre><code class="javascript">// å°†å…¶ä»–çš„æ¨¡å—æ±‡é›†åˆ°ä¸»æ¨¡å—
let uniq = require(&#39;uniq&#39;)

let module1 = require(&#39;./modules/module1&#39;)
let module2 = require(&#39;./modules/module2&#39;)
let module3 = require(&#39;./modules/module3&#39;)

module1.foo()

module2()

module3.foo()
module3.bar()

let result = uniq(module3.arr)
console.log(result)</code></pre>
</li>
</ul>
</li>
<li><p>é€šè¿‡nodeè¿è¡Œapp.jsâ€”â€”<code>node app.js</code></p>
</li>
</ul>
<h3 id="3ã€CommonJSåŸºäºæµè§ˆå™¨ç«¯åº”ç”¨ï¼ˆBrowserifyï¼‰"><a href="#3ã€CommonJSåŸºäºæµè§ˆå™¨ç«¯åº”ç”¨ï¼ˆBrowserifyï¼‰" class="headerlink" title="3ã€CommonJSåŸºäºæµè§ˆå™¨ç«¯åº”ç”¨ï¼ˆBrowserifyï¼‰"></a>3ã€CommonJSåŸºäºæµè§ˆå™¨ç«¯åº”ç”¨ï¼ˆBrowserifyï¼‰</h3><ul>
<li><p>åˆ›å»ºé¡¹ç›®ç»“æ„</p>
<ul>
<li><p>js</p>
<ul>
<li>dist //æ‰“åŒ…ç”Ÿæˆæ–‡ä»¶çš„ç›®å½•</li>
<li>src //æºç æ‰€åœ¨çš„ç›®å½•<ul>
<li>module1.js</li>
<li>module2.js</li>
<li>module3.js</li>
<li>app.js //åº”ç”¨ä¸»æºæ–‡ä»¶</li>
</ul>
</li>
</ul>
</li>
<li><p>index.html</p>
</li>
<li><p>package.json</p>
<pre><code class="json">{
    &quot;name&quot;: &quot;browserify-test&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;
}</code></pre>
</li>
</ul>
</li>
<li><p>ä¸‹è½½browserify</p>
<ul>
<li><p>å…¨å±€ï¼š<code>npm install browserify -g</code></p>
</li>
<li><p>å±€éƒ¨ï¼š<code>npm install browserify --save-dev</code></p>
<pre><code class="json">{
    &quot;name&quot;: &quot;browserify-test&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;devDependencies&quot;:{
        &quot;browserify&quot;: &quot;^14.5.0&quot;
    }
}</code></pre>
</li>
</ul>
</li>
<li><p>ä¸‹è½½ç¬¬ä¸‰æ–¹æ¨¡å—<code>npm install uniq --save</code></p>
<ul>
<li><p>package.json</p>
<pre><code class="json">{
    &quot;name&quot;: &quot;browserify-test&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;devDependencies&quot;:{
        &quot;browserify&quot;: &quot;^14.5.0&quot;
    },
    &quot;dependencies&quot;:{
        &quot;uniq&quot;: &quot;^1.0.1&quot;
    }
}</code></pre>
</li>
</ul>
</li>
<li><p>å®šä¹‰æ¨¡å—ä»£ç </p>
<ul>
<li><p>module1.js</p>
<pre><code class="javascript">module.exports = {
  foo() {
    console.log(&#39;moudle1 foo()&#39;)
  }
}</code></pre>
</li>
<li><p>module2.js</p>
<pre><code class="javascript">module.exports = function () {
  console.log(&#39;module2()&#39;)
}</code></pre>
</li>
<li><p>module3.js</p>
<pre><code class="javascript">exports.foo = function () {
  console.log(&#39;module3 foo()&#39;)
}

exports.bar = function () {
  console.log(&#39;module3 bar()&#39;)
}</code></pre>
</li>
<li><p>app.js</p>
<pre><code class="javascript">//å¼•ç”¨æ¨¡å—
let module1 = require(&#39;./module1&#39;)
let module2 = require(&#39;./module2&#39;)
let module3 = require(&#39;./module3&#39;)

let uniq = require(&#39;uniq&#39;)

//ä½¿ç”¨æ¨¡å—
module1.foo()
module2()
module3.foo()
module3.bar()

console.log(uniq([1, 3, 1, 4, 3]))</code></pre>
</li>
</ul>
</li>
<li><p>æ‰“åŒ…å¤„ç†jsï¼š<code>browserify js/src/app.js -o js/dist/bundle.js</code></p>
</li>
<li><p>é¡µé¢ä½¿ç”¨å¼•å…¥</p>
<ul>
<li><p>index.html</p>
<pre><code class="html">&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;broserifyæµ‹è¯•&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src=&quot;js/dist/bundle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="4ã€AMDè§„èŒƒ"><a href="#4ã€AMDè§„èŒƒ" class="headerlink" title="4ã€AMDè§„èŒƒ"></a>4ã€AMDè§„èŒƒ</h3><h4 id="ï¼ˆ1ï¼‰NoAMD"><a href="#ï¼ˆ1ï¼‰NoAMD" class="headerlink" title="ï¼ˆ1ï¼‰NoAMD"></a>ï¼ˆ1ï¼‰NoAMD</h4><ul>
<li><p>é¡¹ç›®ç»“æ„</p>
<ul>
<li>js<ul>
<li>alerter.js</li>
<li>dataService.js</li>
</ul>
</li>
<li>app.js</li>
<li>test1.html</li>
</ul>
</li>
<li><p>æ–‡ä»¶å†…å®¹</p>
<ul>
<li><p>dataService.js</p>
<pre><code class="javascript">// å®šä¹‰ä¸€ä¸ªæ²¡æœ‰ä¾èµ–çš„æ¨¡å—
(function(win){ // å½¢å‚å¯ä»¥å’Œå®å‚çš„åå­—ç›¸åŒï¼Œè¿™é‡Œæ–¹ä¾¿åŒºåˆ†
    let name = &#39;dataservice.js&#39;
    function getName(){
        return name
    }
    win.dataService = {getName}
})(window) // å®å‚</code></pre>
</li>
<li><p>alerter.js</p>
<pre><code class="javascript">// å®šä¹‰ä¸€ä¸ªæœ‰ä¾èµ–çš„æ¨¡å—
(function(window, dataService){
    let msg = &#39;alerter.js&#39;
    function showMsg(){
        alert(msg + &#39;,&#39; + dataService.getName())
    }
    window.alerter = {showMsg}
})(window, dataService) // ä¾èµ–dataService</code></pre>
</li>
<li><p>app.js</p>
<pre><code class="javascript">(function (alerter){
    alerter.showMsg()
})(alerter)</code></pre>
</li>
<li><p>test1.html</p>
<pre><code class="html">&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Modular Demo: æœªä½¿ç”¨AMD(require.js)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src=&quot;./js/dataService.js&quot;&gt;&lt;/script&gt; 
&lt;script src=&quot;./js/alerter.js&quot;&gt;&lt;/script&gt; 
&lt;script src=&quot;./app.js&quot;&gt;&lt;/script&gt; // ä¸‹é¢çš„åˆ†åˆ«ä¾èµ–ä¸Šé¢çš„æ¨¡å—
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</li>
</ul>
</li>
</ul>
<h4 id="ï¼ˆ2ï¼‰AMDï¼ˆrequire-jsï¼‰"><a href="#ï¼ˆ2ï¼‰AMDï¼ˆrequire-jsï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰AMDï¼ˆrequire.jsï¼‰"></a>ï¼ˆ2ï¼‰AMDï¼ˆrequire.jsï¼‰</h4><ol>
<li><p>ä¸‹è½½require.js, å¹¶å¼•å…¥</p>
<ul>
<li>å®˜ç½‘: <a href="http://www.requirejs.cn/" target="_blank" rel="noopener">http://www.requirejs.cn/</a></li>
<li>github : <a href="https://github.com/requirejs/requirejs" target="_blank" rel="noopener">https://github.com/requirejs/requirejs</a></li>
<li>å°†require.jså¯¼å…¥é¡¹ç›®: js/libs/require.js </li>
</ul>
</li>
<li><p>åˆ›å»ºé¡¹ç›®ç»“æ„</p>
</li>
</ol>
<ul>
<li>js<ul>
<li>libs<ul>
<li>require.js</li>
</ul>
</li>
<li>modules<ul>
<li>alerter.js</li>
<li>dataService.js</li>
</ul>
</li>
<li>main.js</li>
</ul>
</li>
<li>index.html</li>
</ul>
<ol start="3">
<li><p>å®šä¹‰require.jsçš„æ¨¡å—ä»£ç </p>
<ul>
<li><p>dataService.js</p>
<pre><code class="javascript">// å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—
define(function () {
 let msg = &#39;dataService.js&#39;

 function getMsg() {
   return msg.toUpperCase()
 }
 // æš´éœ²æ¨¡å—
 return {getMsg}
})</code></pre>
</li>
<li><p>alerter.js</p>
<pre><code class="javascript">// å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—
define([&#39;dataService&#39;, &#39;jquery&#39;], function (dataService, $) {
 let msg = &#39;alerter.js&#39;

 function showMsg() {
   $(&#39;body&#39;).css(&#39;background&#39;, &#39;gray&#39;)
   alert(dataService.getMsg() + &#39;, &#39; + msg)
 }

 return {showMsg}
})</code></pre>
</li>
</ul>
</li>
<li><p>åº”ç”¨ä¸»(å…¥å£)jsï¼šmain.js</p>
<pre><code class="javascript">(function () {
    //é…ç½®
    require.config({
        //åŸºæœ¬è·¯å¾„ å‡ºå‘ç‚¹åœ¨æ ¹ç›®å½•ä¸‹
        baseUrl: &quot;js/&quot;,
        //æ¨¡å—æ ‡è¯†åä¸æ¨¡å—è·¯å¾„æ˜ å°„
        paths: {
            &quot;alerter&quot;: &quot;modules/alerter&quot;,
            &quot;dataService&quot;: &quot;modules/dataService&quot;,
        }
    })
    //å¼•å…¥ä½¿ç”¨æ¨¡å—
    require( [&#39;alerter&#39;], function(alerter) {
        alerter.showMsg()
    })
})()</code></pre>
</li>
<li><p>é¡µé¢ä½¿ç”¨æ¨¡å—ï¼šindex.html</p>
</li>
</ol>
<pre><code class="html">&lt;script data-main=&quot;js/main&quot; src=&quot;js/libs/require.js&quot;&gt;&lt;/script&gt;</code></pre>
<hr>
<ol start="6">
<li><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹åŸºäºrequire.jsçš„æ¡†æ¶(jquery)</p>
<ul>
<li><p>å°†jqueryçš„åº“æ–‡ä»¶å¯¼å…¥åˆ°é¡¹ç›®: </p>
<ul>
<li>js/libs/jquery-1.10.1.js</li>
</ul>
</li>
<li><p>åœ¨main.jsä¸­é…ç½®jqueryè·¯å¾„</p>
<pre><code class="javascript">paths: {
   &#39;jquery&#39;: &#39;libs/jquery-1.10.1&#39;  // jQueryå®šä¹‰çš„è¿”å›AMDæ¨¡å—åä¸ºå°å†™
}</code></pre>
</li>
<li><p>åœ¨alerter.jsä¸­ä½¿ç”¨jquery</p>
<pre><code class="javascript">define([&#39;dataService&#39;, &#39;jquery&#39;], function (dataService, $) {
   var name = &#39;xfzhang&#39;
   function showMsg() {
       $(&#39;body&#39;).css({background : &#39;red&#39;})
       alert(name + &#39; &#39;+dataService.getMsg())
   }
   return {showMsg}
})</code></pre>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="7">
<li><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸åŸºäºrequire.jsçš„æ¡†æ¶(angular/angular-messages)</p>
<ul>
<li><p>å°†angular.jså’Œangular-messages.jså¯¼å…¥é¡¹ç›®</p>
<ul>
<li>js/libs/angular.js</li>
<li>js/libs/angular-messages.js</li>
</ul>
</li>
<li><p>åœ¨main.jsä¸­é…ç½®</p>
<pre><code class="javascript">(function () {
 require.config({
   //åŸºæœ¬è·¯å¾„
   baseUrl: &quot;js/&quot;,
   //æ¨¡å—æ ‡è¯†åä¸æ¨¡å—è·¯å¾„æ˜ å°„
   paths: {
     //ç¬¬ä¸‰æ–¹åº“
     &#39;jquery&#39; : &#39;libs/jquery-1.10.1&#39;,
     &#39;angular&#39; : &#39;libs/angular&#39;,
     &#39;angular-messages&#39; : &#39;libs/angular-messages&#39;,
     //è‡ªå®šä¹‰æ¨¡å—
     &quot;alerter&quot;: &quot;modules/alerter&quot;,
     &quot;dataService&quot;: &quot;modules/dataService&quot;
   },
   /*
    é…ç½®ä¸å…¼å®¹AMDçš„æ¨¡å—
    exports : æŒ‡å®šå¯¼å‡ºçš„æ¨¡å—å
    deps  : æŒ‡å®šæ‰€æœ‰ä¾èµ–çš„æ¨¡å—çš„æ•°ç»„
    */
   shim: {
     &#39;angular&#39; : {
       exports : &#39;angular&#39;
     },
     &#39;angular-messages&#39; : {
       exports : &#39;angular-messages&#39;,
       deps : [&#39;angular&#39;]
     }
   }
 })
 //å¼•å…¥ä½¿ç”¨æ¨¡å—
 require( [&#39;alerter&#39;, &#39;angular&#39;, &#39;angular-messages&#39;], function(alerter, angular) {
   alerter.showMsg()
   angular.module(&#39;myApp&#39;, [&#39;ngMessages&#39;])
   angular.bootstrap(document,[&quot;myApp&quot;])
 })
})()</code></pre>
</li>
<li><p>é¡µé¢:</p>
<pre><code class="html">&lt;form name=&quot;myForm&quot;&gt;
 ç”¨æˆ·å: &lt;input type=&quot;text&quot; name=&quot;username&quot; ng-model=&quot;username&quot; ng-required=&quot;true&quot;&gt;
 &lt;div style=&quot;color: red;&quot; ng-show=&quot;myForm.username.$dirty&amp;&amp;myForm.username.$invalid&quot;&gt;ç”¨æˆ·åæ˜¯å¿…é¡»çš„&lt;/div&gt;
&lt;/form&gt;</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="5ã€CMDè§„èŒƒ"><a href="#5ã€CMDè§„èŒƒ" class="headerlink" title="5ã€CMDè§„èŒƒ"></a><font color=lightgray>5ã€CMDè§„èŒƒ</font></h3><ol>
<li><p>ä¸‹è½½sea.js, å¹¶å¼•å…¥</p>
<ul>
<li>å®˜ç½‘: <a href="http://seajs.org/" target="_blank" rel="noopener">http://seajs.org/</a></li>
<li>github : <a href="https://github.com/seajs/seajs" target="_blank" rel="noopener">https://github.com/seajs/seajs</a></li>
<li>å°†sea.jså¯¼å…¥é¡¹ç›®: js/libs/sea.js </li>
</ul>
</li>
<li><p>åˆ›å»ºé¡¹ç›®ç»“æ„</p>
<pre><code>|-js
 |-libs
   |-sea.js
 |-modules
   |-module1.js
   |-module2.js
   |-module3.js
   |-module4.js
   |-main.js
|-index.html</code></pre></li>
<li><p>å®šä¹‰sea.jsçš„æ¨¡å—ä»£ç </p>
<ul>
<li><p>module1.js</p>
<pre><code class="javascript">// æ²¡æœ‰ä¾èµ–çš„æ¨¡å—
define(function (require, exports, module) {
 //å†…éƒ¨å˜é‡æ•°æ®
 var data = &#39;atguigu.com&#39;
 //å†…éƒ¨å‡½æ•°
 function show() {
   console.log(&#39;module1 show() &#39; + data)
 }

 //å‘å¤–æš´éœ²
 exports.show = show
})</code></pre>
</li>
<li><p>module2.js</p>
<pre><code class="javascript">define(function (require, exports, module) {
 let msg = &#39;module2&#39;
 function bar(){
     console.log(msg)
 }
   module.exports = bar
 /* module.exports = {
   msg: &#39;I Will Back&#39;
 } */
})</code></pre>
</li>
<li><p>module3.js</p>
<pre><code class="javascript">define(function(require, exports, module){
   let data = &#39;module3&#39;
   function fun(){
       console.log(data)
   }
   exports.module3 = {fun}
})
/* define(function (require, exports, module) {
 const API_KEY = &#39;abc123&#39;
 exports.API_KEY = API_KEY
}) */</code></pre>
</li>
<li><p>module4.js</p>
<pre><code class="javascript">define(function(require, exports, module){
   let msg = &#39;module4&#39;
   // åŒæ­¥å¼•å…¥
   let module2 = require(&#39;./module2&#39;)
   module2()
   // å¼‚æ­¥å¼•å…¥
   require.async(&#39;./module3&#39;, function(module3){
       module3.module3.fun()
   })
   function fun2(){
       console.log(msg)
   }
   exports.fun2 = fun2
})
/*define(function (require, exports, module) {
 //å¼•å…¥ä¾èµ–æ¨¡å—(åŒæ­¥)
 var module2 = require(&#39;./module2&#39;)

 function show() {
   console.log(&#39;module4 show() &#39; + module2.msg)
 }

 exports.show = show
 //å¼•å…¥ä¾èµ–æ¨¡å—(å¼‚æ­¥)
 require.async(&#39;./module3&#39;, function (m3) {
   console.log(&#39;å¼‚æ­¥å¼•å…¥ä¾èµ–æ¨¡å—3  &#39; + m3.API_KEY)
 })
})*/</code></pre>
</li>
<li><p>main.js : ä¸»(å…¥å£)æ¨¡å—</p>
<pre><code class="javascript">define(function (require) {
 let module1 = require(&#39;./module1&#39;)
 console.log(module1.foo())
 let module4 = require(&#39;./module4&#39;)
 module4.fun2()
})
/*define(function (require) {
 var m1 = require(&#39;./module1&#39;)
 var m4 = require(&#39;./module4&#39;)
 m1.show()
 m4.show()
})*/</code></pre>
</li>
</ul>
</li>
<li><p>index.html:</p>
<pre><code>&lt;!--
ä½¿ç”¨seajs:
 1. å¼•å…¥sea.jsåº“
 2. å¦‚ä½•å®šä¹‰å¯¼å‡ºæ¨¡å— :
   define()
   exports
   module.exports
 3. å¦‚ä½•ä¾èµ–æ¨¡å—:
   require()
 4. å¦‚ä½•ä½¿ç”¨æ¨¡å—:
   seajs.use()
--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/libs/sea.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
 seajs.use(&#39;./js/modules/main&#39;)
&lt;/script&gt;</code></pre></li>
</ol>
<p>â€‹       </p>
<h3 id="6ã€ES6-Babel-Browserifyä½¿ç”¨æ•™ç¨‹"><a href="#6ã€ES6-Babel-Browserifyä½¿ç”¨æ•™ç¨‹" class="headerlink" title="6ã€ES6-Babel-Browserifyä½¿ç”¨æ•™ç¨‹"></a><font color=red>6ã€ES6-Babel-Browserifyä½¿ç”¨æ•™ç¨‹</font></h3><ol>
<li><p>å®šä¹‰package.jsonæ–‡ä»¶</p>
<pre><code class="json">{
 &quot;name&quot; : &quot;es6-babel-browserify&quot;,
 &quot;version&quot; : &quot;1.0.0&quot;
}</code></pre>
</li>
<li><p>å®‰è£…babel-cli, babel-preset-es2015å’Œbrowserify // cliâ€”â€”command line interface</p>
<ul>
<li><code>npm install babel-cli browserify -g</code></li>
</ul>
</li>
</ol>
<ul>
<li><code>npm install babel-preset-es2015 --save-dev</code></li>
<li>preset é¢„è®¾ï¼ˆå°†es6è½¬æ¢æˆes5çš„æ‰€æœ‰æ’ä»¶æ‰“åŒ…ï¼‰</li>
</ul>
<ol start="3">
<li><p>å®šä¹‰.babelrcæ–‡ä»¶ï¼ˆbabel run controlï¼‰</p>
<pre><code class="bash">{
 &quot;presets&quot;: [&quot;es2015&quot;]
}</code></pre>
</li>
<li><p>ç¼–ç </p>
<ul>
<li><p>js/src/module1.js</p>
<pre><code class="JavaScript">// æš´éœ²æ¨¡å— åˆ†åˆ«æš´éœ²
export function foo() {
 console.log(&#39;module1 foo()&#39;);
}
export let bar = function () {
 console.log(&#39;module1 bar()&#39;);
}
export const DATA_ARR = [1, 3, 5, 1]</code></pre>
</li>
<li><p>js/src/module2.js</p>
<pre><code class="JavaScript">// ç»Ÿä¸€æš´éœ²â€”â€”å¸¸è§„æš´éœ²
let data = &#39;module2 data&#39;

function fun1() {
 console.log(&#39;module2 fun1() &#39; + data);
}

function fun2() {
 console.log(&#39;module2 fun2() &#39; + data);
}

export {fun1, fun2}</code></pre>
</li>
<li><p>js/src/module3.js</p>
<pre><code class="JavaScript">// é»˜è®¤æš´éœ²ï¼šå¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»å‹ï¼Œæš´éœ²ä»€ä¹ˆæ•°æ®ç±»å‹æ¥æ”¶åˆ°çš„å°±æ˜¯ä»€ä¹ˆæ•°æ®
// export default value
export default() =&gt;{
   console.log(&#39;æˆ‘æ˜¯é»˜è®¤æš´éœ²çš„ç®­å¤´å‡½æ•°&#39;)
} // åªèƒ½æš´éœ²ä¸€ä¸ªdefaultï¼Œå› æ­¤æš´éœ²å¯¹è±¡
/* export default {
 name: &#39;Tom&#39;,
 setName: function (name) {
   this.name = name
 }
} */</code></pre>
</li>
<li><p>js/src/app.js</p>
<pre><code class="JavaScript">// å¼•å…¥å…¶ä»–çš„æ¨¡å—
// è¯­æ³•ï¼š import xxx from &#39;è·¯å¾„&#39;
import {foo, bar} from &#39;./module1&#39;
import {DATA_ARR} from &#39;./module1&#39;
import {fun1, fun2} from &#39;./module2&#39;

import module3 from &#39;./module3&#39;
/* import person from &#39;./module3&#39; */

// å®‰è£… npm install jquery@1
import $ from &#39;jquery&#39;

$(&#39;body&#39;).css(&#39;background&#39;, &#39;red&#39;)

foo()
bar()
console.log(DATA_ARR);
fun1()
fun2()

module3()
/* person.setName(&#39;JACK&#39;)
console.log(person.name); */</code></pre>
</li>
</ul>
</li>
<li><p>ç¼–è¯‘</p>
<ul>
<li>ä½¿ç”¨Babelå°†ES6ç¼–è¯‘ä¸ºES5ä»£ç (ä½†åŒ…å«CommonJSè¯­æ³•) : <code>babel js/src -d js/lib</code></li>
<li>ä½¿ç”¨Browserifyç¼–è¯‘js : <code>browserify js/lib/app.js -o js/lib/bundle.js</code></li>
</ul>
</li>
<li><p>é¡µé¢ä¸­å¼•å…¥æµ‹è¯•</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;js/lib/bundle.js&quot;&gt;&lt;/script&gt;</code></pre>
</li>
<li><p>å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—(jQuery)<br>1). ä¸‹è½½jQueryæ¨¡å—: </p>
<ul>
<li><code>npm install jquery@1 --save</code> // @åçš„æ˜¯ç‰ˆæœ¬ï¼Œ1ä»£è¡¨<code>1.x.x</code>ä¸­çš„æœ€æ–°ç‰ˆæœ¬</li>
</ul>
<p>2). åœ¨app.jsä¸­å¼•å…¥å¹¶ä½¿ç”¨</p>
<pre><code>import $ from &#39;jquery&#39;
$(&#39;body&#39;).css(&#39;background&#39;, &#39;red&#39;)</code></pre></li>
</ol>
<h2 id="äº”ã€ES7"><a href="#äº”ã€ES7" class="headerlink" title="äº”ã€ES7"></a>äº”ã€ES7</h2><h3 id="1ã€asyncå‡½æ•°-æºè‡ªES2017"><a href="#1ã€asyncå‡½æ•°-æºè‡ªES2017" class="headerlink" title="1ã€asyncå‡½æ•°(æºè‡ªES2017)"></a>1ã€asyncå‡½æ•°(æºè‡ªES2017)</h3><ul>
<li><p>æ¦‚å¿µï¼šçœŸæ­£æ„ä¹‰ä¸Šå»è§£å†³å¼‚æ­¥å›è°ƒçš„é—®é¢˜ï¼ŒåŒæ­¥æµç¨‹è¡¨è¾¾å¼‚æ­¥æ“ä½œ</p>
</li>
<li><p>æœ¬è´¨ï¼šGeneratorçš„è¯­æ³•</p>
</li>
<li><p>è¯­æ³•ï¼š</p>
<pre><code class="javascript">async function foo(){
    await å¼‚æ­¥æ“ä½œ;
    await å¼‚æ­¥æ“ä½œ;
}</code></pre>
</li>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸éœ€è¦åƒGeneratorå»è°ƒç”¨nextæ–¹æ³•ï¼Œé‡åˆ°awaitç­‰å¾…ï¼Œå½“å‰çš„å¼‚æ­¥æ“ä½œå®Œæˆå°±å¾€ä¸‹æ‰§è¡Œ</li>
<li>è¿”å›çš„æ€»æ˜¯Promiseå¯¹è±¡ï¼Œå¯ä»¥ç”¨thenæ–¹æ³•è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</li>
<li>asyncå–ä»£Generatorå‡½æ•°çš„<code>*</code>ï¼Œawaitå–ä»£Generatorçš„yield</li>
<li>è¯­ä¹‰ä¸Šæ›´ä¸ºæ˜ç¡®ï¼Œä½¿ç”¨ç®€å•ï¼Œæš‚æ—¶æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨</li>
</ul>
<pre><code class="javascript">// asyncåŸºæœ¬ä½¿ç”¨
async function foo(){
  return new Promise(resolve =&gt; {
    // setTimeout(function(){
    //   resolve()
    // }, 2000)
    // å¯ä»¥å†™æˆä¸‹æ–¹è¿™ç§
    setTimeout(resolve, 2000)
  })
}
async function test(){
  console.log(&#39;å¼€å§‹æ‰§è¡Œ&#39;, new Date().toTimeString())
  await foo()
  console.log(&#39;æ‰§è¡Œå®Œæ¯•&#39;, new Date().toTimeString())
}
test()

</code></pre>
</li>
</ul>
<p>  // asyncé‡Œawaitè¿”å›å€¼<br>  function test2(){<br>    return â€˜xxxâ€™<br>  }<br>  async function asyncPrint(){<br>    /* let result = await test2()<br>    console.log(result) // æ™®é€šå‡½æ•°æ²¡æœ‰è¿”å›å€¼<br>    <em>/<br>    /</em><br>    let result = await Promise.resolve()<br>    console.log(result) // Promiseå¯¹è±¡æˆåŠŸçŠ¶æ€è¿”å›undefined<br>    */<br>    let result = await Promise.resolve(â€˜promiseâ€™)<br>    console.log(result) // Promiseå¯¹è±¡æˆåŠŸçŠ¶æ€ä¼ å‚è¿”å›å‚æ•° promise<br>    result = await Promise.reject(â€˜å¤±è´¥äº†â€¦â€¦â€™)<br>    console.log(result) // å¤±è´¥çŠ¶æ€ï¼Œè¿”å›å‡ºé”™ï¼Œä¸”èƒ½å°†å‚æ•°è¿”å› Uncaught (in promise) å¤±è´¥äº†â€¦â€¦</p>
<p>  }<br>  asyncPrint()</p>
<pre><code>
  ä»æ˜¯è·å–æ–°é—»å†…å®¹æ¡ˆä¾‹

  ```javascript
  // asyncæ¯”generatoråˆæ›´ç®€å•
  async function getNews(url){
    return new Promise((resolve, reject) =&gt; {
      $.ajax({ // å‰é¢å·²ç»å¼•å…¥jQuery
        method: &#39;GET&#39;,
        url,  // è¿™æ˜¯ES6ä¸­ç®€å†™
        /* success: function(data){
          resolve()
        },
        error: function(error){
          reject() 
        }*/
        // ç®€å†™
        success: data =&gt; resolve(data),
        error: error =&gt; reject(error)

      })
    })
  }
  async function sendXml(){
    let result = await getNews(&#39;http://localhost:3000/news?id=7&#39;)
    console.log(result) // {id: &quot;7&quot;, title: &quot;news title1...&quot;, content: &quot;news content1...&quot;, commentsUrl: &quot;/comments?newsId=7&quot;}
    result = await getNews(&#39;http://localhost:3000&#39; + result.commentsUrl)
    console.log(result)
  }
  sendXml()</code></pre><p>  æ”¹è¿›ä¸€ä¸‹ï¼Œç”±äºè¿™ç§å†™æ³•errorå¹¶ä¸ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</p>
<pre><code class="html">  &lt;script src=&quot;./jquery-3.1.0.min.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    // asyncæ¯”generatoråˆæ›´ç®€å•
    async function getNews(url){
      return new Promise((resolve, reject) =&gt; {
        $.ajax({
          method: &#39;GET&#39;,
          url,  // è¿™æ˜¯ES6ä¸­ç®€å†™
          /* success: function(data){
            resolve()
          },
          error: function(error){
            reject() 
          }*/
          // ç®€å†™
          success: data =&gt; resolve(data),
          // error: error =&gt; reject(error)
          error: error =&gt; resolve(false) // ä¸ç”¨rejectï¼Œè€Œæ˜¯è¿”å›false
        })
      })
    }
    async function sendXml(){
      let result = await getNews(&#39;http://localhost:30010/news?id=7&#39;)
      console.log(result) // {id: &quot;7&quot;, title: &quot;news title1...&quot;, content: &quot;news content1...&quot;, commentsUrl: &quot;/comments?newsId=7&quot;}
      if(!result){ // å‡ºé”™å°±å¼¹çª—
        alert(&#39;æš‚æ—¶æ²¡æœ‰æ–°é—»â€¦â€¦&#39;)
      }
      result = await getNews(&#39;http://localhost:3000&#39; + result.commentsUrl)
      console.log(result)
    }
    sendXml()
  &lt;/script&gt;</code></pre>
<h3 id="2ã€æŒ‡æ•°è¿ç®—ç¬¦-å¹‚"><a href="#2ã€æŒ‡æ•°è¿ç®—ç¬¦-å¹‚" class="headerlink" title="2ã€æŒ‡æ•°è¿ç®—ç¬¦(å¹‚): **"></a>2ã€æŒ‡æ•°è¿ç®—ç¬¦(å¹‚): <code>**</code></h3><p><code>console.log(3 ** 3)</code></p>
<h3 id="3ã€Array-prototype-includes-value-åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue"><a href="#3ã€Array-prototype-includes-value-åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue" class="headerlink" title="3ã€Array.prototype.includes(value): åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue"></a>3ã€<code>Array.prototype.includes(value)</code>: åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue</h3><pre><code class="javascript">let arr = [1,2,3,&#39;abc&#39;]
console.log(arr.includes(&#39;a&#39;))</code></pre>
<ul>
<li><strong>åŒºåˆ«æ–¹æ³•çš„2ç§ç§°è°“</strong><ul>
<li>é™æ€(å·¥å…·)æ–¹æ³•<ul>
<li>Fun.xxx = function(){}</li>
</ul>
</li>
<li>å®ä¾‹æ–¹æ³•<ul>
<li>æ‰€æœ‰å®ä¾‹å¯¹è±¡ : Fun.prototype.xxx = function(){} //xxxé’ˆå¯¹Funçš„æ‰€æœ‰å®ä¾‹å¯¹è±¡</li>
<li>æŸä¸ªå®ä¾‹å¯¹è±¡ : fun.xxx = function(){} //xxxåªæ˜¯é’ˆå¯¹funå¯¹è±¡ </li>
</ul>
</li>
</ul>
</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/04/26/jQuery/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="jQueryå­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>jQueryå­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´04æœˆ26æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>15.2k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 81 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <ul>
<li>åˆè¯†jQuery</li>
<li>jQueryçš„ä¸¤æŠŠåˆ©å™¨</li>
<li>ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°</li>
<li>ä½¿ç”¨jQueryå¯¹è±¡</li>
<li>jQueryå¯¹è±¡</li>
<li>ç»ƒä¹ </li>
</ul>
<h2 id="ä¸€ã€åˆè¯†jQuery"><a href="#ä¸€ã€åˆè¯†jQuery" class="headerlink" title="ä¸€ã€åˆè¯†jQuery"></a>ä¸€ã€åˆè¯†jQuery</h2><h3 id="1ã€what"><a href="#1ã€what" class="headerlink" title="1ã€what"></a>1ã€what</h3><ul>
<li><a href="http://jquery.com/" target="_blank" rel="noopener">http://jquery.com/</a></li>
<li>ä¸€ä¸ªä¼˜ç§€çš„JSå‡½æ•°åº“</li>
<li>ä½¿ç”¨äº†jQueryçš„ç½‘ç«™è¶…è¿‡90%ä¸­å¤§å‹WEBé¡¹ç›®å¼€å‘é¦–é€‰</li>
<li>Write Less, Do More!!!</li>
</ul>
<h3 id="2ã€why"><a href="#2ã€why" class="headerlink" title="2ã€why"></a>2ã€why</h3><ul>
<li>HTMLå…ƒç´ é€‰å–(é€‰æ‹©å™¨)</li>
<li>HTMLå…ƒç´ æ“ä½œ</li>
<li>CSSæ“ä½œ</li>
<li>HTMLäº‹ä»¶å¤„ç†</li>
<li>JSåŠ¨ç”»æ•ˆæœ</li>
<li>é“¾å¼è°ƒç”¨</li>
<li>è¯»å†™åˆä¸€</li>
<li>æµè§ˆå™¨å…¼å®¹</li>
<li>æ˜“æ‰©å±•æ’ä»¶</li>
<li>ajaxå°è£…<br>â€¦â€¦</li>
</ul>
<blockquote>
<p>å°è£…ç®€åŒ–DOMæ“ä½œ(CRUD) / Ajax</p>
<p>å¼ºå¤§é€‰æ‹©å™¨ï¼šæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾DOMå…ƒç´ </p>
<p>éšå¼éå†(è¿­ä»£)ï¼šä¸€æ¬¡æ“ä½œå¤šä¸ªå…ƒç´ </p>
<p>è¯»å†™åˆä¸€ï¼šè¯»æ•°æ®/å†™æ•°æ®ç”¨çš„æ˜¯ä¸€ä¸ªå‡½æ•°</p>
<p>äº‹ä»¶å¤„ç†ã€é“¾å¼è°ƒç”¨ã€DOMæ“ä½œ(CUD)ã€æ ·å¼æ“ä½œâ€¦â€¦</p>
</blockquote>
<h3 id="3ã€how"><a href="#3ã€how" class="headerlink" title="3ã€how"></a>3ã€how</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815145128.png" alt="image-20200815145126124" class="lazyload"></p>
<p>(1) å¼•å…¥åº“ï¼šæœ¬åœ°å¼•å…¥ã€CDNè¿œç¨‹å¼•å…¥ï¼Œæµ‹è¯•ç‰ˆã€ç”Ÿäº§ç‰ˆ(å‹ç¼©ç‰ˆ)</p>
<p>(2) ä½¿ç”¨åº“ï¼šå‡½æ•°(<code>$</code>/<code>jQuery</code>)ã€å¯¹è±¡(<code>$xxx</code>)</p>
<pre><code class="html">&lt;!--
éœ€æ±‚: ç‚¹å‡»&quot;ç¡®å®š&quot;æŒ‰é’®, æç¤ºè¾“å…¥çš„å€¼
--&gt;
ç”¨æˆ·å: &lt;input type=&quot;text&quot; id=&quot;username&quot;&gt;
&lt;button id=&quot;btn1&quot;&gt;ç¡®å®š(åŸç”Ÿç‰ˆ)&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;ç¡®å®š(jQueryç‰ˆ)&lt;/button&gt;
&lt;!--ä½¿ç”¨åŸç”ŸDOM--&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  window.onload = function () {
    var btn1 = document.getElementById(&#39;btn1&#39;)
    btn1.onclick = function () {
      var username = document.getElementById(&#39;username&#39;).value
      alert(username)
    }
  }
&lt;/script&gt;
&lt;!--ä½¿ç”¨jQueryå®ç°--&gt;
  &lt;!--æœ¬åœ°å¼•å…¥--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.12.3.js&quot;&gt;&lt;/script&gt;
  &lt;!--è¿œç¨‹å¼•å…¥--&gt;
&lt;!--&lt;script src=&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.js&quot;&gt;&lt;/script&gt;--&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //ç»‘å®šæ–‡æ¡£åŠ è½½å®Œæˆçš„ç›‘å¬
  jQuery(function () {
    var $btn2 = $(&#39;#btn2&#39;)
    $btn2.click(function () { // ç»™btn2ç»‘å®šç‚¹å‡»ç›‘å¬
      var username = $(&#39;#username&#39;).val()
      alert(username)
    })
  })
  /*
  1. ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°: $/jQuery
  2. ä½¿ç”¨jQueryæ ¸å¿ƒå¯¹è±¡: æ‰§è¡Œ$()è¿”å›çš„å¯¹è±¡
    */
  //æ–°çš„æ³¨é‡Š
&lt;/script&gt;</code></pre>
<h2 id="äºŒã€jQueryçš„2æŠŠåˆ©å™¨"><a href="#äºŒã€jQueryçš„2æŠŠåˆ©å™¨" class="headerlink" title="äºŒã€jQueryçš„2æŠŠåˆ©å™¨"></a>äºŒã€jQueryçš„2æŠŠåˆ©å™¨</h2><ul>
<li>jQueryå‡½æ•°: <code>$</code>/<code>jQuery</code><ul>
<li>jQueryå‘å¤–æš´éœ²çš„å°±æ˜¯jQueryå‡½æ•°, å¯ä»¥ç›´æ¥ä½¿ç”¨</li>
<li>å½“æˆä¸€èˆ¬å‡½æ•°ä½¿ç”¨: <code>$(param)</code><ul>
<li>paramæ˜¯function: ç›¸å½“äº<code>window.onload = function</code>(æ–‡æ¡£åŠ è½½å®Œæˆçš„ç›‘å¬)</li>
<li>paramæ˜¯é€‰æ‹©å™¨å­—ç¬¦ä¸²: æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„DOMå…ƒç´ , è¿”å›åŒ…å«æ‰€æœ‰DOMå…ƒç´ çš„jQueryå¯¹è±¡</li>
<li>paramæ˜¯DOMå…ƒç´ : å°†DOMå…ƒç´ å¯¹è±¡åŒ…è£…ä¸ºjQueryå¯¹è±¡è¿”å›  <code>$(this)</code></li>
<li>paramæ˜¯æ ‡ç­¾å­—ç¬¦ä¸²: åˆ›å»ºæ ‡ç­¾DOMå…ƒç´ å¯¹è±¡å¹¶åŒ…è£…ä¸ºjQueryå¯¹è±¡è¿”å›</li>
</ul>
</li>
<li>å½“æˆå¯¹è±¡ä½¿ç”¨: <code>$.xxx</code><ul>
<li><code>each(obj/arr, function(key, value){})</code></li>
<li><code>trim(str)</code></li>
</ul>
</li>
</ul>
</li>
<li>jQueryå¯¹è±¡<ul>
<li>åŒ…å«æ‰€æœ‰åŒ¹é…çš„nä¸ªDOMå…ƒç´ çš„ä¼ªæ•°ç»„å¯¹è±¡</li>
<li>æ‰§è¡Œ<code>$()</code>è¿”å›çš„å°±æ˜¯jQueryå¯¹è±¡</li>
<li>åŸºæœ¬è¡Œä¸º:<ul>
<li><code>length</code>/<code>size()</code>: å¾—åˆ°domå…ƒç´ çš„ä¸ªæ•°</li>
<li><code>[index]</code>: å¾—åˆ°æŒ‡å®šä¸‹æ ‡å¯¹åº”çš„domå…ƒç´ </li>
<li><code>each(function(index, domEle){})</code>: éå†æ‰€æœ‰domå…ƒç´ </li>
<li><code>index()</code>: å¾—åˆ°å½“å‰domå…ƒç´ åœ¨æ‰€æœ‰å…„å¼Ÿä¸­çš„ä¸‹æ ‡</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1ã€jQueryæ ¸å¿ƒå‡½æ•°"><a href="#1ã€jQueryæ ¸å¿ƒå‡½æ•°" class="headerlink" title="1ã€jQueryæ ¸å¿ƒå‡½æ•°"></a>1ã€jQueryæ ¸å¿ƒå‡½æ•°</h3><ul>
<li><p>ç®€ç§°: jQueryå‡½æ•°(<code>$</code>/<code>jQuery</code>)</p>
</li>
<li><p>jQueryåº“å‘å¤–ç›´æ¥æš´éœ²çš„å°±æ˜¯<code>$</code>/<code>jQuery</code></p>
</li>
<li><p>å¼•å…¥jQueryåº“å, ç›´æ¥ä½¿ç”¨<code>$</code>å³å¯</p>
<ul>
<li>å½“å‡½æ•°ç”¨: <code>$(xxx)</code></li>
<li>å½“å¯¹è±¡ç”¨: <code>$.xxx()</code></li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.12.3.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1.  jQueryå‡½æ•°: ç›´æ¥å¯ç”¨
  console.log($, typeof $) // f(){}
  console.log(jQuery===$) // true
  /*
  (function (window) {
    var jQuery = function () {
      return new xxx()
    }
    window.$ = window.jQuery = jQuery
  })(window)
  */
&lt;/script&gt;</code></pre>
<p>ç†è§£</p>
<ul>
<li>å³<code>$</code> æˆ–<code>jQuery</code></li>
<li>jQueryå®šä¹‰äº†è¿™ä¸ªå…¨å±€çš„å‡½æ•°ä¾›æˆ‘ä»¬è°ƒç”¨</li>
<li>å®ƒæ—¢å¯ä½œä¸ºä¸€èˆ¬å‡½æ•°è°ƒç”¨, ä¸”ä¼ é€’çš„å‚æ•°ç±»å‹ä¸åŒ/æ ¼å¼ä¸åŒåŠŸèƒ½å°±å®Œå…¨ä¸åŒ</li>
<li>ä¹Ÿå¯ä½œä¸ºå¯¹è±¡è°ƒç”¨å…¶å®šä¹‰å¥½çš„æ–¹æ³•, æ­¤æ—¶<code>$</code>å°±æ˜¯ä¸€ä¸ªå·¥å…·å¯¹è±¡</li>
</ul>
<p>ä½œä¸ºå‡½æ•°è°ƒç”¨</p>
<ul>
<li>å‚æ•°ä¸ºå‡½æ•° <code>$(fun)</code></li>
<li>å‚æ•°ä¸ºé€‰æ‹©å™¨(selector)å­—ç¬¦ä¸² <code>$(&quot;#div1&quot;)</code></li>
<li>å‚æ•°ä¸ºDOMå¯¹è±¡ <code>$(div1Ele)</code></li>
<li>å‚æ•°ä¸ºhtmlæ ‡ç­¾å­—ç¬¦ä¸²<code>$(&quot;&lt;div&gt;&quot;)</code></li>
</ul>
<p>ä½œä¸ºå¯¹è±¡ä½¿ç”¨</p>
<ul>
<li>å‘é€ajaxè¯·æ±‚çš„æ–¹æ³•<br><code>$.ajax()</code><br><code>$.get()</code><br><code>$.post()</code><br>â€¦â€¦</li>
<li>å…¶å®ƒå·¥å…·æ–¹æ³•<br><code>$.each()</code><br><code>$.trim()</code><br><code>$.parseJSON()</code><br>â€¦â€¦</li>
</ul>
<pre><code class="html">&lt;div&gt;
  &lt;button id=&quot;btn&quot;&gt;æµ‹è¯•&lt;/button&gt;
  &lt;br/&gt;
  &lt;input type=&quot;text&quot; name=&quot;msg1&quot;/&gt;&lt;br/&gt;
  &lt;input type=&quot;text&quot; name=&quot;msg2&quot;/&gt;&lt;br/&gt;
&lt;/div&gt;
&lt;!--
1. ä½œä¸ºä¸€èˆ¬å‡½æ•°è°ƒç”¨: $(param)
    1). å‚æ•°ä¸ºå‡½æ•° : å½“DOMåŠ è½½å®Œæˆåï¼Œæ‰§è¡Œæ­¤å›è°ƒå‡½æ•°
    2). å‚æ•°ä¸ºé€‰æ‹©å™¨å­—ç¬¦ä¸²: æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„æ ‡ç­¾, å¹¶å°†å®ƒä»¬å°è£…æˆjQueryå¯¹è±¡
    3). å‚æ•°ä¸ºDOMå¯¹è±¡: å°†domå¯¹è±¡å°è£…æˆjQueryå¯¹è±¡
    4). å‚æ•°ä¸ºhtmlæ ‡ç­¾å­—ç¬¦ä¸² (ç”¨å¾—å°‘): åˆ›å»ºæ ‡ç­¾å¯¹è±¡å¹¶å°è£…æˆjQueryå¯¹è±¡
2. ä½œä¸ºå¯¹è±¡ä½¿ç”¨: $.xxx()
    1). $.each() : éšå¼éå†æ•°ç»„
    2). $.trim() : å»é™¤ä¸¤ç«¯çš„ç©ºæ ¼
--&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚1. ç‚¹å‡»æŒ‰é’®: æ˜¾ç¤ºæŒ‰é’®çš„æ–‡æœ¬, æ˜¾ç¤ºä¸€ä¸ªæ–°çš„è¾“å…¥æ¡†
   éœ€æ±‚2. éå†è¾“å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å€¼
   éœ€æ±‚3. å»æ‰&quot;  my atguigu  &quot;ä¸¤ç«¯çš„ç©ºæ ¼
   */
  /*éœ€æ±‚1. ç‚¹å‡»æŒ‰é’®: æ˜¾ç¤ºæŒ‰é’®çš„æ–‡æœ¬, æ˜¾ç¤ºä¸€ä¸ªæ–°çš„è¾“å…¥æ¡†*/
  //1.1). å‚æ•°ä¸ºå‡½æ•° : å½“DOMåŠ è½½å®Œæˆåï¼Œæ‰§è¡Œæ­¤å›è°ƒå‡½æ•°
  $(function () { // ç»‘å®šæ–‡æ¡£åŠ è½½å®Œæˆçš„ç›‘å¬
    // 1.2). å‚æ•°ä¸ºé€‰æ‹©å™¨å­—ç¬¦ä¸²: æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„æ ‡ç­¾, å¹¶å°†å®ƒä»¬å°è£…æˆjQueryå¯¹è±¡
    $(&#39;#btn&#39;).click(function () { // ç»‘å®šç‚¹å‡»äº‹ä»¶ç›‘å¬
      // thisæ˜¯ä»€ä¹ˆ? å‘ç”Ÿäº‹ä»¶çš„domå…ƒç´ (&lt;button&gt;)
      // alert(this.innerHTML)
      // 1.3). å‚æ•°ä¸ºDOMå¯¹è±¡: å°†domå¯¹è±¡å°è£…æˆjQueryå¯¹è±¡
      alert($(this).html())
      // 1.4). å‚æ•°ä¸ºhtmlæ ‡ç­¾å­—ç¬¦ä¸² (ç”¨å¾—å°‘): åˆ›å»ºæ ‡ç­¾å¯¹è±¡å¹¶å°è£…æˆjQueryå¯¹è±¡
      $(&#39;&lt;input type=&quot;text&quot; name=&quot;msg3&quot;/&gt;&lt;br/&gt;&#39;).appendTo(&#39;div&#39;)
    })
  })
  /*éœ€æ±‚2. éå†è¾“å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å€¼*/
  var arr = [2, 4, 7]
  // 1). $.each() : éšå¼éå†æ•°ç»„
  $.each(arr, function (index, item) {
    console.log(index, item)
  })
  // 2). $.trim() : å»é™¤ä¸¤ç«¯çš„ç©ºæ ¼
  var str = &#39; my atguigu  &#39;
  // console.log(&#39;---&#39;+str.trim()+&#39;---&#39;)
  console.log(&#39;---&#39;+$.trim(str)+&#39;---&#39;)
&lt;/script&gt;</code></pre>
<h3 id="2ã€jQueryæ ¸å¿ƒå¯¹è±¡"><a href="#2ã€jQueryæ ¸å¿ƒå¯¹è±¡" class="headerlink" title="2ã€jQueryæ ¸å¿ƒå¯¹è±¡"></a>2ã€jQueryæ ¸å¿ƒå¯¹è±¡</h3><ul>
<li><p>ç®€ç§°: jQueryå¯¹è±¡</p>
</li>
<li><p>å¾—åˆ°jQueryå¯¹è±¡: æ‰§è¡ŒjQueryå‡½æ•°è¿”å›çš„å°±æ˜¯jQueryå¯¹è±¡</p>
</li>
<li><p>ä½¿ç”¨jQueryå¯¹è±¡: <code>$obj.xxx()</code></p>
</li>
</ul>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.12.3.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //2. jQueryå¯¹è±¡: æ‰§è¡ŒjQueryå‡½æ•°å¾—åˆ°å®ƒ
  console.log($() instanceof Object) // true
&lt;/script&gt;</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815155511.png" alt="image-20200815155509580" class="lazyload"></p>
<p>ç†è§£</p>
<ul>
<li>å³æ‰§è¡ŒjQueryæ ¸å¿ƒå‡½æ•°è¿”å›çš„å¯¹è±¡</li>
<li>jQueryå¯¹è±¡å†…éƒ¨åŒ…å«çš„æ˜¯domå…ƒç´ å¯¹è±¡çš„ä¼ªæ•°ç»„(å¯èƒ½åªæœ‰ä¸€ä¸ªå…ƒç´ )</li>
<li>jQueryå¯¹è±¡æ‹¥æœ‰å¾ˆå¤šæœ‰ç”¨çš„å±æ€§å’Œæ–¹æ³•, è®©ç¨‹åºå‘˜èƒ½æ–¹ä¾¿çš„æ“ä½œdom</li>
</ul>
<p>å±æ€§/æ–¹æ³•</p>
<ul>
<li><p>åŸºæœ¬è¡Œä¸º<br><code>size()</code>/<code>length</code><br><code>[index]</code>/<code>get(index)</code><br><code>each()</code><br><code>index()</code></p>
</li>
<li><p>å±æ€§</p>
<pre><code>    æ“ä½œå†…éƒ¨æ ‡ç­¾çš„å±æ€§æˆ–å€¼</code></pre></li>
<li><p>CSS</p>
<pre><code>    æ“ä½œæ ‡ç­¾çš„æ ·å¼</code></pre></li>
<li><p>æ–‡æ¡£</p>
<pre><code>    å¯¹æ ‡ç­¾è¿›è¡Œå¢åˆ æ”¹æ“ä½œ</code></pre></li>
<li><p>ç­›é€‰</p>
<pre><code>    æ ¹æ®æŒ‡å®šçš„è§„åˆ™è¿‡æ»¤å†…éƒ¨çš„æ ‡ç­¾</code></pre></li>
<li><p>äº‹ä»¶</p>
<pre><code>    å¤„ç†äº‹ä»¶ç›‘å¬ç›¸å…³</code></pre></li>
<li><p>æ•ˆæœ</p>
<pre><code>    å®ç°ä¸€äº›åŠ¨ç”»æ•ˆæœ</code></pre></li>
</ul>
<pre><code class="html">&lt;button&gt;æµ‹è¯•ä¸€&lt;/button&gt;
&lt;button&gt;æµ‹è¯•äºŒ&lt;/button&gt;
&lt;button id=&quot;btn3&quot;&gt;æµ‹è¯•ä¸‰&lt;/button&gt;
&lt;button&gt;æµ‹è¯•å››&lt;/button&gt;
&lt;!--
1. jQueryå¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…çš„ä»»æ„å¤šä¸ªdomå…ƒç´ çš„ä¼ªæ•°ç»„å¯¹è±¡
2. åŸºæœ¬è¡Œä¸º
  * size()/length: åŒ…å«çš„DOMå…ƒç´ ä¸ªæ•°
  * [index]/get(index): å¾—åˆ°å¯¹åº”ä½ç½®çš„DOMå…ƒç´ 
  * each(): éå†åŒ…å«çš„æ‰€æœ‰DOMå…ƒç´ 
  * index(): å¾—åˆ°åœ¨æ‰€åœ¨å…„å¼Ÿå…ƒç´ ä¸­çš„ä¸‹æ ‡
--&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚:
   éœ€æ±‚1. ç»Ÿè®¡ä¸€å…±æœ‰å¤šå°‘ä¸ªæŒ‰é’®
   éœ€æ±‚2. å–å‡ºç¬¬2ä¸ªbuttonçš„æ–‡æœ¬
   éœ€æ±‚3. è¾“å‡ºæ‰€æœ‰buttonæ ‡ç­¾çš„æ–‡æœ¬
   éœ€æ±‚4. è¾“å‡º&#39;æµ‹è¯•ä¸‰&#39;æŒ‰é’®æ˜¯æ‰€æœ‰æŒ‰é’®ä¸­çš„ç¬¬å‡ ä¸ª
   */
  //éœ€æ±‚1. ç»Ÿè®¡ä¸€å…±æœ‰å¤šå°‘ä¸ªæŒ‰é’®
  var $buttons = $(&#39;button&#39;)
  /*size()/length: åŒ…å«çš„DOMå…ƒç´ ä¸ªæ•°*/
  console.log($buttons.size(), $buttons.length)
  //éœ€æ±‚2. å–å‡ºç¬¬2ä¸ªbuttonçš„æ–‡æœ¬
  /*[index]/get(index): å¾—åˆ°å¯¹åº”ä½ç½®çš„DOMå…ƒç´ */
  console.log($buttons[1].innerHTML, $buttons.get(1).innerHTML)
  //éœ€æ±‚3. è¾“å‡ºæ‰€æœ‰buttonæ ‡ç­¾çš„æ–‡æœ¬
  /*each(): éå†åŒ…å«çš„æ‰€æœ‰DOMå…ƒç´ */
  /*$buttons.each(function (index, domEle) {
    console.log(index, domEle.innerHTML, this)
  })*/
  $buttons.each(function () {
    console.log(this.innerHTML)
  })
  //éœ€æ±‚4. è¾“å‡º&#39;æµ‹è¯•ä¸‰&#39;æŒ‰é’®æ˜¯æ‰€æœ‰æŒ‰é’®ä¸­çš„ç¬¬å‡ ä¸ª
  /*index(): å¾—åˆ°åœ¨æ‰€åœ¨å…„å¼Ÿå…ƒç´ ä¸­çš„ä¸‹æ ‡*/
  console.log($(&#39;#btn3&#39;).index())  //2
  /*
  1. ä¼ªæ•°ç»„
    * Objectå¯¹è±¡
    * lengthå±æ€§
    * æ•°å€¼ä¸‹æ ‡å±æ€§
    * æ²¡æœ‰æ•°ç»„ç‰¹åˆ«çš„æ–¹æ³•: forEach(), push(), pop(), splice()
   */
  console.log($buttons instanceof Array) // false
  // è‡ªå®šä¹‰ä¸€ä¸ªä¼ªæ•°ç»„
  var weiArr = {}
  weiArr.length = 0
  weiArr[0] = &#39;atguigu&#39;
  weiArr.length = 1
  weiArr[1] = 123
  weiArr.length = 2
  for (var i = 0; i &lt; weiArr.length; i++) {
    var obj = weiArr[i]
    console.log(i, obj)
  }
  console.log(weiArr.forEach, $buttons.forEach) //undefined, undefined
&lt;/script&gt;</code></pre>
<h2 id="ä¸‰ã€ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°"><a href="#ä¸‰ã€ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°" class="headerlink" title="ä¸‰ã€ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°"></a>ä¸‰ã€ä½¿ç”¨jQueryæ ¸å¿ƒå‡½æ•°</h2><h3 id="1ã€é€‰æ‹©å™¨"><a href="#1ã€é€‰æ‹©å™¨" class="headerlink" title="1ã€é€‰æ‹©å™¨"></a>1ã€é€‰æ‹©å™¨</h3><p>(1) è¯´æ˜</p>
<ul>
<li>é€‰æ‹©å™¨æœ¬èº«åªæ˜¯ä¸€ä¸ªæœ‰ç‰¹å®šè¯­æ³•è§„åˆ™çš„å­—ç¬¦ä¸², æ²¡æœ‰å®è´¨ç”¨å¤„</li>
<li>å®ƒçš„åŸºæœ¬è¯­æ³•è§„åˆ™ä½¿ç”¨çš„å°±æ˜¯CSSçš„é€‰æ‹©å™¨è¯­æ³•, å¹¶å¯¹åŸºè¿›è¡Œäº†æ‰©å±•</li>
<li>åªæœ‰è°ƒç”¨<code>$()</code>, å¹¶å°†é€‰æ‹©å™¨ä½œä¸ºå‚æ•°ä¼ å…¥æ‰èƒ½èµ·ä½œç”¨</li>
<li><code>$(selector)</code>ä½œç”¨ : æ ¹æ®é€‰æ‹©å™¨è§„åˆ™åœ¨æ•´ä¸ªæ–‡æ¡£ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„æ ‡ç­¾çš„æ•°ç»„, å¹¶å°è£…æˆjQueryå¯¹è±¡è¿”å›(ç”¨æ¥æŸ¥æ‰¾ç‰¹å®šé¡µé¢å…ƒç´ )</li>
</ul>
<p>(2) åˆ†ç±»</p>
<ul>
<li><p>åŸºæœ¬é€‰æ‹©å™¨(æœ€åŸºæœ¬æœ€å¸¸ç”¨çš„é€‰æ‹©å™¨)</p>
<ul>
<li><code>#id</code>ï¼šidé€‰æ‹©å™¨</li>
<li><code>element</code>ï¼šå…ƒç´ é€‰æ‹©å™¨</li>
<li><code>.class</code>ï¼šå±æ€§é€‰æ‹©å™¨</li>
<li><code>*</code>ï¼šä»»æ„æ ‡ç­¾</li>
<li><code>selector1,selector2,selectorN</code>ï¼šå–å¤šä¸ªé€‰æ‹©å™¨çš„å¹¶é›†(ç»„åˆé€‰æ‹©å™¨)</li>
<li><code>selector1selector2selectorN</code>ï¼šå–å¤šä¸ªé€‰æ‹©å™¨çš„äº¤é›†(ç›¸äº¤é€‰æ‹©å™¨)</li>
</ul>
<pre><code class="html">&lt;div id=&quot;div1&quot; class=&quot;box&quot;&gt;div1(class=&quot;box&quot;)&lt;/div&gt;
&lt;div id=&quot;div2&quot; class=&quot;box&quot;&gt;div2(class=&quot;box&quot;)&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt;
&lt;span class=&quot;box&quot;&gt;span(class=&quot;box&quot;)&lt;/span&gt;
&lt;br&gt;
&lt;ul&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;BBBBB(title=&quot;hello&quot;)&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC(class=&quot;box&quot;)&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;DDDDDD(title=&quot;hello&quot;)&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚:
   1. é€‰æ‹©idä¸ºdiv1çš„å…ƒç´ 
   2. é€‰æ‹©æ‰€æœ‰çš„divå…ƒç´ 
   3. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ºboxçš„å…ƒç´ 
   4. é€‰æ‹©æ‰€æœ‰çš„divå’Œspanå…ƒç´ 
   5. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ºboxçš„divå…ƒç´ 
   */
  //1. é€‰æ‹©idä¸ºdiv1çš„å…ƒç´ 
  // $(&#39;#div1&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //2. é€‰æ‹©æ‰€æœ‰çš„divå…ƒç´ 
  // $(&#39;div&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //3. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ºboxçš„å…ƒç´ 
  //$(&#39;.box&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //4. é€‰æ‹©æ‰€æœ‰çš„divå’Œspanå…ƒç´ 
  // $(&#39;div,span&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //5. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ºboxçš„divå…ƒç´ 
  //$(&#39;div.box&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //$(&#39;*&#39;).css(&#39;background&#39;, &#39;red&#39;)
&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p>å±‚æ¬¡é€‰æ‹©å™¨(æŸ¥æ‰¾å­å…ƒç´ , åä»£å…ƒç´ , å…„å¼Ÿå…ƒç´ çš„é€‰æ‹©å™¨)</p>
<ul>
<li><code>ancestor descendant</code>ï¼šåœ¨ç»™å®šçš„ç¥–å…ˆå…ƒç´ ä¸‹çš„åä»£å…ƒç´ ä¸­åŒ¹é…å…ƒç´ </li>
<li><code>parent &gt; child</code>ï¼šåœ¨ç»™å®šçš„çˆ¶å…ƒç´ ä¸‹çš„å­å…ƒç´ ä¸­åŒ¹é…å…ƒç´ </li>
<li><code>prev + next</code>ï¼šåŒ¹é…æ‰€æœ‰ç´§æ¥åœ¨prevå…ƒç´ åçš„nextå…ƒç´ </li>
<li><code>prev ~ siblings</code>ï¼šåŒ¹é…prevå…ƒç´ ä¹‹åçš„æ‰€æœ‰siblingså…ƒç´ </li>
</ul>
<pre><code class="html">&lt;ul&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;&lt;span&gt;BBBBB&lt;/span&gt;&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;&lt;span class=&quot;box&quot;&gt;DDDD&lt;/span&gt;&lt;/li&gt;
  &lt;span&gt;EEEEE&lt;/span&gt;
&lt;/ul&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚:
   1. é€‰ä¸­ulä¸‹æ‰€æœ‰çš„çš„span
   2. é€‰ä¸­ulä¸‹æ‰€æœ‰çš„å­å…ƒç´ span
   3. é€‰ä¸­classä¸ºboxçš„ä¸‹ä¸€ä¸ªli
   4. é€‰ä¸­ulä¸‹çš„classä¸ºboxçš„å…ƒç´ åé¢çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ 
   */
  //1. é€‰ä¸­ulä¸‹æ‰€æœ‰çš„çš„span
  // $(&#39;ul span&#39;).css(&#39;background&#39;, &#39;yellow&#39;)
  //2. é€‰ä¸­ulä¸‹æ‰€æœ‰çš„å­å…ƒç´ span
  // $(&#39;ul&gt;span&#39;).css(&#39;background&#39;, &#39;yellow&#39;)
  //3. é€‰ä¸­classä¸ºboxçš„ä¸‹ä¸€ä¸ªli
  // $(&#39;.box+li&#39;).css(&#39;background&#39;, &#39;yellow&#39;)
  //4. é€‰ä¸­ulä¸‹çš„classä¸ºboxçš„å…ƒç´ åé¢çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ 
  $(&#39;ul .box~*&#39;).css(&#39;background&#39;, &#39;yellow&#39;)
&lt;/script&gt;</code></pre>
</li>
</ul>
<ul>
<li><p>è¿‡æ»¤é€‰æ‹©å™¨(åœ¨åŸæœ‰é€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´ ä¸­è¿›ä¸€æ­¥è¿›è¡Œè¿‡æ»¤çš„é€‰æ‹©å™¨)</p>
<ul>
<li>åŸºæœ¬<ul>
<li><code>:first</code></li>
<li><code>:last</code></li>
<li><code>:eq(index)</code></li>
<li><code>:lt</code></li>
<li><code>:gt</code></li>
<li><code>:odd</code></li>
<li><code>:even</code></li>
<li><code>:not(selector)</code></li>
<li><code>header</code></li>
<li><code>animated</code></li>
<li><code>focus</code></li>
</ul>
</li>
<li>å†…å®¹<ul>
<li><code>:contains(text)</code></li>
<li><code>empty</code></li>
<li><code>has(selector)</code></li>
<li><code>parent</code></li>
</ul>
</li>
<li>å¯è§æ€§<ul>
<li><code>:hidden</code></li>
<li><code>:visible</code></li>
</ul>
</li>
<li>å±æ€§<ul>
<li><code>[attrbute]</code></li>
<li><code>[attrName=value]</code></li>
<li><code>[attribute!=value]</code></li>
<li><code>[attribute^=value]</code></li>
<li><code>[attribute$=value]</code></li>
<li><code>[attribute*=value]</code></li>
<li><code>[attrSel1][attrSel2][attrSelN]</code></li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;div id=&quot;div1&quot; class=&quot;box&quot;&gt;classä¸ºboxçš„div1&lt;/div&gt;
&lt;div id=&quot;div2&quot; class=&quot;box&quot;&gt;classä¸ºboxçš„div2&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt;
&lt;span class=&quot;box&quot;&gt;classä¸ºboxçš„span&lt;/span&gt;
&lt;br/&gt;
&lt;ul&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;BBBBB&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;DDDDDD&lt;/li&gt;
  &lt;li title=&quot;two&quot;&gt;BBBBB&lt;/li&gt;
  &lt;li style=&quot;display:none&quot;&gt;æˆ‘æœ¬æ¥æ˜¯éšè—çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;

  /*
   éœ€æ±‚:
   1. é€‰æ‹©ç¬¬ä¸€ä¸ªdiv
   2. é€‰æ‹©æœ€åä¸€ä¸ªclassä¸ºboxçš„å…ƒç´ 
   3. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ä¸ºboxçš„div
   4. é€‰æ‹©ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªliå…ƒç´ 
   5. é€‰æ‹©å†…å®¹ä¸ºBBBBBçš„li
   6. é€‰æ‹©éšè—çš„li
   7. é€‰æ‹©æœ‰titleå±æ€§çš„liå…ƒç´ 
   8. é€‰æ‹©æ‰€æœ‰å±æ€§titleä¸ºhelloçš„liå…ƒç´ 
   */
  //1. é€‰æ‹©ç¬¬ä¸€ä¸ªdiv
  // $(&#39;div:first&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //2. é€‰æ‹©æœ€åä¸€ä¸ªclassä¸ºboxçš„å…ƒç´ 
  //$(&#39;.box:last&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //3. é€‰æ‹©æ‰€æœ‰classå±æ€§ä¸ä¸ºboxçš„div
  // $(&#39;div:not(.box)&#39;).css(&#39;background&#39;, &#39;red&#39;)  //æ²¡æœ‰classå±æ€§ä¹Ÿå¯ä»¥
  //4. é€‰æ‹©ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªliå…ƒç´ 
  // $(&#39;li:gt(0):lt(2)&#39;).css(&#39;background&#39;, &#39;red&#39;) // å¤šä¸ªè¿‡æ»¤é€‰æ‹©å™¨ä¸æ˜¯åŒæ—¶æ‰§è¡Œ, è€Œæ˜¯ä¾æ¬¡
  //$(&#39;li:lt(3):gt(0)&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //5. é€‰æ‹©å†…å®¹ä¸ºBBBBBçš„li
  // $(&#39;li:contains(&quot;BBBBB&quot;)&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //6. é€‰æ‹©éšè—çš„li
  // console.log($(&#39;li:hidden&#39;).length, $(&#39;li:hidden&#39;)[0])
  //7. é€‰æ‹©æœ‰titleå±æ€§çš„liå…ƒç´ 
  // $(&#39;li[title]&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //8. é€‰æ‹©æ‰€æœ‰å±æ€§titleä¸ºhelloçš„liå…ƒç´ 
  $(&#39;li[title=&quot;hello&quot;]&#39;).css(&#39;background&#39;, &#39;red&#39;)
&lt;/script&gt;</code></pre>
</li>
</ul>
<p>ç»ƒä¹ ï¼š è¡¨æ ¼éš”è¡Œå˜è‰²</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815163734.png" alt="image-20200815163732938" class="lazyload"></p>
<pre><code class="html">&lt;style&gt;
div, span, p {
  width: 140px;
  height: 140px;
  margin: 5px;
  background: #aaa;
  border: #000 1px solid;
  float: left;
  font-size: 17px;
  font-family: Verdana;
}

div.mini {
  width: 55px;
  height: 55px;
  background-color: #aaa;
  font-size: 12px;
}

div.hide {
  display: none;
}

#data {
  width: 600px;
}

#data, td, th {
  border-collapse: collapse;
  border: 1px solid #aaaaaa;
}

th, td {
  height: 28px;
}

#data thead {
  background-color: #333399;
  color: #ffffff;
}

.odd {
  background-color: #ccccff;
}
&lt;/style&gt;
&lt;table id=&quot;data&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;å§“å&lt;/th&gt;
      &lt;th&gt;å·¥èµ„&lt;/th&gt;
      &lt;th&gt;å…¥èŒæ—¶é—´&lt;/th&gt;
      &lt;th&gt;æ“ä½œ&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
  &lt;tr&gt;
    &lt;td&gt;Tom&lt;/td&gt;
    &lt;td&gt;$3500&lt;/td&gt;
    &lt;td&gt;2010-10-25&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Mary&lt;/td&gt;
    &lt;td&gt;$3400&lt;/td&gt;
    &lt;td&gt;2010-12-1&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;King&lt;/td&gt;
    &lt;td&gt;$5900&lt;/td&gt;
    &lt;td&gt;2009-08-17&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Scott&lt;/td&gt;
    &lt;td&gt;$3800&lt;/td&gt;
    &lt;td&gt;2012-11-17&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Smith&lt;/td&gt;
    &lt;td&gt;$3100&lt;/td&gt;
    &lt;td&gt;2014-01-27&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Allen&lt;/td&gt;
    &lt;td&gt;$3700&lt;/td&gt;
    &lt;td&gt;2011-12-05&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;javascript:void(0)&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  $(&#39;#data&gt;tbody&gt;tr:odd&#39;).css(&#39;background&#39;, &#39;#ccccff&#39;)
&lt;/script&gt;</code></pre>
<ul>
<li><p>è¡¨å•é€‰æ‹©å™¨</p>
<ul>
<li>è¡¨å•<ul>
<li><code>:input</code></li>
<li><code>:text</code></li>
<li><code>:checkbox</code></li>
<li><code>:radio</code></li>
</ul>
</li>
<li>è¡¨å•å¯¹è±¡å±æ€§<ul>
<li><code>:checked</code>: é€‰ä¸­çš„</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;form&gt;
  ç”¨æˆ·å: &lt;input type=&quot;text&quot;/&gt;&lt;br&gt;
  å¯† ç : &lt;input type=&quot;password&quot;/&gt;&lt;br&gt;
  çˆ± å¥½:
  &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt;ç¯®çƒ
  &lt;input type=&quot;checkbox&quot;/&gt;è¶³çƒ
  &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;/&gt;ç¾½æ¯›çƒ &lt;br&gt;
  æ€§ åˆ«:
  &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&#39;male&#39;/&gt;ç”·
  &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&#39;female&#39;/&gt;å¥³&lt;br&gt;
  é‚® ç®±: &lt;input type=&quot;text&quot; name=&quot;email&quot; disabled=&quot;disabled&quot;/&gt;&lt;br&gt;
  æ‰€åœ¨åœ°:
  &lt;select&gt;
    &lt;option value=&quot;1&quot;&gt;åŒ—äº¬&lt;/option&gt;
    &lt;option value=&quot;2&quot; selected=&quot;selected&quot;&gt;å¤©æ´¥&lt;/option&gt;
    &lt;option value=&quot;3&quot;&gt;æ²³åŒ—&lt;/option&gt;
  &lt;/select&gt;&lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚:
   1. é€‰æ‹©ä¸å¯ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†
   2. æ˜¾ç¤ºé€‰æ‹©çˆ±å¥½ çš„ä¸ªæ•°
   3. æ˜¾ç¤ºé€‰æ‹©çš„åŸå¸‚åç§°
   */
  //1. é€‰æ‹©ä¸å¯ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†
  // $(&#39;:text:disabled&#39;).css(&#39;background&#39;, &#39;red&#39;)
  //2. æ˜¾ç¤ºé€‰æ‹©çˆ±å¥½ çš„ä¸ªæ•°
  console.log($(&#39;:checkbox:checked&#39;).length)
  //3. æ˜¾ç¤ºé€‰æ‹©çš„åŸå¸‚åç§°
  $(&#39;:submit&#39;).click(function () {
    var city = $(&#39;select&gt;option:selected&#39;).html() // é€‰æ‹©çš„optionçš„æ ‡ç­¾ä½“æ–‡æœ¬
    city = $(&#39;select&#39;).val()  // é€‰æ‹©çš„optionçš„valueå±æ€§å€¼
    alert(city)
  })
&lt;/script&gt;</code></pre>
</li>
</ul>
<h3 id="2ã€-å·¥å…·æ–¹æ³•"><a href="#2ã€-å·¥å…·æ–¹æ³•" class="headerlink" title="2ã€$å·¥å…·æ–¹æ³•"></a>2ã€<code>$</code>å·¥å…·æ–¹æ³•</h3><ol>
<li><code>$.each()</code>: éå†æ•°ç»„æˆ–å¯¹è±¡ä¸­çš„æ•°æ®</li>
<li><code>$.trim()</code>: å»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºæ ¼</li>
<li><code>$.type(obj)</code>: å¾—åˆ°æ•°æ®çš„ç±»å‹</li>
<li><code>$.isArray(obj)</code>: åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„</li>
<li><code>$.isFunction(obj)</code>: åˆ¤æ–­æ˜¯å¦æ˜¯å‡½æ•°</li>
<li><code>$.parseJSON(json)</code>: è§£æjsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºjså¯¹è±¡/æ•°ç»„</li>
</ol>
<pre><code class="html">&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1. $.each(): éå†æ•°ç»„æˆ–å¯¹è±¡ä¸­çš„æ•°æ®
  var obj = {
    name: &#39;Tom&#39;,
    setName: function (name) {
      this.name = name
    }
  }
  $.each(obj, function (key, value) {
    console.log(key, value)
  })

  //2. $.trim(): å»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºæ ¼
  //3. $.type(obj): å¾—åˆ°æ•°æ®çš„ç±»å‹
  console.log($.type($)) // &#39;function&#39;

  //4. $.isArray(obj): åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„
  console.log($.isArray($(&#39;body&#39;)), $.isArray([])) // false true
  //5. $.isFunction(obj): åˆ¤æ–­æ˜¯å¦æ˜¯å‡½æ•°
  console.log($.isFunction($)) // true
  //6. $.parseJSON(json) : è§£æjsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºjså¯¹è±¡/æ•°ç»„
  var json = &#39;{&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:12}&#39;  // jsonå¯¹è±¡: {}
  // jsonå¯¹è±¡===&gt;JSå¯¹è±¡
  console.log($.parseJSON(json))
  json = &#39;[{&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:12}, {&quot;name&quot;:&quot;JACK&quot;, &quot;age&quot;:13}]&#39; // jsonæ•°ç»„: []
  // jsonæ•°ç»„===&gt;JSæ•°ç»„
  console.log($.parseJSON(json))
  /*
  JSON.parse(jsonString)   jsonå­—ç¬¦ä¸²---&gt;jså¯¹è±¡/æ•°ç»„
  JSON.stringify(jsObj/jsArr)  jså¯¹è±¡/æ•°ç»„---&gt;jsonå­—ç¬¦ä¸²
  */
&lt;/script&gt;</code></pre>
<p>ç»ƒä¹ ï¼šå¤šTabç‚¹å‡»åˆ‡æ¢</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815163919.png" alt="image-20200815163918240" class="lazyload"></p>
<pre><code class="html">&lt;style&gt;
*{margin:0;padding:0}#tab li{float:left;list-style:none;width:80px;height:40px;line-height:40px;cursor:pointer;text-align:center}#container{position:relative}#content1,#content2,#content3{width:300px;height:100px;padding:30px;position:absolute;top:40px;left:0}#tab1,#content1{background-color:#fc0}#tab2,#content2{background-color:#f0c}#tab3,#content3{background-color:#0cf}
&lt;/style&gt;
&lt;h2&gt;å¤šTabç‚¹å‡»åˆ‡æ¢&lt;/h2&gt;
&lt;ul id=&quot;tab&quot;&gt;
  &lt;li id=&quot;tab1&quot; value=&quot;1&quot;&gt;10å…ƒå¥—é¤&lt;/li&gt;
  &lt;li id=&quot;tab2&quot; value=&quot;2&quot;&gt;30å…ƒå¥—é¤&lt;/li&gt;
  &lt;li id=&quot;tab3&quot; value=&quot;3&quot;&gt;50å…ƒåŒ…æœˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&quot;container&quot;&gt;
  &lt;div id=&quot;content1&quot;&gt;
    10å…ƒå¥—é¤è¯¦æƒ…ï¼š&lt;br/&gt;&amp;nbsp;æ¯æœˆå¥—é¤å†…æ‹¨æ‰“100åˆ†é’Ÿï¼Œè¶…å‡ºéƒ¨åˆ†2æ¯›/åˆ†é’Ÿ
  &lt;/div&gt;
  &lt;div id=&quot;content2&quot; style=&quot;display: none&quot;&gt;
    30å…ƒå¥—é¤è¯¦æƒ…ï¼š&lt;br/&gt;&amp;nbsp;æ¯æœˆå¥—é¤å†…æ‹¨æ‰“300åˆ†é’Ÿï¼Œè¶…å‡ºéƒ¨åˆ†1.5æ¯›/åˆ†é’Ÿ
  &lt;/div&gt;
  &lt;div id=&quot;content3&quot; style=&quot;display: none&quot;&gt;
    50å…ƒåŒ…æœˆè¯¦æƒ…ï¼š&lt;br/&gt;&amp;nbsp;æ¯æœˆæ— é™é‡éšå¿ƒæ‰“
  &lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var $contents = $(&#39;#container&gt;div&#39;)
  // ç»™3ä¸ªliåŠ ç›‘å¬
  /*$(&#39;#tab&gt;li&#39;).click(function () { // éšå¼éå†
    //alert(&#39;----&#39;)
    // éšéšè—æ‰€æœ‰å†…å®¹div
    $contents.css(&#39;display&#39;, &#39;none&#39;)
    // æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹div
    // å¾—åˆ°å½“å‰ç‚¹å‡»çš„liåœ¨å…„å¼Ÿä¸­ä¸‹æ ‡
    var index = $(this).index()
    // æ‰¾åˆ°å¯¹åº”çš„å†…å®¹div, å¹¶æ˜¾ç¤º
    $contents[index].style.display = &#39;block&#39;
    // $($contents[index]).css(&#39;display&#39;, &#39;block&#39;)
  })*/
  // æ”¹è¿›â€”â€”ç¬¬äºŒä¸‰ä¸ªdivé»˜è®¤noneï¼Œä¸éœ€è¦å…¨éƒ¨è®¾ç½®éšè—
  var currIndex = 0 //å½“å‰æ˜¾ç¤ºçš„å†…å®¹divçš„ä¸‹æ ‡
  $(&#39;#tab&gt;li&#39;).click(function () { // éšå¼éå†
    //alert(&#39;----&#39;)
    // éšè—å½“å‰å·²ç»æ˜¾ç¤ºçš„å†…å®¹div
    $contents[currIndex].style.display = &#39;none&#39;
    // æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹div
      // å¾—åˆ°å½“å‰ç‚¹å‡»çš„liåœ¨å…„å¼Ÿä¸­ä¸‹æ ‡
    var index = $(this).index()
      // æ‰¾åˆ°å¯¹åº”çš„å†…å®¹div, å¹¶æ˜¾ç¤º
    $contents[index].style.display = &#39;block&#39;
    // æ›´æ–°ä¸‹æ ‡
    currIndex = index
  })
&lt;/script&gt;</code></pre>
<h3 id="3ã€ajax"><a href="#3ã€ajax" class="headerlink" title="3ã€ajax"></a>3ã€ajax</h3><ul>
<li><p><code>ajax()</code></p>
</li>
<li><p><code>get()</code></p>
</li>
<li><p><code>post</code></p>
<p>â€¦â€¦</p>
</li>
</ul>
<h2 id="å››ã€ä½¿ç”¨jQueryå¯¹è±¡"><a href="#å››ã€ä½¿ç”¨jQueryå¯¹è±¡" class="headerlink" title="å››ã€ä½¿ç”¨jQueryå¯¹è±¡"></a>å››ã€ä½¿ç”¨jQueryå¯¹è±¡</h2><h3 id="1ã€å±æ€§-æ–‡æœ¬"><a href="#1ã€å±æ€§-æ–‡æœ¬" class="headerlink" title="1ã€å±æ€§/æ–‡æœ¬"></a>1ã€å±æ€§/æ–‡æœ¬</h3><p>æ“ä½œæ ‡ç­¾çš„å±æ€§, æ ‡ç­¾ä½“æ–‡æœ¬</p>
<p>æ“ä½œä»»æ„å±æ€§</p>
<ul>
<li><code>attr(name)</code> /<code>attr(name, value)</code>: è¯»å†™éå¸ƒå°”å€¼çš„æ ‡ç­¾å±æ€§</li>
<li><code>prop(name)</code> / <code>prop(name, value)</code>: è¯»å†™å¸ƒå°”å€¼çš„æ ‡ç­¾å±æ€§</li>
<li><code>removeAttr(name)</code>/<code>removeProp(name)</code>: åˆ é™¤å±æ€§</li>
</ul>
<p>æ“ä½œclasså±æ€§</p>
<ul>
<li><code>addClass(classValue)</code>: æ·»åŠ class</li>
<li><code>removeClass(classValue)</code>: ç§»é™¤æŒ‡å®šclass</li>
</ul>
<p>æ“ä½œHTMLä»£ç /æ–‡æœ¬/å€¼</p>
<ul>
<li><code>val()</code> / <code>val(value)</code>: è¯»å†™æ ‡ç­¾çš„value</li>
<li><code>html()</code> / <code>html(htmlString)</code>: è¯»å†™æ ‡ç­¾ä½“æ–‡æœ¬</li>
</ul>
<pre><code class="html">&lt;div id=&quot;div1&quot; class=&quot;box&quot; title=&quot;one&quot;&gt;classä¸ºboxçš„div1&lt;/div&gt;
&lt;div id=&quot;div2&quot; class=&quot;box&quot; title=&quot;two&quot;&gt;classä¸ºboxçš„div2&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt;
&lt;span class=&quot;box&quot;&gt;classä¸ºboxçš„span&lt;/span&gt;
&lt;br/&gt;
&lt;ul&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li title=&quot;hello&quot; class=&quot;box2&quot;&gt;BBBBB&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;DDDDDD&lt;/li&gt;
  &lt;li title=&quot;two&quot;&gt;&lt;span&gt;BBBBB&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;guiguClass&quot;/&gt;
&lt;br&gt;
&lt;input type=&quot;checkbox&quot;&gt;
&lt;input type=&quot;checkbox&quot;&gt;
&lt;br&gt;
&lt;button&gt;é€‰ä¸­&lt;/button&gt;
&lt;button&gt;ä¸é€‰ä¸­&lt;/button&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1. è¯»å–ç¬¬ä¸€ä¸ªdivçš„titleå±æ€§
  // console.log($(&#39;div:first&#39;).attr(&#39;title&#39;)) // one
  //2. ç»™æ‰€æœ‰çš„divè®¾ç½®nameå±æ€§(valueä¸ºatguigu)
  // $(&#39;div&#39;).attr(&#39;name&#39;, &#39;atguigu&#39;)
  //3. ç§»é™¤æ‰€æœ‰divçš„titleå±æ€§
  // $(&#39;div&#39;).removeAttr(&#39;title&#39;)
  //4. ç»™æ‰€æœ‰çš„divè®¾ç½®class=&#39;guiguClass&#39;
  //$(&#39;div&#39;).attr(&#39;class&#39;, &#39;guiguClass&#39;)
  //5. ç»™æ‰€æœ‰çš„divæ·»åŠ class=&#39;abc&#39;
  //$(&#39;div&#39;).addClass(&#39;abc&#39;)
  //6. ç§»é™¤æ‰€æœ‰divçš„guiguClassçš„class
  //$(&#39;div&#39;).removeClass(&#39;guiguClass&#39;)
  //7. å¾—åˆ°æœ€åä¸€ä¸ªliçš„æ ‡ç­¾ä½“æ–‡æœ¬
  //console.log($(&#39;li:last&#39;).html())
  //8. è®¾ç½®ç¬¬ä¸€ä¸ªliçš„æ ‡ç­¾ä½“ä¸º&quot;&lt;h1&gt;mmmmmmmmm&lt;/h1&gt;&quot;
  //$(&#39;li:first&#39;).html(&#39;&lt;h1&gt;mmmmmmmmm&lt;/h1&gt;&#39;)
  //9. å¾—åˆ°è¾“å…¥æ¡†ä¸­çš„valueå€¼
  //console.log($(&#39;:text&#39;).val()) // è¯»å–
  //10. å°†è¾“å…¥æ¡†çš„å€¼è®¾ç½®ä¸ºatguigu
  //$(&#39;:text&#39;).val(&#39;atguigu&#39;) // è®¾ç½®      è¯»å†™åˆä¸€
  //11. ç‚¹å‡»&#39;å…¨é€‰&#39;æŒ‰é’®å®ç°å…¨é€‰
    // attr(): æ“ä½œå±æ€§å€¼ä¸ºéå¸ƒå°”å€¼çš„å±æ€§
    // prop(): ä¸“é—¨æ“ä½œå±æ€§å€¼ä¸ºå¸ƒå°”å€¼çš„å±æ€§
  var $checkboxs = $(&#39;:checkbox&#39;)
  $(&#39;button:first&#39;).click(function () {
    $checkboxs.prop(&#39;checked&#39;, true)
  })
  //12. ç‚¹å‡»&#39;å…¨ä¸é€‰&#39;æŒ‰é’®å®ç°å…¨ä¸é€‰
  $(&#39;button:last&#39;).click(function () {
    $checkboxs.prop(&#39;checked&#39;, false)
  })
&lt;/script&gt;</code></pre>
<p>ç»ƒä¹ è¡¨æ ¼éš”è¡Œå˜è‰²æ”¹è¿›â€”&gt;oddæ ·å¼ç±»</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815164644.png" alt="image-20200815164643571" class="lazyload"></p>
<h3 id="2ã€CSS"><a href="#2ã€CSS" class="headerlink" title="2ã€CSS"></a>2ã€CSS</h3><p>(1) styleæ ·å¼(è®¾ç½®CSSæ ·å¼/è¯»å–CSSå€¼)</p>
<ul>
<li><code>css(styleName)</code>: æ ¹æ®æ ·å¼åå¾—åˆ°å¯¹åº”çš„å€¼</li>
<li><code>css(styleName, value)</code>: è®¾ç½®ä¸€ä¸ªæ ·å¼</li>
<li><code>css({å¤šä¸ªæ ·å¼å¯¹})</code>: è®¾ç½®å¤šä¸ªæ ·å¼</li>
</ul>
<pre><code class="html">&lt;p style=&quot;color: blue;&quot;&gt;HTML&lt;/p&gt;
&lt;p style=&quot;color: green;&quot;&gt;CSS&lt;/p&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1. å¾—åˆ°ç¬¬ä¸€ä¸ªpæ ‡ç­¾çš„é¢œè‰²
  //console.log($(&#39;p:first&#39;).css(&#39;color&#39;))
  //2. è®¾ç½®æ‰€æœ‰pæ ‡ç­¾çš„æ–‡æœ¬é¢œè‰²ä¸ºred
  //$(&#39;p&#39;).css(&#39;color&#39;, &#39;red&#39;)
  //3. è®¾ç½®ç¬¬2ä¸ªpçš„å­—ä½“é¢œè‰²(#ff0011),èƒŒæ™¯(blue),å®½(300px), é«˜(30px)
  $(&#39;p:eq(1)&#39;).css({
    color: &#39;#ff0011&#39;,
    background: &#39;blue&#39;,
    width: 300,
    height: 30
  })
&lt;/script&gt;</code></pre>
<p>(2) ä½ç½®åæ ‡(è·å–/è®¾ç½®æ ‡ç­¾çš„ä½ç½®æ•°æ®)</p>
<ul>
<li><code>offset()</code>: è¯»/å†™å½“å‰å…ƒç´ åæ ‡(åŸç‚¹æ˜¯é¡µé¢å·¦ä¸Šè§’)</li>
<li><code>position()</code>: è¯»å½“å‰å…ƒç´ åæ ‡(åŸç‚¹æ˜¯çˆ¶å…ƒç´ å·¦ä¸Šè§’)</li>
<li><code>scrollTop()</code>/<code>scrollLeft()</code>: è¯»/å†™å…ƒç´ /é¡µé¢çš„æ»šåŠ¨æ¡åæ ‡</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 20px;
    left: 10px;
    background: blue;
  }
  .div2 {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 50px;
    background: red;
  }
  .div3 {
    position: absolute;
    top: 250px;
  }
&lt;/style&gt;
&lt;body style=&quot;height: 2000px;&quot;&gt;
&lt;div class=&quot;div1&quot;&gt;
  &lt;div class=&quot;div2&quot;&gt;æµ‹è¯•offset&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#39;div3&#39;&gt;
  &lt;button id=&quot;btn1&quot;&gt;è¯»å–offsetå’Œposition&lt;/button&gt;
  &lt;button id=&quot;btn2&quot;&gt;è®¾ç½®offset&lt;/button&gt;
&lt;/div&gt;
&lt;!--
è·å–/è®¾ç½®æ ‡ç­¾çš„ä½ç½®æ•°æ®
  * offset(): ç›¸å¯¹é¡µé¢å·¦ä¸Šè§’çš„åæ ‡
  * position(): ç›¸å¯¹äºçˆ¶å…ƒç´ å·¦ä¸Šè§’çš„åæ ‡
--&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  $(&#39;#btn1&#39;).click(function () {
        // æ‰“å° div1 ç›¸å¯¹äºé¡µé¢å·¦ä¸Šè§’çš„ä½ç½®
    var offset = $(&#39;.div1&#39;).offset()
    console.log(offset.left, offset.top) // 10 20
        // æ‰“å° div2 ç›¸å¯¹äºé¡µé¢å·¦ä¸Šè§’çš„ä½ç½®
    offset = $(&#39;.div2&#39;).offset()
    console.log(offset.left, offset.top) // 10 70
        // æ‰“å° div1 ç›¸å¯¹äºçˆ¶å…ƒç´ å·¦ä¸Šè§’çš„ä½ç½®
    var position = $(&#39;.div1&#39;).position()
    console.log(position.left, position.top) // 10 20
        // æ‰“å° div2 ç›¸å¯¹äºçˆ¶å…ƒç´ å·¦ä¸Šè§’çš„ä½ç½®
    position = $(&#39;.div2&#39;).position()
    console.log(position.left, position.top) // 0 50
  })
  $(&#39;#btn2&#39;).click(function () {
    // è®¾ç½® div2 ç›¸å¯¹äºé¡µé¢çš„å·¦ä¸Šè§’çš„ä½ç½®
    $(&#39;.div2&#39;).offset({
      left: 50,
      top: 100
    })
  })
&lt;/script&gt;</code></pre>
<ol>
<li><p>scrollTop(): è¯»å–/è®¾ç½®æ»šåŠ¨æ¡çš„Yåæ ‡</p>
</li>
<li><p><code>$(document.body).scrollTop()+$(document.documentElement).scrollTop()</code>: è¯»å–é¡µé¢æ»šåŠ¨æ¡çš„Yåæ ‡(å…¼å®¹chromeå’ŒIE)</p>
</li>
<li><p><code>$(&#39;body,html&#39;).scrollTop(60);</code>æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®(å…¼å®¹chromeå’ŒIE)</p>
</li>
</ol>
<pre><code class="html">&lt;body style=&quot;height: 2000px;&quot;&gt;
&lt;div style=&quot;border:1px solid black;width:100px;height:150px;overflow:auto&quot;&gt;
  This is some text. This is some text. This is some text. This is some text.
  This is some text. This is some text. This is some text. This is some text.
  This is some text. This is some text. This is some text. This is some text.
  This is some text. This is some text. This is some text. This is some text.
  This is some text. This is some text. This is some text. This is some text.
  This is some text. This is some text. This is some text. This is some text.
  his is some text.
&lt;/div&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;button id=&quot;btn1&quot;&gt;å¾—åˆ°scrollTop&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;è®¾ç½®scrollTop&lt;/button&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  //1. å¾—åˆ°divæˆ–é¡µé¢æ»šåŠ¨æ¡çš„åæ ‡
  $(&#39;#btn1&#39;).click(function () {
    console.log($(&#39;div&#39;).scrollTop())
    // console.log($(&#39;html&#39;).scrollTop()+$(&#39;body&#39;).scrollTop())
    console.log($(document.documentElement).scrollTop()+$(document.body).scrollTop()) // å…¼å®¹IE/Chrome
  })
  //2. è®©divæˆ–é¡µé¢çš„æ»šåŠ¨æ¡æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®
  $(&#39;#btn2&#39;).click(function () {
    $(&#39;div&#39;).scrollTop(200)
    $(&#39;html,body&#39;).scrollTop(300)
  })
&lt;/script&gt;
&lt;/body&gt;</code></pre>
<p>(3) å°ºå¯¸(è·å–/è®¾ç½®æ ‡ç­¾çš„å°ºå¯¸æ•°æ®)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815171021.png" alt="image-20200815171020176" class="lazyload"></p>
<ul>
<li><p>å†…å®¹å°ºå¯¸</p>
<ul>
<li><code>height()</code>: height</li>
<li><code>width()</code>: width</li>
</ul>
</li>
<li><p>å†…éƒ¨å°ºå¯¸</p>
<ul>
<li><code>innerHeight()</code>: height+padding</li>
<li><code>innerWidth()</code>: width+padding</li>
</ul>
</li>
<li><p>å¤–éƒ¨å°ºå¯¸</p>
<ul>
<li>outerHeight(false/true): height+padding+border å¦‚æœæ˜¯true, åŠ ä¸Šmargin</li>
<li>outerWidth(false/true): width+padding+border å¦‚æœæ˜¯true, åŠ ä¸Šmargin</li>
</ul>
</li>
</ul>
<pre><code class="html">div {
  width: 100px;
  height: 150px;
  background: red;
  padding: 10px;
  border: 10px #fbd850 solid;
  margin: 10px;
}
&lt;div&gt;div&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  var $div = $(&#39;div&#39;)
  // 1. å†…å®¹å°ºå¯¸
  console.log($div.width(), $div.height())  // 100 150
  // 2. å†…éƒ¨å°ºå¯¸
  console.log($div.innerWidth(), $div.innerHeight()) //120 170
  // 3. å¤–éƒ¨å°ºå¯¸
  console.log($div.outerWidth(), $div.outerHeight()) //140 190
  console.log($div.outerWidth(true), $div.outerHeight(true)) //160 210
&lt;/script&gt;</code></pre>
<h3 id="3ã€ç­›é€‰"><a href="#3ã€ç­›é€‰" class="headerlink" title="3ã€ç­›é€‰"></a>3ã€ç­›é€‰</h3><p>(1) è¿‡æ»¤</p>
<p>åœ¨jQueryå¯¹è±¡ä¸­çš„å…ƒç´ å¯¹è±¡æ•°ç»„ä¸­è¿‡æ»¤å‡ºä¸€éƒ¨åˆ†å…ƒç´ æ¥</p>
<ol>
<li><p>first()</p>
</li>
<li><p>last()</p>
</li>
<li><p>eq(index|-index)</p>
</li>
<li><p>filter(selector)ï¼šå¯¹å½“å‰å…ƒç´ æè¦æ±‚</p>
</li>
<li><p>not(selector)ï¼šå¯¹å½“å‰å…ƒç´ æè¦æ±‚, å¹¶å–å</p>
</li>
<li><p>has(selector)ï¼šå¯¹å­å­™å…ƒç´ æè¦æ±‚</p>
</li>
</ol>
<pre><code class="html">&lt;ul&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li title=&quot;hello&quot; class=&quot;box2&quot;&gt;BBBBB&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;DDDDDD&lt;/li&gt;
  &lt;li title=&quot;two&quot;&gt;&lt;span&gt;BBBBB&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;eeeee&lt;/li&gt;
&lt;li&gt;EEEEE&lt;/li&gt;
&lt;br&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var $lis = $(&#39;ul&gt;li&#39;)
  //1. ulä¸‹liæ ‡ç­¾ç¬¬ä¸€ä¸ª
  // $lis.first().css(&#39;background&#39;, &#39;red&#39;)
  // $lis[0].style.background = &#39;red&#39;

  //2. ulä¸‹liæ ‡ç­¾çš„æœ€åä¸€ä¸ª
  // $lis.last().css(&#39;background&#39;, &#39;red&#39;)

  //3. ulä¸‹liæ ‡ç­¾çš„ç¬¬äºŒä¸ª
  // $lis.eq(1).css(&#39;background&#39;, &#39;red&#39;)

  //4. ulä¸‹liæ ‡ç­¾ä¸­titleå±æ€§ä¸ºhelloçš„
  // $lis.filter(&#39;[title=hello]&#39;).css(&#39;background&#39;, &#39;red&#39;)

  //5. ulä¸‹liæ ‡ç­¾ä¸­titleå±æ€§ä¸ä¸ºhelloçš„
  // $lis.not(&#39;[title=hello]&#39;).css(&#39;background&#39;, &#39;red&#39;)
  // $lis.filter(&#39;[title!=hello]&#39;).filter(&#39;[title]&#39;).css(&#39;background&#39;, &#39;red&#39;)

  //6. ulä¸‹liæ ‡ç­¾ä¸­æœ‰spanå­æ ‡ç­¾çš„
  $lis.has(&#39;span&#39;).css(&#39;background&#39;, &#39;red&#39;)
&lt;/script&gt;</code></pre>
<p>(2) æŸ¥æ‰¾</p>
<p>åœ¨å·²ç»åŒ¹é…å‡ºçš„å…ƒç´ é›†åˆä¸­æ ¹æ®é€‰æ‹©å™¨æŸ¥æ‰¾å­©å­/çˆ¶æ¯/å…„å¼Ÿæ ‡ç­¾</p>
<ol>
<li><p>children(): å­æ ‡ç­¾ä¸­æ‰¾</p>
</li>
<li><p>find() : åä»£æ ‡ç­¾ä¸­æ‰¾</p>
</li>
<li><p>parent() : çˆ¶æ ‡ç­¾</p>
</li>
<li><p>prevAll() : å‰é¢æ‰€æœ‰çš„å…„å¼Ÿæ ‡ç­¾</p>
</li>
<li><p>nextAll() : åé¢æ‰€æœ‰çš„å…„å¼Ÿæ ‡ç­¾</p>
</li>
<li><p>siblings() : å‰åæ‰€æœ‰çš„å…„å¼Ÿæ ‡ç­¾</p>
</li>
</ol>
<pre><code class="html">&lt;div id=&quot;div1&quot; class=&quot;box&quot; title=&quot;one&quot;&gt;classä¸ºboxçš„div1&lt;/div&gt;
&lt;div id=&quot;div2&quot; class=&quot;box&quot;&gt;classä¸ºboxçš„div2&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt;
&lt;span class=&quot;box&quot;&gt;classä¸ºboxçš„span&lt;/span&gt;
&lt;br/&gt;
&lt;div&gt;
  &lt;ul&gt;
    &lt;span&gt;spanæ–‡æœ¬1&lt;/span&gt;
    &lt;li&gt;AAAAA&lt;/li&gt;
    &lt;li title=&quot;hello&quot; class=&quot;box2&quot;&gt;BBBBB&lt;/li&gt;
    &lt;li class=&quot;box&quot; id=&#39;cc&#39;&gt;CCCCC&lt;/li&gt;
    &lt;li title=&quot;hello&quot;&gt;DDDDDD&lt;/li&gt;
    &lt;li title=&quot;two&quot;&gt;&lt;span&gt;spanæ–‡æœ¬2&lt;/span&gt;&lt;/li&gt;
    &lt;span&gt;spanæ–‡æœ¬3&lt;/span&gt;
  &lt;/ul&gt;
  &lt;span&gt;spanæ–‡æœ¬444&lt;/span&gt;&lt;br&gt;
  &lt;li&gt;eeeee&lt;/li&gt;
  &lt;li&gt;EEEEE&lt;/li&gt;
  &lt;br&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var $ul = $(&#39;ul&#39;)
  //1. ulæ ‡ç­¾çš„ç¬¬2ä¸ªspanå­æ ‡ç­¾
  //$ul.children(&#39;span:eq(1)&#39;).css(&#39;background&#39;, &#39;red&#39;)

  //2. ulæ ‡ç­¾çš„ç¬¬2ä¸ªspanåä»£æ ‡ç­¾
  // $ul.find(&#39;span:eq(1)&#39;).css(&#39;background&#39;, &#39;red&#39;)

  //3. ulæ ‡ç­¾çš„çˆ¶æ ‡ç­¾
  // $ul.parent().css(&#39;background&#39;, &#39;red&#39;)

  //4. idä¸ºccçš„liæ ‡ç­¾çš„å‰é¢çš„æ‰€æœ‰liæ ‡ç­¾
  var $li = $(&#39;#cc&#39;)
  // $li.prevAll(&#39;li&#39;).css(&#39;background&#39;, &#39;red&#39;)

  //5. idä¸ºccçš„liæ ‡ç­¾çš„æ‰€æœ‰å…„å¼Ÿliæ ‡ç­¾
  $li.siblings(&#39;li&#39;).css(&#39;background&#39;, &#39;red&#39;)
&lt;/script&gt;</code></pre>
<h3 id="4ã€æ–‡æ¡£å¤„ç†-CUD"><a href="#4ã€æ–‡æ¡£å¤„ç†-CUD" class="headerlink" title="4ã€æ–‡æ¡£å¤„ç†(CUD)"></a>4ã€æ–‡æ¡£å¤„ç†(CUD)</h3><ul>
<li>å¢åŠ <ul>
<li>append() / appendTo(): å‘å½“å‰åŒ¹é…çš„æ‰€æœ‰å…ƒç´ å†…éƒ¨çš„æœ€åæ’å…¥æŒ‡å®šå†…å®¹</li>
<li>preppend() / preppendTo(): å‘å½“å‰åŒ¹é…çš„æ‰€æœ‰å…ƒç´ å†…éƒ¨çš„æœ€å‰é¢æ’å…¥æŒ‡å®šå†…å®¹</li>
<li>before(): å°†æŒ‡å®šå†…å®¹æ’å…¥åˆ°å½“å‰æ‰€æœ‰åŒ¹é…å…ƒç´ çš„å‰é¢</li>
<li>after(): å°†æŒ‡å®šå†…å®¹æ’å…¥åˆ°å½“å‰æ‰€æœ‰åŒ¹é…å…ƒç´ çš„åé¢æ›¿æ¢èŠ‚ç‚¹</li>
</ul>
</li>
<li>åˆ é™¤<ul>
<li>remove(): å°†è‡ªå·±åŠå†…éƒ¨çš„å­©å­éƒ½åˆ é™¤</li>
<li>empty(): æç©º(è‡ªå·±è¿˜åœ¨)</li>
</ul>
</li>
<li>æ›´æ–°<ul>
<li>replaceWith()ï¼šç”¨æŒ‡å®šå†…å®¹æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„æ ‡ç­¾åˆ é™¤èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 20px;
    left: 10px;
    background: blue;
  }
  .div2 {
    position: absolute;
    width: 100px;
    height: 100px;
    /*top: 50px;*/
    background: red;
  }
  .div3 {
    position: absolute;
    top: 250px;
  }
&lt;/style&gt;
&lt;ul id=&quot;ul1&quot;&gt;
  &lt;li&gt;AAAAA&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;BBBBB&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;CCCCC&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;DDDDDD&lt;/li&gt;
  &lt;li title=&quot;two&quot;&gt;EEEEE&lt;/li&gt;
  &lt;li&gt;FFFFF&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;br&gt;
&lt;ul id=&quot;ul2&quot;&gt;
  &lt;li&gt;aaa&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;bbb&lt;/li&gt;
  &lt;li class=&quot;box&quot;&gt;ccc&lt;/li&gt;
  &lt;li title=&quot;hello&quot;&gt;ddd&lt;/li&gt;
  &lt;li title=&quot;two&quot;&gt;eee&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1. å‘idä¸ºul1çš„ulä¸‹æ·»åŠ ä¸€ä¸ªspan(æœ€å)
  var $ul1 = $(&#39;#ul1&#39;)
  // $ul1.append(&#39;&lt;span&gt;append()æ·»åŠ çš„span&lt;/span&gt;&#39;)
  $(&#39;&lt;span&gt;appendTo()æ·»åŠ çš„span&lt;/span&gt;&#39;).appendTo($ul1)

  //2. å‘idä¸ºul1çš„ulä¸‹æ·»åŠ ä¸€ä¸ªspan(æœ€å‰)
  // $ul1.prepend(&#39;&lt;span&gt;prepend()æ·»åŠ çš„span&lt;/span&gt;&#39;)
  $(&#39;&lt;span&gt;prependTo()æ·»åŠ çš„span&lt;/span&gt;&#39;).prependTo($ul1)

  //3. åœ¨idä¸ºul1çš„ulä¸‹çš„li(titleä¸ºhello)çš„å‰é¢æ·»åŠ span
  $ul1.children(&#39;li[title=hello]&#39;).before(&#39;&lt;span&gt;before()æ·»åŠ çš„span&lt;/span&gt;&#39;)

  //4. åœ¨idä¸ºul1çš„ulä¸‹çš„li(titleä¸ºhello)çš„åé¢æ·»åŠ span
  $ul1.children(&#39;li[title=hello]&#39;).after(&#39;&lt;span&gt;after()æ·»åŠ çš„span&lt;/span&gt;&#39;)

  //5. å°†åœ¨idä¸ºul2çš„ulä¸‹çš„li(titleä¸ºhello)å…¨éƒ¨æ›¿æ¢ä¸ºp
  $(&#39;#ul2&gt;li[title=hello]&#39;).replaceWith(&#39;&lt;p&gt;replaceAll()æ›¿æ¢çš„p&lt;/p&gt;&#39;)
  //6. ç§»é™¤idä¸ºul2çš„ulä¸‹çš„æ‰€æœ‰li
  // $(&#39;#ul2&#39;).empty()  // &lt;p&gt;ä¹Ÿä¼šåˆ é™¤
  $(&#39;#ul2&gt;li&#39;).remove()
&lt;/script&gt;</code></pre>
<h3 id="5ã€äº‹ä»¶"><a href="#5ã€äº‹ä»¶" class="headerlink" title="5ã€äº‹ä»¶"></a>5ã€äº‹ä»¶</h3><p>(1) äº‹ä»¶å¤„ç†</p>
<ul>
<li><p>ç»‘å®šäº‹ä»¶</p>
<ul>
<li><p>eventName(function(){})ï¼šç»‘å®šå¯¹åº”äº‹ä»¶åçš„ç›‘å¬, ä¾‹å¦‚ï¼š<code>$(&#39;#div&#39;).click(function(){});</code></p>
</li>
<li><p>on(â€˜eventNameâ€™, function(){})ï¼š é€šç”¨çš„ç»‘å®šäº‹ä»¶ç›‘å¬, ä¾‹å¦‚ï¼š<code>$(&#39;#div&#39;).on(&#39;click&#39;, function(){})</code></p>
<ul>
<li>å¸¸ç”¨: <code>click</code>, <code>mouseenter</code>/<code>mouseleave</code> <code>mouseover</code>/<code>mouseout</code> <code>focus</code>/<code>blur</code></li>
</ul>
<p>ä¼˜ç¼ºç‚¹:</p>
<p>eventName: ç¼–ç æ–¹ä¾¿, ä½†åªèƒ½åŠ ä¸€ä¸ªç›‘å¬, ä¸”æœ‰çš„äº‹ä»¶ç›‘å¬ä¸æ”¯æŒ</p>
<p>on: ç¼–ç ä¸æ–¹ä¾¿, å¯ä»¥æ·»åŠ å¤šä¸ªç›‘å¬, ä¸”æ›´é€šç”¨</p>
</li>
</ul>
</li>
<li><p>è§£ç»‘äº‹ä»¶</p>
<ul>
<li>off(â€˜eventNameâ€™)</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .out {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 20px;
    left: 10px;
    background: blue;
  }
  .inner {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 50px;
    background: red;
  }
  .divBtn {
    position: absolute;
    top: 250px;
  }
&lt;/style&gt;
&lt;body style=&quot;height: 2000px;&quot;&gt;
&lt;div class=&quot;out&quot;&gt;
  å¤–éƒ¨DIV
  &lt;div class=&quot;inner&quot;&gt;å†…éƒ¨div&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#39;divBtn&#39;&gt;
  &lt;button id=&quot;btn1&quot;&gt;å–æ¶ˆç»‘å®šæ‰€æœ‰äº‹ä»¶&lt;/button&gt;
  &lt;button id=&quot;btn2&quot;&gt;å–æ¶ˆç»‘å®šmouseoveräº‹ä»¶&lt;/button&gt;
  &lt;button id=&quot;btn3&quot;&gt;æµ‹è¯•äº‹ä»¶åæ ‡&lt;/button&gt;
  &lt;a href=&quot;http://www.baidu.com&quot; id=&quot;test4&quot;&gt;ç™¾åº¦ä¸€ä¸‹&lt;/a&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  //1. ç»™.outç»‘å®šç‚¹å‡»ç›‘å¬(ç”¨ä¸¤ç§æ–¹æ³•ç»‘å®š)
  /*$(&#39;.out&#39;).click(function () {
   console.log(&#39;click out&#39;)
   })*/
  $(&#39;.out&#39;).on(&#39;click&#39;, function () {
    console.log(&#39;on click out&#39;)
  })

  //2. ç»™.innerç»‘å®šé¼ æ ‡ç§»å…¥å’Œç§»å‡ºçš„äº‹ä»¶ç›‘å¬(ç”¨3ç§æ–¹æ³•ç»‘å®š)
  /*
   $(&#39;.inner&#39;)
   .mouseenter(function () { // è¿›å…¥
    console.log(&#39;è¿›å…¥&#39;)
   })
   .mouseleave(function () { // ç¦»å¼€
   console.log(&#39;ç¦»å¼€&#39;)
   })
   */
  /*
   $(&#39;.inner&#39;)
   .on(&#39;mouseenter&#39;, function () {
   console.log(&#39;è¿›å…¥2&#39;)
   })
   .on(&#39;mouseleave&#39;, function () {
   console.log(&#39;ç¦»å¼€2&#39;)
   })
   */
  $(&#39;.inner&#39;).hover(function () {
    console.log(&#39;è¿›å…¥3&#39;)
  }, function () {
    console.log(&#39;ç¦»å¼€3&#39;)
  })


  //3. ç‚¹å‡»btn1è§£é™¤.innerä¸Šçš„æ‰€æœ‰äº‹ä»¶ç›‘å¬
  $(&#39;#btn1&#39;).click(function () {
    $(&#39;.inner&#39;).off()
  })

  //4. ç‚¹å‡»btn2è§£é™¤.innerä¸Šçš„mouseenteräº‹ä»¶
  $(&#39;#btn2&#39;).click(function () {
    $(&#39;.inner&#39;).off(&#39;mouseenter&#39;)
  })

  //5. ç‚¹å‡»btn3å¾—åˆ°äº‹ä»¶åæ ‡
  $(&#39;#btn3&#39;).click(function (event) { // eventäº‹ä»¶å¯¹è±¡
    console.log(event.offsetX, event.offsetY) // åŸç‚¹ä¸ºäº‹ä»¶å…ƒç´ çš„å·¦ä¸Šè§’
    console.log(event.clientX, event.clientY) // åŸç‚¹ä¸ºçª—å£çš„å·¦ä¸Šè§’
    console.log(event.pageX, event.pageY) // åŸç‚¹ä¸ºé¡µé¢çš„å·¦ä¸Šè§’
  })

  //6. ç‚¹å‡».inneråŒºåŸŸ, å¤–éƒ¨ç‚¹å‡»ç›‘å¬ä¸å“åº”
  $(&#39;.inner&#39;).click(function (event) {
    console.log(&#39;click inner&#39;)
    //åœæ­¢äº‹ä»¶å†’æ³¡
    event.stopPropagation()
  })

  //7. ç‚¹å‡»é“¾æ¥, å¦‚æœå½“å‰æ—¶é—´æ˜¯å¶æ•°ä¸è·³è½¬
  $(&#39;#test4&#39;).click(function (event) {
    if(Date.now()%2===0) {
      event.preventDefault()
    }
  })
&lt;/script&gt;</code></pre>
<p>(2) äº‹ä»¶åˆ‡æ¢</p>
<p>hover(function(){}, function(){}) åŒæ—¶ç»‘å®šé¼ æ ‡ç§»å…¥å’Œç§»å‡ºç›‘å¬</p>
<p>åŒºåˆ«mouseoverä¸mouseenter?</p>
<ul>
<li><p>mouseover: åœ¨ç§»å…¥å­å…ƒç´ æ—¶ä¹Ÿä¼šè§¦å‘, å¯¹åº”mouseout</p>
</li>
<li><p>mouseenter: åªåœ¨ç§»å…¥å½“å‰å…ƒç´ æ—¶æ‰è§¦å‘, å¯¹åº”mouseleave</p>
</li>
</ul>
<p>â€‹        hover()ä½¿ç”¨çš„å°±æ˜¯mouseenter()å’Œmouseleave()</p>
<p>åŒºåˆ«on(â€˜eventNameâ€™, fun)ä¸eventName(fun)</p>
<ul>
<li><p>on(â€˜eventNameâ€™, fun): é€šç”¨, ä½†ç¼–ç éº»çƒ¦</p>
</li>
<li><p>eventName(fun): ç¼–ç ç®€å•, ä½†æœ‰çš„äº‹ä»¶æ²¡æœ‰å¯¹åº”çš„æ–¹æ³•</p>
</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
    * {
        margin: 0px;
    }
    .div1 {
        position: absolute;
        width: 200px;
        height: 200px;
        top: 50px;
        left: 10px;
        background: olive;
    }
    .div2 {
        position: absolute;
        width: 100px;
        height: 100px;
        top: 50px;
        background: red;
    }
    .div3 {
        position: absolute;
        width: 200px;
        height: 200px;
        top: 50px;
        left: 230px;
        background: olive;
    }
    .div4 {
        position: absolute;
        width: 100px;
        height: 100px;
        top: 50px;
        background: yellow;
    }
    .divText{
        position: absolute;
        top: 330px;
        left: 10px;
    }
&lt;/style&gt;
&lt;div class=&quot;divText&quot;&gt;
    åŒºåˆ†é¼ æ ‡çš„äº‹ä»¶
&lt;/div&gt;
&lt;div class=&quot;div1&quot;&gt;
    div1.....
    &lt;div class=&quot;div2&quot;&gt;div2....&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;div3&quot;&gt;
    div3.....
    &lt;div class=&quot;div4&quot;&gt;div4....&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    $(&#39;.div1&#39;)
        .mouseover(function () {
            console.log(&#39;mouseover è¿›å…¥&#39;)
        })
        .mouseout(function () {
            console.log(&#39;mouseout ç¦»å¼€&#39;)
        })
    $(&#39;.div3&#39;)
        .mouseenter(function () {
            console.log(&#39;mouseenter è¿›å…¥&#39;)
        })
        .mouseleave(function () {
            console.log(&#39;mouseleave ç¦»å¼€&#39;)
        })
&lt;/script&gt;</code></pre>
<p>(3) äº‹ä»¶å§”æ‰˜</p>
<ul>
<li>ç†è§£: å°†å­å…ƒç´ çš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶è¾ˆå…ƒç´ å¤„ç†<ul>
<li>äº‹ä»¶ç›‘å¬ç»‘å®šåœ¨çˆ¶å…ƒç´ ä¸Š, ä½†äº‹ä»¶å‘ç”Ÿåœ¨å­å…ƒç´ ä¸Š</li>
<li>ã€€äº‹ä»¶ä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ </li>
<li>ä½†æœ€ç»ˆè°ƒç”¨çš„äº‹ä»¶å›è°ƒå‡½æ•°çš„æ˜¯å­å…ƒç´ : event.target</li>
</ul>
</li>
<li>å¥½å¤„<ul>
<li>æ–°å¢çš„å…ƒç´ æ²¡æœ‰äº‹ä»¶ç›‘å¬</li>
<li>å‡å°‘ç›‘å¬çš„æ•°é‡(n==&gt;1)</li>
</ul>
</li>
<li>ç¼–ç <ul>
<li>delegate(selector, â€˜eventNameâ€™, function(event){}) // å›è°ƒå‡½æ•°ä¸­çš„thisæ˜¯å­å…ƒç´ </li>
<li>undelegate(â€˜eventNameâ€™)</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;ul&gt;
  &lt;li&gt;11111&lt;/li&gt;
  &lt;li&gt;1111111&lt;/li&gt;
  &lt;li&gt;111111111&lt;/li&gt;
  &lt;li&gt;11111111111&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;22222&lt;/li&gt;
&lt;br&gt;
&lt;button id=&quot;btn&quot;&gt;æ·»åŠ æ–°çš„li&lt;/button&gt;
&lt;br&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  /*
   éœ€æ±‚ï¼š
   1. ç‚¹å‡» li èƒŒæ™¯å°±ä¼šå˜ä¸ºçº¢è‰²
   2. ç‚¹å‡» btn å°±æ·»åŠ ä¸€ä¸ª li
  */
  $(&#39;ul&gt;li&#39;).click(function () {
    this.style.background = &#39;red&#39;
  })

  $(&#39;#btn&#39;).click(function () {
    $(&#39;ul&#39;).append(&#39;&lt;li&gt;æ–°å¢çš„li....&lt;/li&gt;&#39;)
  })
&lt;/script&gt;</code></pre>
<p>å¼•å…¥ï¼šç»‘å®šäº‹ä»¶ç›‘å¬çš„é—®é¢˜: æ–°åŠ çš„å…ƒç´ æ²¡æœ‰ç›‘å¬</p>
<ol>
<li>äº‹ä»¶å§”æ‰˜(å§”æ´¾/ä»£ç†):</li>
</ol>
<ul>
<li><p>å°†å¤šä¸ªå­å…ƒç´ (li)çš„äº‹ä»¶ç›‘å¬å§”æ‰˜ç»™çˆ¶è¾ˆå…ƒç´ (ul)å¤„ç†</p>
</li>
<li><p>ç›‘å¬å›è°ƒæ˜¯åŠ åœ¨äº†çˆ¶è¾ˆå…ƒç´ ä¸Š</p>
</li>
<li><p>å½“æ“ä½œä»»ä½•ä¸€ä¸ªå­å…ƒç´ (li)æ—¶, äº‹ä»¶ä¼šå†’æ³¡åˆ°çˆ¶è¾ˆå…ƒç´ (ul)</p>
</li>
<li><p>çˆ¶è¾ˆå…ƒç´ ä¸ä¼šç›´æ¥å¤„ç†äº‹ä»¶, è€Œæ˜¯æ ¹æ®event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„å­å…ƒç´ (li), é€šè¿‡è¿™ä¸ªå­å…ƒç´ è°ƒç”¨äº‹ä»¶å›è°ƒå‡½æ•°</p>
</li>
</ul>
<ol start="2">
<li>äº‹ä»¶å§”æ‰˜çš„2æ–¹:</li>
</ol>
<ul>
<li><p>å§”æ‰˜æ–¹: ä¸šä¸» li</p>
</li>
<li><p>è¢«å§”æ‰˜æ–¹: ä¸­ä»‹ ul</p>
</li>
</ul>
<ol start="3">
<li>ä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„å¥½å¤„</li>
</ol>
<ul>
<li><p>æ·»åŠ æ–°çš„å­å…ƒç´ , è‡ªåŠ¨æœ‰äº‹ä»¶å“åº”å¤„ç†</p>
</li>
<li><p>å‡å°‘äº‹ä»¶ç›‘å¬çš„æ•°é‡: n==&gt;1</p>
</li>
</ul>
<ol start="4">
<li>jQueryçš„äº‹ä»¶å§”æ‰˜API</li>
</ol>
<ul>
<li><p>è®¾ç½®äº‹ä»¶å§”æ‰˜: <code>$(parentSelector).delegate(childrenSelector, eventName, callback)</code></p>
</li>
<li><p>ç§»é™¤äº‹ä»¶å§”æ‰˜: <code>$(parentSelector).undelegate(eventName)</code></p>
</li>
</ul>
<pre><code class="html">&lt;ul&gt;
  &lt;li&gt;1111&lt;/li&gt;
  &lt;li&gt;2222&lt;/li&gt;
  &lt;li&gt;3333&lt;/li&gt;
  &lt;li&gt;4444&lt;/li&gt;
&lt;/ul&gt;
&lt;li&gt;22222&lt;/li&gt;
&lt;br&gt;
&lt;button id=&quot;btn1&quot;&gt;æ·»åŠ æ–°çš„li&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;åˆ é™¤ulä¸Šçš„äº‹ä»¶å§”æ‰˜çš„ç›‘å¬å™¨&lt;/button&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  // è®¾ç½®äº‹ä»¶å§”æ‰˜
  $(&#39;ul&#39;).delegate(&#39;li&#39;, &#39;click&#39;, function () {
    // console.log(this)
    this.style.background = &#39;red&#39;
  })
  $(&#39;#btn1&#39;).click(function () {
    $(&#39;ul&#39;).append(&#39;&lt;li&gt;æ–°å¢çš„li....&lt;/li&gt;&#39;)
  })
  $(&#39;#btn2&#39;).click(function () {
    // ç§»é™¤äº‹ä»¶å§”æ‰˜
    $(&#39;ul&#39;).undelegate(&#39;click&#39;)
  })
&lt;/script&gt;</code></pre>
<ul>
<li><p>äº‹ä»¶åæ ‡</p>
<ul>
<li><p><code>event.offsetX</code>/<code>event.offsetY</code>: åŸç‚¹æ˜¯å½“å‰å…ƒç´ å·¦ä¸Šè§’(ç›¸å¯¹äºäº‹ä»¶å…ƒç´ å·¦ä¸Šè§’)</p>
</li>
<li><p><code>event.clientX</code>/<code>event.clientY</code>: åŸç‚¹æ˜¯çª—å£å·¦ä¸Šè§’(ç›¸å¯¹äºè§†å£çš„å·¦ä¸Šè§’)</p>
</li>
<li><p><code>event.pageX</code>/<code>event.pageY</code>: åŸç‚¹æ˜¯é¡µé¢å·¦ä¸Šè§’(ç›¸å¯¹äºé¡µé¢çš„å·¦ä¸Šè§’)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815173853.png" alt="image-20200815173852046" class="lazyload"></p>
</li>
</ul>
</li>
<li><p>äº‹ä»¶ç›¸å…³å¤„ç†</p>
<ul>
<li>åœæ­¢äº‹ä»¶å†’æ³¡: <code>event.stopPropagation()</code></li>
<li>é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º: <code>event.preventDefault()</code></li>
</ul>
</li>
</ul>
<h3 id="6ã€åŠ¨ç”»æ•ˆæœ"><a href="#6ã€åŠ¨ç”»æ•ˆæœ" class="headerlink" title="6ã€åŠ¨ç”»æ•ˆæœ"></a>6ã€åŠ¨ç”»æ•ˆæœ</h3><p>åœ¨ä¸€å®šçš„æ—¶é—´å†…, ä¸æ–­æ”¹å˜å…ƒç´ æ ·å¼</p>
<p>(1) æ»‘åŠ¨åŠ¨ç”»(ä¸æ–­æ”¹å˜å…ƒç´ çš„é«˜åº¦æ¥å®ç°çš„)</p>
<ul>
<li>slideDown()ï¼šå¸¦åŠ¨ç”»çš„å±•å¼€</li>
<li>slideUp()ï¼šå¸¦åŠ¨ç”»çš„æ”¶ç¼©</li>
<li>slideToggle()ï¼šå¸¦åŠ¨ç”»çš„åˆ‡æ¢å±•å¼€/æ”¶ç¼©</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 50px;
    left: 10px;
    background: red;
  }
&lt;/style&gt;
&lt;body&gt;
&lt;button id=&quot;btn1&quot;&gt;æ…¢æ…¢æ”¶ç¼©&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;æ…¢æ…¢å±•å¼€&lt;/button&gt;
&lt;button id=&quot;btn3&quot;&gt;æ”¶ç¼©/å±•å¼€åˆ‡æ¢&lt;/button&gt;
&lt;div class=&quot;div1&quot;&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚ï¼š
   1. ç‚¹å‡»btn1, å‘ä¸Šæ»‘åŠ¨
   2. ç‚¹å‡»btn2, å‘ä¸‹æ»‘åŠ¨
   3. ç‚¹å‡»btn3, å‘ä¸Š/å‘ä¸‹åˆ‡æ¢
   */
  var $div1 = $(&#39;.div1&#39;)
  // 1. ç‚¹å‡»btn1, å‘ä¸Šæ»‘åŠ¨
  $(&#39;#btn1&#39;).click(function () {
    $div1.slideUp(3000)
  })
  // 2. ç‚¹å‡»btn2, å‘ä¸‹æ»‘åŠ¨
  $(&#39;#btn2&#39;).click(function () {
    $div1.slideDown()
  })
  // 3. ç‚¹å‡»btn3, å‘ä¸Š/å‘ä¸‹åˆ‡æ¢
  $(&#39;#btn3&#39;).click(function () {
    $div1.slideToggle()
  })
&lt;/script&gt;</code></pre>
<p>(2) æ·¡å…¥æ·¡å‡ºåŠ¨ç”»(ä¸æ–­æ”¹å˜å…ƒç´ çš„é€æ˜åº¦æ¥å®ç°çš„)</p>
<ul>
<li>fadeIn()ï¼šå¸¦åŠ¨ç”»çš„æ˜¾ç¤º</li>
<li>fadeOut()ï¼šå¸¦åŠ¨ç”»éšè—</li>
<li>fadeToggle()ï¼šå¸¦åŠ¨ç”»åˆ‡æ¢æ˜¾ç¤º/éšè—</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 50px;
    left: 10px;
    background: red;
  }
&lt;/style&gt;
&lt;body&gt;
&lt;button id=&quot;btn1&quot;&gt;æ…¢æ…¢æ·¡å‡º&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;æ…¢æ…¢æ·¡å…¥&lt;/button&gt;
&lt;button id=&quot;btn3&quot;&gt;æ·¡å‡º/æ·¡å…¥åˆ‡æ¢&lt;/button&gt;
&lt;div class=&quot;div1&quot;&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚ï¼š
   1. ç‚¹å‡»btn1, æ…¢æ…¢æ·¡å‡º
     * æ— å‚
     * æœ‰å‚
       * å­—ç¬¦ä¸²å‚æ•°
       * æ•°å­—å‚æ•°
   2. ç‚¹å‡»btn3, æ…¢æ…¢æ·¡å…¥
   3. ç‚¹å‡»btn3, æ·¡å‡º/æ·¡å…¥åˆ‡æ¢ï¼ŒåŠ¨ç”»ç»“æŸæ—¶æç¤ºâ€œåŠ¨ç”»ç»“æŸäº†â€
   */
  var $div1 = $(&#39;.div1&#39;)
  $(&#39;#btn1&#39;).click(function () {
    // $div1.fadeOut()
    // $div1.fadeOut(&#39;slow&#39;)
    $div1.fadeOut(1000, function () {
      alert(&#39;åŠ¨ç”»å®Œæˆäº†!!!&#39;)
    })
  })
  $(&#39;#btn2&#39;).click(function () {
    $div1.fadeIn()
  })
  $(&#39;#btn3&#39;).click(function () {
    $div1.fadeToggle()
  })
&lt;/script&gt;</code></pre>
<p>(3) æ˜¾ç¤º/éšè—åŠ¨ç”»(ä¸æ–­æ”¹å˜å…ƒç´ çš„å°ºå¯¸å’Œé€æ˜åº¦æ¥å®ç°)</p>
<ul>
<li>show()ï¼š(ä¸)å¸¦åŠ¨ç”»çš„æ˜¾ç¤º</li>
<li>hide()ï¼š(ä¸)å¸¦åŠ¨ç”»çš„éšè—</li>
<li>toggle()ï¼š(ä¸)å¸¦åŠ¨ç”»çš„åˆ‡æ¢æ˜¾ç¤º/éšè—</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 200px;
    height: 200px;
    top: 50px;
    left: 10px;
    background: red;
    display: none;
  }
&lt;/style&gt;
&lt;body&gt;
&lt;button id=&quot;btn1&quot;&gt;ç¬é—´æ˜¾ç¤º&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;æ…¢æ…¢æ˜¾ç¤º&lt;/button&gt;
&lt;button id=&quot;btn3&quot;&gt;æ…¢æ…¢éšè—&lt;/button&gt;
&lt;button id=&quot;btn4&quot;&gt;æ˜¾ç¤ºéšè—åˆ‡æ¢&lt;/button&gt;
&lt;div class=&quot;div1&quot;&gt;
&lt;/div&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
  éœ€æ±‚:
  1. ç‚¹å‡»btn1, ç«‹å³æ˜¾ç¤º
  2. ç‚¹å‡»btn2, æ…¢æ…¢æ˜¾ç¤º
  3. ç‚¹å‡»btn3, æ…¢æ…¢éšè—
  4. ç‚¹å‡»btn4, åˆ‡æ¢æ˜¾ç¤º/éšè—
   */
  var $div1 = $(&#39;.div1&#39;)
  //1. ç‚¹å‡»btn1, ç«‹å³æ˜¾ç¤º
  $(&#39;#btn1&#39;).click(function () {
    $div1.show()
  })
  //2. ç‚¹å‡»btn2, æ…¢æ…¢æ˜¾ç¤º
  $(&#39;#btn2&#39;).click(function () {
    $div1.show(1000)
  })
  //3. ç‚¹å‡»btn3, æ…¢æ…¢éšè—
  $(&#39;#btn3&#39;).click(function () {
    $div1.hide(1000)
  })
  //4. ç‚¹å‡»btn4, åˆ‡æ¢æ˜¾ç¤º/éšè—
  $(&#39;#btn4&#39;).click(function () {
    $div1.toggle(1000)
  })
&lt;/script&gt;</code></pre>
<p>(4) è‡ªå®šä¹‰åŠ¨ç”»</p>
<ul>
<li>animate({ç»“æŸæ—¶çš„æ ·å¼}, time, fun)ï¼šè‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœçš„åŠ¨ç”»</li>
<li>stop()ï¼šåœæ­¢åŠ¨ç”»</li>
</ul>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }

  .div1 {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 50px;
    left: 300px;
    background: red;
  }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;button id=&quot;btn1&quot;&gt;é€æ¸æ‰©å¤§&lt;/button&gt;
&lt;button id=&quot;btn2&quot;&gt;ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®&lt;/button&gt;
&lt;button id=&quot;btn3&quot;&gt;ç§»åŠ¨æŒ‡å®šè·ç¦»&lt;/button&gt;
&lt;button id=&quot;btn4&quot;&gt;åœæ­¢åŠ¨ç”»&lt;/button&gt;

&lt;div class=&quot;div1&quot;&gt;
  èŠ±æ»¡ç”°é—´ï¼Œæœˆç…§äººå½±
&lt;/div&gt;
&lt;!--
jQueryåŠ¨ç”»æœ¬è´¨ : åœ¨æŒ‡å®šæ—¶é—´å†…ä¸æ–­æ”¹å˜å…ƒç´ æ ·å¼å€¼æ¥å®ç°çš„
1. animate(): è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœçš„åŠ¨ç”»
2. stop(): åœæ­¢åŠ¨ç”»
--&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚ï¼š
    1. é€æ¸æ‰©å¤§
      1). å®½/é«˜éƒ½æ‰©ä¸º200px
      2). å®½å…ˆæ‰©ä¸º200px, é«˜åæ‰©ä¸º200px
    2. ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®
      1).ç§»åŠ¨åˆ°(500, 100)å¤„
      2).ç§»åŠ¨åˆ°(100, 20)å¤„
    3.ç§»åŠ¨æŒ‡å®šçš„è·ç¦»
      1). ç§»åŠ¨è·ç¦»ä¸º(100, 50)
      2). ç§»åŠ¨è·ç¦»ä¸º(-100, -20)
    4. åœæ­¢åŠ¨ç”»
   */
  var $div1 = $(&#39;.div1&#39;)

  /*
   1. é€æ¸æ‰©å¤§
     1). å®½/é«˜éƒ½æ‰©ä¸º200px
     2). å®½å…ˆæ‰©ä¸º200px, é«˜åæ‰©ä¸º200px
   */
  $(&#39;#btn1&#39;).click(function () {
    /*
    $div1.animate({
      width: 200,
      height: 200
    }, 1000)
    */
    $div1
      .animate({
        width: 200
      }, 1000)
      .animate({
        height: 200
      }, 1000)
  })
  /*
   2. ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®
     1).ç§»åŠ¨åˆ°(500, 100)å¤„
     2).ç§»åŠ¨åˆ°(100, 20)å¤„
   */
  $(&#39;#btn2&#39;).click(function () {
    // 1).ç§»åŠ¨åˆ°(500, 100)å¤„
    /*
    $div1.animate({ // å‘å³ä¸‹ç§»åŠ¨
      left: 500,
      top: 100
    }, 1000)
    */

    // 2).ç§»åŠ¨åˆ°(100, 20)å¤„
    $div1.animate({ // å‘å·¦ä¸Šç§»åŠ¨
      left: 100,  // 300
      top: 20  // 50
    }, 1000)
  })
  /*
   3.ç§»åŠ¨æŒ‡å®šçš„è·ç¦»
     1). ç§»åŠ¨è·ç¦»ä¸º(100, 50)
     2). ç§»åŠ¨è·ç¦»ä¸º(-100, -20)
   */
  $(&#39;#btn3&#39;).click(function () {
    // 1). ç§»åŠ¨è·ç¦»ä¸º(100, 50)
    /*$div1.animate({
      left: &#39;+=100&#39;,
      top: &#39;+=50&#39;
    }, 1000)*/
    // 2). ç§»åŠ¨è·ç¦»ä¸º(-100, -20)
    $div1.animate({
      left: &#39;-=100&#39;,
      top: &#39;-=20&#39;
    }, 3000)
  })
  $(&#39;#btn4&#39;).click(function () {
    $div1.stop()
  })
&lt;/script&gt;</code></pre>
<p>jQueryå¯¹è±¡ä½¿ç”¨ç‰¹ç‚¹</p>
<ul>
<li>é“¾å¼è°ƒç”¨ï¼šè°ƒç”¨jQueryå¯¹è±¡çš„ä»»ä½•æ–¹æ³•åè¿”å›çš„è¿˜æ˜¯å½“å‰jQueryå¯¹è±¡</li>
</ul>
<pre><code class="javascript">$(&#39;.div1&#39;)
        .mouseover(function () {
            console.log(&#39;mouseover è¿›å…¥&#39;)
        })
        .mouseout(function () {
            console.log(&#39;mouseout ç¦»å¼€&#39;)
        })</code></pre>
<ul>
<li>è¯»å†™åˆä¸€<ul>
<li>è¯»: å†…éƒ¨ç¬¬ä¸€ä¸ªdomå…ƒç´ </li>
<li>å†™: å†…éƒ¨æ‰€æœ‰çš„domå…ƒç´ </li>
</ul>
</li>
</ul>
<h2 id="äº”ã€jQueryæ’ä»¶"><a href="#äº”ã€jQueryæ’ä»¶" class="headerlink" title="äº”ã€jQueryæ’ä»¶"></a>äº”ã€jQueryæ’ä»¶</h2><h3 id="1ã€æ‰©å±•æ’ä»¶"><a href="#1ã€æ‰©å±•æ’ä»¶" class="headerlink" title="1ã€æ‰©å±•æ’ä»¶"></a>1ã€æ‰©å±•æ’ä»¶</h3><ul>
<li>æ‰©å±•jQueryçš„å·¥å…·æ–¹æ³•</li>
</ul>
<pre><code class="javascript">$.extend({
  xxx: fuction () {} // thisæ˜¯$
})
$.xxx()</code></pre>
<ul>
<li>æ‰©å±•jQueryå¯¹è±¡çš„æ–¹æ³•</li>
</ul>
<pre><code class="javascript">$.fn.extend({
  xxx: function(){}  // thisæ˜¯jQueryå¯¹è±¡
})
$obj.xxx()</code></pre>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 50px;
    left: 10px;
    background: red;
  }
&lt;/style&gt;
&lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;è¶³çƒ&quot;/&gt;è¶³çƒ
&lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ç¯®çƒ&quot;/&gt;ç¯®çƒ
&lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ç¾½æ¯›çƒ&quot;/&gt;ç¾½æ¯›çƒ
&lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ä¹’ä¹“çƒ&quot;/&gt;ä¹’ä¹“çƒ
&lt;br/&gt;
&lt;input type=&quot;button&quot; id=&quot;checkedAllBtn&quot; value=&quot;å…¨ã€€é€‰&quot;/&gt;
&lt;input type=&quot;button&quot; id=&quot;checkedNoBtn&quot; value=&quot;å…¨ä¸é€‰&quot;/&gt;
&lt;input type=&quot;button&quot; id=&quot;reverseCheckedBtn&quot; value=&quot;åé€‰&quot;/&gt;
&lt;!--
1. æ‰©å±•jQueryçš„å·¥å…·æ–¹æ³•
  $.extend(object)
2. æ‰©å±•jQueryå¯¹è±¡çš„æ–¹æ³•
  $.fn.extend(object)
--&gt;
&lt;script src=&quot;js/jquery-1.10.1.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/my_jQuery-plugin.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚ï¼š
   1. ç»™ $ æ·»åŠ 4ä¸ªå·¥å…·æ–¹æ³•:
     * min(a, b) : è¿”å›è¾ƒå°çš„å€¼
     * max(c, d) : è¿”å›è¾ƒå¤§çš„å€¼
     * leftTrim() : å»æ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼
     * rightTrim() : å»æ‰å­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼
   2. ç»™jQueryå¯¹è±¡ æ·»åŠ 3ä¸ªåŠŸèƒ½æ–¹æ³•:
     * checkAll() : å…¨é€‰
     * unCheckAll() : å…¨ä¸é€‰
     * reverseCheck() : å…¨åé€‰
   */
  console.log($.min(3, 5), $.max(3, 5))
  var string = &#39;   my atguigu    &#39;
  console.log(&#39;-----&#39; + $.leftTrim(string) + &#39;-----&#39;)
  console.log(&#39;-----&#39; + $.rightTrim(string) + &#39;-----&#39;)
  var $items = $(&#39;:checkbox[name=items]&#39;)
  $(&#39;#checkedAllBtn&#39;).click(function () {
    $items.checkAll()
  })
  $(&#39;#checkedNoBtn&#39;).click(function () {
    $items.unCheckAll()
  })
  $(&#39;#reverseCheckedBtn&#39;).click(function () {
    $items.reverseCheck()
  })
&lt;/script&gt;</code></pre>
<h3 id="2ã€jQueryæ’ä»¶"><a href="#2ã€jQueryæ’ä»¶" class="headerlink" title="2ã€jQueryæ’ä»¶"></a>2ã€jQueryæ’ä»¶</h3><ul>
<li><p>ç†è§£</p>
<ul>
<li>åŸºäºjQueryç¼–å†™çš„æ‰©å±•åº“</li>
<li><a href="http://plugins.jquery.com/" target="_blank" rel="noopener">http://plugins.jquery.com/</a></li>
</ul>
</li>
<li><p>jquery-validation</p>
<ul>
<li>è¡¨å•éªŒè¯æ’ä»¶</li>
<li>å‚è€ƒâ€èœé¸Ÿæ•™ç¨‹â€å­¦ä¹  <a href="https://www.runoob.com/jquery/jquery-plugin-validate.html" target="_blank" rel="noopener">https://www.runoob.com/jquery/jquery-plugin-validate.html</a></li>
<li>ä½¿ç”¨<ul>
<li>ä¸‹è½½</li>
<li>å¼•å…¥js<ul>
<li>jquery-1.11.1.js</li>
<li>jquery.validate.js</li>
<li>messages_zh.js</li>
</ul>
</li>
<li>å®šä¹‰éªŒè¯<ul>
<li>ç›´æ¥åœ¨æ ‡ç­¾ä¸­æŒ‡å®š</li>
<li>jsç¼–ç æŒ‡å®š</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>jquery UI  <a href="http://jqueryui.com/" target="_blank" rel="noopener">http://jqueryui.com/</a></p>
</li>
<li><p>laydate   <a href="http://www.layui.com/laydate/" target="_blank" rel="noopener">http://www.layui.com/laydate/</a></p>
</li>
</ul>
<h2 id="å…­ã€å…¶ä»–"><a href="#å…­ã€å…¶ä»–" class="headerlink" title="å…­ã€å…¶ä»–"></a>å…­ã€å…¶ä»–</h2><h3 id="1ã€å¤šåº“å…±å­˜"><a href="#1ã€å¤šåº“å…±å­˜" class="headerlink" title="1ã€å¤šåº“å…±å­˜"></a>1ã€å¤šåº“å…±å­˜</h3><pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
  * {
    margin: 0px;
  }
  .div1 {
    position: absolute;
    width: 100px;
    height: 100px;
    top: 50px;
    left: 10px;
    background: red;
  }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--
é—®é¢˜ : å¦‚æœæœ‰2ä¸ªåº“éƒ½æœ‰$, å°±å­˜åœ¨å†²çª
è§£å†³ : jQueryåº“å¯ä»¥é‡Šæ”¾$çš„ä½¿ç”¨æƒ, è®©å¦ä¸€ä¸ªåº“å¯ä»¥æ­£å¸¸ä½¿ç”¨, æ­¤æ—¶jQueryåº“åªèƒ½ä½¿ç”¨jQueryäº†
API : jQuery.noConflict()
--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/myLib.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  // é‡Šæ”¾$çš„ä½¿ç”¨æƒ
  jQuery.noConflict()
  // è°ƒç”¨myLibä¸­çš„$
  $()
  // è¦æƒ³ä½¿ç”¨jQueryçš„åŠŸèƒ½, åªèƒ½ä½¿ç”¨jQuery
  jQuery(function () {
    console.log(&#39;æ–‡æ¡£åŠ è½½å®Œæˆ&#39;)
  })
&lt;/script&gt;</code></pre>
<h3 id="2ã€jQueryä¸­çš„-function"><a href="#2ã€jQueryä¸­çš„-function" class="headerlink" title="2ã€jQueryä¸­çš„$(function(){})"></a>2ã€jQueryä¸­çš„<code>$(function(){})</code></h3><pre><code class="html">&lt;h1&gt;æµ‹è¯•window.onloadä¸$(document).ready()&lt;/h1&gt;
&lt;img id=&quot;logo&quot; src=&quot;https://gss0.bdstatic.com/5bVWsj_p_tVS5dKfpU_Y_D3/res/r/image/2017-05-19/6fec71d56242b74eb24b4ac80b817eac.png&quot;&gt;
&lt;!--
åŒºåˆ«: window.onloadä¸ $(document).ready()
  * window.onload
    * åŒ…æ‹¬é¡µé¢çš„å›¾ç‰‡åŠ è½½å®Œåæ‰ä¼šå›è°ƒ(æ™š)
    * åªèƒ½æœ‰ä¸€ä¸ªç›‘å¬å›è°ƒ
  * $(document).ready()
    * ç­‰åŒäº: $(function(){})
    * é¡µé¢åŠ è½½å®Œå°±å›è°ƒ(æ—©)
    * å¯ä»¥æœ‰å¤šä¸ªç›‘å¬å›è°ƒ
--&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   éœ€æ±‚ï¼š
   1. ç›´æ¥æ‰“å°imgçš„å®½åº¦ï¼Œè§‚å¯Ÿå…¶å€¼
   2. åœ¨ $(function(){}) ä¸­ æ‰“å° img çš„å®½åº¦
   3. åœ¨ window.onload ä¸­æ‰“å°å®½åº¦
   4. åœ¨ img åŠ è½½å®Œæˆåæ‰“å°å®½åº¦
   */
  // 1. ç›´æ¥æ‰“å°imgçš„å®½åº¦ï¼Œè§‚å¯Ÿå…¶å€¼
  console.log(&#39;ç›´æ¥&#39;, $(&#39;#logo&#39;).width())
  window.onload = function () {
    console.log(&#39;onload&#39;, $(&#39;#logo&#39;).width())
  }
  window.onload = function () {
    console.log(&#39;onload2&#39;, $(&#39;#logo&#39;).width())
  }
  $(function () {
    console.log(&#39;ready&#39;, $(&#39;#logo&#39;).width())
  })
  $(function () {
    console.log(&#39;ready2&#39;, $(&#39;#logo&#39;).width())
  })
  $(&#39;#logo&#39;).on(&#39;load&#39;, function () {
    console.log(&#39;img load&#39;, $(this).width())
  })
  /*$(document).ready(function () {

  })*/
&lt;/script&gt;</code></pre>
<h3 id="3ã€ç»ƒä¹ "><a href="#3ã€ç»ƒä¹ " class="headerlink" title="3ã€ç»ƒä¹ "></a>3ã€ç»ƒä¹ </h3><p>ä»¥å‰ç”¨åŸç”Ÿjså®ç°è¿‡çš„ç”¨jQueryæ¥ä¸€é</p>
<p>(1) çˆ±å¥½é€‰æ‹©å™¨</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815180658.png" alt="image-20200815180657634" class="lazyload"></p>
<pre><code class="html">&lt;form&gt;
  ä½ çˆ±å¥½çš„è¿åŠ¨æ˜¯ï¼Ÿ&lt;input type=&quot;checkbox&quot; id=&quot;checkedAllBox&quot;/&gt;å…¨é€‰/å…¨ä¸é€‰

  &lt;br/&gt;
  &lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;è¶³çƒ&quot;/&gt;è¶³çƒ
  &lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ç¯®çƒ&quot;/&gt;ç¯®çƒ
  &lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ç¾½æ¯›çƒ&quot;/&gt;ç¾½æ¯›çƒ
  &lt;input type=&quot;checkbox&quot; name=&quot;items&quot; value=&quot;ä¹’ä¹“çƒ&quot;/&gt;ä¹’ä¹“çƒ
  &lt;br/&gt;
  &lt;input type=&quot;button&quot; id=&quot;checkedAllBtn&quot; value=&quot;å…¨ã€€é€‰&quot;/&gt;
  &lt;input type=&quot;button&quot; id=&quot;checkedNoBtn&quot; value=&quot;å…¨ä¸é€‰&quot;/&gt;
  &lt;input type=&quot;button&quot; id=&quot;checkedRevBtn&quot; value=&quot;åã€€é€‰&quot;/&gt;
  &lt;input type=&quot;button&quot; id=&quot;sendBtn&quot; value=&quot;æã€€äº¤&quot;/&gt;
&lt;/form&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
   åŠŸèƒ½è¯´æ˜:
   1. ç‚¹å‡»&#39;å…¨é€‰&#39;: é€‰ä¸­æ‰€æœ‰çˆ±å¥½
   2. ç‚¹å‡»&#39;å…¨ä¸é€‰&#39;: æ‰€æœ‰çˆ±å¥½éƒ½ä¸å‹¾é€‰
   3. ç‚¹å‡»&#39;åé€‰&#39;: æ”¹å˜æ‰€æœ‰çˆ±å¥½çš„å‹¾é€‰çŠ¶æ€
   4. ç‚¹å‡»&#39;æäº¤&#39;: æç¤ºæ‰€æœ‰å‹¾é€‰çš„çˆ±å¥½
   5. ç‚¹å‡»&#39;å…¨é€‰/å…¨ä¸é€‰&#39;: é€‰ä¸­æ‰€æœ‰çˆ±å¥½, æˆ–è€…å…¨ä¸é€‰ä¸­
   6. ç‚¹å‡»æŸä¸ªçˆ±å¥½æ—¶, å¿…è¦æ—¶æ›´æ–°&#39;å…¨é€‰/å…¨ä¸é€‰&#39;çš„é€‰ä¸­çŠ¶æ€
   */
  var $checkedAllBox = $(&#39;#checkedAllBox&#39;)
  var $items = $(&#39;:checkbox[name=items]&#39;)

  // 1. ç‚¹å‡»&#39;å…¨é€‰&#39;: é€‰ä¸­æ‰€æœ‰çˆ±å¥½
  $(&#39;#checkedAllBtn&#39;).click(function () {
    $items.prop(&#39;checked&#39;, true)
    $checkedAllBox.prop(&#39;checked&#39;, true)
  })

  // 2. ç‚¹å‡»&#39;å…¨ä¸é€‰&#39;: æ‰€æœ‰çˆ±å¥½éƒ½ä¸å‹¾é€‰
  $(&#39;#checkedNoBtn&#39;).click(function () {
    $items.prop(&#39;checked&#39;, false)
    $checkedAllBox.prop(&#39;checked&#39;, false)
  })

  // 3. ç‚¹å‡»&#39;åé€‰&#39;: æ”¹å˜æ‰€æœ‰çˆ±å¥½çš„å‹¾é€‰çŠ¶æ€
  $(&#39;#checkedRevBtn&#39;).click(function () {
    $items.each(function () {
      this.checked = !this.checked
    })
    $checkedAllBox.prop(&#39;checked&#39;, $items.filter(&#39;:not(:checked)&#39;).length===0)
  })

  //4. ç‚¹å‡»&#39;æäº¤&#39;: æç¤ºæ‰€æœ‰å‹¾é€‰çš„çˆ±å¥½
  $(&#39;#sendBtn&#39;).click(function () {
    $items.filter(&#39;:checked&#39;).each(function () {
      alert(this.value)
    })
  })

  // 5. ç‚¹å‡»&#39;å…¨é€‰/å…¨ä¸é€‰&#39;: é€‰ä¸­æ‰€æœ‰çˆ±å¥½, æˆ–è€…å…¨ä¸é€‰ä¸­
  $checkedAllBox.click(function () {
    $items.prop(&#39;checked&#39;, this.checked)
  })

  // 6. ç‚¹å‡»æŸä¸ªçˆ±å¥½æ—¶, å¿…è¦æ—¶æ›´æ–°&#39;å…¨é€‰/å…¨ä¸é€‰&#39;çš„é€‰ä¸­çŠ¶æ€
  $items.click(function () {
    $checkedAllBox.prop(&#39;checked&#39;, $items.filter(&#39;:not(:checked)&#39;).length===0)
  })
&lt;/script&gt;</code></pre>
<p>(2) å¢åˆ å‘˜å·¥è®°å½•</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815180844.png" alt="image-20200815180841962" class="lazyload"></p>
<pre><code class="html">&lt;style&gt;
#total{width:450px;margin-left:auto;margin-right:auto}ul{list-style-type:none}li{border-style:solid;border-width:1px;padding:5px;margin:5px;background-color:#9f9;float:left}.inner{width:400px;border-style:solid;border-width:1px;margin:10px;padding:10px;float:left}#employeeTable{border-spacing:1px;background-color:black;margin:80px auto 10px auto}th,td{background-color:white}#formDiv{width:250px;border-style:solid;border-width:1px;margin:50px auto 10px auto;padding:10px}#formDiv input{width:100%}.word{width:40px}.inp{width:200px}#employeeTable,#employeeTable th,#employeeTable td{border:1px solid;border-spacing:0}
&lt;/style&gt;
&lt;table id=&quot;employeeTable&quot;&gt;
  &lt;tr&gt;
    &lt;th&gt;Name&lt;/th&gt;
    &lt;th&gt;Email&lt;/th&gt;
    &lt;th&gt;Salary&lt;/th&gt;
    &lt;th&gt;&amp;nbsp;&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Tom&lt;/td&gt;
    &lt;td&gt;tom@tom.com&lt;/td&gt;
    &lt;td&gt;5000&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;deleteEmp?id=001&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Jerry&lt;/td&gt;
    &lt;td&gt;jerry@sohu.com&lt;/td&gt;
    &lt;td&gt;8000&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;deleteEmp?id=002&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;Bob&lt;/td&gt;
    &lt;td&gt;bob@tom.com&lt;/td&gt;
    &lt;td&gt;10000&lt;/td&gt;
    &lt;td&gt;&lt;a href=&quot;deleteEmp?id=003&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;div id=&quot;formDiv&quot;&gt;
  &lt;h4&gt;æ·»åŠ æ–°å‘˜å·¥&lt;/h4&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&quot;word&quot;&gt;name:&lt;/td&gt;
      &lt;td class=&quot;inp&quot;&gt;
        &lt;input type=&quot;text&quot; name=&quot;empName&quot; id=&quot;empName&quot;/&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;word&quot;&gt;email:&lt;/td&gt;
      &lt;td class=&quot;inp&quot;&gt;
        &lt;input type=&quot;text&quot; name=&quot;email&quot; id=&quot;email&quot;/&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&quot;word&quot;&gt;salary:&lt;/td&gt;
      &lt;td class=&quot;inp&quot;&gt;
        &lt;input type=&quot;text&quot; name=&quot;salary&quot; id=&quot;salary&quot;/&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;
        &lt;button id=&quot;addEmpButton&quot; value=&quot;abc&quot;&gt;
          Submit
        &lt;/button&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;</code></pre>
<p>åˆçº§ç‰ˆæœ¬</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
  1. æ·»åŠ 
  2. åˆ é™¤
   */
  $(&#39;#addEmpButton&#39;).click(function () {
    //1. æ”¶é›†è¾“å…¥çš„æ•°æ®
    var $empName = $(&#39;#empName&#39;)
    var $email = $(&#39;#email&#39;)
    var $salary = $(&#39;#salary&#39;)
    var empName = $empName.val()
    var email = $email.val()
    var salary = $salary.val()

    //2. ç”Ÿæˆå¯¹åº”çš„&lt;tr&gt;æ ‡ç­¾ç»“æ„, å¹¶æ’å…¥#employeeTableçš„tbodyä¸­
    /*
     &lt;tr&gt;
       &lt;td&gt;Bob&lt;/td&gt;
       &lt;td&gt;bob@tom.com&lt;/td&gt;
       &lt;td&gt;10000&lt;/td&gt;
       &lt;td&gt;&lt;a href=&quot;deleteEmp?id=003&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;
     &lt;/tr&gt;
     */
    var $xxx = $(&#39;&lt;tr&gt;&lt;/tr&gt;&#39;)
      .append(&#39;&lt;td&gt;&#39;+empName+&#39;&lt;/td&gt;&#39;) // æ‹¼ä¸²
      .append(&#39;&lt;td&gt;&#39;+email+&#39;&lt;/td&gt;&#39;)
      .append(&#39;&lt;td&gt;&#39;+salary+&#39;&lt;/td&gt;&#39;)
      .append(&#39;&lt;td&gt;&lt;a href=&quot;deleteEmp?id=&quot;&#39;+Date.now()+&#39;&gt;Delete&lt;/a&gt;&lt;/td&gt;&#39;)
      .appendTo(&#39;#employeeTable&gt;tbody&#39;)
      .find(&#39;a&#39;)
      .click(clickDelete)

    //3. æ¸…é™¤è¾“å…¥
    $empName.val(&#39;&#39;)
    $email.val(&#39;&#39;)
    $salary.val(&#39;&#39;)
  })

  // ç»™æ‰€æœ‰åˆ é™¤é“¾æ¥ç»‘å®šç‚¹å‡»ç›‘å¬
  $(&#39;#employeeTable a&#39;).click(clickDelete)

  /*
  ç‚¹å‡»åˆ é™¤çš„å›è°ƒå‡½æ•°
   */
  function clickDelete () {
    var $tr = $(this).parent().parent()
    var name = $tr.children(&#39;:first&#39;).html()
    if(confirm(&#39;ç¡®å®šåˆ é™¤&#39;+name+&#39;å—?&#39;)) {
      $tr.remove()
    }

    return false
  }

&lt;/script&gt;</code></pre>
<p>è¿›é˜¶ç‰ˆæœ¬</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  /*
  1. æ·»åŠ 
  2. åˆ é™¤
   */
  $(&#39;#addEmpButton&#39;).click(function () {
    //1. æ”¶é›†è¾“å…¥çš„æ•°æ®
    var $empName = $(&#39;#empName&#39;)
    var $email = $(&#39;#email&#39;)
    var $salary = $(&#39;#salary&#39;)
    var empName = $empName.val()
    var email = $email.val()
    var salary = $salary.val()

    //2. ç”Ÿæˆå¯¹åº”çš„&lt;tr&gt;æ ‡ç­¾ç»“æ„, å¹¶æ’å…¥#employeeTableçš„tbodyä¸­
    /*
     &lt;tr&gt;
       &lt;td&gt;Bob&lt;/td&gt;
       &lt;td&gt;bob@tom.com&lt;/td&gt;
       &lt;td&gt;10000&lt;/td&gt;
       &lt;td&gt;&lt;a href=&quot;deleteEmp?id=003&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;
     &lt;/tr&gt;
     */
    var $xxx = $(&#39;&lt;tr&gt;&lt;/tr&gt;&#39;)
      .append(&#39;&lt;td&gt;&#39;+empName+&#39;&lt;/td&gt;&#39;) // æ‹¼ä¸²
      .append(&#39;&lt;td&gt;&#39;+email+&#39;&lt;/td&gt;&#39;)
      .append(&#39;&lt;td&gt;&#39;+salary+&#39;&lt;/td&gt;&#39;)
      .append(&#39;&lt;td&gt;&lt;a href=&quot;deleteEmp?id=&quot;&#39;+Date.now()+&#39;&gt;Delete&lt;/a&gt;&lt;/td&gt;&#39;)
      .appendTo(&#39;#employeeTable&gt;tbody&#39;)

    //3. æ¸…é™¤è¾“å…¥
    $empName.val(&#39;&#39;)
    $email.val(&#39;&#39;)
    $salary.val(&#39;&#39;)
  })

  // é€šè¿‡tableå®ç°å¯¹æ‰€æœ‰açš„clickäº‹ä»¶å§”æ‰˜
  $(&#39;#employeeTable&#39;).delegate(&#39;a&#39;, &#39;click&#39;, clickDelete)

  /*
  ç‚¹å‡»åˆ é™¤çš„å›è°ƒå‡½æ•°
   */
  function clickDelete () {
    var $tr = $(this).parent().parent()
    var name = $tr.children(&#39;:first&#39;).html()
    if(confirm(&#39;ç¡®å®šåˆ é™¤&#39;+name+&#39;å—?&#39;)) {
      $tr.remove()
    }
    return false
  }
&lt;/script&gt;</code></pre>
<p>(3) è½®æ’­å›¾</p>
<pre><code class="html">&lt;style type=&quot;text/css&quot;&gt;
/*å»é™¤å†…è¾¹è·,æ²¡æœ‰é“¾æ¥ä¸‹åˆ’çº¿*/
* {
  margin: 0;
  padding: 0;
  text-decoration: none;
}
/*è®©&lt;bodyæœ‰20pxçš„å†…è¾¹è·*/
body {
  padding: 20px;
}
/*æœ€å¤–å›´çš„div*/
#container {
width: 600px;
height: 400px;
overflow: hidden;
position: relative; /*ç›¸å¯¹å®šä½*/
margin: 0 auto;
}
/*åŒ…å«æ‰€æœ‰å›¾ç‰‡çš„&lt;div&gt;*/
#list {
width: 4200px; /*7å¼ å›¾ç‰‡çš„å®½: 7*600 */
height: 400px;
position: absolute; /*ç»å¯¹å®šä½*/
z-index: 1;
}
/*æ‰€æœ‰çš„å›¾ç‰‡&lt;img&gt;*/
#list img {
float: left; /*æµ®åœ¨å·¦ä¾§*/
}
/*åŒ…å«æ‰€æœ‰åœ†ç‚¹æŒ‰é’®çš„&lt;div&gt;*/
#pointsDiv {
position: absolute;
height: 10px;
width: 100px;
z-index: 2;
bottom: 20px;
left: 250px;
}
/*æ‰€æœ‰çš„åœ†ç‚¹&lt;span&gt;*/
#pointsDiv span {
cursor: pointer;
float: left;
border: 1px solid #fff;
width: 10px;
height: 10px;
border-radius: 50%;
background: #333;
margin-right: 5px;
}
/*ç¬¬ä¸€ä¸ª&lt;span&gt;*/
#pointsDiv .on {
background: orangered;
}
/*åˆ‡æ¢å›¾æ ‡&lt;a&gt;*/
.arrow {
  cursor: pointer;
  display: none;
  line-height: 39px;
  text-align: center;
  font-size: 36px;
  font-weight: bold;
  width: 40px;
  height: 40px;
  position: absolute;
  z-index: 2;
  top: 180px;
  background-color: RGBA(0, 0, 0, 0.3);
  color: #fff;
}
/*é¼ æ ‡ç§»åˆ°åˆ‡æ¢å›¾æ ‡ä¸Šæ—¶*/
.arrow:hover {
  background-color: RGBA(0, 0, 0, 0.7);
}
/*é¼ æ ‡ç§»åˆ°æ•´ä¸ªdivåŒºåŸŸæ—¶*/
#container:hover .arrow {
display: block; /*æ˜¾ç¤º*/
}
/*ä¸Šä¸€ä¸ªåˆ‡æ¢å›¾æ ‡çš„å·¦å¤–è¾¹è·*/
#prev {
left: 20px;
}
/*ä¸‹ä¸€ä¸ªåˆ‡æ¢å›¾æ ‡çš„å³å¤–è¾¹è·*/
#next {
right: 20px;
}
&lt;/style&gt;
&lt;div id=&quot;container&quot;&gt;
  &lt;div id=&quot;list&quot; style=&quot;left: -600px;&quot;&gt;
    &lt;img src=&quot;img/5.jpg&quot; alt=&quot;5&quot;/&gt;
    &lt;img src=&quot;img/1.jpg&quot; alt=&quot;1&quot;/&gt;
    &lt;img src=&quot;img/2.jpg&quot; alt=&quot;2&quot;/&gt;
    &lt;img src=&quot;img/3.jpg&quot; alt=&quot;3&quot;/&gt;
    &lt;img src=&quot;img/4.jpg&quot; alt=&quot;4&quot;/&gt;
    &lt;img src=&quot;img/5.jpg&quot; alt=&quot;5&quot;/&gt;
    &lt;img src=&quot;img/1.jpg&quot; alt=&quot;1&quot;/&gt;
  &lt;/div&gt;
  &lt;div id=&quot;pointsDiv&quot;&gt;
    &lt;span index=&quot;1&quot; class=&quot;on&quot;&gt;&lt;/span&gt;
    &lt;span index=&quot;2&quot;&gt;&lt;/span&gt;
    &lt;span index=&quot;3&quot;&gt;&lt;/span&gt;
    &lt;span index=&quot;4&quot;&gt;&lt;/span&gt;
    &lt;span index=&quot;5&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;a href=&quot;javascript:;&quot; id=&quot;prev&quot; class=&quot;arrow&quot;&gt;&amp;lt;&lt;/a&gt;
  &lt;a href=&quot;javascript:;&quot; id=&quot;next&quot; class=&quot;arrow&quot;&gt;&amp;gt;&lt;/a&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.10.1.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  /*
 åŠŸèƒ½è¯´æ˜:
 1. ç‚¹å‡»å‘å³(å·¦)çš„å›¾æ ‡, å¹³æ»‘åˆ‡æ¢åˆ°ä¸‹(ä¸Š)ä¸€é¡µ
 2. æ— é™å¾ªç¯åˆ‡æ¢: ç¬¬ä¸€é¡µçš„ä¸Šä¸€é¡µä¸ºæœ€åé¡µ, æœ€åä¸€é¡µçš„ä¸‹ä¸€é¡µæ˜¯ç¬¬ä¸€é¡µ
 3. æ¯éš”3sè‡ªåŠ¨æ»‘åŠ¨åˆ°ä¸‹ä¸€é¡µ
 4. å½“é¼ æ ‡è¿›å…¥å›¾ç‰‡åŒºåŸŸæ—¶, è‡ªåŠ¨åˆ‡æ¢åœæ­¢, å½“é¼ æ ‡ç¦»å¼€å,åˆå¼€å§‹è‡ªåŠ¨åˆ‡æ¢
 5. åˆ‡æ¢é¡µé¢æ—¶, ä¸‹é¢çš„åœ†ç‚¹ä¹ŸåŒæ­¥æ›´æ–°
 6. ç‚¹å‡»åœ†ç‚¹å›¾æ ‡åˆ‡æ¢åˆ°å¯¹åº”çš„é¡µ

 bug: å¿«é€Ÿç‚¹å‡»æ—¶, ç¿»é¡µä¸æ­£å¸¸
 */
$(function () {

  var $container = $(&#39;#container&#39;)
  var $list = $(&#39;#list&#39;)
  var $points = $(&#39;#pointsDiv&gt;span&#39;)
  var $prev = $(&#39;#prev&#39;)
  var $next = $(&#39;#next&#39;)
  var PAGE_WIDTH = 600 //ä¸€é¡µçš„å®½åº¦
  var TIME = 400 // ç¿»é¡µçš„æŒç»­æ—¶é—´
  var ITEM_TIME = 20 // å•å…ƒç§»åŠ¨çš„é—´éš”æ—¶é—´
  var imgCount = $points.length
  var index = 0 //å½“å‰ä¸‹æ ‡
  var moving = false // æ ‡è¯†æ˜¯å¦æ­£åœ¨ç¿»é¡µ(é»˜è®¤æ²¡æœ‰)


  // 1. ç‚¹å‡»å‘å³(å·¦)çš„å›¾æ ‡, å¹³æ»‘åˆ‡æ¢åˆ°ä¸‹(ä¸Š)ä¸€é¡µ
  $next.click(function () {
    // å¹³æ»‘ç¿»åˆ°ä¸‹ä¸€é¡µ
    nextPage(true)
  })
  $prev.click(function () {
    // å¹³æ»‘ç¿»åˆ°ä¸Šä¸€é¡µ
    nextPage(false)
  })

  // 3. æ¯éš”3sè‡ªåŠ¨æ»‘åŠ¨åˆ°ä¸‹ä¸€é¡µ
  var intervalId = setInterval(function () {
    nextPage(true)
  }, 1000)

  // 4. å½“é¼ æ ‡è¿›å…¥å›¾ç‰‡åŒºåŸŸæ—¶, è‡ªåŠ¨åˆ‡æ¢åœæ­¢, å½“é¼ æ ‡ç¦»å¼€å,åˆå¼€å§‹è‡ªåŠ¨åˆ‡æ¢
  $container.hover(function () {
    // æ¸…é™¤å®šæ—¶å™¨
    clearInterval(intervalId)
  }, function () {
    intervalId = setInterval(function () {
      nextPage(true)
    }, 1000)
  })

  // 6. ç‚¹å‡»åœ†ç‚¹å›¾æ ‡åˆ‡æ¢åˆ°å¯¹åº”çš„é¡µ
  $points.click(function () {
    // ç›®æ ‡é¡µçš„ä¸‹æ ‡
    var targetIndex = $(this).index()
    // åªæœ‰å½“ç‚¹å‡»çš„ä¸æ˜¯å½“å‰é¡µçš„åœ†ç‚¹æ—¶æ‰ç¿»é¡µ
    if(targetIndex!=index) {
      nextPage(targetIndex)
    }
  })

  /**
   * å¹³æ»‘ç¿»é¡µ
   * @param next
   * true: ä¸‹ä¸€é¡µ
   * false: ä¸Šä¸€é¡µ
   * æ•°å€¼: æŒ‡å®šä¸‹æ ‡é¡µ
   */
  function nextPage (next) {
    /*
      æ€»çš„æ—¶é—´: TIME=400
      å•å…ƒç§»åŠ¨çš„é—´éš”æ—¶é—´: ITEM_TIME = 20
      æ€»çš„åç§»é‡: offset
      å•å…ƒç§»åŠ¨çš„åç§»é‡: itemOffset = offset/(TIME/ITEM_TIME)

      å¯åŠ¨å¾ªç¯å®šæ—¶å™¨ä¸æ–­æ›´æ–°$listçš„left, åˆ°è¾¾ç›®æ ‡å¤„åœæ­¢åœæ­¢å®šæ—¶å™¨
     */
    //å¦‚æœæ­£åœ¨ç¿»é¡µ, ç›´æ¥ç»“æŸ
    if(moving) { //å·²ç»æ­£åœ¨ç¿»é¡µä¸­
      return
    }
    moving = true // æ ‡è¯†æ­£åœ¨ç¿»é¡µ
    // æ€»çš„åç§»é‡: offset
    var offset = 0
    // è®¡ç®—offset
    if(typeof next===&#39;boolean&#39;) {
      offset = next ? -PAGE_WIDTH : PAGE_WIDTH
    } else {
      offset = -(next-index)* PAGE_WIDTH
    }
    // è®¡ç®—å•å…ƒç§»åŠ¨çš„åç§»é‡: itemOffset
    var itemOffset = offset/(TIME/ITEM_TIME)
    // å¾—åˆ°å½“å‰çš„leftå€¼
    var currLeft = $list.position().left
    // è®¡ç®—å‡ºç›®æ ‡å¤„çš„leftå€¼
    var targetLeft = currLeft + offset
    // å¯åŠ¨å¾ªç¯å®šæ—¶å™¨ä¸æ–­æ›´æ–°$listçš„left, åˆ°è¾¾ç›®æ ‡å¤„åœæ­¢åœæ­¢å®šæ—¶å™¨
    var intervalId = setInterval(function () {
      // è®¡ç®—å‡ºæœ€æ–°çš„currLeft
      currLeft += itemOffset
      if(currLeft===targetLeft) { // åˆ°è¾¾ç›®æ ‡ä½ç½®
        // æ¸…é™¤å®šæ—¶å™¨
        clearInterval(intervalId)
        // æ ‡è¯†ç¿»é¡µåœæ­¢
        moving = false
        // å¦‚æœåˆ°è¾¾äº†æœ€å³è¾¹çš„å›¾ç‰‡(1.jpg), è·³è½¬åˆ°æœ€å·¦è¾¹çš„ç¬¬2å¼ å›¾ç‰‡(1.jpg)
        if(currLeft===-(imgCount+1) * PAGE_WIDTH) {
          currLeft = -PAGE_WIDTH
        } else if(currLeft===0){
          // å¦‚æœåˆ°è¾¾äº†æœ€å·¦è¾¹çš„å›¾ç‰‡(5.jpg), è·³è½¬åˆ°æœ€å³è¾¹çš„ç¬¬2å¼ å›¾ç‰‡(5.jpg)
          currLeft = -imgCount * PAGE_WIDTH
        }
      }
      // è®¾ç½®left
      $list.css(&#39;left&#39;, currLeft)
    }, ITEM_TIME)

    // æ›´æ–°åœ†ç‚¹
    updatePoints(next)
  }
  /**
   * æ›´æ–°åœ†ç‚¹
   * @param next
   */
  function updatePoints (next) {

    // è®¡ç®—å‡ºç›®æ ‡åœ†ç‚¹çš„ä¸‹æ ‡targetIndex
    var targetIndex = 0
    if(typeof next === &#39;boolean&#39;) {
      if(next) {
        targetIndex = index + 1   // [0, imgCount-1]
        if(targetIndex===imgCount) {// æ­¤æ—¶çœ‹åˆ°çš„æ˜¯1.jpg--&gt;ç¬¬1ä¸ªåœ†ç‚¹
          targetIndex = 0
        }
      } else {
        targetIndex = index - 1
        if(targetIndex===-1) { // æ­¤æ—¶çœ‹åˆ°çš„æ˜¯5.jpg--&gt;ç¬¬5ä¸ªåœ†ç‚¹
          targetIndex = imgCount-1
        }
      }
    } else {
      targetIndex = next
    }
    // å°†å½“å‰indexçš„&lt;span&gt;çš„classç§»é™¤
    // $points.eq(index).removeClass(&#39;on&#39;)
    $points[index].className = &#39;&#39;
    // ç»™ç›®æ ‡åœ†ç‚¹æ·»åŠ class=&#39;on&#39;
    // $points.eq(targetIndex).addClass(&#39;on&#39;)
    $points[targetIndex].className = &#39;on&#39;

    // å°†indexæ›´æ–°ä¸ºtargetIndex
    index = targetIndex
  }
})
&lt;/script&gt;</code></pre>
<p>jQueryæ–‡æ¡£çš„ç»“æ„å›¾</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815175515.png" alt="jQueryæ–‡æ¡£ç»“æ„å›¾" class="lazyload"></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2020/04/15/JavaScriptAdvance/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="JavaScripté«˜çº§å­¦ä¹ ç¬”è®°" class="lazyload">
                    <h1>JavaScripté«˜çº§å­¦ä¹ ç¬”è®°</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´04æœˆ15æ—¥</a>
            <a><i class="nexmoefont icon-areachart"></i>10.5k å­—</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 49 åˆ†é’Ÿ</a>
        </div>

        <article>
            
                <ul>
<li><p>åŸºç¡€æ€»ç»“</p>
</li>
<li><p>å‡½æ•°é«˜çº§</p>
</li>
<li><p>é¢å‘å¯¹è±¡é«˜çº§</p>
</li>
<li><p>çº¿ç¨‹æœºåˆ¶ä¸äº‹ä»¶æœºåˆ¶</p>
</li>
</ul>
<h2 id="ä¸€ã€åŸºç¡€æ€»ç»“"><a href="#ä¸€ã€åŸºç¡€æ€»ç»“" class="headerlink" title="ä¸€ã€åŸºç¡€æ€»ç»“"></a>ä¸€ã€åŸºç¡€æ€»ç»“</h2><h3 id="1ã€æ•°æ®ç±»å‹"><a href="#1ã€æ•°æ®ç±»å‹" class="headerlink" title="1ã€æ•°æ®ç±»å‹"></a>1ã€æ•°æ®ç±»å‹</h3><p><strong>åˆ†ç±»</strong></p>
<ul>
<li><p>åŸºæœ¬ï¼ˆå€¼ï¼‰ç±»å‹</p>
<ul>
<li>Stringï¼šä»»æ„å­—ç¬¦ä¸²</li>
<li>Numberï¼šä»»æ„çš„æ•°å­—</li>
<li>booleanï¼štrue/false</li>
<li>undefinedï¼šundefined</li>
<li>nullï¼šnull</li>
</ul>
</li>
<li><p>å¯¹è±¡ï¼ˆå¼•ç”¨ï¼‰ç±»å‹</p>
<ul>
<li>Objectï¼šä»»æ„å¯¹è±¡</li>
<li>Functionï¼šä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼ˆå¯ä»¥æ‰§è¡Œï¼‰</li>
<li>Arrayï¼šä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼ˆæ•°å€¼ä¸‹æ ‡ï¼Œå†…éƒ¨æ•°æ®æ˜¯æœ‰åºçš„ï¼‰</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var obj = {
  name: &#39;TOM&#39;,
  age: 12
}
fuction test(){
  var a = 3
}
var arr = [3, &#39;abc&#39;]
arr[1]</code></pre>
<p><strong>åˆ¤æ–­</strong></p>
<ul>
<li><p><code>typeof</code></p>
<ul>
<li>å¯ä»¥åˆ¤æ–­ï¼šundefined/ æ•°å€¼ /å­—ç¬¦ä¸²/å¸ƒå°”å€¼/function</li>
<li>ä¸èƒ½åˆ¤æ–­ï¼šnullä¸Object Objectä¸array</li>
</ul>
</li>
<li><p><code>instanceof</code>ï¼šåˆ¤æ–­å¯¹è±¡çš„å…·ä½“ç±»å‹</p>
</li>
<li><p><code>===</code>å¯ä»¥åˆ¤æ–­ï¼šundefined/null/function</p>
</li>
<li><p><code>isNaN</code> åˆ¤æ–­NaN â€¦â€¦</p>
</li>
</ul>
<pre><code class="javascript">//1. åŸºæœ¬
// typeofè¿”å›æ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²è¡¨è¾¾
var a
// undefined
console.log(a, typeof a, typeof a===&#39;undefined&#39;,a===undefined )  // undefined &#39;undefined&#39; true true
console.log(undefined===&#39;undefined&#39;) // false
// Number Sting Boolean
a = 4
console.log(typeof a===&#39;number&#39;) // true
a = &quot;abc123&quot;
console.log(isNaN(a)) // true
a = &#39;string iiii&#39;
console.log(typeof a===&#39;string&#39;) // true
a = true
console.log(typeof a===&#39;boolean&#39;) // true
// null
a = null
console.log(typeof a, a===null) // &#39;object&#39; true

//2. å¯¹è±¡
var b1 = {
    b2: [1, &#39;abc&#39;, console.log],
    b3: function () {
        console.log(&#39;b3&#39;) // b3
        return function () {
            return &#39;funb1&#39;
        }
    }
}
// Object Array Function
console.log(b1 instanceof Object, b1 instanceof Array) // true  false
console.log(b1.b2 instanceof Array, b1.b2 instanceof Object) // true true
console.log(b1.b3 instanceof Function, b1.b3 instanceof Object) // true true
console.log(typeof b1.b2) // &#39;object&#39;
// Function
console.log(typeof b1.b3===&#39;function&#39;) // true
console.log(typeof b1.b2[2]===&#39;function&#39;) // true

// ç»†èŠ‚é—®é¢˜
b1.b2[2](4) // 4
console.log(b1.b3()()) // funb1
/*
b1.b3() ---&gt; b3å½“å‰çš„function
b1.b3()() ---&gt; returnçš„function
*/</code></pre>
<p><strong>å®ä¾‹</strong></p>
<p>å®ä¾‹ï¼šå®ä¾‹å¯¹è±¡</p>
<p>ç±»å‹ï¼šç±»å‹å¯¹è±¡</p>
<pre><code class="javascript">function Person(name, age){ // æ„é€ å‡½æ•° ç±»å‹
    this.name = name
  this.age = age
} 
var p = new Person(&#39;Tom&#39;, 12) // æ ¹æ®ç±»å‹åˆ›å»ºçš„å®ä¾‹å¯¹è±¡</code></pre>
<p><strong>å…¶ä»–é—®é¢˜</strong></p>
<ol>
<li><p>undefinedä¸nullçš„åŒºåˆ«?</p>
<ul>
<li>undefinedä»£è¡¨å®šä¹‰æœªèµ‹å€¼</li>
<li>nulllå®šä¹‰å¹¶èµ‹å€¼äº†, åªæ˜¯å€¼ä¸ºnull</li>
</ul>
<pre><code class="javascript">var a
console.log(a)  // undefined
a = null
console.log(a) // null</code></pre>
</li>
</ol>
<ol start="2">
<li><p>ä»€ä¹ˆæ—¶å€™ç»™å˜é‡èµ‹å€¼ä¸ºnullå‘¢?</p>
<ul>
<li>åˆå§‹èµ‹å€¼, è¡¨æ˜å°†è¦èµ‹å€¼ä¸ºå¯¹è±¡</li>
<li>ç»“æŸå‰, è®©å¯¹è±¡æˆä¸ºåƒåœ¾å¯¹è±¡(è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶)</li>
</ul>
<pre><code class="javascript">//èµ·å§‹
var b = null  // åˆå§‹èµ‹å€¼ä¸ºnull, è¡¨æ˜å°†è¦èµ‹å€¼ä¸ºå¯¹è±¡
//ç¡®å®šå¯¹è±¡å°±èµ‹å€¼
b = [&#39;atguigu&#39;, 12]
//æœ€å
b = null // è®©bæŒ‡å‘çš„å¯¹è±¡æˆä¸ºåƒåœ¾å¯¹è±¡(è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶)
// b = 2</code></pre>
</li>
</ol>
<ol start="3">
<li><p>ä¸¥æ ¼åŒºåˆ«å˜é‡ç±»å‹ä¸æ•°æ®ç±»å‹?</p>
<ul>
<li><p>æ•°æ®çš„ç±»å‹</p>
<ul>
<li>åŸºæœ¬ç±»å‹ </li>
<li>å¯¹è±¡ç±»å‹ </li>
</ul>
</li>
<li><p>å˜é‡çš„ç±»å‹(å˜é‡å†…å­˜å€¼çš„ç±»å‹)</p>
<ul>
<li>åŸºæœ¬ç±»å‹: ä¿å­˜å°±æ˜¯åŸºæœ¬ç±»å‹çš„æ•°æ®</li>
<li>å¼•ç”¨ç±»å‹: ä¿å­˜çš„æ˜¯åœ°å€å€¼</li>
</ul>
<pre><code class="javascript">var c = function () {

}
console.log(typeof c) // &#39;function&#39;</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="2ã€æ•°æ®ã€å˜é‡ä¸å†…å­˜"><a href="#2ã€æ•°æ®ã€å˜é‡ä¸å†…å­˜" class="headerlink" title="2ã€æ•°æ®ã€å˜é‡ä¸å†…å­˜"></a>2ã€æ•°æ®ã€å˜é‡ä¸å†…å­˜</h3><ol>
<li>ä»€ä¹ˆæ˜¯æ•°æ®?</li>
</ol>
<ul>
<li><p>å­˜å‚¨åœ¨å†…å­˜ä¸­ä»£è¡¨ç‰¹å®šä¿¡æ¯çš„â€™ä¸œä¸œâ€™, æœ¬è´¨ä¸Šæ˜¯0101â€¦</p>
</li>
<li><p>æ•°æ®çš„ç‰¹ç‚¹: å¯ä¼ é€’, å¯è¿ç®—</p>
</li>
<li><p>ä¸€åˆ‡çš†æ•°æ®</p>
</li>
<li><p>å†…å­˜ä¸­æ‰€æœ‰æ“ä½œçš„ç›®æ ‡: æ•°æ®</p>
<ul>
<li>ç®—æœ¯è¿ç®—</li>
<li>é€»è¾‘è¿ç®—</li>
<li>èµ‹å€¼</li>
<li>è¿è¡Œå‡½æ•°</li>
</ul>
</li>
</ul>
<ol start="2">
<li>ä»€ä¹ˆæ˜¯å†…å­˜?</li>
</ol>
<ul>
<li><p>å†…å­˜æ¡é€šç”µåäº§ç”Ÿçš„å¯å‚¨å­˜æ•°æ®çš„ç©ºé—´(ä¸´æ—¶çš„)</p>
</li>
<li><p>å†…å­˜äº§ç”Ÿå’Œæ­»äº¡: å†…å­˜æ¡(ç”µè·¯ç‰ˆ)â€”&gt;é€šç”µâ€”&gt;äº§ç”Ÿå†…å­˜ç©ºé—´â€”&gt;å­˜å‚¨æ•°æ®â€”&gt;å¤„ç†æ•°æ®â€”&gt;æ–­ç”µâ€”&gt;å†…å­˜ç©ºé—´å’Œæ•°æ®éƒ½æ¶ˆå¤±</p>
</li>
<li><p>ä¸€å—å°å†…å­˜çš„2ä¸ªæ•°æ®</p>
<ul>
<li>å†…éƒ¨å­˜å‚¨çš„æ•°æ®</li>
<li>åœ°å€å€¼</li>
</ul>
</li>
<li><p>å†…å­˜åˆ†ç±»</p>
<ul>
<li>æ ˆ: å…¨å±€å˜é‡/å±€éƒ¨å˜é‡</li>
<li>å †: å¯¹è±¡</li>
</ul>
</li>
</ul>
<ol start="3">
<li>ä»€ä¹ˆæ˜¯å˜é‡?</li>
</ol>
<ul>
<li>å¯å˜åŒ–çš„é‡, ç”±å˜é‡åå’Œå˜é‡å€¼ç»„æˆ</li>
</ul>
<ul>
<li>æ¯ä¸ªå˜é‡éƒ½å¯¹åº”çš„ä¸€å—å°å†…å­˜, å˜é‡åç”¨æ¥æŸ¥æ‰¾å¯¹åº”çš„å†…å­˜, å˜é‡å€¼å°±æ˜¯å†…å­˜ä¸­ä¿å­˜çš„æ•°æ®</li>
</ul>
<ol start="4">
<li>å†…å­˜,æ•°æ®, å˜é‡ä¸‰è€…ä¹‹é—´çš„å…³ç³»</li>
</ol>
<ul>
<li><p>å†…å­˜ç”¨æ¥å­˜å‚¨æ•°æ®çš„ç©ºé—´</p>
</li>
<li><p>å˜é‡æ˜¯å†…å­˜çš„æ ‡è¯†</p>
</li>
</ul>
<pre><code class="javascript">var age = 18
console.log(age)

var obj = {name: &#39;Tom&#39;}
console.log(obj.name)

function fn () {
  var obj = {name: &#39;Tom&#39;}
}

var a = 3
var b = a + 2</code></pre>
<ol start="5">
<li>å…³äºèµ‹å€¼ä¸å†…å­˜çš„é—®é¢˜</li>
</ol>
<p>é—®é¢˜: var a = xxx, aå†…å­˜ä¸­åˆ°åº•ä¿å­˜çš„æ˜¯ä»€ä¹ˆ?</p>
<ul>
<li><p>xxxæ˜¯<strong>åŸºæœ¬æ•°æ®</strong>, ä¿å­˜çš„å°±æ˜¯è¿™ä¸ª<strong>æ•°æ®</strong></p>
</li>
<li><p>xxxæ˜¯<strong>å¯¹è±¡</strong>, ä¿å­˜çš„æ˜¯å¯¹è±¡çš„<strong>åœ°å€å€¼</strong></p>
</li>
<li><p>xxxæ˜¯ä¸€ä¸ª<strong>å˜é‡</strong>, ä¿å­˜çš„xxxçš„<strong>å†…å­˜å†…å®¹(å¯èƒ½æ˜¯åŸºæœ¬æ•°æ®, ä¹Ÿå¯èƒ½æ˜¯åœ°å€å€¼)</strong></p>
</li>
</ul>
<pre><code class="javascript">var a = 3
a = function () {

}
var b = &#39;abc&#39;
a = b
b = {}
a = b</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815100154.png" alt="image-20200815100153040" class="lazyload"></p>
<ol start="6">
<li>å…³äºå¼•ç”¨å˜é‡èµ‹å€¼é—®é¢˜</li>
</ol>
<ul>
<li><p>2ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, é€šè¿‡ä¸€ä¸ªå˜é‡ä¿®æ”¹å¯¹è±¡å†…éƒ¨æ•°æ®, å¦ä¸€ä¸ªå˜é‡çœ‹åˆ°çš„æ˜¯ä¿®æ”¹ä¹‹åçš„æ•°æ®</p>
</li>
<li><p>2ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, è®©å…¶ä¸­ä¸€ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡, å¦ä¸€å¼•ç”¨å˜é‡ä¾ç„¶æŒ‡å‘å‰ä¸€ä¸ªå¯¹è±¡</p>
</li>
</ul>
<pre><code class="javascript">var obj1 = {name: &#39;Tom&#39;}
var obj2 = obj1
obj2.age = 12
console.log(obj1.age)  // 12
function fn (obj) {
  obj.name = &#39;A&#39;
}
fn(obj1)
console.log(obj2.name) //A

var a = {age: 12}
var b = a
a = {name: &#39;BOB&#39;, age: 13}
b.age = 14
console.log(b.age, a.name, a.age) // 14 Bob 13
function fn2 (obj) {
  obj = {age: 15}
}
fn2(a)
console.log(a.age) // 13</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815101835.png" alt="image-20200815101834022" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815102623.png" alt="image-20200815102622137" class="lazyload"></p>
<ol start="7">
<li>å…³äºæ•°æ®ä¼ é€’é—®é¢˜</li>
</ol>
<p>é—®é¢˜: åœ¨jsè°ƒç”¨å‡½æ•°æ—¶ä¼ é€’å˜é‡å‚æ•°æ—¶, æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’</p>
<ul>
<li><p>ç†è§£1: éƒ½æ˜¯å€¼(åŸºæœ¬/åœ°å€å€¼)ä¼ é€’</p>
</li>
<li><p>ç†è§£2: å¯èƒ½æ˜¯å€¼ä¼ é€’, ä¹Ÿå¯èƒ½æ˜¯å¼•ç”¨ä¼ é€’(åœ°å€å€¼)</p>
</li>
</ul>
<pre><code class="javascript">var a = 3
function fn (a) {
  a = a +1
}
fn(a)
console.log(a)  // 3

function fn2 (obj) {
  console.log(obj.name)
}
var obj = {name: &#39;Tom&#39;}
fn2(obj)  // Tom</code></pre>
<ol start="8">
<li>JSå¼•æ“å¦‚ä½•ç®¡ç†å†…å­˜</li>
</ol>
<p>é—®é¢˜: JSå¼•æ“å¦‚ä½•ç®¡ç†å†…å­˜?</p>
<ul>
<li>å†…å­˜ç”Ÿå‘½å‘¨æœŸ<ul>
<li>åˆ†é…å°å†…å­˜ç©ºé—´, å¾—åˆ°å®ƒçš„ä½¿ç”¨æƒ</li>
<li>å­˜å‚¨æ•°æ®, å¯ä»¥åå¤è¿›è¡Œæ“ä½œ</li>
<li>é‡Šæ”¾å°å†…å­˜ç©ºé—´</li>
</ul>
</li>
</ul>
<ul>
<li>é‡Šæ”¾å†…å­˜<ul>
<li>å±€éƒ¨å˜é‡: å‡½æ•°æ‰§è¡Œå®Œè‡ªåŠ¨é‡Šæ”¾</li>
<li>å¯¹è±¡: æˆä¸ºåƒåœ¾å¯¹è±¡==&gt;åƒåœ¾å›æ”¶å™¨å›æ”¶</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var a = 3
var obj = {}
obj = undefined

function fn () {
  var b = {}
}

fn() // bæ˜¯è‡ªåŠ¨é‡Šæ”¾, bæ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯åœ¨åé¢çš„æŸä¸ªæ—¶åˆ»ç”±åƒåœ¾å›æ”¶å™¨å›æ”¶</code></pre>
<h3 id="3ã€å¯¹è±¡"><a href="#3ã€å¯¹è±¡" class="headerlink" title="3ã€å¯¹è±¡"></a>3ã€å¯¹è±¡</h3><ol>
<li>ä»€ä¹ˆæ˜¯å¯¹è±¡?</li>
</ol>
<ul>
<li><p>å¤šä¸ªæ•°æ®çš„å°è£…ä½“</p>
</li>
<li><p>ç”¨æ¥ä¿å­˜å¤šä¸ªæ•°æ®çš„å®¹å™¨</p>
</li>
<li><p>ä¸€ä¸ªå¯¹è±¡ä»£è¡¨ç°å®ä¸­çš„ä¸€ä¸ªäº‹ç‰©</p>
</li>
</ul>
<ol start="2">
<li>ä¸ºä»€ä¹ˆè¦ç”¨å¯¹è±¡?</li>
</ol>
<ul>
<li>ç»Ÿä¸€ç®¡ç†å¤šä¸ªæ•°æ®</li>
</ul>
<ol start="3">
<li>å¯¹è±¡çš„ç»„æˆ</li>
</ol>
<ul>
<li><p>å±æ€§: å±æ€§å(å­—ç¬¦ä¸²)å’Œå±æ€§å€¼(ä»»æ„)ç»„æˆ</p>
</li>
<li><p>æ–¹æ³•: ä¸€ç§ç‰¹åˆ«çš„å±æ€§(å±æ€§å€¼æ˜¯å‡½æ•°)</p>
</li>
</ul>
<ol start="4">
<li>å¦‚ä½•è®¿é—®å¯¹è±¡å†…éƒ¨æ•°æ®?</li>
</ol>
<ul>
<li><p><code>.å±æ€§å</code>: ç¼–ç ç®€å•, æœ‰æ—¶ä¸èƒ½ç”¨</p>
</li>
<li><p><code>[&#39;å±æ€§å&#39;]</code>: ç¼–ç éº»çƒ¦, èƒ½é€šç”¨</p>
</li>
</ul>
<pre><code class="javascript">var p = {
  name: &#39;Tom&#39;,
  age: 12,
  setName: function (name) {
    this.name = name
  },
  setAge: function (age) {
    this.age = age
  }
}

p.setName(&#39;Bob&#39;)
p[&#39;setAge&#39;](23)
console.log(p.name, p[&#39;age&#39;])</code></pre>
<p>é—®é¢˜: ä»€ä¹ˆæ—¶å€™å¿…é¡»ä½¿ç”¨[â€˜å±æ€§åâ€™]çš„æ–¹å¼?</p>
<ol>
<li><p>å±æ€§ååŒ…å«ç‰¹æ®Šå­—ç¬¦: <code>-</code>ç©ºæ ¼</p>
</li>
<li><p>å±æ€§åä¸ç¡®å®š</p>
</li>
</ol>
<pre><code class="javascript">var p = {}
//1. ç»™på¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§: content type: text/json
// p.content-type = &#39;text/json&#39; //ä¸èƒ½ç”¨
p[&#39;content-type&#39;] = &#39;text/json&#39;
console.log(p[&#39;content-type&#39;])

//2. å±æ€§åä¸ç¡®å®š
var propName = &#39;myAge&#39;
var value = 18
// p.propName = value //ä¸èƒ½ç”¨
p[propName] = value
console.log(p[propName])</code></pre>
<h3 id="4ã€å‡½æ•°"><a href="#4ã€å‡½æ•°" class="headerlink" title="4ã€å‡½æ•°"></a>4ã€å‡½æ•°</h3><ol>
<li>ä»€ä¹ˆæ˜¯å‡½æ•°?</li>
</ol>
<ul>
<li>å®ç°ç‰¹å®šåŠŸèƒ½çš„næ¡è¯­å¥çš„å°è£…ä½“</li>
<li>åªæœ‰å‡½æ•°æ˜¯å¯ä»¥æ‰§è¡Œçš„, å…¶å®ƒç±»å‹çš„æ•°æ®ä¸èƒ½æ‰§è¡Œ</li>
</ul>
<ol start="2">
<li>ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°?</li>
</ol>
<ul>
<li>æé«˜ä»£ç å¤ç”¨</li>
<li>ä¾¿äºé˜…è¯»äº¤æµ</li>
</ul>
<ol start="3">
<li>å¦‚ä½•å®šä¹‰å‡½æ•°?</li>
</ol>
<ul>
<li>å‡½æ•°å£°æ˜</li>
<li>è¡¨è¾¾å¼</li>
</ul>
<ol start="4">
<li>å¦‚ä½•è°ƒç”¨(æ‰§è¡Œ)å‡½æ•°?</li>
</ol>
<ul>
<li>test(): <strong>ç›´æ¥è°ƒç”¨</strong></li>
<li>obj.test(): <strong>é€šè¿‡å¯¹è±¡è°ƒç”¨</strong></li>
<li>new test(): <strong>newè°ƒç”¨</strong></li>
<li>test.call/apply(obj): <strong>ä¸´æ—¶è®©testæˆä¸ºobjçš„æ–¹æ³•è¿›è¡Œè°ƒç”¨</strong></li>
</ul>
<pre><code class="javascript">/*
ç¼–å†™ç¨‹åºå®ç°ä»¥ä¸‹åŠŸèƒ½éœ€æ±‚:
  1. æ ¹æ®å¹´é¾„è¾“å‡ºå¯¹åº”çš„ä¿¡æ¯
  2. å¦‚æœå°äº18, è¾“å‡º: æœªæˆå¹´, å†ç­‰ç­‰!
  3. å¦‚æœå¤§äº60, è¾“å‡º: ç®—äº†å§!
  4. å…¶å®ƒ, è¾“å‡º: åˆšå¥½!
*/
function showInfo (age) {
  if(age&lt;18) {
    console.log(&#39;æœªæˆå¹´, å†ç­‰ç­‰!&#39;)
  } else if(age&gt;60) {
    console.log(&#39;ç®—äº†å§!&#39;)
  } else {
    console.log(&#39;åˆšå¥½!&#39;)
  }
}

showInfo(17)
showInfo(20)
showInfo(65)

function fn1 () { //å‡½æ•°å£°æ˜
  console.log(&#39;fn1()&#39;)
}
var fn2 = function () { //è¡¨è¾¾å¼
  console.log(&#39;fn2()&#39;)
}

fn1()
fn2()

var obj = {}
function test2 () {
  this.xxx = &#39;atguigu&#39;
}
// obj.test2()  ä¸èƒ½ç›´æ¥, æ ¹æœ¬å°±æ²¡æœ‰
test2.call(obj) // obj.test2()   // å¯ä»¥è®©ä¸€ä¸ªå‡½æ•°æˆä¸ºæŒ‡å®šä»»æ„å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨
console.log(obj.xxx)</code></pre>
<h3 id="5ã€å›è°ƒå‡½æ•°"><a href="#5ã€å›è°ƒå‡½æ•°" class="headerlink" title="5ã€å›è°ƒå‡½æ•°"></a>5ã€å›è°ƒå‡½æ•°</h3><ol>
<li><p>ä»€ä¹ˆå‡½æ•°æ‰æ˜¯å›è°ƒå‡½æ•°?<br> 1). ä½ å®šä¹‰çš„<br> 2). ä½ æ²¡æœ‰è°ƒ<br> 3). ä½†æœ€ç»ˆå®ƒæ‰§è¡Œäº†(åœ¨æŸä¸ªæ—¶åˆ»æˆ–æŸä¸ªæ¡ä»¶ä¸‹)</p>
</li>
<li><p>å¸¸è§çš„å›è°ƒå‡½æ•°?</p>
<ul>
<li><p>domäº‹ä»¶å›è°ƒå‡½æ•° ==&gt;å‘ç”Ÿäº‹ä»¶çš„domå…ƒç´ </p>
</li>
<li><p>å®šæ—¶å™¨å›è°ƒå‡½æ•° ===&gt;window</p>
</li>
<li><p>ajaxè¯·æ±‚å›è°ƒå‡½æ•°(åé¢è®²)</p>
</li>
<li><p>ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°(åé¢è®²)</p>
</li>
</ul>
</li>
</ol>
<pre><code class="html">&lt;button id=&quot;btn&quot;&gt;æµ‹è¯•ç‚¹å‡»äº‹ä»¶&lt;/button&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  document.getElementById(&#39;btn&#39;).onclick = function () { // domäº‹ä»¶å›è°ƒå‡½æ•°
    alert(this.innerHTML)
  }
  //å®šæ—¶å™¨
    // è¶…æ—¶å®šæ—¶å™¨
    // å¾ªç¯å®šæ—¶å™¨
  setTimeout(function () { // å®šæ—¶å™¨å›è°ƒå‡½æ•°
    alert(&#39;åˆ°ç‚¹äº†&#39;+this)
  }, 2000)
  /*var a = 3
  alert(window.a)
  window.b = 4
  alert(b)*/
&lt;/script&gt;</code></pre>
<h3 id="6ã€IIFE"><a href="#6ã€IIFE" class="headerlink" title="6ã€IIFE"></a>6ã€IIFE</h3><ol>
<li>ç†è§£<ul>
<li>å…¨ç§°: Immediately-Invoked Function Expressionï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°ï¼‰</li>
</ul>
</li>
<li>ä½œç”¨<ul>
<li>éšè—å®ç°</li>
<li>ä¸ä¼šæ±¡æŸ“å¤–éƒ¨(å…¨å±€)å‘½åç©ºé—´</li>
<li>ç”¨å®ƒæ¥ç¼–ç jsæ¨¡å—</li>
</ul>
</li>
</ol>
<pre><code class="javascript">(function () { //åŒ¿åå‡½æ•°è‡ªè°ƒç”¨
  var a = 3
  console.log(a + 3)
})()
var a = 4
console.log(a)
;(function () {
  var a = 1
  function test () {
    console.log(++a)
  }
  window.$ = function () { // å‘å¤–æš´éœ²ä¸€ä¸ªå…¨å±€å‡½æ•°
    return {
      test: test
    }
  }
})()
$().test() // 1.</code></pre>
<h3 id="7ã€å‡½æ•°ä¸­çš„this"><a href="#7ã€å‡½æ•°ä¸­çš„this" class="headerlink" title="7ã€å‡½æ•°ä¸­çš„this"></a>7ã€å‡½æ•°ä¸­çš„this</h3><ol>
<li>thisæ˜¯ä»€ä¹ˆ?<ul>
<li>ä»»ä½•å‡½æ•°æœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡æŸä¸ªå¯¹è±¡æ¥è°ƒç”¨çš„,å¦‚æœæ²¡æœ‰ç›´æ¥æŒ‡å®šå°±æ˜¯window</li>
<li>æ‰€æœ‰å‡½æ•°å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªå˜é‡this</li>
<li>å®ƒçš„å€¼æ˜¯è°ƒç”¨å‡½æ•°çš„å½“å‰å¯¹è±¡</li>
</ul>
</li>
<li>å¦‚ä½•ç¡®å®šthisçš„å€¼?<ul>
<li>test(): window</li>
<li>p.test(): p</li>
<li>new test(): æ–°åˆ›å»ºçš„å¯¹è±¡</li>
<li>p.call(obj): obj</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function Person(color) {
  console.log(this)
  this.color = color;
  this.getColor = function () {
    console.log(this)
    return this.color;
  };
  this.setColor = function (color) {
    console.log(this)
    this.color = color;
  };
}

Person(&quot;red&quot;); //thisæ˜¯è°? window

var p = new Person(&quot;yello&quot;); //thisæ˜¯è°? p

p.getColor(); //thisæ˜¯è°? p

var obj = {};
p.setColor.call(obj, &quot;black&quot;); //thisæ˜¯è°? obj

var test = p.setColor;
test(); //thisæ˜¯è°? window

function fun1() {
  function fun2() {
    console.log(this);
  }

  fun2(); //thisæ˜¯è°? window
}
fun1();</code></pre>
<h2 id="äºŒã€å‡½æ•°é«˜çº§"><a href="#äºŒã€å‡½æ•°é«˜çº§" class="headerlink" title="äºŒã€å‡½æ•°é«˜çº§"></a>äºŒã€å‡½æ•°é«˜çº§</h2><p>è¶…çº§é‡ç‚¹ï¼Œä¸¤å¤§ç¥å…½ï¼š==åŸå‹å’Œé—­åŒ…==</p>
<h3 id="1ã€åŸå‹å’ŒåŸå‹é“¾"><a href="#1ã€åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="1ã€åŸå‹å’ŒåŸå‹é“¾"></a>1ã€åŸå‹å’ŒåŸå‹é“¾</h3><p>(1) åŸå‹</p>
<ol>
<li>å‡½æ•°çš„prototypeå±æ€§(å›¾)<ul>
<li>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§, å®ƒé»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(å³ç§°ä¸º: åŸå‹å¯¹è±¡)</li>
<li>åŸå‹å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§constructor, å®ƒæŒ‡å‘å‡½æ•°å¯¹è±¡</li>
</ul>
</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815113737.png" alt="image-20200815113735029" class="lazyload"></p>
<ol start="2">
<li>ç»™åŸå‹å¯¹è±¡æ·»åŠ å±æ€§(ä¸€èˆ¬éƒ½æ˜¯æ–¹æ³•)<ul>
<li>ä½œç”¨: å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡è‡ªåŠ¨æ‹¥æœ‰åŸå‹ä¸­çš„å±æ€§(æ–¹æ³•)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">// æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§, å®ƒé»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(å³ç§°ä¸º: åŸå‹å¯¹è±¡)
console.log(Date.prototype, typeof Date.prototype)
function Fun () {//alt + shift +r(é‡å‘½årename)

}
console.log(Fun.prototype)  // é»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(æ²¡æœ‰æˆ‘ä»¬çš„å±æ€§)

// åŸå‹å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§constructor, å®ƒæŒ‡å‘å‡½æ•°å¯¹è±¡
console.log(Date.prototype.constructor===Date)
console.log(Fun.prototype.constructor===Fun)

//ç»™åŸå‹å¯¹è±¡æ·»åŠ å±æ€§(ä¸€èˆ¬æ˜¯æ–¹æ³•) ===&gt;å®ä¾‹å¯¹è±¡å¯ä»¥è®¿é—®
Fun.prototype.test = function () {
  console.log(&#39;test()&#39;)
}
var fun = new Fun()
fun.test()</code></pre>
<p>(2) æ˜¾å¼åŸå‹ä¸éšå¼åŸå‹</p>
<ol>
<li>æ¯ä¸ªå‡½æ•°functionéƒ½æœ‰ä¸€ä¸ªprototypeï¼Œå³æ˜¾å¼åŸå‹(å±æ€§)</li>
<li>æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<strong>proto</strong>ï¼Œå¯ç§°ä¸ºéšå¼åŸå‹(å±æ€§)</li>
<li>å¯¹è±¡çš„éšå¼åŸå‹çš„å€¼ä¸ºå…¶å¯¹åº”æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹çš„å€¼</li>
<li>å†…å­˜ç»“æ„(å›¾)</li>
<li>æ€»ç»“:<ul>
<li>å‡½æ•°çš„<code>prototype</code>å±æ€§: åœ¨å®šä¹‰å‡½æ•°æ—¶è‡ªåŠ¨æ·»åŠ çš„, é»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºObjectå¯¹è±¡</li>
<li>å¯¹è±¡çš„<code>__proto__</code>å±æ€§: åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨æ·»åŠ çš„, é»˜è®¤å€¼ä¸ºæ„é€ å‡½æ•°çš„prototypeå±æ€§å€¼</li>
<li>ç¨‹åºå‘˜èƒ½ç›´æ¥æ“ä½œæ˜¾å¼åŸå‹, ä½†ä¸èƒ½ç›´æ¥æ“ä½œéšå¼åŸå‹(ES6ä¹‹å‰)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">//å®šä¹‰æ„é€ å‡½æ•°
function Fn() {   // å†…éƒ¨è¯­å¥: this.prototype = {}

}
// 1. æ¯ä¸ªå‡½æ•°functionéƒ½æœ‰ä¸€ä¸ªprototypeï¼Œå³æ˜¾å¼åŸå‹å±æ€§, é»˜è®¤æŒ‡å‘ä¸€ä¸ªç©ºçš„Objectå¯¹è±¡
console.log(Fn.prototype)
// 2. æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª__proto__ï¼Œå¯ç§°ä¸ºéšå¼åŸå‹
//åˆ›å»ºå®ä¾‹å¯¹è±¡
var fn = new Fn()  // å†…éƒ¨è¯­å¥: this.__proto__ = Fn.prototype
console.log(fn.__proto__)
// 3. å¯¹è±¡çš„éšå¼åŸå‹çš„å€¼ä¸ºå…¶å¯¹åº”æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹çš„å€¼
console.log(Fn.prototype===fn.__proto__) // true
//ç»™åŸå‹æ·»åŠ æ–¹æ³•
Fn.prototype.test = function () {
  console.log(&#39;test()&#39;)
}
//é€šè¿‡å®ä¾‹è°ƒç”¨åŸå‹çš„æ–¹æ³•
fn.test()</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115018.png" alt="image-20200815115016550" class="lazyload"></p>
<p>(3) åŸå‹é“¾</p>
<ol>
<li>åŸå‹é“¾(å›¾è§£)<ul>
<li>è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œ<ul>
<li>å…ˆåœ¨è‡ªèº«å±æ€§ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°è¿”å›</li>
<li>å¦‚æœæ²¡æœ‰, å†æ²¿ç€<code>__proto__</code>è¿™æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾, æ‰¾åˆ°è¿”å›</li>
<li>å¦‚æœæœ€ç»ˆæ²¡æ‰¾åˆ°, è¿”å›undefined</li>
</ul>
</li>
<li>åˆ«å: éšå¼åŸå‹é“¾</li>
<li>ä½œç”¨: æŸ¥æ‰¾å¯¹è±¡çš„å±æ€§(æ–¹æ³•)</li>
</ul>
</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115136.png" alt="image-20200815115135158" class="lazyload"></p>
<ol start="2">
<li>æ„é€ å‡½æ•°/åŸå‹/å®ä½“å¯¹è±¡çš„å…³ç³»(å›¾è§£)</li>
</ol>
<pre><code class="javascript">var o1 = new Object();
var o2 = {};</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115415.png" alt="image-20200815115413214" class="lazyload"></p>
<ol start="3">
<li>æ„é€ å‡½æ•°/åŸå‹/å®ä½“å¯¹è±¡çš„å…³ç³»2(å›¾è§£)</li>
</ol>
<pre><code class="javascript">function Foo(){  }
// var Foo = new Function()
// Function = new Function()
// æ‰€æœ‰å‡½æ•°çš„__proto__éƒ½æ˜¯ä¸€æ ·çš„</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115508.png" alt="image-20200815115505581" class="lazyload"></p>
<pre><code class="javascript">// console.log(Object)
//console.log(Object.prototype)
console.log(Object.prototype.__proto__)
function Fn() {
  this.test1 = function () {
    console.log(&#39;test1()&#39;)
  }
}
console.log(Fn.prototype)
Fn.prototype.test2 = function () {
  console.log(&#39;test2()&#39;)
}

var fn = new Fn()

fn.test1()
fn.test2()
console.log(fn.toString())
console.log(fn.test3)
// fn.test3()

/*
1. å‡½æ•°çš„æ˜¾ç¤ºåŸå‹æŒ‡å‘çš„å¯¹è±¡é»˜è®¤æ˜¯ç©ºObjectå®ä¾‹å¯¹è±¡(ä½†Objectä¸æ»¡è¶³)
  */
console.log(Fn.prototype instanceof Object) // true
console.log(Object.prototype instanceof Object) // false
console.log(Function.prototype instanceof Object) // true
/*
2. æ‰€æœ‰å‡½æ•°éƒ½æ˜¯Functionçš„å®ä¾‹(åŒ…å«Function)
*/
console.log(Function.__proto__===Function.prototype)
/*
3. Objectçš„åŸå‹å¯¹è±¡æ˜¯åŸå‹é“¾å°½å¤´
  */
console.log(Object.prototype.__proto__) // null
</code></pre>
<ol start="4">
<li>åŸå‹ç»§æ‰¿</li>
</ol>
<ul>
<li>æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡è‡ªåŠ¨æ‹¥æœ‰æ„é€ å‡½æ•°åŸå‹å¯¹è±¡çš„å±æ€§(æ–¹æ³•)</li>
<li>åˆ©ç”¨çš„å°±æ˜¯åŸå‹é“¾</li>
</ul>
<ol start="5">
<li>åŸå‹å±æ€§é—®é¢˜</li>
</ol>
<ul>
<li>è¯»å–å¯¹è±¡çš„å±æ€§å€¼æ—¶: ä¼šè‡ªåŠ¨åˆ°åŸå‹é“¾ä¸­æŸ¥æ‰¾</li>
<li>è®¾ç½®å¯¹è±¡çš„å±æ€§å€¼æ—¶: ä¸ä¼šæŸ¥æ‰¾åŸå‹é“¾, å¦‚æœå½“å‰å¯¹è±¡ä¸­æ²¡æœ‰æ­¤å±æ€§, ç›´æ¥æ·»åŠ æ­¤å±æ€§å¹¶è®¾ç½®å…¶å€¼</li>
<li>æ–¹æ³•ä¸€èˆ¬å®šä¹‰åœ¨åŸå‹ä¸­, å±æ€§ä¸€èˆ¬é€šè¿‡æ„é€ å‡½æ•°å®šä¹‰åœ¨å¯¹è±¡æœ¬èº«ä¸Š</li>
</ul>
<pre><code class="javascript">function Fn() {

}
Fn.prototype.a = &#39;xxx&#39;
var fn1 = new Fn()
console.log(fn1.a, fn1)

var fn2 = new Fn()
fn2.a = &#39;yyy&#39;
console.log(fn1.a, fn2.a, fn2)

function Person(name, age) {
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}
var p1 = new Person(&#39;Tom&#39;, 12)
p1.setName(&#39;Bob&#39;)
console.log(p1)

var p2 = new Person(&#39;Jack&#39;, 12)
p2.setName(&#39;Cat&#39;)
console.log(p2)
console.log(p1.__proto__===p2.__proto__) // true</code></pre>
<p>(4) æ¢ç´¢instanceof</p>
<ol>
<li>instanceofæ˜¯å¦‚ä½•åˆ¤æ–­çš„?<ul>
<li>è¡¨è¾¾å¼: A instanceof B</li>
<li>å¦‚æœBå‡½æ•°çš„æ˜¾å¼åŸå‹å¯¹è±¡åœ¨Aå¯¹è±¡çš„åŸå‹é“¾ä¸Š, è¿”å›true, å¦åˆ™è¿”å›false</li>
</ul>
</li>
<li>Functionæ˜¯é€šè¿‡newè‡ªå·±äº§ç”Ÿçš„å®ä¾‹</li>
</ol>
<p><em>æ¡ˆä¾‹1</em></p>
<pre><code class="javascript">function Foo() {  }
var f1 = new Foo()
console.log(f1 instanceof Foo) // true
console.log(f1 instanceof Object) // true</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815120818.png" alt="image-20200815120816214" class="lazyload"></p>
<p><em>æ¡ˆä¾‹2</em></p>
<pre><code class="javascript">console.log(Object instanceof Function) // true
console.log(Object instanceof Object) // true
console.log(Function instanceof Function) // true
console.log(Function instanceof Object) // true

function Foo() {}
console.log(Object instanceof  Foo) // false</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815120915.png" alt="image-20200815120913828" class="lazyload"></p>
<p>(5) é¢è¯•é¢˜</p>
<pre><code class="javascript">/*
æµ‹è¯•é¢˜1
  */
function A () {

}
A.prototype.n = 1

var b = new A()

A.prototype = {
  n: 2,
  m: 3
}

var c = new A()
console.log(b.n, b.m, c.n, c.m) // 1 undefined 2 3</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815122322.png" alt="image-20200815122319966" class="lazyload"></p>
<pre><code class="javascript">/*
  æµ‹è¯•é¢˜2
  */
function F (){}
Object.prototype.a = function(){
  console.log(&#39;a()&#39;)
}
Function.prototype.b = function(){
  console.log(&#39;b()&#39;)
}

var f = new F()
f.a() // a()
// f.b() // Uncaught TypeError: f.b is not a function
F.a() // a()
F.b() // b()
console.log(f) // F {}
console.log(Object.prototype) // {a: Æ’, constructor: Æ’, __defineGetter__: Æ’, __defineSetter__: Æ’, hasOwnProperty: Æ’, â€¦}
console.log(Function.prototype) // Æ’ () { [native code] }</code></pre>
<h3 id="2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"><a href="#2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" class="headerlink" title="2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"></a>2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h3><p>(1) å˜é‡æå‡ä¸å‡½æ•°æå‡</p>
<ol>
<li>å˜é‡å£°æ˜æå‡<ul>
<li>é€šè¿‡<strong>varå®šä¹‰(å£°æ˜)çš„å˜é‡</strong>, åœ¨å®šä¹‰è¯­å¥ä¹‹å‰å°±å¯ä»¥è®¿é—®åˆ°</li>
<li>å€¼: undefined</li>
</ul>
</li>
<li>å‡½æ•°å£°æ˜æå‡<ul>
<li>é€šè¿‡<strong>functionå£°æ˜çš„å‡½æ•°</strong>, åœ¨ä¹‹å‰å°±å¯ä»¥ç›´æ¥è°ƒç”¨</li>
<li>å€¼: å‡½æ•°å®šä¹‰(å¯¹è±¡)</li>
</ul>
</li>
<li>é—®é¢˜: å˜é‡æå‡å’Œå‡½æ•°æå‡æ˜¯å¦‚ä½•äº§ç”Ÿçš„?<ul>
<li>åœ¨jsä¸­jså¼•æ“ä¼šä¼˜å…ˆè§£ævarå˜é‡å’Œfunctionå®šä¹‰ï¼åœ¨é¢„è§£æå®Œæˆåä»ä¸Šåˆ°ä¸‹é€æ­¥è¿›è¡Œï¼</li>
<li>è§£ævarå˜é‡æ—¶ï¼Œä¼šæŠŠå€¼å­˜å‚¨åœ¨â€œæ‰§è¡Œç¯å¢ƒâ€ä¸­ï¼Œè€Œä¸ä¼šå»èµ‹å€¼ï¼Œå€¼æ˜¯å­˜å‚¨ä½œç”¨ï¼ä¾‹å¦‚:<br>alertï¼ˆaï¼‰; var a = 2; è¿™æ—¶ä¼šè¾“å‡ºundifiend,æ„æ€æ˜¯æ²¡æœ‰è¢«åˆå§‹åŒ–æ²¡æœ‰è¢«èµ‹å€¼!<br>è¿™å¹¶ä¸æ˜¯æ²¡æœ‰è¢«å®šä¹‰ã€é”™è¯¯äº†çš„æ„æ€ï¼</li>
<li>åœ¨è§£æfunctionæ—¶ä¼šæŠŠå‡½æ•°æ•´ä½“å®šä¹‰ï¼Œè¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨functionå®šä¹‰å‡½æ•°æ—¶ä¸ºä»€ä¹ˆå¯ä»¥å…ˆè°ƒç”¨åå£°æ˜äº†ï¼å…¶å®è¡¨é¢ä¸Šçœ‹æ˜¯å…ˆè°ƒç”¨äº†ï¼Œå…¶å®åœ¨å†…éƒ¨æœºåˆ¶ä¸­ç¬¬ä¸€æ­¥å®è¡Œçš„æ˜¯æŠŠä»¥functionæ–¹å¼å®šä¹‰çš„å‡½æ•°å…ˆå£°æ˜äº†ï¼ˆé¢„å¤„ç†ï¼‰</li>
</ul>
</li>
</ol>
<pre><code class="javascript">/*
é¢è¯•é¢˜ : è¾“å‡º undefined
  */
var a = 3
function fn () {
  console.log(a)
  var a = 4
}
fn() // undefined

console.log(b) //undefined  å˜é‡æå‡
fn2() //å¯è°ƒç”¨  å‡½æ•°æå‡ fn2()
// fn3() //ä¸èƒ½  å˜é‡æå‡ Uncaught TypeError: fn3 is not a function

var b = 3
function fn2() {
  console.log(&#39;fn2()&#39;)
}

var fn3 = function () {
  console.log(&#39;fn3()&#39;)
}</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815122405.png" alt="image-20200815122404360" class="lazyload"></p>
<p>(2) æ‰§è¡Œä¸Šä¸‹æ–‡</p>
<ol>
<li>ä»£ç åˆ†ç±»(ä½ç½®)<ul>
<li>å…¨å±€ä»£ç </li>
<li>å‡½æ•°(å±€éƒ¨)ä»£ç </li>
</ul>
</li>
<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡<ul>
<li>åœ¨æ‰§è¡Œå…¨å±€ä»£ç å‰å°†windowç¡®å®šä¸ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li>å¯¹å…¨å±€æ•°æ®è¿›è¡Œé¢„å¤„ç†<ul>
<li>varå®šä¹‰çš„å…¨å±€å˜é‡==&gt;undefined, æ·»åŠ ä¸ºwindowçš„å±æ€§</li>
<li>functionå£°æ˜çš„å…¨å±€å‡½æ•°==&gt;èµ‹å€¼(fun), æ·»åŠ ä¸ºwindowçš„æ–¹æ³•</li>
<li>this==&gt;èµ‹å€¼(window)</li>
</ul>
</li>
<li>å¼€å§‹æ‰§è¡Œå…¨å±€ä»£ç <pre><code class="javascript">// å…¨å±€å£°æ˜çš„å˜é‡å’Œå‡½æ•°éƒ½ä¼šåœ¨windowä¸­ï¼šwindow.a1ã€window.a2()
console.log(a1, window.a1) // undefined undefined
window.a2() // a2() 
console.log(this) // Window
</code></pre>
</li>
</ul>
</li>
</ol>
<p>var a1 = 3 // åœ¨è¿™å£°æ˜ï¼Œäº‹å®ä¸Šè°ƒåˆ°ä¸Šé¢å£°æ˜äº†ï¼Œè¿™é‡Œèµ‹å€¼(å› æ­¤ä¸Šé¢èƒ½è®¿é—®)<br>function a2() { // åœ¨è¿™é‡Œå£°æ˜ï¼Œèƒ½å¤Ÿåœ¨ä¸Šé¢è°ƒç”¨<br>  console.log(â€˜a2()â€™)<br>}<br>console.log(a1) // 3</p>
<pre><code>


3. å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡
  * åœ¨è°ƒç”¨å‡½æ•°, å‡†å¤‡æ‰§è¡Œå‡½æ•°ä½“ä¹‹å‰, åˆ›å»ºå¯¹åº”çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡(è™šæ‹Ÿçš„, å­˜åœ¨äºæ ˆä¸­)
  * å¯¹å±€éƒ¨æ•°æ®è¿›è¡Œé¢„å¤„ç†
    * å½¢å‚å˜é‡â€”â€”&gt;èµ‹å€¼(å®å‚)â€”â€”&gt;æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±æ€§
    * arguments==&gt;èµ‹å€¼(å®å‚åˆ—è¡¨), æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±æ€§
    * varå®šä¹‰çš„å±€éƒ¨å˜é‡==&gt;undefined, æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±æ€§
    * functionå£°æ˜çš„å‡½æ•° ==&gt;èµ‹å€¼(fun), æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„æ–¹æ³•
    * this==&gt;èµ‹å€¼(è°ƒç”¨å‡½æ•°çš„å¯¹è±¡)
  * å¼€å§‹æ‰§è¡Œå‡½æ•°ä½“ä»£ç 

![image-20200815123117687](https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123118.png)



(3) æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ

1. åœ¨å…¨å±€ä»£ç æ‰§è¡Œå‰, JSå¼•æ“å°±ä¼šåˆ›å»ºä¸€ä¸ªæ ˆæ¥å­˜å‚¨ç®¡ç†æ‰€æœ‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡
2. åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡(window)ç¡®å®šå, å°†å…¶æ·»åŠ åˆ°æ ˆä¸­(å‹æ ˆ)
3. åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºå, å°†å…¶æ·»åŠ åˆ°æ ˆä¸­(å‹æ ˆ)
4. åœ¨å½“å‰å‡½æ•°æ‰§è¡Œå®Œå,å°†æ ˆé¡¶çš„å¯¹è±¡ç§»é™¤(å‡ºæ ˆ)
5. å½“æ‰€æœ‰çš„ä»£ç æ‰§è¡Œå®Œå, æ ˆä¸­åªå‰©ä¸‹window

```javascript
var a = 10
var bar = function (x) {
  var b = 5
  foo(x + b)
}
var foo = function (y) {
  var c = 5
  console.log(a + c + y)
}
bar(10)
// bar(10)</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123328.png" alt="image-20200815123327077" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123402.png" alt="image-20200815123401244" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123416.png" alt="image-20200815123414448" class="lazyload"></p>
<pre><code class="javascript">console.log(&#39;gb: &#39;+ i)
var i = 1
foo(1)
function foo(i) {
  if (i == 4) {
    return
  }
  console.log(&#39;fb:&#39; + i)
  foo(i + 1) //é€’å½’è°ƒç”¨: åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªå·±
  console.log(&#39;fe:&#39; + i)
}
console.log(&#39;ge: &#39; + i)
/*
1. ä¾æ¬¡è¾“å‡ºä»€ä¹ˆ?
  gb: undefined
  fb: 1
  fb: 2
  fb: 3
  fe: 3
  fe: 2
  fe: 1
  ge: 1
2. æ•´ä¸ªè¿‡ç¨‹ä¸­äº§ç”Ÿäº†å‡ ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡?  5   */</code></pre>
<p>(4) é¢è¯•é¢˜</p>
<pre><code class="javascript">/*
  æµ‹è¯•é¢˜1:  å…ˆæ‰§è¡Œå˜é‡æå‡, å†æ‰§è¡Œå‡½æ•°æå‡(å…ˆæ‰¾varå’Œfunction xxx(){})
  */
function a() {}
var a
console.log(typeof a) // function</code></pre>
<pre><code class="javascript">/*
  æµ‹è¯•é¢˜2: å…ˆæå‡ºå»ï¼Œwindowä¸­æœ‰bï¼Œä¸”æœªèµ‹å€¼
  */
if (!(b in window)) {
  var b = 1
}
console.log(b) // undefined</code></pre>
<pre><code class="javascript">/*
  æµ‹è¯•é¢˜3: é’ˆå¯¹å˜é‡ååŒåæˆ–å‡½æ•°ååŒåçš„æƒ…å†µï¼šå¦‚æœå£°æ˜äº†åŒåçš„å‡½æ•°å…¶å®šä¹‰ä¼šè¢«åè€…è¦†ç›–ï¼Œå£°æ˜äº†åŒåçš„å˜é‡å…¶å€¼ä¹Ÿä¼šè¢«åè€…è¦†ç›–
  */
var c = 1
function c(c) {
  console.log(c)
  var c = 3
}
console.log(c) // 1
c(2) // æŠ¥é”™ Uncaught TypeError: c is not a function

å†çœ‹ä¸€ä¸ª
//å£°æ˜é˜¶æ®µ
function x(){//å‡½æ•°å£°æ˜
    //console.log(5)æ­¤å¥ä¼šè¢«ä¸‹å¥ä»£ç è¦†ç›–
    console.log(3)
}
var x;//å˜é‡å£°æ˜ï¼Œå› ä¸ºxå·²ç»å£°æ˜è¿‡äº†ï¼Œæ­¤å¤„ä¸è¿›è¡Œå£°æ˜ï¼ˆå¿½ç•¥ï¼‰
//æ‰§è¡Œé˜¶æ®µ
console.log(x) // Æ’ x(){//å‡½æ•°å£°æ˜//console.log(5);æ­¤å¥ä¼šè¢«ä¸‹å¥ä»£ç è¦†ç›–console.log(3);}
console.log(x()) // 3
x=1 
x=100 //xçš„å€¼è¢«è¦†ç›–
console.log(x) // 100
console.log(x()) // Uncaught TypeError: x is not a function</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125003.png" alt="image-20200815125002631" class="lazyload"></p>
<h3 id="3ã€ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾"><a href="#3ã€ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾" class="headerlink" title="3ã€ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾"></a>3ã€ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾</h3><p>(1) ä½œç”¨åŸŸ</p>
<ol>
<li>ç†è§£<ul>
<li>å°±æ˜¯ä¸€å—â€åœ°ç›˜â€, ä¸€ä¸ªä»£ç æ®µæ‰€åœ¨çš„åŒºåŸŸ</li>
<li>å®ƒæ˜¯é™æ€çš„(ç›¸å¯¹äºä¸Šä¸‹æ–‡å¯¹è±¡), åœ¨ç¼–å†™ä»£ç æ—¶å°±ç¡®å®šäº†</li>
</ul>
</li>
<li>åˆ†ç±»<ul>
<li>å…¨å±€ä½œç”¨åŸŸ</li>
<li>å‡½æ•°ä½œç”¨åŸŸ</li>
<li>æ²¡æœ‰å—ä½œç”¨åŸŸ(ES6æœ‰äº†)<pre><code class="javascript">/*  //æ²¡å—ä½œç”¨åŸŸ
if(true) {
var c = 3
}
console.log(c) // 3 æœ‰å—ä½œç”¨åŸŸåˆ™æŠ¥é”™*/</code></pre>
</li>
</ul>
</li>
</ol>
<ol start="3">
<li>ä½œç”¨<ul>
<li>éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çª</li>
</ul>
</li>
</ol>
<p>ä¾‹å¦‚æŠŠå¦‚ä¸‹ä»£ç åˆ†å‰²</p>
<pre><code class="javascript">var a = 10,
  b = 20
function fn(x) {
  var a = 100,
    c = 300;
  console.log(&#39;fn()&#39;, a, b, c, x) 
  function bar(x) {
    var a = 1000,
      d = 400
    console.log(&#39;bar()&#39;, a, b, c, d, x)
  }
  bar(100) // bar() 1000 20 300 400 100
  bar(200) // bar() 1000 20 300 400 200
}
fn(10) // fn() 100 20 300 10</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125424.png" alt="image-20200815125422438" class="lazyload"></p>
<p>(2) ä½œç”¨åŸŸä¸æ‰§è¡Œä¸Šä¸‹æ–‡</p>
<ol>
<li>åŒºåˆ«1<ul>
<li>å…¨å±€ä½œç”¨åŸŸä¹‹å¤–ï¼Œæ¯ä¸ªå‡½æ•°éƒ½ä¼šåˆ›å»ºè‡ªå·±çš„ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ã€‚è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶</li>
<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸç¡®å®šä¹‹å, jsä»£ç é©¬ä¸Šæ‰§è¡Œä¹‹å‰åˆ›å»º</li>
<li>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯åœ¨è°ƒç”¨å‡½æ•°æ—¶, å‡½æ•°ä½“ä»£ç æ‰§è¡Œä¹‹å‰åˆ›å»º</li>
</ul>
</li>
<li>åŒºåˆ«2<ul>
<li>ä½œç”¨åŸŸæ˜¯é™æ€çš„, åªè¦å‡½æ•°å®šä¹‰å¥½äº†å°±ä¸€ç›´å­˜åœ¨, ä¸”ä¸ä¼šå†å˜åŒ–</li>
<li>æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯åŠ¨æ€çš„, è°ƒç”¨å‡½æ•°æ—¶åˆ›å»º, å‡½æ•°è°ƒç”¨ç»“æŸæ—¶å°±ä¼šè‡ªåŠ¨é‡Šæ”¾</li>
</ul>
</li>
<li>è”ç³»<ul>
<li>æ‰§è¡Œä¸Šä¸‹æ–‡(å¯¹è±¡)æ˜¯ä»å±äºæ‰€åœ¨çš„ä½œç”¨åŸŸ</li>
<li>å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ==&gt;å…¨å±€ä½œç”¨åŸŸ</li>
<li>å‡½æ•°ä¸Šä¸‹æ–‡ç¯å¢ƒ==&gt;å¯¹åº”çš„å‡½æ•°ä½¿ç”¨åŸŸ</li>
</ul>
</li>
</ol>
<p>è¿˜æ˜¯ä¸Šé¢é‚£ä¸²ä»£ç </p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125637.png" alt="image-20200815125635951" class="lazyload"></p>
<p>(3) ä½œç”¨åŸŸé“¾</p>
<ol>
<li>ç†è§£<ul>
<li>å¤šä¸ªä¸Šä¸‹çº§å…³ç³»çš„ä½œç”¨åŸŸå½¢æˆçš„é“¾, å®ƒçš„æ–¹å‘æ˜¯ä»ä¸‹å‘ä¸Šçš„(ä»å†…åˆ°å¤–)</li>
<li>æŸ¥æ‰¾å˜é‡æ—¶å°±æ˜¯æ²¿ç€ä½œç”¨åŸŸé“¾æ¥æŸ¥æ‰¾çš„</li>
</ul>
</li>
<li>æŸ¥æ‰¾ä¸€ä¸ªå˜é‡çš„æŸ¥æ‰¾è§„åˆ™<ul>
<li>åœ¨å½“å‰ä½œç”¨åŸŸä¸‹çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å¯¹åº”çš„å±æ€§, å¦‚æœæœ‰ç›´æ¥è¿”å›, å¦åˆ™è¿›å…¥2</li>
<li>åœ¨ä¸Šä¸€çº§ä½œç”¨åŸŸçš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å¯¹åº”çš„å±æ€§, å¦‚æœæœ‰ç›´æ¥è¿”å›, å¦åˆ™è¿›å…¥3</li>
<li>å†æ¬¡æ‰§è¡Œ2çš„ç›¸åŒæ“ä½œ, ç›´åˆ°å…¨å±€ä½œç”¨åŸŸ, å¦‚æœè¿˜æ‰¾ä¸åˆ°å°±æŠ›å‡ºæ‰¾ä¸åˆ°çš„å¼‚å¸¸</li>
</ul>
</li>
</ol>
<pre><code class="javascript">var a = 1
function fn1() {
  var b = 2
  function fn2() {
    var c = 3
    console.log(c) // 3
    console.log(b) // 2
    console.log(a) // 1
    console.log(d) // Uncaught ReferenceError: d is not defined
  }
  fn2()
}
fn1()</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125756.png" alt="image-20200815125755108" class="lazyload"></p>
<p>(4) é¢è¯•é¢˜</p>
<pre><code class="javascript">var x = 10;
function fn() {
  console.log(x);
}
function show(f) {
  var x = 20;
  f();
}
show(fn); // 10</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125904.png" alt="image-20200815125902910" class="lazyload"></p>
<pre><code class="javascript">var fn = function () {
  console.log(fn)
}
fn() // f(){console.log(fn)}

var obj = {
  fn2: function () {
    console.log(fn2)
    //console.log(this.fn2) // Æ’ () {// console.log(fn2) console.log(this.fn2)}
  }
}
obj.fn2() // Uncaught ReferenceError: fn2 is not defined</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125936.png" alt="image-20200815125935489" class="lazyload"></p>
<h3 id="4ã€é—­åŒ…"><a href="#4ã€é—­åŒ…" class="headerlink" title="4ã€é—­åŒ…"></a>4ã€é—­åŒ…</h3><p>(1) å¼•å…¥å®ä¾‹</p>
<pre><code class="html">&lt;button&gt;æµ‹è¯•1&lt;/button&gt;
&lt;button&gt;æµ‹è¯•2&lt;/button&gt;
&lt;button&gt;æµ‹è¯•3&lt;/button&gt;
&lt;!--
éœ€æ±‚: ç‚¹å‡»æŸä¸ªæŒ‰é’®, æç¤º&quot;ç‚¹å‡»çš„æ˜¯ç¬¬nä¸ªæŒ‰é’®&quot;
--&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var btns = document.getElementsByTagName(&#39;button&#39;)
  //éå†åŠ ç›‘å¬
  /*// æ— è®ºç‚¹å“ªä¸ªéƒ½æ˜¯ ç¬¬4ä¸ª â€”â€”ç‚¹å‡»çš„æ—¶å€™å¾ªç¯å·²ç»æ‰§è¡Œå®Œäº†
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    var btn = btns[i]
    btn.onclick = function () {
      alert(&#39;ç¬¬&#39;+(i+1)+&#39;ä¸ª&#39;)
    }
  }*/
  /*
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    var btn = btns[i]
    //å°†btnæ‰€å¯¹åº”çš„ä¸‹æ ‡ä¿å­˜åœ¨btnä¸Šï¼Œåˆ©ç”¨è¿™ä¸­æ–¹å¼å¯ä»¥å®ç°
    btn.index = i
    btn.onclick = function () {
      alert(&#39;ç¬¬&#39;+(this.index+1)+&#39;ä¸ª&#39;)
    }
  }*/

  //åˆ©ç”¨é—­åŒ…
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    (function (j) {
      var btn = btns[j]
      btn.onclick = function () {
        alert(&#39;ç¬¬&#39;+(j+1)+&#39;ä¸ª&#39;)
      }
    })(i)
  }
&lt;/script&gt;</code></pre>
<p>(2) ç†è§£é—­åŒ…</p>
<ol>
<li>å¦‚ä½•äº§ç”Ÿé—­åŒ…?<ul>
<li>å½“ä¸€ä¸ª<strong>åµŒå¥—çš„å†…éƒ¨(å­)å‡½æ•°å¼•ç”¨äº†åµŒå¥—çš„å¤–éƒ¨(çˆ¶)å‡½æ•°çš„å˜é‡(å‡½æ•°)</strong>æ—¶, å°±äº§ç”Ÿäº†é—­åŒ…</li>
</ul>
</li>
<li>é—­åŒ…åˆ°åº•æ˜¯ä»€ä¹ˆ?<ul>
<li>ä½¿ç”¨chromeè°ƒè¯•æŸ¥çœ‹</li>
<li>ç†è§£ä¸€: é—­åŒ…æ˜¯åµŒå¥—çš„å†…éƒ¨å‡½æ•°(ç»å¤§éƒ¨åˆ†äºº)</li>
<li>ç†è§£äºŒ: åŒ…å«è¢«å¼•ç”¨å˜é‡(å‡½æ•°)çš„å¯¹è±¡(æå°‘æ•°äºº)</li>
<li>æ³¨æ„: é—­åŒ…å­˜åœ¨äºåµŒå¥—çš„å†…éƒ¨å‡½æ•°ä¸­</li>
</ul>
</li>
<li><strong><em>äº§ç”Ÿé—­åŒ…çš„æ¡ä»¶?</em></strong><ul>
<li>å‡½æ•°åµŒå¥—</li>
<li>å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„æ•°æ®(å˜é‡/å‡½æ•°)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1 () {
  var a = 2
  var b = &#39;abc&#39;
  function fn2 () { //æ‰§è¡Œå‡½æ•°å®šä¹‰å°±ä¼šäº§ç”Ÿé—­åŒ…(ä¸ç”¨è°ƒç”¨å†…éƒ¨å‡½æ•°)
    console.log(a)
  }
  // fn2()
}
fn1()

function fun1() {
  var a = 3
  var fun2 = function () { // å£°æ˜å˜é‡å½¢å¼å®šä¹‰å‡½æ•°ï¼Œä¸ä¼šäº§ç”Ÿé—­åŒ…
    console.log(a)
  }
}
fun1()</code></pre>
<p>(3) å¸¸è§çš„é—­åŒ…</p>
<ol>
<li>å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼</li>
<li>å°†å‡½æ•°ä½œä¸ºå®å‚ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨</li>
</ol>
<pre><code class="javascript">// 1. å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼
function fn1() {
  var a = 2
  function fn2() {
    a++
    console.log(a)
  }
  return fn2
}
var f = fn1()
f() // 3
f() // 4
/* fè°ƒç”¨çš„æ˜¯å†…éƒ¨å‡½æ•°ï¼Œfn1å¤–éƒ¨å‡½æ•°æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œäº§ç”Ÿ1ä¸ªé—­åŒ… */

// 2. å°†å‡½æ•°ä½œä¸ºå®å‚ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨
function showDelay(msg, time) {
  setTimeout(function () {
    alert(msg)
  }, time)
}
showDelay(&#39;test&#39;, 2000)</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815131913.png" alt="image-20200815131912058" class="lazyload"></p>
<p>(4) é—­åŒ…çš„ä½œç”¨</p>
<ol>
<li>ä½¿ç”¨å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œå, ä»ç„¶å­˜æ´»åœ¨å†…å­˜ä¸­(å»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ)</li>
<li>è®©å‡½æ•°å¤–éƒ¨å¯ä»¥æ“ä½œ(è¯»å†™)åˆ°å‡½æ•°å†…éƒ¨çš„æ•°æ®(å˜é‡/å‡½æ•°)</li>
</ol>
<p><em>é—®é¢˜:</em></p>
<ul>
<li><p>å‡½æ•°æ‰§è¡Œå®Œå, å‡½æ•°å†…éƒ¨å£°æ˜çš„å±€éƒ¨å˜é‡æ˜¯å¦è¿˜å­˜åœ¨? </p>
<p>ä¸€èˆ¬æ˜¯ä¸å­˜åœ¨, å­˜åœ¨äºé—­ä¸­çš„å˜é‡æ‰å¯èƒ½å­˜åœ¨</p>
</li>
<li><p>åœ¨å‡½æ•°å¤–éƒ¨èƒ½ç›´æ¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡å—? </p>
<p>ä¸èƒ½, ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡é—­åŒ…è®©å¤–éƒ¨æ“ä½œå®ƒ</p>
</li>
</ul>
<pre><code class="javascript">function fn1() {
  var a = 2
  function fn2() {
    a++
    console.log(a)
    // return a
  }
  function fn3() {
    a--
    console.log(a)
  }
  return fn3
}
var f = fn1()
f() // 1
f() // 0</code></pre>
<p>(5) é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸ</p>
<ol>
<li>äº§ç”Ÿ: åœ¨åµŒå¥—å†…éƒ¨å‡½æ•°<strong>å®šä¹‰</strong>æ‰§è¡Œå®Œæ—¶å°±äº§ç”Ÿäº†(ä¸æ˜¯åœ¨è°ƒç”¨)</li>
<li>æ­»äº¡: åœ¨åµŒå¥—çš„å†…éƒ¨å‡½æ•°æˆä¸ºåƒåœ¾å¯¹è±¡æ—¶</li>
</ol>
<pre><code>function fn1() {
  //æ­¤æ—¶é—­åŒ…å°±å·²ç»äº§ç”Ÿäº†(å‡½æ•°æå‡, å†…éƒ¨å‡½æ•°å¯¹è±¡å·²ç»åˆ›å»ºäº†)
  var a = 2
  function fn2 () {
    a++
    console.log(a)
  }
  return fn2
}
var f = fn1()
f() // 3
f() // 4
f = null //é—­åŒ…æ­»äº¡(åŒ…å«é—­åŒ…çš„å‡½æ•°å¯¹è±¡æˆä¸ºåƒåœ¾å¯¹è±¡)</code></pre><p>(6) é—­åŒ…çš„åº”ç”¨: è‡ªå®šä¹‰JSæ¨¡å—</p>
<p>æ¨¡å—ï¼š</p>
<ul>
<li>å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„jsæ–‡ä»¶<ul>
<li>å°†æ‰€æœ‰çš„æ•°æ®å’ŒåŠŸèƒ½éƒ½å°è£…åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨(ç§æœ‰çš„)</li>
<li>åªå‘å¤–æš´éœ²ä¸€ä¸ªåŒ…æ‹¬nä¸ªæ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°</li>
<li>æ¨¡å—çš„ä½¿ç”¨è€…, åªéœ€è¦é€šè¿‡æ¨¡å—æš´éœ²çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•æ¥å®ç°å¯¹åº”çš„åŠŸèƒ½</li>
</ul>
</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ–‡ä»¶<code>myModule1.js</code>å°±æ˜¯ä¸€ä¸ªæ¨¡å—</p>
<pre><code class="javascript">function myModule() {
  //ç§æœ‰æ•°æ®
  var msg = &#39;Hello This is Module1&#39;
  //æ“ä½œæ•°æ®çš„å‡½æ•°
  function doSomething() {
    console.log(&#39;doSomething() &#39;+msg.toUpperCase())
  }
  function doOtherthing () {
    console.log(&#39;doOtherthing() &#39;+msg.toLowerCase())
  }

  //å‘å¤–æš´éœ²å¯¹è±¡(ç»™å¤–éƒ¨ä½¿ç”¨çš„æ–¹æ³•)
  return {
    doSomething: doSomething,
    doOtherthing: doOtherthing
  }
}</code></pre>
<p>åœ¨å…¶ä»–æ–‡ä»¶ä¸­å¼•å…¥</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;myModule.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var module = myModule()
  module.doSomething()
  module.doOtherthing()
&lt;/script&gt;</code></pre>
<p>ä¸‹é¢è¿™ç§æ›´å¥½ç”¨ä¸€ç‚¹ï¼Œå¯ä»¥ä¸éœ€è¦å…ˆæ‰§è¡Œé‚£ä¸ªå‡½æ•°ï¼ˆIIFEï¼‰</p>
<p><code>myModule2.js</code></p>
<pre><code class="javascript">(function () {
  //ç§æœ‰æ•°æ®
  var msg = &#39;Hello This is Module1&#39;
  //æ“ä½œæ•°æ®çš„å‡½æ•°
  function doSomething() {
    console.log(&#39;doSomething() &#39;+msg.toUpperCase())
  }
  function doOtherthing () {
    console.log(&#39;doOtherthing() &#39;+msg.toLowerCase())
  }

  //å‘å¤–æš´éœ²å¯¹è±¡(ç»™å¤–éƒ¨ä½¿ç”¨çš„æ–¹æ³•)
  window.myModule2 = {
    doSomething: doSomething,
    doOtherthing: doOtherthing
  }
})()</code></pre>
<p>å¼•å…¥ä½¿ç”¨</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;myModule2.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  myModule2.doSomething()
  myModule2.doOtherthing()
&lt;/script&gt;</code></pre>
<p>å‹ç¼©ä»£ç æ—¶ï¼Œä¼šæŠŠå˜é‡æ”¹ä¸ºaã€bã€cè¿™ç§çš„ï¼Œå› æ­¤æœ€å¥½è¿™æ ·åš</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815132854.png" alt="image-20200815132852872" class="lazyload"></p>
<p>(7) é—­åŒ…çš„ç¼ºç‚¹åŠè§£å†³</p>
<ol>
<li>ç¼ºç‚¹<ul>
<li>å‡½æ•°æ‰§è¡Œå®Œå, å‡½æ•°å†…çš„å±€éƒ¨å˜é‡æ²¡æœ‰é‡Šæ”¾, å ç”¨å†…å­˜æ—¶é—´ä¼šå˜é•¿</li>
<li>å®¹æ˜“é€ æˆå†…å­˜æ³„éœ²</li>
</ul>
</li>
<li>è§£å†³<ul>
<li>èƒ½ä¸ç”¨é—­åŒ…å°±ä¸ç”¨</li>
<li>åŠæ—¶é‡Šæ”¾</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1() {
  var arr = new Array[100000]
  function fn2() {
    console.log(arr.length)
  }
  return fn2
}
var f = fn1()
f()

f = null //è®©å†…éƒ¨å‡½æ•°æˆä¸ºåƒåœ¾å¯¹è±¡--&gt;å›æ”¶é—­åŒ…</code></pre>
<p>è¡¥å……ï¼šå†…å­˜æº¢å‡ºä¸å†…å­˜æ³„éœ²</p>
<ul>
<li>å†…å­˜æº¢å‡º<ul>
<li>ä¸€ç§ç¨‹åºè¿è¡Œå‡ºç°çš„é”™è¯¯</li>
<li>å½“ç¨‹åºè¿è¡Œéœ€è¦çš„å†…å­˜è¶…è¿‡äº†å‰©ä½™çš„å†…å­˜æ—¶ï¼Œå°±ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºçš„é”™è¯¯</li>
</ul>
</li>
<li>å†…å­˜æ³„éœ²<ul>
<li>å ç”¨çš„å†…å­˜æ²¡æœ‰åŠæ—¶é‡Šæ”¾</li>
<li>å†…å­˜æ³„éœ²ç§¯ç´¯å¤šäº†å°±å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li>
<li>å¸¸è§çš„å†…å­˜æ³„éœ²ï¼š<ul>
<li>æ„å¤–çš„å…¨å±€å˜é‡</li>
<li>æ²¡æœ‰åŠæ—¶æ¸…ç†çš„è®¡æ—¶å™¨æˆ–å›è°ƒå‡½æ•°</li>
<li>é—­åŒ…</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133732.png" alt="image-20200815133731332" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133741.png" alt="image-20200815133739782" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133756.png" alt="image-20200815133755479" class="lazyload"></p>
<p>(8) é¢è¯•é¢˜</p>
<pre><code class="javascript">//ä»£ç ç‰‡æ®µä¸€
var name = &quot;The Window&quot;;
var object = {
  name : &quot;My Object&quot;,
  getNameFunc : function(){
    return function(){
      return this.name;
    };
  }
};
alert(object.getNameFunc()());  // the window

//ä»£ç ç‰‡æ®µäºŒ
var name2 = &quot;The Window&quot;;
var object2 = {
  name2 : &quot;My Object&quot;,
  getNameFunc : function(){
    var that = this;
    return function(){
      return that.name2;
    };
  }
};
alert(object2.getNameFunc()()); // my object

// ä¸‰
function fun(n,o) {
  console.log(o)
  return {
    fun:function(m){
      return fun(m,n)
    }
  }
}
var a = fun(0)
a.fun(1)
a.fun(2)
a.fun(3)//undefined,0,0,0

var b = fun(0).fun(1).fun(2).fun(3)//undefined,0,1,2

var c = fun(0).fun(1)
c.fun(2)
c.fun(3)//undefined,0,1,1</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133831.png" alt="image-20200815133830697" class="lazyload"></p>
<h2 id="ä¸‰ã€é¢å‘å¯¹è±¡é«˜çº§"><a href="#ä¸‰ã€é¢å‘å¯¹è±¡é«˜çº§" class="headerlink" title="ä¸‰ã€é¢å‘å¯¹è±¡é«˜çº§"></a>ä¸‰ã€é¢å‘å¯¹è±¡é«˜çº§</h2><h3 id="1ã€å¯¹è±¡åˆ›å»ºæ¨¡å¼"><a href="#1ã€å¯¹è±¡åˆ›å»ºæ¨¡å¼" class="headerlink" title="1ã€å¯¹è±¡åˆ›å»ºæ¨¡å¼"></a>1ã€å¯¹è±¡åˆ›å»ºæ¨¡å¼</h3><p>æœ‰å¦‚ä¸‹äº”ç§æ–¹å¼ï¼š</p>
<p>(1) Objectæ„é€ å‡½æ•°æ¨¡å¼</p>
<ul>
<li>å¥—è·¯: å…ˆåˆ›å»ºç©ºObjectå¯¹è±¡, å†åŠ¨æ€æ·»åŠ å±æ€§/æ–¹æ³•</li>
<li>é€‚ç”¨åœºæ™¯: èµ·å§‹æ—¶ä¸ç¡®å®šå¯¹è±¡å†…éƒ¨æ•°æ®</li>
<li>é—®é¢˜: è¯­å¥å¤ªå¤š</li>
</ul>
<pre><code class="javascript">/*
ä¸€ä¸ªäºº: name:&quot;Tom&quot;, age: 12
  */
// å…ˆåˆ›å»ºç©ºObjectå¯¹è±¡
var p = new Object()
p = {} //æ­¤æ—¶å†…éƒ¨æ•°æ®æ˜¯ä¸ç¡®å®šçš„
// å†åŠ¨æ€æ·»åŠ å±æ€§/æ–¹æ³•
p.name = &#39;Tom&#39;
p.age = 12
p.setName = function (name) {
  this.name = name
}

//æµ‹è¯•
console.log(p.name, p.age)
p.setName(&#39;Bob&#39;)
console.log(p.name, p.age)</code></pre>
<p>(2) å¯¹è±¡å­—é¢é‡æ¨¡å¼</p>
<ul>
<li>å¥—è·¯: ä½¿ç”¨{}åˆ›å»ºå¯¹è±¡, åŒæ—¶æŒ‡å®šå±æ€§/æ–¹æ³•<ul>
<li>é€‚ç”¨åœºæ™¯: èµ·å§‹æ—¶å¯¹è±¡å†…éƒ¨æ•°æ®æ˜¯ç¡®å®šçš„</li>
<li>é—®é¢˜: å¦‚æœåˆ›å»ºå¤šä¸ªå¯¹è±¡, æœ‰é‡å¤ä»£ç </li>
</ul>
</li>
</ul>
<pre><code class="javascript">var p = {
  name: &#39;Tom&#39;,
  age: 12,
  setName: function (name) {
    this.name = name
  }
}

//æµ‹è¯•
console.log(p.name, p.age)
p.setName(&#39;JACK&#39;)
console.log(p.name, p.age)

var p2 = {  //å¦‚æœåˆ›å»ºå¤šä¸ªå¯¹è±¡ä»£ç å¾ˆé‡å¤
  name: &#39;Bob&#39;,
  age: 13,
  setName: function (name) {
    this.name = name
  }
}</code></pre>
<p>(3) <del>å·¥å‚æ¨¡å¼</del></p>
<ul>
<li>å¥—è·¯: é€šè¿‡å·¥å‚å‡½æ•°åŠ¨æ€åˆ›å»ºå¯¹è±¡å¹¶è¿”å›<ul>
<li>é€‚ç”¨åœºæ™¯: éœ€è¦åˆ›å»ºå¤šä¸ªå¯¹è±¡</li>
<li>é—®é¢˜: å¯¹è±¡æ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„ç±»å‹, éƒ½æ˜¯Objectç±»å‹</li>
</ul>
</li>
</ul>
<pre><code class="javascript">function createPerson(name, age) { //è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°===&gt;å·¥å‚å‡½æ•°
  var obj = {
    name: name,
    age: age,
    setName: function (name) {
      this.name = name
    }
  }

  return obj
}

// åˆ›å»º2ä¸ªäºº
var p1 = createPerson(&#39;Tom&#39;, 12)
var p2 = createPerson(&#39;Bob&#39;, 13)

// p1/p2æ˜¯Objectç±»å‹

function createStudent(name, price) {
  var obj = {
    name: name,
    price: price
  }
  return obj
}
var s = createStudent(&#39;å¼ ä¸‰&#39;, 12000)
// sä¹Ÿæ˜¯Object</code></pre>
<p>(4) è‡ªå®šä¹‰æ„é€ å‡½æ•°æ¨¡å¼</p>
<ul>
<li>å¥—è·¯: è‡ªå®šä¹‰æ„é€ å‡½æ•°, é€šè¿‡newåˆ›å»ºå¯¹è±¡</li>
<li>é€‚ç”¨åœºæ™¯: éœ€è¦åˆ›å»ºå¤šä¸ªç±»å‹ç¡®å®šçš„å¯¹è±¡</li>
<li>é—®é¢˜: æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ç›¸åŒçš„æ•°æ®, æµªè´¹å†…å­˜</li>
</ul>
<pre><code class="javascript">//å®šä¹‰ç±»å‹
function Person(name, age) {
  this.name = name
  this.age = age
  this.setName = function (name) {
    this.name = name
  }
}
var p1 = new Person(&#39;Tom&#39;, 12)
p1.setName(&#39;Jack&#39;)
console.log(p1.name, p1.age)
console.log(p1 instanceof Person)

function Student (name, price) {
  this.name = name
  this.price = price
}
var s = new Student(&#39;Bob&#39;, 13000)
console.log(s instanceof Student)

var p2 = new Person(&#39;JACK&#39;, 23)
console.log(p1, p2)</code></pre>
<p>æ–¹æ³•ä¸¤è€…éƒ½æœ‰ï¼Œä¸”ç›¸åŒï¼Œä¸éœ€è¦å•ç‹¬æ‹¥æœ‰ï¼Œå¯æ”¾åˆ°åŸå‹ä¸­(æ–¹æ³•ä¸€èˆ¬æ”¾åˆ°åŸå‹ä¸­)â€”â€”&gt;</p>
<p>(5) æ„é€ å‡½æ•°+åŸå‹çš„ç»„åˆæ¨¡å¼</p>
<ul>
<li>å¥—è·¯: è‡ªå®šä¹‰æ„é€ å‡½æ•°, å±æ€§åœ¨å‡½æ•°ä¸­åˆå§‹åŒ–, æ–¹æ³•æ·»åŠ åˆ°åŸå‹ä¸Š</li>
<li>é€‚ç”¨åœºæ™¯: éœ€è¦åˆ›å»ºå¤šä¸ªç±»å‹ç¡®å®šçš„å¯¹è±¡</li>
</ul>
<pre><code class="javascript">function Person(name, age) { //åœ¨æ„é€ å‡½æ•°ä¸­åªåˆå§‹åŒ–ä¸€èˆ¬å‡½æ•°
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}

var p1 = new Person(&#39;Tom&#39;, 23)
var p2 = new Person(&#39;Jack&#39;, 24)
console.log(p1, p2)</code></pre>
<h3 id="2ã€ç»§æ‰¿æ¨¡å¼"><a href="#2ã€ç»§æ‰¿æ¨¡å¼" class="headerlink" title="2ã€ç»§æ‰¿æ¨¡å¼"></a>2ã€ç»§æ‰¿æ¨¡å¼</h3><p>ç»§æ‰¿ï¼Œåœ¨jsä¸­æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<p>(1) åŸå‹é“¾ç»§æ‰¿</p>
<ol>
<li>å¥—è·¯<ul>
<li>å®šä¹‰çˆ¶ç±»å‹æ„é€ å‡½æ•°</li>
<li>ç»™çˆ¶ç±»å‹çš„åŸå‹æ·»åŠ æ–¹æ³•</li>
<li>å®šä¹‰å­ç±»å‹çš„æ„é€ å‡½æ•°</li>
<li>åˆ›å»ºçˆ¶ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„åŸå‹</li>
<li>å°†å­ç±»å‹åŸå‹çš„æ„é€ å±æ€§è®¾ç½®ä¸ºå­ç±»å‹</li>
<li>ç»™å­ç±»å‹åŸå‹æ·»åŠ æ–¹æ³•</li>
<li>åˆ›å»ºå­ç±»å‹çš„å¯¹è±¡: å¯ä»¥è°ƒç”¨çˆ¶ç±»å‹çš„æ–¹æ³•</li>
</ul>
</li>
<li>å…³é”®<ul>
<li>å­ç±»å‹çš„åŸå‹ä¸ºçˆ¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡</li>
</ul>
</li>
</ol>
<pre><code class="javascript">//çˆ¶ç±»å‹
function Supper() {
  this.supProp = &#39;Supper property&#39;
}
Supper.prototype.showSupperProp = function () {
  console.log(this.supProp)
}

//å­ç±»å‹
function Sub() {
  this.subProp = &#39;Sub property&#39;
}

// å­ç±»å‹çš„åŸå‹ä¸ºçˆ¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡
Sub.prototype = new Supper()
// è®©å­ç±»å‹çš„åŸå‹çš„constructoræŒ‡å‘å­ç±»å‹
Sub.prototype.constructor = Sub
Sub.prototype.showSubProp = function () {
  console.log(this.subProp)
}

var sub = new Sub()
sub.showSupperProp()
// sub.toString()
sub.showSubProp()

console.log(sub)  // Sub</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815135207.png" alt="image-20200815135206553" class="lazyload"></p>
<p>(2) å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿</p>
<ol>
<li>å¥—è·¯:<ul>
<li>å®šä¹‰çˆ¶ç±»å‹æ„é€ å‡½æ•°</li>
<li>å®šä¹‰å­ç±»å‹æ„é€ å‡½æ•°</li>
<li>åœ¨å­ç±»å‹æ„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»å‹æ„é€ </li>
</ul>
</li>
<li>å…³é”®:<ul>
<li>åœ¨å­ç±»å‹æ„é€ å‡½æ•°ä¸­é€šç”¨call()è°ƒç”¨çˆ¶ç±»å‹æ„é€ å‡½æ•°</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function Person(name, age) {
  this.name = name
  this.age = age
}
function Student(name, age, price) {
  Person.call(this, name, age)  // ç›¸å½“äº: this.Person(name, age)
  /*this.name = name
  this.age = age*/
  this.price = price
}

var s = new Student(&#39;Tom&#39;, 20, 14000)
console.log(s.name, s.age, s.price)</code></pre>
<p>(3) ç»„åˆç»§æ‰¿</p>
<ol>
<li><p>åˆ©ç”¨åŸå‹é“¾å®ç°å¯¹çˆ¶ç±»å‹å¯¹è±¡çš„æ–¹æ³•ç»§æ‰¿</p>
</li>
<li><p>åˆ©ç”¨super()å€Ÿç”¨çˆ¶ç±»å‹æ„å»ºå‡½æ•°åˆå§‹åŒ–ç›¸åŒå±æ€§</p>
</li>
</ol>
<pre><code class="javascript">function Person(name, age) {
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}

function Student(name, age, price) {
  Person.call(this, name, age)  // ä¸ºäº†å¾—åˆ°å±æ€§
  this.price = price
}
Student.prototype = new Person() // ä¸ºäº†èƒ½çœ‹åˆ°çˆ¶ç±»å‹çš„æ–¹æ³•
Student.prototype.constructor = Student //ä¿®æ­£constructorå±æ€§
Student.prototype.setPrice = function (price) {
  this.price = price
}

var s = new Student(&#39;Tom&#39;, 24, 15000)
s.setName(&#39;Bob&#39;)
s.setPrice(16000)
console.log(s.name, s.age, s.price)</code></pre>
<h2 id="å››ã€çº¿ç¨‹æœºåˆ¶ä¸äº‹ä»¶æœºåˆ¶"><a href="#å››ã€çº¿ç¨‹æœºåˆ¶ä¸äº‹ä»¶æœºåˆ¶" class="headerlink" title="å››ã€çº¿ç¨‹æœºåˆ¶ä¸äº‹ä»¶æœºåˆ¶"></a>å››ã€çº¿ç¨‹æœºåˆ¶ä¸äº‹ä»¶æœºåˆ¶</h2><h3 id="1ã€è¿›ç¨‹ä¸çº¿ç¨‹"><a href="#1ã€è¿›ç¨‹ä¸çº¿ç¨‹" class="headerlink" title="1ã€è¿›ç¨‹ä¸çº¿ç¨‹"></a>1ã€è¿›ç¨‹ä¸çº¿ç¨‹</h3><p>(1) è¿›ç¨‹(process)</p>
<ul>
<li>ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œ, å®ƒå æœ‰ä¸€ç‰‡ç‹¬æœ‰çš„å†…å­˜ç©ºé—´</li>
<li>å¯ä»¥é€šè¿‡windowsä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹è¿›ç¨‹</li>
</ul>
<p>(2) çº¿ç¨‹(thread)</p>
<ul>
<li>æ˜¯è¿›ç¨‹å†…çš„ä¸€ä¸ªç‹¬ç«‹æ‰§è¡Œå•å…ƒ</li>
<li>æ˜¯ç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªå®Œæ•´æµç¨‹</li>
<li>æ˜¯CPUçš„æœ€å°çš„è°ƒåº¦å•å…ƒ</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815135743.png" alt="çº¿ç¨‹ä¸è¿›ç¨‹" class="lazyload"></p>
<p>åº”ç”¨ç¨‹åºå¿…é¡»è¿è¡Œåœ¨æŸä¸ªè¿›ç¨‹çš„æŸä¸ªçº¿ç¨‹ä¸Š<br>ä¸€ä¸ªè¿›ç¨‹ä¸­è‡³å°‘æœ‰ä¸€ä¸ªè¿è¡Œçš„çº¿ç¨‹: ä¸»çº¿ç¨‹,  è¿›ç¨‹å¯åŠ¨åè‡ªåŠ¨åˆ›å»º<br>ä¸€ä¸ªè¿›ç¨‹ä¸­ä¹Ÿå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹, æˆ‘ä»¬ä¼šè¯´ç¨‹åºæ˜¯å¤šçº¿ç¨‹è¿è¡Œçš„<br>ä¸€ä¸ªè¿›ç¨‹å†…çš„æ•°æ®å¯ä»¥ä¾›å…¶ä¸­çš„å¤šä¸ªçº¿ç¨‹ç›´æ¥å…±äº«<br>å¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸èƒ½ç›´æ¥å…±äº«çš„<br>çº¿ç¨‹æ± (thread pool): ä¿å­˜å¤šä¸ªçº¿ç¨‹å¯¹è±¡çš„å®¹å™¨, å®ç°çº¿ç¨‹å¯¹è±¡çš„åå¤åˆ©ç”¨</p>
<p>(3) ç›¸å…³é—®é¢˜</p>
<ol>
<li>ä½•ä¸ºå¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹?</li>
</ol>
<ul>
<li>å¤šè¿›ç¨‹è¿è¡Œ: ä¸€åº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªå®ä¾‹è¿è¡Œ</li>
<li>å¤šçº¿ç¨‹: åœ¨ä¸€ä¸ªè¿›ç¨‹å†…, åŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹è¿è¡Œ</li>
</ul>
<ol start="2">
<li>æ¯”è¾ƒå•çº¿ç¨‹ä¸å¤šçº¿ç¨‹?</li>
</ol>
<ul>
<li>å¤šçº¿ç¨‹<ul>
<li>ä¼˜ç‚¹<ul>
<li>èƒ½æœ‰æ•ˆæå‡CPUçš„åˆ©ç”¨ç‡</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>åˆ›å»ºå¤šçº¿ç¨‹å¼€é”€</li>
<li>çº¿ç¨‹é—´åˆ‡æ¢å¼€é”€</li>
<li>æ­»é”ä¸çŠ¶æ€åŒæ­¥é—®é¢˜</li>
</ul>
</li>
</ul>
</li>
<li>å•çº¿ç¨‹<ul>
<li>ä¼˜ç‚¹<ul>
<li>é¡ºåºç¼–ç¨‹ç®€å•æ˜“æ‡‚</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>æ•ˆç‡ä½</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="3">
<li>JSæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹?</li>
</ol>
<ul>
<li>jsæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œä½†ä½¿ç”¨H5ä¸­çš„ Web Workerså¯ä»¥å¤šçº¿ç¨‹è¿è¡Œ</li>
</ul>
<ol start="4">
<li>æµè§ˆå™¨è¿è¡Œæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹?</li>
</ol>
<ul>
<li>éƒ½æ˜¯å¤šçº¿ç¨‹è¿è¡Œçš„</li>
</ul>
<ol start="5">
<li>æµè§ˆå™¨è¿è¡Œæ˜¯å•è¿›ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹?</li>
</ol>
<ul>
<li>æœ‰çš„æ˜¯å•è¿›ç¨‹<ul>
<li>firefox</li>
<li>è€ç‰ˆIE</li>
</ul>
</li>
<li>æœ‰çš„æ˜¯å¤šè¿›ç¨‹<ul>
<li>chrome</li>
<li>æ–°ç‰ˆIE</li>
</ul>
</li>
<li>å¦‚ä½•æŸ¥çœ‹æµè§ˆå™¨æ˜¯å¦æ˜¯å¤šè¿›ç¨‹è¿è¡Œçš„å‘¢?<ul>
<li>ä»»åŠ¡ç®¡ç†å™¨â€“&gt;è¿›ç¨‹</li>
</ul>
</li>
</ul>
<h3 id="2ã€æµè§ˆå™¨å†…æ ¸"><a href="#2ã€æµè§ˆå™¨å†…æ ¸" class="headerlink" title="2ã€æµè§ˆå™¨å†…æ ¸"></a>2ã€æµè§ˆå™¨å†…æ ¸</h3><ul>
<li>æ”¯æ’‘æµè§ˆå™¨è¿è¡Œçš„æœ€æ ¸å¿ƒçš„ç¨‹åº</li>
<li>ä¸åŒçš„æµè§ˆå™¨å¯èƒ½ä¸ä¸€æ ·<ul>
<li>Chrome, Safari : webkit</li>
<li>firefox : Gecko</li>
<li>IE    : Trident</li>
<li>360,æœç‹—ç­‰å›½å†…æµè§ˆå™¨: Trident + webkit</li>
</ul>
</li>
<li>å†…æ ¸ç”±å¾ˆå¤šæ¨¡å—ç»„æˆ<ul>
<li>ä¸»çº¿ç¨‹<ul>
<li>jså¼•æ“æ¨¡å— : è´Ÿè´£jsç¨‹åºçš„ç¼–è¯‘ä¸è¿è¡Œ</li>
<li>html,cssæ–‡æ¡£è§£ææ¨¡å— : è´Ÿè´£é¡µé¢æ–‡æœ¬çš„è§£æ</li>
<li>DOM/CSSæ¨¡å— : è´Ÿè´£dom/cssåœ¨å†…å­˜ä¸­çš„ç›¸å…³å¤„ç† </li>
<li>å¸ƒå±€å’Œæ¸²æŸ“æ¨¡å— : è´Ÿè´£é¡µé¢çš„å¸ƒå±€å’Œæ•ˆæœçš„ç»˜åˆ¶(å†…å­˜ä¸­çš„å¯¹è±¡)<pre><code>......</code></pre></li>
</ul>
</li>
<li>â€‹    åˆ†çº¿ç¨‹<ul>
<li>å®šæ—¶å™¨æ¨¡å— : è´Ÿè´£å®šæ—¶å™¨çš„ç®¡ç†</li>
<li>DOMäº‹ä»¶å“åº”æ¨¡å— : è´Ÿè´£äº‹ä»¶çš„ç®¡ç†</li>
<li>ç½‘ç»œè¯·æ±‚æ¨¡å— : è´Ÿè´£ajaxè¯·æ±‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3ã€å®šæ—¶å™¨å¼•å‘çš„æ€è€ƒ"><a href="#3ã€å®šæ—¶å™¨å¼•å‘çš„æ€è€ƒ" class="headerlink" title="3ã€å®šæ—¶å™¨å¼•å‘çš„æ€è€ƒ"></a>3ã€å®šæ—¶å™¨å¼•å‘çš„æ€è€ƒ</h3><ol>
<li>å®šæ—¶å™¨çœŸæ˜¯å®šæ—¶æ‰§è¡Œçš„å—?</li>
</ol>
<ul>
<li><p>å®šæ—¶å™¨å¹¶ä¸èƒ½ä¿è¯çœŸæ­£å®šæ—¶æ‰§è¡Œ</p>
</li>
<li><p>ä¸€èˆ¬ä¼šå»¶è¿Ÿä¸€ä¸ç‚¹(å¯ä»¥æ¥å—), ä¹Ÿæœ‰å¯èƒ½å»¶è¿Ÿå¾ˆé•¿æ—¶é—´(ä¸èƒ½æ¥å—)</p>
</li>
</ul>
<ol start="2">
<li>å®šæ—¶å™¨å›è°ƒå‡½æ•°æ˜¯åœ¨åˆ†çº¿ç¨‹æ‰§è¡Œçš„å—?</li>
</ol>
<ul>
<li>åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„, jsæ˜¯å•çº¿ç¨‹çš„</li>
</ul>
<ol start="3">
<li>å®šæ—¶å™¨æ˜¯å¦‚ä½•å®ç°çš„?</li>
</ol>
<ul>
<li>äº‹ä»¶å¾ªç¯æ¨¡å‹(åé¢è®²)</li>
</ul>
<pre><code class="javascript">document.getElementById(&#39;btn&#39;).onclick = function () {
  var start = Date.now()
  console.log(&#39;å¯åŠ¨å®šæ—¶å™¨å‰...&#39;)
  setTimeout(function () {
    console.log(&#39;å®šæ—¶å™¨æ‰§è¡Œäº†&#39;, Date.now()-start)
  }, 200)
  console.log(&#39;å¯åŠ¨å®šæ—¶å™¨å...&#39;)

  // åšä¸€ä¸ªé•¿æ—¶é—´çš„å·¥ä½œ
  for (var i = 0; i &lt; 1000000000; i++) {

  }
}</code></pre>
<h3 id="4ã€JSæ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„"><a href="#4ã€JSæ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„" class="headerlink" title="4ã€JSæ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„"></a>4ã€JSæ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„</h3><ol>
<li><p>å¦‚ä½•è¯æ˜jsæ‰§è¡Œæ˜¯å•çº¿ç¨‹çš„?</p>
<ul>
<li>setTimeout()çš„å›è°ƒå‡½æ•°æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„</li>
<li>å®šæ—¶å™¨å›è°ƒå‡½æ•°åªæœ‰åœ¨è¿è¡Œæ ˆä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œåæ‰æœ‰å¯èƒ½æ‰§è¡Œ</li>
</ul>
</li>
<li><p>ä¸ºä»€ä¹ˆjsè¦ç”¨å•çº¿ç¨‹æ¨¡å¼, è€Œä¸ç”¨å¤šçº¿ç¨‹æ¨¡å¼?</p>
<ul>
<li>JavaScriptçš„å•çº¿ç¨‹ï¼Œä¸å®ƒçš„ç”¨é€”æœ‰å…³ã€‚</li>
<li>ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚</li>
<li>è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜</li>
</ul>
</li>
<li><p>ä»£ç çš„åˆ†ç±»:</p>
<ul>
<li>åˆå§‹åŒ–ä»£ç </li>
<li>å›è°ƒä»£ç </li>
</ul>
</li>
<li><p>jså¼•æ“æ‰§è¡Œä»£ç çš„åŸºæœ¬æµç¨‹</p>
<ul>
<li>å…ˆæ‰§è¡Œåˆå§‹åŒ–ä»£ç : åŒ…å«ä¸€äº›ç‰¹åˆ«çš„ä»£ç    å›è°ƒå‡½æ•°(å¼‚æ­¥æ‰§è¡Œ)<ul>
<li>è®¾ç½®å®šæ—¶å™¨</li>
<li>ç»‘å®šäº‹ä»¶ç›‘å¬</li>
<li>å‘é€ajaxè¯·æ±‚</li>
</ul>
</li>
<li>åé¢åœ¨æŸä¸ªæ—¶åˆ»æ‰ä¼šæ‰§è¡Œå›è°ƒä»£ç (å›è°ƒå‡½æ•°åŒ…å«çš„ä»£ç )</li>
</ul>
</li>
</ol>
<pre><code class="javascript">setTimeout(function () {
  console.log(&#39;timeout 2222&#39;)
  alert(&#39;22222222&#39;)
}, 2000)
setTimeout(function () {
  console.log(&#39;timeout 1111&#39;)
  alert(&#39;1111111&#39;)
}, 1000)
setTimeout(function () {
  console.log(&#39;timeout() 00000&#39;)
}, 0)
function fn() {
  console.log(&#39;fn()&#39;)
}
fn()

console.log(&#39;alert()ä¹‹å‰&#39;)
alert(&#39;------&#39;) //æš‚åœå½“å‰ä¸»çº¿ç¨‹çš„æ‰§è¡Œ, åŒæ—¶æš‚åœè®¡æ—¶, ç‚¹å‡»ç¡®å®šå, æ¢å¤ç¨‹åºæ‰§è¡Œå’Œè®¡æ—¶
console.log(&#39;alert()ä¹‹å&#39;)</code></pre>
<h3 id="5ã€æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯-è½®è¯¢-æ¨¡å‹"><a href="#5ã€æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯-è½®è¯¢-æ¨¡å‹" class="headerlink" title="5ã€æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯(è½®è¯¢)æ¨¡å‹"></a>5ã€æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯(è½®è¯¢)æ¨¡å‹</h3><p>(1) æ¨¡å‹åŸç†å›¾</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815141019.png" alt="image-20200815141017614" class="lazyload"></p>
<ol>
<li>æ‰€æœ‰ä»£ç åˆ†ç±»<ul>
<li>åˆå§‹åŒ–æ‰§è¡Œä»£ç (åŒæ­¥ä»£ç ): åŒ…å«ç»‘å®šdomäº‹ä»¶ç›‘å¬, è®¾ç½®å®šæ—¶å™¨, å‘é€ajaxè¯·æ±‚çš„ä»£ç </li>
<li>å›è°ƒæ‰§è¡Œä»£ç (å¼‚æ­¥ä»£ç ): å¤„ç†å›è°ƒé€»è¾‘</li>
</ul>
</li>
<li>jså¼•æ“æ‰§è¡Œä»£ç çš„åŸºæœ¬æµç¨‹:<ul>
<li>åˆå§‹åŒ–ä»£ç ===&gt;å›è°ƒä»£ç </li>
</ul>
</li>
<li>æ¨¡å‹çš„2ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†:<ul>
<li>äº‹ä»¶(å®šæ—¶å™¨/DOMäº‹ä»¶/Ajax)ç®¡ç†æ¨¡å—</li>
<li>å›è°ƒé˜Ÿåˆ—</li>
</ul>
</li>
<li>æ¨¡å‹çš„è¿è½¬æµç¨‹<ul>
<li>æ‰§è¡Œåˆå§‹åŒ–ä»£ç , å°†äº‹ä»¶å›è°ƒå‡½æ•°äº¤ç»™å¯¹åº”æ¨¡å—ç®¡ç†</li>
<li>å½“äº‹ä»¶å‘ç”Ÿæ—¶, ç®¡ç†æ¨¡å—ä¼šå°†å›è°ƒå‡½æ•°åŠå…¶æ•°æ®æ·»åŠ åˆ°å›è°ƒåˆ—é˜Ÿä¸­</li>
<li>åªæœ‰å½“åˆå§‹åŒ–ä»£ç æ‰§è¡Œå®Œå(å¯èƒ½è¦ä¸€å®šæ—¶é—´), æ‰ä¼šéå†è¯»å–å›è°ƒé˜Ÿåˆ—ä¸­çš„å›è°ƒå‡½æ•°æ‰§è¡Œ</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1() {
  console.log(&#39;fn1()&#39;)
}
fn1()
document.getElementById(&#39;btn&#39;).onclick = function () {
  console.log(&#39;ç‚¹å‡»äº†btn&#39;)
}
setTimeout(function () {
  console.log(&#39;å®šæ—¶å™¨æ‰§è¡Œäº†&#39;)
}, 2000)
function fn2() {
  console.log(&#39;fn2()&#39;)
}
fn2()</code></pre>
<p>(2) ç›¸å…³é‡è¦æ¦‚å¿µ</p>
<ol>
<li>æ‰§è¡Œæ ˆ execution stack</li>
</ol>
<ul>
<li>æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯åœ¨æ­¤ç©ºé—´ä¸­æ‰§è¡Œçš„</li>
</ul>
<ol start="2">
<li><p>æµè§ˆå™¨å†…æ ¸ browser core</p>
<ul>
<li><p>jså¼•æ“æ¨¡å—(åœ¨ä¸»çº¿ç¨‹å¤„ç†)</p>
</li>
<li><p>å…¶å®ƒæ¨¡å—(åœ¨ä¸»/åˆ†çº¿ç¨‹å¤„ç†)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815141526.png" alt="è¿è¡ŒåŸç†å›¾" class="lazyload"></p>
</li>
</ul>
</li>
</ol>
<ol start="3">
<li><p>ä»»åŠ¡é˜Ÿåˆ— task queue</p>
</li>
<li><p>æ¶ˆæ¯é˜Ÿåˆ— message queue</p>
</li>
<li><p>äº‹ä»¶é˜Ÿåˆ— event queue</p>
<p>ä¸Šé¢è¿™ä¸‰ä¸ªåœ¨åŒä¸€ä¸ª callback queue </p>
</li>
</ol>
<ol start="6">
<li><p>äº‹ä»¶è½®è¯¢ event loop<br> ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å¾ªç¯å–å‡ºå›è°ƒå‡½æ•°æ”¾å…¥æ‰§è¡Œæ ˆä¸­å¤„ç†(ä¸€ä¸ªæ¥ä¸€ä¸ª)</p>
</li>
<li><p>äº‹ä»¶é©±åŠ¨æ¨¡å‹ event-driven interaction model</p>
</li>
<li><p>è¯·æ±‚å“åº”æ¨¡å‹ request-response model</p>
</li>
</ol>
<h3 id="6ã€H5-Web-Workers-å¤šçº¿ç¨‹"><a href="#6ã€H5-Web-Workers-å¤šçº¿ç¨‹" class="headerlink" title="6ã€H5 Web Workers(å¤šçº¿ç¨‹)"></a>6ã€H5 Web Workers(å¤šçº¿ç¨‹)</h3><p>(1) ä»‹ç»</p>
<ul>
<li>Web Workers æ˜¯ HTML5 æä¾›çš„ä¸€ä¸ªjavascriptå¤šçº¿ç¨‹è§£å†³æ–¹æ¡ˆ</li>
<li>æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›å¤§è®¡ç®—é‡çš„ä»£ç äº¤ç”±web Workerè¿è¡Œè€Œä¸å†»ç»“ç”¨æˆ·ç•Œé¢</li>
<li>ä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜JavaScriptå•çº¿ç¨‹çš„æœ¬è´¨</li>
</ul>
<p>(2) ç›¸å…³API</p>
<ul>
<li>Worker: æ„é€ å‡½æ•°, åŠ è½½åˆ†çº¿ç¨‹æ‰§è¡Œçš„jsæ–‡ä»¶</li>
<li>Worker.prototype.onmessage: ç”¨äºæ¥æ”¶å¦ä¸€ä¸ªçº¿ç¨‹çš„å›è°ƒå‡½æ•°</li>
<li>Worker.prototype.postMessage: å‘å¦ä¸€ä¸ªçº¿ç¨‹å‘é€æ¶ˆæ¯</li>
</ul>
<p>(3) ä½¿ç”¨</p>
<ul>
<li>åˆ›å»ºåœ¨åˆ†çº¿ç¨‹æ‰§è¡Œçš„jsæ–‡ä»¶</li>
</ul>
<pre><code class="javascript">var onmessage =function (event){ //ä¸èƒ½ç”¨å‡½æ•°å£°æ˜
    console.log(&#39;onMessage()22&#39;);
    var upper = event.data.toUpperCase();//é€šè¿‡event.dataè·å¾—å‘é€æ¥çš„æ•°æ®
    postMessage( upper );//å°†è·å–åˆ°çš„æ•°æ®å‘é€ä¼šä¸»çº¿ç¨‹
}</code></pre>
<ul>
<li>åœ¨ä¸»çº¿ç¨‹ä¸­çš„jsä¸­å‘æ¶ˆæ¯å¹¶è®¾ç½®å›è°ƒ</li>
</ul>
<pre><code class="javascript">//åˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡å¹¶å‘å®ƒä¼ é€’å°†åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œçš„è„šæœ¬çš„URL
var worker = new Worker(&quot;worker.js&quot;);  
//æ¥æ”¶workerä¼ è¿‡æ¥çš„æ•°æ®å‡½æ•°
worker.onmessage = function (event) {     
    console.log(event.data);             
};
//å‘workerå‘é€æ•°æ®
worker.postMessage(&quot;hello world&quot;);    </code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815143823.png" alt="image-20200815143821391" class="lazyload"></p>
<p>(4) åº”ç”¨ç»ƒä¹ </p>
<ul>
<li>ç›´æ¥åœ¨ä¸»çº¿ç¨‹</li>
</ul>
<pre><code class="javascript">&lt;input type=&quot;text&quot; placeholder=&quot;æ•°å€¼&quot; id=&quot;number&quot;&gt;
&lt;button id=&quot;btn&quot;&gt;è®¡ç®—&lt;/button&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 1 1 2 3 5 8    f(n) = f(n-1) + f(n-2)
function fibonacci(n) {
  return n&lt;=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //é€’å½’è°ƒç”¨
}
// console.log(fibonacci(7))
var input = document.getElementById(&#39;number&#39;)
document.getElementById(&#39;btn&#39;).onclick = function () {
  var number = input.value
  var result = fibonacci(number)
  alert(result)
}
&lt;/script&gt;</code></pre>
<ul>
<li><p>ä½¿ç”¨Workeråœ¨åˆ†çº¿ç¨‹</p>
<ul>
<li>ä¸»çº¿ç¨‹</li>
</ul>
<pre><code class="javascript">var input = document.getElementById(&#39;number&#39;)
document.getElementById(&#39;btn&#39;).onclick = function () {
  var number = input.value

  //åˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡
  var worker = new Worker(&#39;worker.js&#39;)
  // ç»‘å®šæ¥æ”¶æ¶ˆæ¯çš„ç›‘å¬
  worker.onmessage = function (event) {
    console.log(&#39;ä¸»çº¿ç¨‹æ¥æ”¶åˆ†çº¿ç¨‹è¿”å›çš„æ•°æ®: &#39;+event.data)
    alert(event.data)
  }

  // å‘åˆ†çº¿ç¨‹å‘é€æ¶ˆæ¯
  worker.postMessage(number)
  console.log(&#39;ä¸»çº¿ç¨‹å‘åˆ†çº¿ç¨‹å‘é€æ•°æ®: &#39;+number)
}
// console.log(this) // window</code></pre>
</li>
</ul>
<ul>
<li><p>åˆ†çº¿ç¨‹ worker.js</p>
<pre><code class="javascript">function fibonacci(n) {
return n&lt;=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //é€’å½’è°ƒç”¨
}

console.log(this)
this.onmessage = function (event) {
var number = event.data
console.log(&#39;åˆ†çº¿ç¨‹æ¥æ”¶åˆ°ä¸»çº¿ç¨‹å‘é€çš„æ•°æ®: &#39;+number)
//è®¡ç®—
var result = fibonacci(number)
postMessage(result)
console.log(&#39;åˆ†çº¿ç¨‹å‘ä¸»çº¿ç¨‹è¿”å›æ•°æ®: &#39;+result)
// alert(result)  alertæ˜¯windowçš„æ–¹æ³•, åœ¨åˆ†çº¿ç¨‹ä¸èƒ½è°ƒç”¨
// åˆ†çº¿ç¨‹ä¸­çš„å…¨å±€å¯¹è±¡ä¸å†æ˜¯window, æ‰€ä»¥åœ¨åˆ†çº¿ç¨‹ä¸­ä¸å¯èƒ½æ›´æ–°ç•Œé¢
}</code></pre>
</li>
</ul>
<p>(5) ä¸è¶³</p>
<ul>
<li>workerå†…ä»£ç ä¸èƒ½æ“ä½œDOM(æ›´æ–°UI)</li>
<li>ä¸èƒ½è·¨åŸŸåŠ è½½JS</li>
<li>ä¸æ˜¯æ¯ä¸ªæµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªæ–°ç‰¹æ€§</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            
        </article>
    </div>
    
</section>

    <nav class="nexmoe-page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="nexmoefont icon-right"></i></a>
    </nav>
  
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js,gh/nexmoe/nexmoe.github.io@latest/js/app.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<script src="/js/app.js?v=1599833537938"></script>-->


    <script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>


 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script>
<script> 
!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
</script>

  





</body>

</html>
