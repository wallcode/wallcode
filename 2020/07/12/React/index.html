<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <title>Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®° - wallleap</title>
  <meta charset="UTF-8">
  <meta name="description" content="luwangçš„åšå®¢ï¼Œæ­£åœ¨åŠªåŠ›å­¦ä¹ ğŸ’ª">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/favicon.png" type="image/png" />
  <meta name="description" content="ç¬¬1ç«  Reactå…¥é—¨1.1 Reactçš„åŸºæœ¬è®¤è¯†1.1.1 å®˜ç½‘1)     è‹±æ–‡å®˜ç½‘: https:&#x2F;&#x2F;reactjs.org&#x2F; 2)     ä¸­æ–‡å®˜ç½‘: https:&#x2F;&#x2F;doc.react-china.org&#x2F; 1.1.2 ä»‹ç»æè¿°1)     ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºView)  JSåº“ï¼š jQueryâ€”â€”å‡½æ•°åº“(æ–¹æ³•ã€å‡½æ•°åŒ…è£…DOMæ“ä½œ) React åŸºæœ¬ä¸Š">
<meta property="og:type" content="article">
<meta property="og:title" content="Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://blog.wallleap.cn/2020/07/12/React/index.html">
<meta property="og:site_name" content="wallleap">
<meta property="og:description" content="ç¬¬1ç«  Reactå…¥é—¨1.1 Reactçš„åŸºæœ¬è®¤è¯†1.1.1 å®˜ç½‘1)     è‹±æ–‡å®˜ç½‘: https:&#x2F;&#x2F;reactjs.org&#x2F; 2)     ä¸­æ–‡å®˜ç½‘: https:&#x2F;&#x2F;doc.react-china.org&#x2F; 1.1.2 ä»‹ç»æè¿°1)     ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºView)  JSåº“ï¼š jQueryâ€”â€”å‡½æ•°åº“(æ–¹æ³•ã€å‡½æ•°åŒ…è£…DOMæ“ä½œ) React åŸºæœ¬ä¸Š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/cover/(00).jpg">
<meta property="article:published_time" content="2020-07-12T08:54:50.000Z">
<meta property="article:modified_time" content="2020-07-15T10:26:58.000Z">
<meta property="article:author" content="Luwang">
<meta property="article:tag" content="å‰ç«¯">
<meta property="article:tag" content=" React">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/cover/(00).jpg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/nexmoe/nexmoe.github.io@latest/css/style.css,npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/nexmoe/nexmoe.github.io@latest/lib/mdui_043tiny/css/mdui.css,gh/nexmoe/nexmoe.github.io@latest/lib/iconfont/iconfont.css" crossorigin>
  
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1721693_jg94kndwhe.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1599833537167">

   
    <style>
      .nexmoe-avatar img:hover {
        -webkit-transform: rotateZ(360deg);
        -moz-transform: rotateZ(360deg);
        transform: rotateZ(360deg);
      }	
    </style>
  

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
<script src="https://cdn.jsdelivr.net/gh/wallleap/live2d-widget@latest/autoload.js"></script> 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/js/busuanzi.pure.mini.js"></script>

<link rel="stylesheet" href="/css/github-badge.css">
<link rel="stylesheet" href="/css/tags_ca.css">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
  .pace .pace-progress {  background: rgb(254, 27, 115); /*è¿›åº¦æ¡é¢œè‰²*/
  height: 3px;  }
  .pace .pace-progress-inner {  box-shadow: 0 0 10px #ff0000, 0 0 5px     #ff0000; /*é˜´å½±é¢œè‰²*/
  }
  .pace .pace-activity {  border-top-color: rgb(251, 30, 30);    /*ä¸Šè¾¹æ¡†é¢œè‰²*/
  border-left-color: rgb(251, 30, 30);    /*å·¦è¾¹æ¡†é¢œè‰²*/
}
</style>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Luwang" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Luwang">
            <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang" alt="Luwang">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>æ–‡ç« </span>54</div>
        <div><span>æ ‡ç­¾</span>57</div>
        <div><span>åˆ†ç±»</span>25</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="å›åˆ°é¦–é¡µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                å›åˆ°é¦–é¡µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="æ–‡ç« å½’æ¡£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« å½’æ¡£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/categories" title="æ–‡ç« åˆ†ç±»">
            <i class="mdui-list-item-icon nexmoefont icon-appstore-fill"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« åˆ†ç±»
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friends.html" title="æˆ‘çš„æœ‹å‹">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                æˆ‘çš„æœ‹å‹
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="å…³äºåšå®¢">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                å…³äºåšå®¢
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:wallleap.cn" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="æœç´¢"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç¤¾äº¤æŒ‰é’®</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/157360395" target="_blank" mdui-tooltip="{content: 'å“”å“©å“”å“©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
            <!-- <i class="fa icon-bilibili"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
            <!-- <i class="fa icon-github"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(0 , 0, 252);background-color: rgba(0, 0, 252, .15);">
            <i class="nexmoefont icon-QQ"></i>
            <!-- <i class="fa icon-QQ"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'å¾®ä¿¡å…¬ä¼—å·'}" style="color: rgb(0, 229, 105);background-color: rgba(0, 229, 105, .15);">
            <i class="nexmoefont icon-wechat-fill"></i>
            <!-- <i class="fa icon-wechat-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'æˆ‘çš„é‚®ç®±'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-mail-fill"></i>
            <!-- <i class="fa icon-mail-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'æˆ‘çš„å¾®åš'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-weibo"></i>
            <!-- <i class="fa icon-weibo"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'RSS'}" style="color: rgb(252, 129, 0);background-color: rgba(252, 129, 0, .15);">
            <i class="nexmoefont icon-rss"></i>
            <!-- <i class="fa icon-rss"></i> -->
        </a> 
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ ‡ç­¾äº‘</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/ACL/" style="font-size: 10px;">ACL</a> <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/Blog/" style="font-size: 17.14px;">Blog</a> <a href="/tags/C-C/" style="font-size: 11.43px;">C/C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/ES/" style="font-size: 10px;">ES</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/GitHub/" style="font-size: 15.71px;">GitHub</a> <a href="/tags/HCL/" style="font-size: 15.71px;">HCL</a> <a href="/tags/HCNA/" style="font-size: 15.71px;">HCNA</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/Hexo/" style="font-size: 17.14px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 14.29px;">JavaScript</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/NAT/" style="font-size: 10px;">NAT</a> <a href="/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/tags/OSPF/" style="font-size: 10px;">OSPF</a> <a href="/tags/RIP/" style="font-size: 10px;">RIP</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/STP/" style="font-size: 10px;">STP</a> <a href="/tags/Sakura/" style="font-size: 10px;">Sakura</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VLAN/" style="font-size: 10px;">VLAN</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Win10/" style="font-size: 10px;">Win10</a> <a href="/tags/eNSP/" style="font-size: 15.71px;">eNSP</a> <a href="/tags/eNsp/" style="font-size: 11.43px;">eNsp</a> <a href="/tags/hackintosh/" style="font-size: 10px;">hackintosh</a> <a href="/tags/hexo/" style="font-size: 11.43px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/w650dc/" style="font-size: 10px;">w650dc</a> <a href="/tags/web/" style="font-size: 18.57px;">web</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 12.86px;">ä¸»é¢˜</a> <a href="/tags/%E4%BA%94%E7%AC%94/" style="font-size: 10px;">äº”ç¬”</a> <a href="/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/" style="font-size: 10px;">äº¤æ¢æœº</a> <a href="/tags/%E4%BC%81%E4%B8%9A%E7%BD%91/" style="font-size: 10px;">ä¼ä¸šç½‘</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">å‰ç«¯</a> <a href="/tags/%E5%8D%8E%E4%B8%89/" style="font-size: 15.71px;">åä¸‰</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 17.14px;">åšå®¢</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 11.43px;">åç«¯</a> <a href="/tags/%E5%9B%BE%E9%9B%86/" style="font-size: 10px;">å›¾é›†</a> <a href="/tags/%E5%AE%89%E8%A3%85/" style="font-size: 10px;">å®‰è£…</a> <a href="/tags/%E5%AE%9E%E9%AA%8C/" style="font-size: 12.86px;">å®éªŒ</a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 10px;">å¾®ä¿¡</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E9%98%B2%E7%9B%97%E9%93%BE/" style="font-size: 10px;">å¾®ä¿¡é˜²ç›—é“¾</a> <a href="/tags/%E6%82%A6%E8%AF%BB/" style="font-size: 10px;">æ‚¦è¯»</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">æŠ€æœ¯</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 11.43px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">æ¡†æ¶</a> <a href="/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 10px;">æ¨¡å—åŒ–</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">è€ƒç ”</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 10px;">è‹±è¯­</a> <a href="/tags/%E9%80%86%E6%B0%B4%E5%AF%92/" style="font-size: 10px;">é€†æ°´å¯’</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 12.86px;">é…ç½®</a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" style="font-size: 10px;">é»‘è‹¹æœ</a>
    </div>
    
      <script>
        var maxTagcloud = parseInt(10);
        var tags_length = parseInt(57);
        var tags_arr = [];
        for(var i = 0; i < tags_length; i++){
          tags_arr.push(i);
        }
        tags_arr.sort(function (l, r) {
          return Math.random() > 0.5 ? -1 : 1;
        });
        tags_arr = tags_arr.slice(0, maxTagcloud < tags_length ? tags_length - maxTagcloud : 0);
        for(var tag_i = 0; tag_i < tags_arr.length; tag_i++){
          document.getElementById("randomtagcloud").children[tags_arr[tag_i]].style.display = 'none';
        }
      </script>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ–‡ç« å½’æ¡£</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">å…«æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">ä¸ƒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">å…­æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">äºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li></ul>
    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2020/08/28/VUE/">Vueå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/08/20/AJAX/">Ajaxå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/07/12/React/">Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/07/04/Git/">Gitå­¦ä¹ ç¬”è®°</a>
          </li>
        
          <li>
            <a href="/2020/06/14/nodejs/">NodeJså­¦ä¹ ç¬”è®°</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <!-- <div class="nexmoe-copyright">
        &copy; 2020 Luwang
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div> -->
    <div style="text-align: center;">
        <div class="github-badge">
            <a rel="license" href="https://github.io/" target="_blank" title="é™æ€ç½‘é¡µæ‰˜ç®¡äºGithub">
            <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen"><i class="fa fa-github" aria-hidden="true"></i> Github</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank" title="ç«™ç‚¹ä½¿ç”¨ Sakura ä¸»é¢˜ï¼Œä½œè€…ï¼šMashiro & Hojun">
            <span class="badge-subject"><i class="fa fa-themeisle" aria-hidden="true"></i> Theme</span><span class="badge-value bg-theme">nexmoe</span></a>
        </div><br />
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-user" aria-hidden="true"></i> UV</span>
            <span  class="badge-value bg-orange" id="busuanzi_value_site_uv"></span>
        </div>
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-eye" aria-hidden="true"></i> PV</span>
            <span class="badge-value bg-brightgreen" id="busuanzi_value_site_pv"></span>
        </div>
    </div>
    <div class="site-img" style="margin: 20px 0 20px 16px;">
        <a href="#"><img width="200px" src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/wechat/wallleap.bmp"></a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
  
      <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
          <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°" class="lazyload">
          <h1>Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°</h1>
      </div>
  
  
  <link rel="stylesheet" href="/css/sharejs.css">
  <input type="hidden" id="yelog_site_posts_number" value="54">
  <input type="hidden" id="yelog_site_word_count" value="276.4k">
<div class="nexmoe-post-meta" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2020å¹´07æœˆ12æ—¥</a>
    <a><i class="nexmoefont icon-areachart"></i>19.1k å­—</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 101 åˆ†é’Ÿ</a>
    <a><i class="nexmoefont icon-eye-fill"></i>é˜…è¯»æ¬¡æ•° <span id="busuanzi_value_page_pv"></span></a>
</div>

  <div class="nexmoe-post-right">
    
      <div class="nexmoe-fixed">
        <div class="nexmoe-valign">
            <div class="nexmoe-toc">
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬1ç« -Reactå…¥é—¨"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬1ç«  Reactå…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Reactçš„åŸºæœ¬è®¤è¯†"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Reactçš„åŸºæœ¬è®¤è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-å®˜ç½‘"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 å®˜ç½‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-ä»‹ç»æè¿°"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 ä»‹ç»æè¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-Reactçš„ç‰¹ç‚¹"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.1.3 Reactçš„ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4-Reacté«˜æ•ˆçš„åŸå› -åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.1.4 Reacté«˜æ•ˆçš„åŸå› (åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Reactçš„åŸºæœ¬ä½¿ç”¨"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Reactçš„åŸºæœ¬ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-æ•ˆæœ"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-ç›¸å…³jsåº“"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.3 ç›¸å…³jsåº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-åœ¨é¡µé¢ä¸­å¯¼å…¥js"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.4 åœ¨é¡µé¢ä¸­å¯¼å…¥js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-5-ç¼–ç "><span class="toc-number">1.2.4.</span> <span class="toc-text">1.2.5 ç¼–ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-6-ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.2.6 ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-React-JSX"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 React JSX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-1-æ•ˆæœ"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-2-è™šæ‹ŸDOM"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2 è™šæ‹ŸDOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-3-JSX"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3 JSX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-4-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ "><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-5-å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5 å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-6-JSXç»ƒä¹ "><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6 JSXç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-æ¨¡å—"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4.1 æ¨¡å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-2-ç»„ä»¶"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.4.2 ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-3-æ¨¡å—åŒ–"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.4.3 æ¨¡å—åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-4-ç»„ä»¶åŒ–"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4.4 ç»„ä»¶åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬2ç« -Reacté¢å‘ç»„ä»¶ç¼–ç¨‹"><span class="toc-number">2.</span> <span class="toc-text">ç¬¬2ç«  Reacté¢å‘ç»„ä»¶ç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 åŸºæœ¬ç†è§£å’Œä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-æ•ˆæœ"><span class="toc-number">2.1.1.</span> <span class="toc-text">2.1.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-è‡ªå®šä¹‰ç»„ä»¶-Component"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.1.2 è‡ªå®šä¹‰ç»„ä»¶(Component) :</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-æ³¨æ„"><span class="toc-number">2.1.3.</span> <span class="toc-text">2.1.3 æ³¨æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-render-æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹"><span class="toc-number">2.1.4.</span> <span class="toc-text">2.1.4 render()æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-ç»„ä»¶ä¸‰å¤§å±æ€§1-state"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 ç»„ä»¶ä¸‰å¤§å±æ€§1: state</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-æ•ˆæœ"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.2.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-ç†è§£"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.2.2 ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-ç¼–ç æ“ä½œ"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.2.3 ç¼–ç æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-ä»£ç "><span class="toc-number">2.2.4.</span> <span class="toc-text">2.2.4 ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-ç»„ä»¶ä¸‰å¤§å±æ€§2-props"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 ç»„ä»¶ä¸‰å¤§å±æ€§2: props</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-æ•ˆæœ"><span class="toc-number">2.3.1.</span> <span class="toc-text">2.3.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-ç†è§£"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.3.2 ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-ä½œç”¨"><span class="toc-number">2.3.3.</span> <span class="toc-text">2.3.3 ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-ç¼–ç æ“ä½œ"><span class="toc-number">2.3.4.</span> <span class="toc-text">2.3.4 ç¼–ç æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-5-ä»£ç "><span class="toc-number">2.3.5.</span> <span class="toc-text">2.3.5 ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-6-é¢è¯•é¢˜"><span class="toc-number">2.3.6.</span> <span class="toc-text">2.3.6 é¢è¯•é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-ç»„ä»¶ä¸‰å¤§å±æ€§3-refsä¸äº‹ä»¶å¤„ç†"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 ç»„ä»¶ä¸‰å¤§å±æ€§3: refsä¸äº‹ä»¶å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-æ•ˆæœ"><span class="toc-number">2.4.1.</span> <span class="toc-text">2.4.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ-refså±æ€§"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.4.2 ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ: refså±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-äº‹ä»¶å¤„ç†"><span class="toc-number">2.4.3.</span> <span class="toc-text">2.4.3 äº‹ä»¶å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-å¼ºçƒˆæ³¨æ„"><span class="toc-number">2.4.4.</span> <span class="toc-text">2.4.4 å¼ºçƒˆæ³¨æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-ä»£ç "><span class="toc-number">2.4.5.</span> <span class="toc-text">2.4.5 ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-åŒºåˆ«"><span class="toc-number">2.4.6.</span> <span class="toc-text">2.4.6 åŒºåˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-ç»„ä»¶çš„ç»„åˆ"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 ç»„ä»¶çš„ç»„åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-æ•ˆæœ"><span class="toc-number">2.5.1.</span> <span class="toc-text">2.5.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹-æ— æ¯”é‡è¦"><span class="toc-number">2.5.2.</span> <span class="toc-text">2.5.2 åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹(æ— æ¯”é‡è¦)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-ä»£ç "><span class="toc-number">2.5.3.</span> <span class="toc-text">2.5.3 ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-æ”¶é›†è¡¨å•æ•°æ®"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 æ”¶é›†è¡¨å•æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-æ•ˆæœ"><span class="toc-number">2.6.1.</span> <span class="toc-text">2.6.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-ç†è§£"><span class="toc-number">2.6.2.</span> <span class="toc-text">2.6.2 ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-ä»£ç "><span class="toc-number">2.6.3.</span> <span class="toc-text">2.6.3 ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><span class="toc-number">2.7.</span> <span class="toc-text">2.7 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-æ•ˆæœ"><span class="toc-number">2.7.1.</span> <span class="toc-text">2.7.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-ç†è§£"><span class="toc-number">2.7.2.</span> <span class="toc-text">2.7.2 ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-3-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><span class="toc-number">2.7.3.</span> <span class="toc-text">2.7.3 ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-4-ç”Ÿå‘½å‘¨æœŸè¯¦è¿°"><span class="toc-number">2.7.4.</span> <span class="toc-text">2.7.4 ç”Ÿå‘½å‘¨æœŸè¯¦è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-5-é‡è¦çš„å‹¾å­"><span class="toc-number">2.7.5.</span> <span class="toc-text">2.7.5 é‡è¦çš„å‹¾å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-6-ä»£ç "><span class="toc-number">2.7.6.</span> <span class="toc-text">2.7.6 ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-è™šæ‹ŸDOMä¸DOM-Diffç®—æ³•"><span class="toc-number">2.8.</span> <span class="toc-text">2.8 è™šæ‹ŸDOMä¸DOM Diffç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-1-æ•ˆæœ"><span class="toc-number">2.8.1.</span> <span class="toc-text">2.8.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-2-åŸºæœ¬åŸç†å›¾"><span class="toc-number">2.8.2.</span> <span class="toc-text">2.8.2 åŸºæœ¬åŸç†å›¾</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬3ç« -reactåº”ç”¨-åŸºäºreactè„šæ‰‹æ¶"><span class="toc-number">3.</span> <span class="toc-text">ç¬¬3ç«  reactåº”ç”¨(åŸºäºreactè„šæ‰‹æ¶)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-reactè„šæ‰‹æ¶"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 reactè„šæ‰‹æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><span class="toc-number">3.1.3.</span> <span class="toc-text">3.1.3 reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-demo-è¯„è®ºç®¡ç†"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 demo: è¯„è®ºç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-æ•ˆæœ"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-æ‹†åˆ†ç»„ä»¶"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2 æ‹†åˆ†ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-å®ç°é™æ€ç»„ä»¶"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.2.3 å®ç°é™æ€ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-4-å®ç°åŠ¨æ€ç»„ä»¶"><span class="toc-number">3.2.4.</span> <span class="toc-text">3.2.4 å®ç°åŠ¨æ€ç»„ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬4ç« -react-ajax"><span class="toc-number">4.</span> <span class="toc-text">ç¬¬4ç«  react ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-ç†è§£"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-å‰ç½®è¯´æ˜"><span class="toc-number">4.1.1.</span> <span class="toc-text">4.1.1 å‰ç½®è¯´æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"><span class="toc-number">4.1.2.</span> <span class="toc-text">4.1.2 å¸¸ç”¨çš„ajaxè¯·æ±‚åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-æ•ˆæœ"><span class="toc-number">4.1.3.</span> <span class="toc-text">4.1.3 æ•ˆæœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-axios"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 axios</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-æ–‡æ¡£"><span class="toc-number">4.2.1.</span> <span class="toc-text">4.2.1 æ–‡æ¡£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-ç›¸å…³API"><span class="toc-number">4.2.2.</span> <span class="toc-text">4.2.2 ç›¸å…³API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Fetch"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 Fetch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-æ–‡æ¡£"><span class="toc-number">4.3.1.</span> <span class="toc-text">4.3.1 æ–‡æ¡£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-ç›¸å…³API"><span class="toc-number">4.3.2.</span> <span class="toc-text">4.3.2 ç›¸å…³API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-demo-github-users"><span class="toc-number">4.4.</span> <span class="toc-text">4.4 demo: github users</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-æ•ˆæœ"><span class="toc-number">4.4.1.</span> <span class="toc-text">4.4.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-2-æ‹†åˆ†ç»„ä»¶"><span class="toc-number">4.4.2.</span> <span class="toc-text">4.4.2 æ‹†åˆ†ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-3-ç¼–å†™é™æ€ç»„ä»¶"><span class="toc-number">4.4.3.</span> <span class="toc-text">4.4.3 ç¼–å†™é™æ€ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-4-ç¼–å†™åŠ¨æ€ç»„ä»¶"><span class="toc-number">4.4.4.</span> <span class="toc-text">4.4.4 ç¼–å†™åŠ¨æ€ç»„ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬5ç« -å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“"><span class="toc-number">5.</span> <span class="toc-text">ç¬¬5ç«  å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-ç»„ä»¶é—´é€šä¿¡"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 ç»„ä»¶é—´é€šä¿¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-æ–¹å¼ä¸€-é€šè¿‡propsä¼ é€’"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1 æ–¹å¼ä¸€: é€šè¿‡propsä¼ é€’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-æ–¹å¼äºŒ-ä½¿ç”¨æ¶ˆæ¯è®¢é˜…-subscribe-å‘å¸ƒ-publish-æœºåˆ¶"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2 æ–¹å¼äºŒ: ä½¿ç”¨æ¶ˆæ¯è®¢é˜…(subscribe)-å‘å¸ƒ(publish)æœºåˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-3-æ–¹å¼ä¸‰-redux"><span class="toc-number">5.1.3.</span> <span class="toc-text">5.1.3 æ–¹å¼ä¸‰: redux</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-äº‹ä»¶ç›‘å¬ç†è§£"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 äº‹ä»¶ç›‘å¬ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-åŸç”ŸDOMäº‹ä»¶"><span class="toc-number">5.2.1.</span> <span class="toc-text">5.2.1 åŸç”ŸDOMäº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-è‡ªå®šä¹‰äº‹ä»¶-æ¶ˆæ¯æœºåˆ¶"><span class="toc-number">5.2.2.</span> <span class="toc-text">5.2.2 è‡ªå®šä¹‰äº‹ä»¶(æ¶ˆæ¯æœºåˆ¶)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-ES6å¸¸ç”¨æ–°è¯­æ³•"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 ES6å¸¸ç”¨æ–°è¯­æ³•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬6ç« -react-router4"><span class="toc-number">6.</span> <span class="toc-text">ç¬¬6ç«  react-router4</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-ç›¸å…³ç†è§£"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 ç›¸å…³ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1-react-routerçš„ç†è§£"><span class="toc-number">6.1.1.</span> <span class="toc-text">6.1.1 react-routerçš„ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-2-SPAçš„ç†è§£"><span class="toc-number">6.1.2.</span> <span class="toc-text">6.1.2 SPAçš„ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-3-è·¯ç”±çš„ç†è§£"><span class="toc-number">6.1.3.</span> <span class="toc-text">6.1.3 è·¯ç”±çš„ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-4-å‰ç«¯è·¯ç”±çš„å®ç°"><span class="toc-number">6.1.4.</span> <span class="toc-text">6.1.4 å‰ç«¯è·¯ç”±çš„å®ç°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-react-routerç›¸å…³API"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 react-routerç›¸å…³API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-ç»„ä»¶"><span class="toc-number">6.2.1.</span> <span class="toc-text">6.2.1 ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-å…¶å®ƒ"><span class="toc-number">6.2.2.</span> <span class="toc-text">6.2.2 å…¶å®ƒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-åŸºæœ¬è·¯ç”±ä½¿ç”¨"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 åŸºæœ¬è·¯ç”±ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-æ•ˆæœ"><span class="toc-number">6.3.1.</span> <span class="toc-text">6.3.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-å‡†å¤‡"><span class="toc-number">6.3.2.</span> <span class="toc-text">6.3.2 å‡†å¤‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-è·¯ç”±ç»„ä»¶-views-about-jsx"><span class="toc-number">6.3.3.</span> <span class="toc-text">6.3.3 è·¯ç”±ç»„ä»¶: views&#x2F;about.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-4-è·¯ç”±ç»„ä»¶-views-home-jsx"><span class="toc-number">6.3.4.</span> <span class="toc-text">6.3.4 è·¯ç”±ç»„ä»¶: views&#x2F;home.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-5-åŒ…è£…NavLinkç»„ä»¶-components-my-nav-link-jsx"><span class="toc-number">6.3.5.</span> <span class="toc-text">6.3.5 åŒ…è£…NavLinkç»„ä»¶: components&#x2F;my-nav-link.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-6-åº”ç”¨ç»„ä»¶-components-app-jsx"><span class="toc-number">6.3.6.</span> <span class="toc-text">6.3.6 åº”ç”¨ç»„ä»¶: components&#x2F;app.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-7-è‡ªå®šä¹‰æ ·å¼-index-css"><span class="toc-number">6.3.7.</span> <span class="toc-text">6.3.7 è‡ªå®šä¹‰æ ·å¼: index.css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-8-å…¥å£JS-index-js"><span class="toc-number">6.3.8.</span> <span class="toc-text">6.3.8 å…¥å£JS: index.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-åµŒå¥—è·¯ç”±ä½¿ç”¨"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 åµŒå¥—è·¯ç”±ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-1-æ•ˆæœ"><span class="toc-number">6.4.1.</span> <span class="toc-text">6.4.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-2-äºŒçº§è·¯ç”±ç»„ä»¶-views-news-jsx"><span class="toc-number">6.4.2.</span> <span class="toc-text">6.4.2 äºŒçº§è·¯ç”±ç»„ä»¶: views&#x2F;news.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><span class="toc-number">6.4.3.</span> <span class="toc-text">6.4.3 äºŒçº§è·¯ç”±ç»„ä»¶: views&#x2F;message.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-4-ä¸€çº§è·¯ç”±ç»„ä»¶-views-home-jsx"><span class="toc-number">6.4.4.</span> <span class="toc-text">6.4.4 ä¸€çº§è·¯ç”±ç»„ä»¶: views&#x2F;home.jsx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"><span class="toc-number">6.5.</span> <span class="toc-text">6.5 å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-1-æ•ˆæœ"><span class="toc-number">6.5.1.</span> <span class="toc-text">6.5.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-2-ä¸‰çº§è·¯ç”±ç»„ä»¶-views-message-detail-jsx"><span class="toc-number">6.5.2.</span> <span class="toc-text">6.5.2 ä¸‰çº§è·¯ç”±ç»„ä»¶: views&#x2F;message-detail.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><span class="toc-number">6.5.3.</span> <span class="toc-text">6.5.3 äºŒçº§è·¯ç”±ç»„ä»¶: views&#x2F;message.jsx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-å¤šç§è·¯ç”±è·³è½¬æ–¹å¼"><span class="toc-number">6.6.</span> <span class="toc-text">6.6 å¤šç§è·¯ç”±è·³è½¬æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-1-æ•ˆæœ"><span class="toc-number">6.6.1.</span> <span class="toc-text">6.6.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-2-äºŒçº§è·¯ç”±-views-message-jsx"><span class="toc-number">6.6.2.</span> <span class="toc-text">6.6.2 äºŒçº§è·¯ç”±: views&#x2F;message.jsx</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬7ç« -react-ui"><span class="toc-number">7.</span> <span class="toc-text">ç¬¬7ç«  react-ui</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-æœ€æµè¡Œçš„å¼€æºReact-UIç»„ä»¶åº“"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 æœ€æµè¡Œçš„å¼€æºReact UIç»„ä»¶åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-1-material-ui-å›½å¤–"><span class="toc-number">7.1.1.</span> <span class="toc-text">7.1.1 material-ui(å›½å¤–)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-2-ant-design-å›½å†…èš‚èšé‡‘æœ"><span class="toc-number">7.1.2.</span> <span class="toc-text">7.1.2 ant-design(å›½å†…èš‚èšé‡‘æœ)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-ant-design-mobileä½¿ç”¨å…¥é—¨"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 ant-design-mobileä½¿ç”¨å…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-1-æ•ˆæœ"><span class="toc-number">7.2.1.</span> <span class="toc-text">7.2.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-2-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><span class="toc-number">7.2.2.</span> <span class="toc-text">7.2.2 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-3-æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ"><span class="toc-number">7.2.3.</span> <span class="toc-text">7.2.3 æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-4-å®ç°æŒ‰éœ€æ‰“åŒ…-ç»„ä»¶js-css"><span class="toc-number">7.2.4.</span> <span class="toc-text">7.2.4 å®ç°æŒ‰éœ€æ‰“åŒ…(ç»„ä»¶js&#x2F;css)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¬¬8ç« -redux"><span class="toc-number">8.</span> <span class="toc-text">ç¬¬8ç«  redux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-reduxç†è§£"><span class="toc-number">8.1.</span> <span class="toc-text">8.1 reduxç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-1-å­¦ä¹ æ–‡æ¡£"><span class="toc-number">8.1.1.</span> <span class="toc-text">8.1.1 å­¦ä¹ æ–‡æ¡£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-2-reduxæ˜¯ä»€ä¹ˆ"><span class="toc-number">8.1.2.</span> <span class="toc-text">8.1.2 reduxæ˜¯ä»€ä¹ˆ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-3-reduxå·¥ä½œæµç¨‹"><span class="toc-number">8.1.3.</span> <span class="toc-text">8.1.3 reduxå·¥ä½œæµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-4-ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux"><span class="toc-number">8.1.4.</span> <span class="toc-text">8.1.4 ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-reduxçš„æ ¸å¿ƒAPI"><span class="toc-number">8.2.</span> <span class="toc-text">8.2 reduxçš„æ ¸å¿ƒAPI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-1-createStore"><span class="toc-number">8.2.1.</span> <span class="toc-text">8.2.1 createStore()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-2-storeå¯¹è±¡"><span class="toc-number">8.2.2.</span> <span class="toc-text">8.2.2 storeå¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-3-applyMiddleware"><span class="toc-number">8.2.3.</span> <span class="toc-text">8.2.3 applyMiddleware()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-4-combineReducers"><span class="toc-number">8.2.4.</span> <span class="toc-text">8.2.4 combineReducers()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><span class="toc-number">8.3.</span> <span class="toc-text">8.3 reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-1-action"><span class="toc-number">8.3.1.</span> <span class="toc-text">8.3.1 action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-2-reducer"><span class="toc-number">8.3.2.</span> <span class="toc-text">8.3.2 reducer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-3-store"><span class="toc-number">8.3.3.</span> <span class="toc-text">8.3.3 store</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-ä½¿ç”¨reduxç¼–å†™åº”ç”¨"><span class="toc-number">8.4.</span> <span class="toc-text">8.4 ä½¿ç”¨reduxç¼–å†™åº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-1-æ•ˆæœ"><span class="toc-number">8.4.1.</span> <span class="toc-text">8.4.1 æ•ˆæœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-2-ä¸‹è½½ä¾èµ–åŒ…"><span class="toc-number">8.4.2.</span> <span class="toc-text">8.4.2 ä¸‹è½½ä¾èµ–åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-3-src-redux-action-types-js"><span class="toc-number">8.4.3.</span> <span class="toc-text">8.4.3 src&#x2F;redux&#x2F;action-types.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-4-src-redux-actions-js"><span class="toc-number">8.4.4.</span> <span class="toc-text">8.4.4 src&#x2F;redux&#x2F;actions.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-5-src-redux-reducers-js"><span class="toc-number">8.4.5.</span> <span class="toc-text">8.4.5 src&#x2F;redux&#x2F;reducers.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-6-src-components-app-jsx"><span class="toc-number">8.4.6.</span> <span class="toc-text">8.4.6 src&#x2F;components&#x2F;app.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-7-src-index-js"><span class="toc-number">8.4.7.</span> <span class="toc-text">8.4.7 src&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-8-é—®é¢˜"><span class="toc-number">8.4.8.</span> <span class="toc-text">8.4.8 é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-5-react-redux"><span class="toc-number">8.5.</span> <span class="toc-text">8.5 react-redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-1-ç†è§£"><span class="toc-number">8.5.1.</span> <span class="toc-text">8.5.1 ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-2-React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»"><span class="toc-number">8.5.2.</span> <span class="toc-text">8.5.2 React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-3-ç›¸å…³API"><span class="toc-number">8.5.3.</span> <span class="toc-text">8.5.3 ç›¸å…³API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-4-ä½¿ç”¨react-redux"><span class="toc-number">8.5.4.</span> <span class="toc-text">8.5.4 ä½¿ç”¨react-redux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-5-é—®é¢˜"><span class="toc-number">8.5.5.</span> <span class="toc-text">8.5.5 é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-6-reduxå¼‚æ­¥ç¼–ç¨‹"><span class="toc-number">8.6.</span> <span class="toc-text">8.6 reduxå¼‚æ­¥ç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-1-ä¸‹è½½reduxæ’ä»¶-å¼‚æ­¥ä¸­é—´ä»¶"><span class="toc-number">8.6.1.</span> <span class="toc-text">8.6.1 ä¸‹è½½reduxæ’ä»¶(å¼‚æ­¥ä¸­é—´ä»¶)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-2-redux-store-js"><span class="toc-number">8.6.2.</span> <span class="toc-text">8.6.2 redux&#x2F;store.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-3-index-js"><span class="toc-number">8.6.3.</span> <span class="toc-text">8.6.3 index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-4-redux-actions-js"><span class="toc-number">8.6.4.</span> <span class="toc-text">8.6.4 redux&#x2F;actions.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-5-components-counter-jsx"><span class="toc-number">8.6.5.</span> <span class="toc-text">8.6.5 components&#x2F;counter.jsx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-6-containers-app-jsx"><span class="toc-number">8.6.6.</span> <span class="toc-text">8.6.6 containers&#x2F;app.jsx</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-7-ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·"><span class="toc-number">8.7.</span> <span class="toc-text">8.7 ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-1-å®‰è£…chromeæµè§ˆå™¨æ’ä»¶"><span class="toc-number">8.7.1.</span> <span class="toc-text">8.7.1 å®‰è£…chromeæµè§ˆå™¨æ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-2-ä¸‹è½½å·¥å…·ä¾èµ–åŒ…"><span class="toc-number">8.7.2.</span> <span class="toc-text">8.7.2 ä¸‹è½½å·¥å…·ä¾èµ–åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-3-ç¼–ç "><span class="toc-number">8.7.3.</span> <span class="toc-text">8.7.3 ç¼–ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-8-Reduxç‰ˆè¯„è®º"><span class="toc-number">8.8.</span> <span class="toc-text">8.8 Reduxç‰ˆè¯„è®º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-1-éœ€æ±‚"><span class="toc-number">8.8.1.</span> <span class="toc-text">8.8.1 éœ€æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-2-å®‰è£…"><span class="toc-number">8.8.2.</span> <span class="toc-text">8.8.2 å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-3-ç›®å½•ç»“æ„"><span class="toc-number">8.8.3.</span> <span class="toc-text">8.8.3 ç›®å½•ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-4-æ–‡ä»¶å†…å®¹"><span class="toc-number">8.8.4.</span> <span class="toc-text">8.8.4 æ–‡ä»¶å†…å®¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-9-ç›¸å…³é‡è¦çŸ¥è¯†-çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°"><span class="toc-number">8.9.</span> <span class="toc-text">8.9 ç›¸å…³é‡è¦çŸ¥è¯†: çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9-1-çº¯å‡½æ•°"><span class="toc-number">8.9.1.</span> <span class="toc-text">8.9.1 çº¯å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9-2-é«˜é˜¶å‡½æ•°"><span class="toc-number">8.9.2.</span> <span class="toc-text">8.9.2 é«˜é˜¶å‡½æ•°</span></a></li></ol></li></ol></li></ol>
            </div>
        </div>
      </div>
    
  </div>

  <article>
    <h1 id="ç¬¬1ç« -Reactå…¥é—¨"><a href="#ç¬¬1ç« -Reactå…¥é—¨" class="headerlink" title="ç¬¬1ç«  Reactå…¥é—¨"></a>ç¬¬1ç«  Reactå…¥é—¨</h1><h2 id="1-1-Reactçš„åŸºæœ¬è®¤è¯†"><a href="#1-1-Reactçš„åŸºæœ¬è®¤è¯†" class="headerlink" title="1.1 Reactçš„åŸºæœ¬è®¤è¯†"></a>1.1 Reactçš„åŸºæœ¬è®¤è¯†</h2><h3 id="1-1-1-å®˜ç½‘"><a href="#1-1-1-å®˜ç½‘" class="headerlink" title="1.1.1 å®˜ç½‘"></a>1.1.1 å®˜ç½‘</h3><p>1)     è‹±æ–‡å®˜ç½‘:<a href="https://reactjs.org/" target="_blank" rel="noopener"> https://reactjs.org/</a></p>
<p>2)     ä¸­æ–‡å®˜ç½‘: <a href="https://doc.react-china.org/" target="_blank" rel="noopener">https://doc.react-china.org/</a></p>
<h3 id="1-1-2-ä»‹ç»æè¿°"><a href="#1-1-2-ä»‹ç»æè¿°" class="headerlink" title="1.1.2 ä»‹ç»æè¿°"></a>1.1.2 ä»‹ç»æè¿°</h3><p>1)     ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºView)</p>
<ul>
<li>JSåº“ï¼š<ul>
<li>jQueryâ€”â€”å‡½æ•°åº“(æ–¹æ³•ã€å‡½æ•°åŒ…è£…DOMæ“ä½œ)</li>
<li>React åŸºæœ¬ä¸Šä¸æ“ä½œDOMâ€”â€”JSæ¡†æ¶</li>
</ul>
</li>
<li>æ„å»ºç”¨æˆ·ç•Œé¢ï¼šæŠŠæ•°æ®å±•ç°å‡ºæ¥</li>
</ul>
<p>2)     ç”±<strong>Facebook</strong>å¼€æº</p>
<h3 id="1-1-3-Reactçš„ç‰¹ç‚¹"><a href="#1-1-3-Reactçš„ç‰¹ç‚¹" class="headerlink" title="1.1.3 Reactçš„ç‰¹ç‚¹"></a>1.1.3 Reactçš„ç‰¹ç‚¹</h3><p>1)     Declarative(å£°æ˜å¼ç¼–ç )</p>
<p>ï¼ˆç”³è¯·ä¸€å—å†…å­˜ï¼Œåªéœ€è¦å£°æ˜ä¸€ä¸ªå˜é‡å³å¯ï¼‰ä¸éœ€è¦äº²è‡ªæ“ä½œDOMï¼Œåªéœ€è¦å‘Šè¯‰å®ƒï¼Œæˆ‘è¦æ›´æ–°ï¼Œå°±ä¼šå¸®ä½ æ›´æ–°ï¼Œåªéœ€è¦æ›´æ–°æ•°æ®ï¼Œç•Œé¢ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°ï¼ˆä»¥å‰éœ€è¦æ›´æ–°DOMï¼‰</p>
<p>2)     Component-Based(ç»„ä»¶åŒ–ç¼–ç )</p>
<p>ç®€åŒ–ç‰¹åˆ«å¤æ‚çš„åŠŸèƒ½ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªç®€å•çš„éƒ¨åˆ†ï¼ˆä¸€ä¸ªå°çš„ç•Œé¢åŠŸèƒ½å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼‰ï¼Œç»´æŠ¤ä¹Ÿæ–¹ä¾¿</p>
<p>3)     Learn Once, Write Anywhere(æ”¯æŒå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ¸²æŸ“)</p>
<p>ä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ï¼šä¸ä»…èƒ½å†™webåº”ç”¨ï¼Œè¿˜èƒ½å†™React Nativeæ‰“åŒ…ä¸ºAndroidã€IOSåº”ç”¨</p>
<p>4)     é«˜æ•ˆ</p>
<p>5)     å•å‘æ•°æ®æµ</p>
<h3 id="1-1-4-Reacté«˜æ•ˆçš„åŸå› -åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜"><a href="#1-1-4-Reacté«˜æ•ˆçš„åŸå› -åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜" class="headerlink" title="1.1.4 Reacté«˜æ•ˆçš„åŸå› (åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜)"></a>1.1.4 Reacté«˜æ•ˆçš„åŸå› (åŒºåŸŸã€æ¬¡æ•°â€”â€”æ›´æ–°ç•Œé¢æ•ˆç‡æé«˜)</h3><p>1)     <strong>è™šæ‹Ÿ(virtual)DOM</strong>,ï¼Œä¸æ€»æ˜¯ç›´æ¥æ“ä½œDOM</p>
<ul>
<li>è™šæ‹ŸDOMï¼šå¯¹è±¡â€”â€”ä¸ç»„ä»¶å¯¹åº”ï¼Œä¿®æ”¹æ˜ å°„åˆ°çœŸå®çš„DOMä¸Š(æ‰¹é‡ä¿®æ”¹ã€ç•Œé¢é‡ç»˜<strong>æ¬¡æ•°å°‘</strong>)</li>
</ul>
<p>2)     <strong>DOM Diffç®—æ³•</strong>,ï¼Œæœ€å°åŒ–é¡µé¢é‡ç»˜</p>
<ul>
<li>ç•Œé¢ä¸­ç»„ä»¶æ˜¯å¦æ›´æ–°(æ›´æ–°<strong>åŒºåŸŸå°</strong>)</li>
</ul>
<h2 id="1-2-Reactçš„åŸºæœ¬ä½¿ç”¨"><a href="#1-2-Reactçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.2 Reactçš„åŸºæœ¬ä½¿ç”¨"></a>1.2 Reactçš„åŸºæœ¬ä½¿ç”¨</h2><p>æ³¨æ„: æ­¤æ—¶åªæ˜¯æµ‹è¯•è¯­æ³•ä½¿ç”¨, å¹¶ä¸æ˜¯çœŸå®é¡¹ç›®å¼€å‘ä½¿ç”¨</p>
<h3 id="1-2-1-æ•ˆæœ"><a href="#1-2-1-æ•ˆæœ" class="headerlink" title="1.2.1 æ•ˆæœ"></a>1.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592556203130.png" alt="ReactåŸºæœ¬ä½¿ç”¨" class="lazyload"></p>
<p>å°†h1æ ‡ç­¾åˆ©ç”¨reactæ”¾åˆ°testä¸­</p>
<h3 id="1-2-3-ç›¸å…³jsåº“"><a href="#1-2-3-ç›¸å…³jsåº“" class="headerlink" title="1.2.3 ç›¸å…³jsåº“"></a>1.2.3 ç›¸å…³jsåº“</h3><p>å¯ä»¥åˆ°bootcdnå¼•ç”¨åœ°å€ï¼Œè®¿é—®é“¾æ¥<kbd>Ctrl</kbd>+<kbd>S</kbd>ä¿å­˜åˆ°æœ¬åœ°</p>
<p>1)     <code>react.js</code>: Reactçš„æ ¸å¿ƒåº“</p>
<ul>
<li>development.jsï¼šå¼€å‘ç‰ˆï¼Œå¼€å‘ç¼–å†™çš„æ—¶å€™ä½¿ç”¨</li>
<li>production.min.jsï¼šç”Ÿäº§ç‰ˆï¼Œä¸Šçº¿çš„æ—¶å€™ä½¿ç”¨ï¼Œå‹ç¼©è¿‡çš„</li>
</ul>
<p>2)     <code>react-dom.js</code>: æä¾›æ“ä½œDOMçš„reactæ‰©å±•åº“</p>
<p>3)     <code>babel.min.js</code>: è§£æJSXè¯­æ³•ä»£ç è½¬ä¸ºçº¯JSè¯­æ³•ä»£ç çš„åº“,è¿™é‡Œä¸æ˜¯ES6è½¬ES5(jsxæ˜¯jsæ‰©å±•è¯­æ³•)</p>
<h3 id="1-2-4-åœ¨é¡µé¢ä¸­å¯¼å…¥js"><a href="#1-2-4-åœ¨é¡µé¢ä¸­å¯¼å…¥js" class="headerlink" title="1.2.4 åœ¨é¡µé¢ä¸­å¯¼å…¥js"></a>1.2.4 åœ¨é¡µé¢ä¸­å¯¼å…¥js</h3><pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<h3 id="1-2-5-ç¼–ç "><a href="#1-2-5-ç¼–ç " class="headerlink" title="1.2.5 ç¼–ç "></a>1.2.5 ç¼–ç </h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;01_HelloWorld&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;test&quot;&gt;&lt;/div&gt;

  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/babel&quot;&gt;/*å‘Šè¯‰babel.jsè§£æé‡Œé¢çš„jsxçš„ä»£ç */
    // 1. åˆ›å»ºè™šæ‹ŸDOMå…ƒç´ å¯¹è±¡
    var vDom = &lt;h1&gt;Hello React!&lt;/h1&gt;   // jsxï¼Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¸èƒ½åŠ å¼•å·
    // 2. å°†è™šæ‹ŸDOMæ¸²æŸ“åˆ°é¡µé¢çœŸå®DOMå®¹å™¨ä¸­
    ReactDOM.render(vDom, document.getElementById(&#39;test&#39;))  // react-dom.jsæä¾›çš„  renderâ€”â€”æ¸²æŸ“   å°†vDomåŠ å…¥åˆ°#testä¸­
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="1-2-6-ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•"><a href="#1-2-6-ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•" class="headerlink" title="1.2.6 ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•"></a>1.2.6 ä½¿ç”¨Reactå¼€å‘è€…å·¥å…·è°ƒè¯•</h3><p>â€‹          <img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react2.gif" alt="Reactå¼€å‘è°ƒè¯•æ’ä»¶" class="lazyload">  </p>
<p>React Developer Tool.crx</p>
<h2 id="1-3-React-JSX"><a href="#1-3-React-JSX" class="headerlink" title="1.3 React JSX"></a>1.3 React JSX</h2><h3 id="1-3-1-æ•ˆæœ"><a href="#1-3-1-æ•ˆæœ" class="headerlink" title="1.3.1 æ•ˆæœ"></a>1.3.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592556978982.png" alt="ReactJSX" class="lazyload"></p>
<p>ä¸¤ä¸ª#teståˆ†åˆ«åŠ å…¥ç›¸åº”å†…å®¹</p>
<p>ä»£ç ï¼š</p>
<pre><code class="html">&lt;div id=&quot;test1&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;test2&quot;&gt;&lt;/div&gt;

&lt;script src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt; // è¿˜æ²¡ç”¨åˆ°jsxè¯­æ³•ï¼Œä¸éœ€è¦babel
  const msg = &#39;I Like You!&#39;
  const myId = &#39;Atguigu&#39;

  // 1.åˆ›å»ºè™šæ‹ŸDOM
  // var element = React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;},&#39;hello&#39;)
  const vDom1 = React.createElement(&#39;h2&#39;, {id:myId.toLowerCase()},msg.toUpperCase())
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(vDom1, document.getElementById(&#39;test1&#39;))
&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  // 1.åˆ›å»ºè™šæ‹ŸDOM
  const vDom2 = &lt;h3 id={myId.toUpperCase()}&gt;{msg.toLowerCase()}&lt;/h3&gt;  // å˜é‡ç”¨{}æ‹¬èµ·æ¥
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(vDom2, document.getElementById(&#39;test2&#39;))
&lt;/script&gt;</code></pre>
<h3 id="1-3-2-è™šæ‹ŸDOM"><a href="#1-3-2-è™šæ‹ŸDOM" class="headerlink" title="1.3.2 è™šæ‹ŸDOM"></a>1.3.2 è™šæ‹ŸDOM</h3><p>1)     Reactæä¾›äº†ä¸€äº›APIæ¥åˆ›å»ºä¸€ç§ <strong>ç‰¹åˆ«</strong> çš„ä¸€èˆ¬jså¯¹è±¡</p>
<p>a.     <code>var element = React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;},&#39;hello&#39;)</code></p>
<p>b.     ä¸Šé¢åˆ›å»ºçš„å°±æ˜¯ä¸€ä¸ªç®€å•çš„è™šæ‹ŸDOMå¯¹è±¡ï¼Œbabelå°†ä¼šæŠŠjsxè¯­æ³•è½¬ä¸ºä¸Šè¿°çš„å½¢å¼</p>
<p>2)     è™šæ‹ŸDOMå¯¹è±¡æœ€ç»ˆéƒ½ä¼šè¢«React<strong>è½¬æ¢ä¸º</strong>çœŸå®çš„DOMï¼ˆè™šæ‹ŸDOMä¸­çš„å¯¹åº”çœŸå®DOMä¸­çš„æ ‡ç­¾å…ƒç´ ï¼‰</p>
<p>3)     æˆ‘ä»¬ç¼–ç æ—¶åŸºæœ¬åªéœ€è¦æ“ä½œreactçš„è™šæ‹ŸDOMç›¸å…³æ•°æ®, reactä¼šè½¬æ¢ä¸ºçœŸå®DOMå˜åŒ–è€Œæ›´æ–°ç•Œé¢</p>
<p>è¡¥å……çŸ¥è¯†ï¼š<code>debugger</code>å¯ä»¥åœ¨æŸæ¡jsä»£ç å¤„æ·»åŠ æ–­ç‚¹</p>
<p>è™šæ‹ŸDOMâ€”â€”è½»å¯¹è±¡ï¼Œæ›´æ–°è™šæ‹ŸDOMé¡µé¢ä¸é‡ç»˜</p>
<p>çœŸå®DOMâ€”â€”é‡å¯¹è±¡ï¼Œæ›´æ–°çœŸå®DOMé¡µé¢ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆé¡µé¢é‡ç»˜ï¼‰</p>
<h3 id="1-3-3-JSX"><a href="#1-3-3-JSX" class="headerlink" title="1.3.3 JSX"></a>1.3.3 JSX</h3><p>1)     å…¨ç§°: JavaScript XML</p>
<p>2)     reactå®šä¹‰çš„ä¸€ç§ç±»ä¼¼äºXMLçš„<strong>JSæ‰©å±•è¯­æ³•</strong>: XML+JS</p>
<p>3)     ä½œç”¨: ç”¨æ¥åˆ›å»ºreactè™šæ‹ŸDOM(å…ƒç´ )å¯¹è±¡</p>
<ul>
<li><p><code>var ele = &lt;h1&gt;Hello JSX!&lt;/h1&gt;</code></p>
</li>
<li><p>æ³¨æ„1: å®ƒä¸æ˜¯å­—ç¬¦ä¸², ä¹Ÿä¸æ˜¯HTML/XMLæ ‡ç­¾</p>
</li>
<li><p>æ³¨æ„2: å®ƒæœ€ç»ˆäº§ç”Ÿçš„å°±æ˜¯ä¸€ä¸ªJSå¯¹è±¡</p>
</li>
</ul>
<p>4)     <strong>æ ‡ç­¾åä»»æ„</strong>: HTMLæ ‡ç­¾æˆ–å…¶å®ƒæ ‡ç­¾</p>
<p>5)     æ ‡ç­¾å±æ€§ä»»æ„: HTMLæ ‡ç­¾å±æ€§æˆ–å…¶å®ƒ</p>
<p>6)     åŸºæœ¬è¯­æ³•è§„åˆ™</p>
<ul>
<li><p><strong>é‡åˆ° &lt;å¼€å¤´</strong>çš„ä»£ç , ä»¥<strong>æ ‡ç­¾</strong>çš„è¯­æ³•è§£æ: htmlåŒåæ ‡ç­¾è½¬æ¢ä¸ºhtmlåŒåå…ƒç´ , å…¶å®ƒæ ‡ç­¾éœ€è¦ç‰¹åˆ«è§£æ</p>
</li>
<li><p><strong>é‡åˆ°ä»¥ { å¼€å¤´</strong>çš„ä»£ç ï¼Œä»¥<strong>JSè¯­æ³•</strong>è§£æ: æ ‡ç­¾ä¸­çš„jsä»£ç å¿…é¡»ç”¨{ }åŒ…å«</p>
</li>
</ul>
<p>7)     babel.jsçš„ä½œç”¨</p>
<ul>
<li><p>æµè§ˆå™¨ä¸èƒ½ç›´æ¥è§£æJSXä»£ç , éœ€è¦<strong>babelè½¬è¯‘ä¸ºçº¯JSçš„ä»£ç </strong>æ‰èƒ½è¿è¡Œ</p>
</li>
<li><p>åªè¦ç”¨äº†JSXï¼Œéƒ½è¦åŠ ä¸Š<code>type=&quot;text/babel&quot;</code>, å£°æ˜éœ€è¦babelæ¥å¤„ç†</p>
</li>
</ul>
<h3 id="1-3-4-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ "><a href="#1-3-4-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ " class="headerlink" title="1.3.4 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )"></a>1.3.4 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )</h3><p>1)     è¯­æ³•: <code>ReactDOM.render(virtualDOM, containerDOM)</code></p>
<p>2)     ä½œç”¨: å°†è™šæ‹ŸDOMå…ƒç´ æ¸²æŸ“åˆ°é¡µé¢ä¸­çš„çœŸå®å®¹å™¨DOMä¸­æ˜¾ç¤º</p>
<p>3)     å‚æ•°è¯´æ˜</p>
<ul>
<li><p>å‚æ•°ä¸€: çº¯jsæˆ–jsxåˆ›å»ºçš„è™šæ‹Ÿdomå¯¹è±¡</p>
</li>
<li><p>å‚æ•°äºŒ: ç”¨æ¥åŒ…å«è™šæ‹ŸDOMå…ƒç´ çš„çœŸå®domå…ƒç´ å¯¹è±¡(ä¸€èˆ¬æ˜¯ä¸€ä¸ªdiv)</p>
</li>
</ul>
<h3 id="1-3-5-å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼"><a href="#1-3-5-å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼" class="headerlink" title="1.3.5 å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼"></a>1.3.5 å»ºè™šæ‹ŸDOMçš„2ç§æ–¹å¼</h3><p>1)     çº¯JS(ä¸€èˆ¬ä¸ç”¨)</p>
<p><code>React.createElement(&#39;h1&#39;, {id:&#39;myTitle&#39;}, title)</code></p>
<p>2)     <strong>JSX</strong>:</p>
<p><code>&lt;h1 id=&#39;myTitle&#39;&gt;{title}&lt;/h1&gt;</code></p>
<h3 id="1-3-6-JSXç»ƒä¹ "><a href="#1-3-6-JSXç»ƒä¹ " class="headerlink" title="1.3.6 JSXç»ƒä¹ "></a>1.3.6 JSXç»ƒä¹ </h3><p>éœ€æ±‚: åŠ¨æ€å±•ç¤ºåˆ—è¡¨æ•°æ®</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592558986188.png" alt="JSX" class="lazyload"></p>
<p>ä»£ç ï¼š</p>
<pre><code class="html">&lt;h2&gt;å‰ç«¯JSæ¡†æ¶åˆ—è¡¨&lt;/h2&gt;
&lt;div id=&quot;example1&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
    åŠŸèƒ½: åŠ¨æ€å±•ç¤ºåˆ—è¡¨æ•°æ®
    - å¦‚ä½•å°†ä¸€ä¸ªæ•°æ®çš„æ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªæ ‡ç­¾çš„æ•°ç»„
      ä½¿ç”¨æ•°ç»„çš„map()æ–¹æ³•
  */
  // æ•°æ®ï¼šåç§°ã€ç±»å‹ï¼Œæ•°ç»„å­˜æ”¾
  const names = [&#39;jQuery&#39;, &#39;zepto&#39;, &#39;angular&#39;, &#39;react&#39;, &#39;vue&#39;]
  // 1.åˆ›å»ºè™šæ‹ŸDOMï¼Œæœ‰åµŒå¥—ç»“æ„ï¼Œæœ€å¥½ç”¨å°æ‹¬å·æ‹¬èµ·æ¥
  const ul = (
    &lt;ul&gt;
      {
        names.map((name, index) =&gt; &lt;li key={index}&gt;{name}&lt;/li&gt;)
      }
    &lt;/ul&gt;
  )
  // 2.æ¸²æŸ“è™šæ‹ŸDOM
  ReactDOM.render(ul, document.getElementById(&#39;example1&#39;))
&lt;/script&gt;</code></pre>
<h2 id="1-4-æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£"><a href="#1-4-æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£" class="headerlink" title="1.4 æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£"></a>1.4 æ¨¡å—ä¸ç»„ä»¶å’Œæ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–çš„ç†è§£</h2><h3 id="1-4-1-æ¨¡å—"><a href="#1-4-1-æ¨¡å—" class="headerlink" title="1.4.1 æ¨¡å—"></a>1.4.1 æ¨¡å—</h3><p>1)     ç†è§£: å‘å¤–<strong>æä¾›ç‰¹å®šåŠŸèƒ½çš„</strong>jsç¨‹åº, ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ª<strong>jsæ–‡ä»¶</strong></p>
<p>2)     ä¸ºä»€ä¹ˆ: jsä»£ç æ›´å¤šæ›´å¤æ‚</p>
<p>3)     ä½œç”¨: å¤ç”¨js, ç®€åŒ–jsçš„ç¼–å†™, æé«˜jsè¿è¡Œæ•ˆç‡</p>
<p>æœ‰ç‰¹å®šåŠŸèƒ½çš„jsæ–‡ä»¶ï¼Œå†…éƒ¨æœ‰æ•°æ®åŠå¯¹æ•°æ®çš„æ“ä½œ</p>
<ul>
<li><p>æ•°æ®ï¼šå˜é‡</p>
</li>
<li><p>æ“ä½œï¼šå‡½æ•°</p>
</li>
</ul>
<p>ç§æœ‰çš„å‡½æ•°å‘å¤–æš´éœ²</p>
<ul>
<li>æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼šæš´éœ²å‡½æ•°æœ¬èº«</li>
<li>æš´éœ²å¤šä¸ªå‡½æ•°ï¼šä»¥å¯¹è±¡å½¢å¼æš´éœ²</li>
</ul>
<h3 id="1-4-2-ç»„ä»¶"><a href="#1-4-2-ç»„ä»¶" class="headerlink" title="1.4.2 ç»„ä»¶"></a>1.4.2 ç»„ä»¶</h3><p>1)     ç†è§£: ç”¨æ¥<strong>å®ç°ç‰¹å®š(å±€éƒ¨)åŠŸèƒ½æ•ˆæœ</strong>çš„<strong>ä»£ç </strong>é›†åˆ(html/css/js)</p>
<p>2)     ä¸ºä»€ä¹ˆ: ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½æ›´å¤æ‚</p>
<p>3)     ä½œç”¨: å¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡</p>
<h3 id="1-4-3-æ¨¡å—åŒ–"><a href="#1-4-3-æ¨¡å—åŒ–" class="headerlink" title="1.4.3 æ¨¡å—åŒ–"></a>1.4.3 æ¨¡å—åŒ–</h3><p>å½“åº”ç”¨çš„<strong>jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™</strong>çš„, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨</p>
<p>å½¢å®¹é¡¹ç›®æˆ–ç¼–ç </p>
<h3 id="1-4-4-ç»„ä»¶åŒ–"><a href="#1-4-4-ç»„ä»¶åŒ–" class="headerlink" title="1.4.4 ç»„ä»¶åŒ–"></a>1.4.4 ç»„ä»¶åŒ–</h3><p>å½“åº”ç”¨æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼å®ç°, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592560823655.png" alt="component" class="lazyload"></p>
<h1 id="ç¬¬2ç« -Reacté¢å‘ç»„ä»¶ç¼–ç¨‹"><a href="#ç¬¬2ç« -Reacté¢å‘ç»„ä»¶ç¼–ç¨‹" class="headerlink" title="ç¬¬2ç«  Reacté¢å‘ç»„ä»¶ç¼–ç¨‹"></a>ç¬¬2ç«  Reacté¢å‘ç»„ä»¶ç¼–ç¨‹</h1><p>é¢å‘å¯¹è±¡â€”â€”é¢å‘æ¨¡å—â€”â€”é¢å‘ç»„ä»¶</p>
<h2 id="2-1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨"><a href="#2-1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨" class="headerlink" title="2.1 åŸºæœ¬ç†è§£å’Œä½¿ç”¨"></a>2.1 åŸºæœ¬ç†è§£å’Œä½¿ç”¨</h2><h3 id="2-1-1-æ•ˆæœ"><a href="#2-1-1-æ•ˆæœ" class="headerlink" title="2.1.1 æ•ˆæœ"></a>2.1.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react1592561100045.png" alt="ç»„ä»¶" class="lazyload"></p>
<p>ç»„ä»¶æ ‡ç­¾ï¼šå¯ä»¥éšä¾¿å–çš„æ ‡ç­¾ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œä¸HTMLæ ‡ç­¾åŒºåˆ†å¼€</p>
<h3 id="2-1-2-è‡ªå®šä¹‰ç»„ä»¶-Component"><a href="#2-1-2-è‡ªå®šä¹‰ç»„ä»¶-Component" class="headerlink" title="2.1.2 è‡ªå®šä¹‰ç»„ä»¶(Component) :"></a>2.1.2 è‡ªå®šä¹‰ç»„ä»¶(Component) :</h3><p>1)     å®šä¹‰ç»„ä»¶(2ç§æ–¹å¼)</p>
<p>  æ–¹å¼1: <strong>å·¥å‚å‡½æ•°ç»„ä»¶(ç®€å•ç»„ä»¶ï¼šæ²¡æœ‰çŠ¶æ€çš„ç»„ä»¶)</strong>â€”â€”æ•ˆç‡é«˜ï¼Œä¸éœ€è¦åˆ›å»ºå¯¹è±¡</p>
<pre><code>function MyComponent(){
    return &lt;h2&gt;å·¥å‚å‡½æ•°ç»„ä»¶(ç®€å•ç»„ä»¶)&lt;/h2&gt;
}</code></pre><p>æ–¹å¼2: <strong>ES6ç±»ç»„ä»¶(å¤æ‚ç»„ä»¶)</strong>â€”â€”éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œæœ‰äº†çŠ¶æ€åªèƒ½ä½¿ç”¨è¿™ç§æ–¹å¼</p>
<pre><code class="javascript">class MyComponent2 extends React.Component{
  render(){
    console.log(this)  // ç»„ä»¶ç±»å¯¹è±¡ MyComponent2{...}
    return &lt;h2&gt;ES6ç±»ç»„ä»¶(å¤æ‚ç»„ä»¶)&lt;/h2&gt;
  }
}</code></pre>
<p>2)     æ¸²æŸ“ç»„ä»¶æ ‡ç­¾</p>
<pre><code class="JavaScript">ReactDOM.render(&lt;MyComponent  /&gt;, document.getElementById(&#39;example1&#39;))
ReactDOM.render(&lt;MyComponent2  /&gt;, document.getElementById(&#39;example2&#39;))</code></pre>
<h3 id="2-1-3-æ³¨æ„"><a href="#2-1-3-æ³¨æ„" class="headerlink" title="2.1.3 æ³¨æ„"></a>2.1.3 æ³¨æ„</h3><p>1)     ç»„ä»¶åå¿…é¡»é¦–å­—æ¯å¤§å†™</p>
<p>2)     è™šæ‹ŸDOMå…ƒç´ åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p>
<p>3)     è™šæ‹ŸDOMå…ƒç´ å¿…é¡»æœ‰ç»“æŸæ ‡ç­¾</p>
<h3 id="2-1-4-render-æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹"><a href="#2-1-4-render-æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹" class="headerlink" title="2.1.4 render()æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹"></a>2.1.4 render()æ¸²æŸ“ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹</h3><p>1)     Reactå†…éƒ¨ä¼šåˆ›å»ºç»„ä»¶å®ä¾‹å¯¹è±¡</p>
<p>2)     å¾—åˆ°åŒ…å«çš„è™šæ‹ŸDOMå¹¶è§£æä¸ºçœŸå®DOM</p>
<p>3)     æ’å…¥åˆ°æŒ‡å®šçš„é¡µé¢å…ƒç´ å†…éƒ¨</p>
<h2 id="2-2-ç»„ä»¶ä¸‰å¤§å±æ€§1-state"><a href="#2-2-ç»„ä»¶ä¸‰å¤§å±æ€§1-state" class="headerlink" title="2.2 ç»„ä»¶ä¸‰å¤§å±æ€§1: state"></a>2.2 ç»„ä»¶ä¸‰å¤§å±æ€§1: state</h2><h3 id="2-2-1-æ•ˆæœ"><a href="#2-2-1-æ•ˆæœ" class="headerlink" title="2.2.1 æ•ˆæœ"></a>2.2.1 æ•ˆæœ</h3><p> <img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/Like%E7%BB%84%E4%BB%B6.gif" alt="state" class="lazyload"></p>
<h3 id="2-2-2-ç†è§£"><a href="#2-2-2-ç†è§£" class="headerlink" title="2.2.2 ç†è§£"></a>2.2.2 ç†è§£</h3><p>1)     stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªæ•°æ®)</p>
<p>2)     ç»„ä»¶è¢«ç§°ä¸ºâ€çŠ¶æ€æœºâ€, é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</p>
<h3 id="2-2-3-ç¼–ç æ“ä½œ"><a href="#2-2-3-ç¼–ç æ“ä½œ" class="headerlink" title="2.2.3 ç¼–ç æ“ä½œ"></a>2.2.3 ç¼–ç æ“ä½œ</h3><p>1)     åˆå§‹åŒ–çŠ¶æ€:</p>
<pre><code class="javascript">constructor (props) {
  super(props)
  this.state = {
   stateProp1 : value1,
   stateProp2 : value2
  }
}</code></pre>
<p>2)     è¯»å–æŸä¸ªçŠ¶æ€å€¼</p>
<pre><code class="javascript">this.state.statePropertyName</code></pre>
<p>3)     æ›´æ–°çŠ¶æ€â€”-&gt;ç»„ä»¶ç•Œé¢æ›´æ–°</p>
<pre><code class="javascript">this.setState({
  stateProp1 : value1,
  stateProp2 : value2
})</code></pre>
<h3 id="2-2-4-ä»£ç "><a href="#2-2-4-ä»£ç " class="headerlink" title="2.2.4 ä»£ç "></a>2.2.4 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹
    1. æ˜¾ç¤ºh2æ ‡é¢˜, åˆå§‹æ–‡æœ¬ä¸º: ä½ å–œæ¬¢æˆ‘
    2. ç‚¹å‡»æ ‡é¢˜æ›´æ–°ä¸º: æˆ‘å–œæ¬¢ä½ 
  */
  // 1.å®šä¹‰ç»„ä»¶
  class Like extends React.Component {
    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        isLikeMe: false
      }

      // å°†æ–°å¢æ–¹æ³•ä¸­çš„thiså¼ºåˆ¶ç»‘å®šä¸ºç»„ä»¶å¯¹è±¡
      this.handleClick = this.handleClick.bind(this) // ä¹Ÿå¯ä»¥ä¸åœ¨è¿™é‡Œç»‘å®š
    }

    handleClick(){
      // console.log(this) // handleClickæ˜¯æ–°æ·»åŠ æ–¹æ³•ï¼Œå†…éƒ¨thisé»˜è®¤ä¸æ˜¯ç»„ä»¶å¯¹è±¡ï¼Œè€Œæ˜¯undefined  renderæ˜¯é‡å†™ç»„ä»¶ç±»çš„æ–¹æ³• åˆ°ä¸Šé¢æˆ–ä¸‹é¢ç»‘å®šthis
      // å¾—åˆ°çŠ¶æ€ï¼Œå¹¶å–å
      const isLikeMe = !this.state.isLikeMe
      // æ›´æ–°çŠ¶æ€
      this.setState({isLikeMe}) // isLikeMe: isLikeMe
    }
    render() {
      // è¯»å–çŠ¶æ€
      // const isLikeMe = this.state.isLikeMe
      const {isLikeMe} = this.state // è§£æ„èµ‹å€¼
      return &lt;h2 onClick={this.handleClick}&gt;{isLikeMe?&#39;ä½ å–œæ¬¢æˆ‘&#39;:&#39;æˆ‘å–œæ¬¢ä½ &#39;}&lt;/h2&gt; // thisâ€”â€”ç»„ä»¶å¯¹è±¡ // this.handleClick.bind(this) â€”â€” åœ¨è¿™é‡Œç»‘å®šä¹Ÿå¯ä»¥
    }
  }
  // 2.æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  ReactDOM.render(&lt;Like /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-3-ç»„ä»¶ä¸‰å¤§å±æ€§2-props"><a href="#2-3-ç»„ä»¶ä¸‰å¤§å±æ€§2-props" class="headerlink" title="2.3 ç»„ä»¶ä¸‰å¤§å±æ€§2: props"></a>2.3 ç»„ä»¶ä¸‰å¤§å±æ€§2: props</h2><h3 id="2-3-1-æ•ˆæœ"><a href="#2-3-1-æ•ˆæœ" class="headerlink" title="2.3.1 æ•ˆæœ"></a>2.3.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶
  1). å§“åå¿…é¡»æŒ‡å®š
  2). å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸ºç”·
  3). å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸º18</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-4.png" alt="props" class="lazyload"></p>
<h3 id="2-3-2-ç†è§£"><a href="#2-3-2-ç†è§£" class="headerlink" title="2.3.2 ç†è§£"></a>2.3.2 ç†è§£</h3><p>1)     æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰props(propertiesçš„ç®€å†™)å±æ€§</p>
<p>2)     ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</p>
<h3 id="2-3-3-ä½œç”¨"><a href="#2-3-3-ä½œç”¨" class="headerlink" title="2.3.3 ä½œç”¨"></a>2.3.3 ä½œç”¨</h3><p>1)     é€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤–å‘ç»„ä»¶å†…ä¼ é€’å˜åŒ–çš„æ•°æ®</p>
<p>2)     æ³¨æ„: ç»„ä»¶å†…éƒ¨ä¸è¦ä¿®æ”¹propsæ•°æ®</p>
<h3 id="2-3-4-ç¼–ç æ“ä½œ"><a href="#2-3-4-ç¼–ç æ“ä½œ" class="headerlink" title="2.3.4 ç¼–ç æ“ä½œ"></a>2.3.4 ç¼–ç æ“ä½œ</h3><p>1)     å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼</p>
<p><code>this.props.propertyName</code></p>
<p>2)     å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è‡ª React v15.5 èµ·ï¼Œ<code>React.PropTypes</code> å·²ç§»å…¥å¦ä¸€ä¸ªåŒ…ä¸­ã€‚è¯·ä½¿ç”¨ <a href="https://www.npmjs.com/package/prop-types" target="_blank" rel="noopener"><code>prop-types</code> åº“</a> ä»£æ›¿ã€‚éœ€è¦å…ˆå¼•å…¥è¯¥åº“ã€‚</p>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <a href="https://react.docschina.org/blog/2017/04/07/react-v15.5.0.html#migrating-from-reactproptypes" target="_blank" rel="noopener">codemod è„šæœ¬</a>æ¥åšè‡ªåŠ¨è½¬æ¢ã€‚</p>
</blockquote>
<pre><code class="javascript">Person.propTypes = {
    name: React.PropTypes.string.isRequired,
    age: React.PropTypes.number.isRequired
}</code></pre>
<p>3)     æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’</p>
<p><code>&lt;Person {...person}/&gt;</code></p>
<p>4)     é»˜è®¤å±æ€§å€¼</p>
<pre><code class="javascript">Person.defaultProps = {
    name: &#39;Mary&#39;
}</code></pre>
<p>5)     ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°</p>
<pre><code class="javascript">constructor (props) {
    super(props)
    console.log(props) // æŸ¥çœ‹æ‰€æœ‰å±æ€§

}</code></pre>
<h3 id="2-3-5-ä»£ç "><a href="#2-3-5-ä»£ç " class="headerlink" title="2.3.5 ä»£ç "></a>2.3.5 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example1&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;example2&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/prop-types.js&quot;&gt;&lt;/script&gt; &lt;!-- éªŒè¯ç±»å‹å’Œå¿…è¦æ€§ --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;

  /*
éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶, æ•ˆæœå¦‚é¡µé¢. è¯´æ˜
  1). å¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸ºç”·
  2). å¦‚æœå¹´é¾„æ²¡æœ‰æŒ‡å®š, é»˜è®¤ä¸º18
  */

  // 1ã€å®šä¹‰ç»„ä»¶
  /*function Person(props){
    return (
      &lt;ul&gt;
        &lt;li&gt;å§“åï¼š{props.name}&lt;/li&gt;
        &lt;li&gt;æ€§åˆ«ï¼š{props.sex}&lt;/li&gt;
        &lt;li&gt;å¹´é¾„ï¼š{props.age}&lt;/li&gt;
      &lt;/ul&gt;
    )
  }*/
  class Person extends React.Component{
    render(){
      return (
        &lt;ul&gt;
          &lt;li&gt;å§“åï¼š{this.props.name}&lt;/li&gt;  // thisâ€”â€”ç»„ä»¶å¯¹è±¡
          &lt;li&gt;æ€§åˆ«ï¼š{this.props.sex}&lt;/li&gt;
          &lt;li&gt;å¹´é¾„ï¼š{this.props.age}&lt;/li&gt;
        &lt;/ul&gt;
      )
    }
  }
  // æŒ‡å®šå±æ€§é»˜è®¤å€¼
  Person.defaultProps = {
    sex: &#39;ç”·&#39;,
    age: 18
  }
  // æŒ‡å®šå±æ€§å€¼çš„ç±»å‹å’Œå¿…è¦æ€§
  Person.propTypes = {
    name: PropTypes.string.isRequired,
    age: PropTypes.number
  }

  // 2ã€æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  const p1 = {
    name: &#39;Tom&#39;,
    sex: &#39;å¥³&#39;,
    age: 18
  }
  // ReactDOM.render(&lt;Person name={p1.name} sex={p1.sex} age={p1.age}/&gt;, document.getElementById(&#39;example1&#39;))
  ReactDOM.render(&lt;Person {...p1}/&gt;, document.getElementById(&#39;example1&#39;)) // ...ä½œç”¨ï¼š1.æ‰“åŒ…ï¼šfunction fn(...as){} fun(1,2,3) 2.è§£åŒ…ï¼šconst arr1=[1,2,3] const arr2=[6,...arr1,9] è¿™é‡Œä¹Ÿæ˜¯åœ¨è§£åŒ…
  const p2 = {
    name: &#39;JACK&#39;,
    age: 17
  }
  ReactDOM.render(&lt;Person name={p2.name} age={p2.age}/&gt;, document.getElementById(&#39;example2&#39;))
&lt;/script&gt;</code></pre>
<h3 id="2-3-6-é¢è¯•é¢˜"><a href="#2-3-6-é¢è¯•é¢˜" class="headerlink" title="2.3.6 é¢è¯•é¢˜"></a>2.3.6 é¢è¯•é¢˜</h3><p>é—®é¢˜: è¯·åŒºåˆ«ä¸€ä¸‹ç»„ä»¶çš„propså’Œstateå±æ€§</p>
<p>1)     state: <strong>ç»„ä»¶è‡ªèº«å†…éƒ¨å¯å˜åŒ–çš„æ•°æ®</strong></p>
<p><em>2)</em>    props: ä»ç»„ä»¶å¤–éƒ¨å‘ç»„ä»¶å†…éƒ¨<strong>ä¼ é€’æ•°æ®</strong>ï¼Œç»„ä»¶å†…éƒ¨åªè¯»ä¸ä¿®æ”¹</p>
<h2 id="2-4-ç»„ä»¶ä¸‰å¤§å±æ€§3-refsä¸äº‹ä»¶å¤„ç†"><a href="#2-4-ç»„ä»¶ä¸‰å¤§å±æ€§3-refsä¸äº‹ä»¶å¤„ç†" class="headerlink" title="2.4 ç»„ä»¶ä¸‰å¤§å±æ€§3: refsä¸äº‹ä»¶å¤„ç†"></a>2.4 ç»„ä»¶ä¸‰å¤§å±æ€§3: refsä¸äº‹ä»¶å¤„ç†</h2><h3 id="2-4-1-æ•ˆæœ"><a href="#2-4-1-æ•ˆæœ" class="headerlink" title="2.4.1 æ•ˆæœ"></a>2.4.1 æ•ˆæœ</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹:</p>
<ol start="2">
<li>ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</li>
<li>å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/props_event.gif" alt="props_event" class="lazyload"></p>
<h3 id="2-4-2-ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ-refså±æ€§"><a href="#2-4-2-ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ-refså±æ€§" class="headerlink" title="2.4.2 ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ: refså±æ€§"></a>2.4.2 ç»„ä»¶çš„3å¤§å±æ€§ä¹‹äºŒ: refså±æ€§</h3><p>1)     ç»„ä»¶å†…çš„æ ‡ç­¾éƒ½å¯ä»¥å®šä¹‰refå±æ€§æ¥æ ‡è¯†è‡ªå·±</p>
<p>a.     &lt;input type=â€textâ€ ref={input =&gt; this.msgInput = input}/&gt;</p>
<p>b.     å›è°ƒå‡½æ•°åœ¨ç»„ä»¶åˆå§‹åŒ–æ¸²æŸ“å®Œæˆ–å¸è½½æ—¶è‡ªåŠ¨è°ƒç”¨</p>
<p>2)     åœ¨ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡this.msgInputæ¥å¾—åˆ°å¯¹åº”çš„çœŸå®DOMå…ƒç´ </p>
<p>3)     ä½œç”¨: é€šè¿‡refè·å–ç»„ä»¶å†…å®¹ç‰¹å®šæ ‡ç­¾å¯¹è±¡, è¿›è¡Œè¯»å–å…¶ç›¸å…³æ•°æ®</p>
<h3 id="2-4-3-äº‹ä»¶å¤„ç†"><a href="#2-4-3-äº‹ä»¶å¤„ç†" class="headerlink" title="2.4.3 äº‹ä»¶å¤„ç†"></a>2.4.3 äº‹ä»¶å¤„ç†</h3><p>1)     é€šè¿‡onXxxå±æ€§æŒ‡å®šç»„ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°(æ³¨æ„å¤§å°å†™)</p>
<p>a.     Reactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰(åˆæˆ)äº‹ä»¶, è€Œä¸æ˜¯ä½¿ç”¨çš„åŸç”ŸDOMäº‹ä»¶</p>
<p>b.     Reactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼å¤„ç†çš„(å§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ )</p>
<p>2)     é€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡</p>
<pre><code>handleFocus(event) {
 event.target // è¿”å›inputå¯¹è±¡
}</code></pre><h3 id="2-4-4-å¼ºçƒˆæ³¨æ„"><a href="#2-4-4-å¼ºçƒˆæ³¨æ„" class="headerlink" title="2.4.4 å¼ºçƒˆæ³¨æ„"></a>2.4.4 å¼ºçƒˆæ³¨æ„</h3><p>1)     ç»„ä»¶å†…ç½®çš„æ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å¯¹è±¡</p>
<p>2)     åœ¨ç»„ä»¶ç±»ä¸­è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­thisä¸ºnull</p>
<p>a.     å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()</p>
<p>b.     ç®­å¤´å‡½æ•°(ES6æ¨¡å—åŒ–ç¼–ç æ—¶æ‰èƒ½ä½¿ç”¨)</p>
<h3 id="2-4-5-ä»£ç "><a href="#2-4-5-ä»£ç " class="headerlink" title="2.4.5 ä»£ç "></a>2.4.5 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹:
    1. ç•Œé¢å¦‚æœé¡µé¢æ‰€ç¤º
    2. ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼
    3. å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼
 */
  // 1ã€å®šä¹‰ç»„ä»¶ // Reactä¸­å¿…é¡»è¦ç»“æŸæ ‡ç­¾
  class MyComponent extends React.Component{

    constructor(props){
      super(props)
      this.showInput = this.showInput.bind(this)
      this.handleBlur = this.handleBlur.bind(this)
    }

    showInput(){
      const input = this.refs.content
      // alert(input.value)
      alert(this.input.value)
    }

    handleBlur(event){
      alert(event.target.value)
    }

    render(){
      return(
        &lt;div&gt;
          &lt;input type=&quot;text&quot; ref=&quot;content&quot;/&gt;&amp;nbsp;&amp;nbsp;
          &lt;input type=&quot;text&quot; ref={input =&gt; this.input = input}/&gt;&amp;nbsp;&amp;nbsp;
          &lt;button onClick={this.showInput}&gt;æç¤ºè¾“å…¥&lt;/button&gt;&amp;nbsp;&amp;nbsp;
          &lt;input type=&quot;text&quot; placeholder=&quot;å¤±å»ç„¦ç‚¹æç¤ºå†…å®¹&quot; onBlur={this.handleBlur}/&gt;
        &lt;/div&gt;
      )
    }
  }

  // 2ã€æ¸²æŸ“ç»„ä»¶æ ‡ç­¾
  ReactDOM.render(&lt;MyComponent/&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h3 id="2-4-6-åŒºåˆ«"><a href="#2-4-6-åŒºåˆ«" class="headerlink" title="2.4.6 åŒºåˆ«"></a>2.4.6 åŒºåˆ«</h3><ol>
<li>state</li>
<li>props</li>
<li>refs</li>
</ol>
<h2 id="2-5-ç»„ä»¶çš„ç»„åˆ"><a href="#2-5-ç»„ä»¶çš„ç»„åˆ" class="headerlink" title="2.5 ç»„ä»¶çš„ç»„åˆ"></a>2.5 ç»„ä»¶çš„ç»„åˆ</h2><h3 id="2-5-1-æ•ˆæœ"><a href="#2-5-1-æ•ˆæœ" class="headerlink" title="2.5.1 æ•ˆæœ"></a>2.5.1 æ•ˆæœ</h3><pre><code>åŠŸèƒ½: ç»„ä»¶åŒ–å®ç°æ­¤åŠŸèƒ½
  1. æ˜¾ç¤ºæ‰€æœ‰todoåˆ—è¡¨
  2. è¾“å…¥æ–‡æœ¬, ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºåˆ°åˆ—è¡¨çš„é¦–ä½, å¹¶æ¸…é™¤è¾“å…¥çš„æ–‡æœ¬</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8.gif" alt="componentç»„åˆä½¿ç”¨" class="lazyload"></p>
<h3 id="2-5-2-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹-æ— æ¯”é‡è¦"><a href="#2-5-2-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹-æ— æ¯”é‡è¦" class="headerlink" title="2.5.2 åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹(æ— æ¯”é‡è¦)"></a>2.5.2 åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹(æ— æ¯”é‡è¦)</h3><p>1)     æ‹†åˆ†ç»„ä»¶: æ‹†åˆ†ç•Œé¢,æŠ½å–ç»„ä»¶</p>
<p>2)     å®ç°é™æ€ç»„ä»¶: ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ(åªæœ‰é™æ€ç•Œé¢ï¼Œæ²¡æœ‰åŠ¨æ€æ•°æ®å’Œäº¤äº’)</p>
<p>3)     å®ç°åŠ¨æ€ç»„ä»¶</p>
<ul>
<li><p>å®ç°åˆå§‹åŒ–æ•°æ®åŠ¨æ€æ˜¾ç¤º</p>
</li>
<li><p>å®ç°äº¤äº’åŠŸèƒ½(ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹)</p>
</li>
</ul>
<h3 id="2-5-3-ä»£ç "><a href="#2-5-3-ä»£ç " class="headerlink" title="2.5.3 ä»£ç "></a>2.5.3 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/prop-types.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  // é™æ€ç»„ä»¶â€”â€”&gt;åŠ¨æ€ç»„ä»¶
  /*
  * -åç§°ã€ç±»å‹ï¼štodosã€æ•°ç»„ï¼ŒAddéœ€è¦ã€Listéœ€è¦
  * -æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶å†…ï¼Ÿ
  *   æ”¾åˆ°App
  *   çœ‹æ•°æ®æ˜¯æŸä¸ªç»„ä»¶éœ€è¦(ç»™è¿™ä¸ª)ï¼Œè¿˜æ˜¯æŸäº›ç»„ä»¶éœ€è¦(ç»™å…±åŒçš„çˆ¶ç»„ä»¶)
  * -éœ€è¦åœ¨å­ç»„ä»¶ä¸­æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€
  *    å­ç»„ä»¶ä¸­ä¸èƒ½ç›´æ¥æ”¹å˜çˆ¶ç»„ä»¶çš„çŠ¶æ€
  *    çŠ¶æ€åœ¨å“ªä¸ªç»„ä»¶ï¼Œæ›´æ–°çŠ¶æ€çš„è¡Œä¸ºå°±åº”è¯¥å®šä¹‰åœ¨å“ªä¸ªç»„ä»¶ï¼Œç”±å­ç»„ä»¶æ¥è°ƒç”¨(é€šè¿‡ç»„ä»¶å±æ€§ä¼ é€’)
  *    çˆ¶ç»„ä»¶å®šä¹‰å‡½æ•°ï¼Œä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶è°ƒç”¨
  */
  class App extends React.Component{

    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        todos: [&#39;åƒé¥­&#39;, &#39;ç¡è§‰&#39;, &#39;æ•²ä»£ç &#39;, &#39;æ‰“æ¸¸æˆ&#39;]
      }

      this.addTodo = this.addTodo.bind(this)  // æ²¡å®šä¹‰åŠ ä¸Šbind
    }

    addTodo(todo){
      // this.state.todos.unshift(todo) // ä¸èƒ½è¿™æ ·åš
      const {todos} = this.state
      todos.unshift(todo)
      // æ›´æ–°çŠ¶æ€
      this.setState({todos})
    }

    render(){
      const {todos} = this.state
      return(
        &lt;div&gt;
          &lt;h1&gt;Simple TODO List&lt;/h1&gt;
          &lt;Add count={todos.length} addTodo={this.addTodo}/&gt;
          &lt;List todos={todos}/&gt;
        &lt;/div&gt;
      )
    //  &lt;List todos={this.state.todos}/&gt; å‰é¢èµ‹å€¼äº†
    }
  }

  class Add extends React.Component{
    constructor(props){
      super(props)
      this.add = this.add.bind(this)
    }
    add(){
      // 1ã€è¯»å–è¾“å…¥çš„æ•°æ®
      const todo = this.todoInput.value.trim()
      // 2ã€æ£€æŸ¥åˆæ³•æ€§
      if(!todo){
        return
      }
      // 3ã€æ·»åŠ 
      this.props.addTodo(todo)
      // 4ã€æ¸…é™¤è¾“å…¥
      this.todoInput.value = &#39;&#39;
    }
    render(){
      return(
        &lt;div&gt;
          &lt;input type=&quot;text&quot; ref={input =&gt; this.todoInput=input}/&gt;
          &lt;button onClick={this.add}&gt;add #{this.props.count+1}&lt;/button&gt;
        &lt;/div&gt;
      )
    }
  }
  Add.propTypes = {
    count: PropTypes.number.isRequired,
    addTodo: PropTypes.func.isRequired
  }

  class List extends React.Component{
    render(){
      return(
        &lt;ul&gt;
          {
            this.props.todos.map((todo, index) =&gt; &lt;li key={index}&gt;{todo}&lt;/li&gt;)
          }
        &lt;/ul&gt;
      )
      /*this.props.todos.map((todo, index) =&gt; {return &lt;li key={index}&gt;{todo}&lt;/li&gt;})*/
      /* åŠ äº†å¤§æ‹¬å·éœ€è¦åŠ return */
    }
  }

  List.protoTypes = {
    todos: PropTypes.array.isRequired
  }


  ReactDOM.render(&lt;App /&gt;,document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-6-æ”¶é›†è¡¨å•æ•°æ®"><a href="#2-6-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="2.6 æ”¶é›†è¡¨å•æ•°æ®"></a>2.6 æ”¶é›†è¡¨å•æ•°æ®</h2><h3 id="2-6-1-æ•ˆæœ"><a href="#2-6-1-æ•ˆæœ" class="headerlink" title="2.6.1 æ•ˆæœ"></a>2.6.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰åŒ…å«è¡¨å•çš„ç»„ä»¶
  1. è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»é™†æç¤ºè¾“å…¥ä¿¡æ¯
  3. ä¸æäº¤è¡¨å•</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E8%A1%A8%E5%8D%95.gif" alt="componentè¡¨å• (2)" class="lazyload"></p>
<h3 id="2-6-2-ç†è§£"><a href="#2-6-2-ç†è§£" class="headerlink" title="2.6.2 ç†è§£"></a>2.6.2 ç†è§£</h3><p>1)     é—®é¢˜: åœ¨reactåº”ç”¨ä¸­, å¦‚ä½•æ”¶é›†è¡¨å•è¾“å…¥æ•°æ®</p>
<p>2)     åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»</p>
<p>a.     å—æ§ç»„ä»¶: è¡¨å•é¡¹è¾“å…¥æ•°æ®èƒ½è‡ªåŠ¨æ”¶é›†æˆçŠ¶æ€</p>
<p>b.     éå—æ§ç»„ä»¶: éœ€è¦æ—¶æ‰æ‰‹åŠ¨è¯»å–è¡¨å•è¾“å…¥æ¡†ä¸­çš„æ•°æ®</p>
<h3 id="2-6-3-ä»£ç "><a href="#2-6-3-ä»£ç " class="headerlink" title="2.6.3 ä»£ç "></a>2.6.3 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰åŒ…å«è¡¨å•çš„ç»„ä»¶
    1. ç•Œé¢å¦‚ä¸‹æ‰€ç¤º
    2. è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»é™†æç¤ºè¾“å…¥ä¿¡æ¯
    3. ä¸æäº¤è¡¨å•
  */
  class LoginForm extends React.Component{
    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state  = {
        pwd: &#39;&#39;
      }
      this.handleSubmit = this.handleSubmit.bind(this)
      this.handleChange = this.handleChange.bind(this)
    }

    handleSubmit(event){
      const name = this.nameInput.value // éå—æ§ç»„ä»¶
      const {pwd} = this.state // å—æ§ç»„ä»¶
      alert(`å‡†å¤‡æäº¤çš„ç”¨æˆ·åä¸º${name}ï¼Œå¯†ç ä¸º${pwd}`)
      // é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º
      event.preventDefault()
    }
    // å½“äº‹ä»¶å’Œæ ‡ç­¾æ˜¯åŒä¸€ä¸ªæ—¶ï¼Œä½¿ç”¨eventæ›´æ–¹ä¾¿

    handleChange(event){
      // è¯»å–è¾“å…¥çš„å€¼
      const pwd = event.target.value
      // æ›´æ–°pwdçš„çŠ¶æ€
      this.setState({pwd})
    }

    render(){
      return(
        &lt;form action=&quot;/test&quot; onSubmit={this.handleSubmit}&gt;
          ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; ref={input =&gt; this.nameInput = input}/&gt;
          å¯†ç ï¼š&lt;input type=&quot;password&quot; value={this.state.pwd} onChange={this.handleChange}/&gt;
          &lt;input type=&quot;submit&quot; value=&quot;ç™»å½•&quot;/&gt;
        &lt;/form&gt;
      )
    }
    // åŸç”ŸjsonChangeäº‹ä»¶æ˜¯åœ¨å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼Œreactä¸­æ˜¯è¾“å…¥åˆ™è§¦å‘
  }

  ReactDOM.render(&lt;LoginForm /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-7-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#2-7-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.7 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>2.7 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="2-7-1-æ•ˆæœ"><a href="#2-7-1-æ•ˆæœ" class="headerlink" title="2.7.1 æ•ˆæœ"></a>2.7.1 æ•ˆæœ</h3><pre><code>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶
  1. è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º/éšè—çš„æ¸å˜åŠ¨ç”»
  2. åˆ‡æ¢æŒç»­æ—¶é—´ä¸º2S
  3. ç‚¹å‡»æŒ‰é’®ä»ç•Œé¢ä¸­ç§»é™¤ç»„ä»¶ç•Œé¢</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/component%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.gif" alt="componentç”Ÿå‘½å‘¨æœŸ" class="lazyload"></p>
<h3 id="2-7-2-ç†è§£"><a href="#2-7-2-ç†è§£" class="headerlink" title="2.7.2 ç†è§£"></a>2.7.2 ç†è§£</h3><p>1)     ç»„ä»¶å¯¹è±¡ä»åˆ›å»ºåˆ°æ­»äº¡å®ƒä¼šç»å†ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ</p>
<p>2)     Reactç»„ä»¶å¯¹è±¡åŒ…å«ä¸€ç³»åˆ—çš„å‹¾å­å‡½æ•°(ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°), åœ¨ç”Ÿå‘½å‘¨æœŸç‰¹å®šæ—¶åˆ»å›è°ƒ</p>
<p>3)     æˆ‘ä»¬åœ¨å®šä¹‰ç»„ä»¶æ—¶, å¯ä»¥é‡å†™ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°, åšç‰¹å®šçš„å·¥ä½œ</p>
<h3 id="2-7-3-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><a href="#2-7-3-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾" class="headerlink" title="2.7.3 ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"></a>2.7.3 ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/reactlife.png" alt="ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾" class="lazyload"></p>
<p>Mountï¼šæŒ‚è½½ï¼Œå°†è™šæ‹Ÿæ ‡ç­¾æ”¾åˆ°å®¹å™¨(é¡µé¢)ä¸­</p>
<p>render()æ¸²æŸ“</p>
<p>å·¦è¾¹åˆå§‹åŒ–è¿‡ç¨‹ï¼Œè¿™äº›æ–¹æ³•ç§°ä¸ºå£°æ˜å‘¨æœŸå›è°ƒå‡½æ•°ï¼Œæˆ–ç§°ä¸ºç”Ÿå‘½å‘¨æœŸçš„å‹¾å­ï¼Œè¿™äº›æ–¹æ³•åœ¨ç‰¹å®šçš„æ—¶åˆ»è°ƒç”¨</p>
<p>(å›è°ƒå‡½æ•°ï¼šä½ å®šä¹‰çš„ï¼Œä½ æ²¡æœ‰è°ƒç”¨ï¼Œä½†æ˜¯æœ€ç»ˆæ‰§è¡Œäº†ï¼›å£°æ˜å¼ç¼–ç¨‹,æµç¨‹è®¾å®šå¥½,ã€å‘½ä»¤å¼ç¼–ç¨‹jQuery,æ¯ä¸€æ­¥è‡ªå·±æ“ä½œ)</p>
<p>willå°†ã€didå®Œæˆ</p>
<h3 id="2-7-4-ç”Ÿå‘½å‘¨æœŸè¯¦è¿°"><a href="#2-7-4-ç”Ÿå‘½å‘¨æœŸè¯¦è¿°" class="headerlink" title="2.7.4 ç”Ÿå‘½å‘¨æœŸè¯¦è¿°"></a>2.7.4 ç”Ÿå‘½å‘¨æœŸè¯¦è¿°</h3><p>1)     ç»„ä»¶çš„ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸçŠ¶æ€:</p>
<ul>
<li><p>Mountï¼šæ’å…¥çœŸå® DOM</p>
</li>
<li><p>Updateï¼šè¢«é‡æ–°æ¸²æŸ“</p>
</li>
<li><p>Unmountï¼šè¢«ç§»å‡ºçœŸå® DOM</p>
</li>
</ul>
<p>2)     React ä¸ºæ¯ä¸ªçŠ¶æ€éƒ½æä¾›äº†å‹¾å­(hook)å‡½æ•°ï¼Œå¯é‡å†™</p>
<ul>
<li><p><code>componentWillMount()</code></p>
</li>
<li><p><code>componentDidMount()</code></p>
</li>
<li><p><code>componentWillUpdate()</code></p>
</li>
<li><p><code>componentDidUpdate()</code></p>
</li>
<li><p><code>componentWillUnmount()</code></p>
</li>
</ul>
<p>3)    ç”Ÿå‘½å‘¨æœŸæµç¨‹:</p>
<p>a.     ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ¸²æŸ“æ˜¾ç¤º: ReactDOM.render()</p>
<ul>
<li><p>constructor(): åˆ›å»ºå¯¹è±¡åˆå§‹åŒ–state</p>
</li>
<li><p>componentWillMount() : å°†è¦æ’å…¥å›è°ƒ</p>
</li>
<li><p>render() : ç”¨äºæ’å…¥è™šæ‹ŸDOMå›è°ƒ</p>
</li>
<li><p>componentDidMount() : å·²ç»æ’å…¥å›è°ƒ</p>
</li>
</ul>
<p>b.     æ¯æ¬¡æ›´æ–°state: this.setSate()</p>
<ul>
<li><p>componentWillUpdate() : å°†è¦æ›´æ–°å›è°ƒ</p>
</li>
<li><p>render() : æ›´æ–°(é‡æ–°æ¸²æŸ“)</p>
</li>
<li><p>componentDidUpdate() : å·²ç»æ›´æ–°å›è°ƒ</p>
</li>
</ul>
<p>c.     ç§»é™¤ç»„ä»¶: ReactDOM.unmountComponentAtNode(containerDom)</p>
<ul>
<li>componentWillUnmount() : ç»„ä»¶å°†è¦è¢«ç§»é™¤å›è°ƒ</li>
</ul>
<p>ä¸‰ä¸ªé˜¶æ®µï¼Œå¯ä»¥éƒ½æ‰“å°ä¸€ä¸‹ï¼Œçœ‹ä¸‹æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹(ä¸å†™çš„é¡ºåºæ— å…³)</p>
<h3 id="2-7-5-é‡è¦çš„å‹¾å­"><a href="#2-7-5-é‡è¦çš„å‹¾å­" class="headerlink" title="2.7.5 é‡è¦çš„å‹¾å­"></a>2.7.5 é‡è¦çš„å‹¾å­</h3><p>1)     render(): åˆå§‹åŒ–æ¸²æŸ“æˆ–æ›´æ–°æ¸²æŸ“è°ƒç”¨</p>
<p>2)     componentDidMount(): å¼€å¯ç›‘å¬, å‘é€ajaxè¯·æ±‚</p>
<p>3)     componentWillUnmount(): åšä¸€äº›æ”¶å°¾å·¥ä½œ, å¦‚: æ¸…ç†å®šæ—¶å™¨</p>
<p>4)     componentWillReceiveProps(): åé¢éœ€è¦æ—¶è®²</p>
<h3 id="2-7-6-ä»£ç "><a href="#2-7-6-ä»£ç " class="headerlink" title="2.7.6 ä»£ç "></a>2.7.6 ä»£ç </h3><pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶
    1. è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º/éšè—çš„åŠ¨ç”»
    2. åˆ‡æ¢æ—¶é—´ä¸º2S
    3. ç‚¹å‡»æŒ‰é’®ä»ç•Œé¢ä¸­ç§»é™¤ç»„ä»¶ç•Œé¢
   */
  class Life extends React.Component{

    constructor(props){
      super(props)
      // åˆå§‹åŒ–çŠ¶æ€
      this.state = {
        opacity: 1
      }

      this.distroyComponent = this.distroyComponent.bind(this)
    }

    distroyComponent(){
      ReactDOM.unmountComponentAtNode(document.getElementById(&#39;example&#39;))
    }

    // é‡å†™æ–¹æ³•
    componentDidMount(){
      // å¯åŠ¨å¾ªç¯å®šæ—¶å™¨
      this.intervalId = setInterval(function () { // ä¸¤ä¸ªå‡½æ•°éœ€è¦åŒä¸€ä¸ªå˜é‡ï¼Œæ”¾åˆ°ä¸Šä¸€å±‚å…±åŒç»„ä»¶ä¸Š
        console.log(&#39;å®šæ—¶å™¨æ‰§è¡Œâ€¦â€¦&#39;)
        let {opacity} = this.state
        opacity -= 0.1
        if(opacity&lt;=0){
          opacity = 1
        }
        // æ›´æ–°çŠ¶æ€
        this.setState({opacity})
      }.bind(this), 200) // componentDidMountçš„this
    }
    componentWillUnmount(){
      // æ¸…ç†å®šæ—¶å™¨
      clearInterval(this.intervalId)
    }

    render(){ // ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¼šé‡æ–°è°ƒç”¨;æ°¸è¿œå†™åœ¨å…¶ä»–ä¸‹æ–¹ï¼Œæ„é€ å™¨åœ¨æœ€ä¸Šæ–¹
      const {opacity} = this.state
      return(
        &lt;div&gt;
          &lt;h2 style={{opacity: opacity}}&gt;{this.props.msg}&lt;/h2&gt;
          &lt;button onClick={this.distroyComponent}&gt;ä¸æ´»äº†&lt;/button&gt;
        &lt;/div&gt;
      )
    }// styleä¸­ä¸¤ä¸ªå¤§æ‹¬å·ï¼Œå¤–é¢çš„ä»£è¡¨å†™çš„æ˜¯jsä»£ç ï¼Œé‡Œé¢çš„æ˜¯å¯¹è±¡ï¼ˆæ ·å¼åï¼šå€¼ï¼Œä¹Ÿå¯ä»¥å†™ES6ï¼‰
  }

  ReactDOM.render(&lt;Life msg=&quot;reactå¤ªéš¾äº†&quot;/&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;</code></pre>
<h2 id="2-8-è™šæ‹ŸDOMä¸DOM-Diffç®—æ³•"><a href="#2-8-è™šæ‹ŸDOMä¸DOM-Diffç®—æ³•" class="headerlink" title="2.8 è™šæ‹ŸDOMä¸DOM Diffç®—æ³•"></a>2.8 è™šæ‹ŸDOMä¸DOM Diffç®—æ³•</h2><p>è™šæ‹ŸDOMï¼šå‡å°‘æ“ä½œçœŸå®DOMçš„æ¬¡æ•°ï¼Œæ›´æ–°ç•Œé¢æ¬¡æ•°å˜å°‘</p>
<p>DOM Diffç®—æ³•ï¼šè®¡ç®—å“ªé‡Œéœ€è¦æ›´æ–°ï¼Œå“ªé‡Œä¸éœ€è¦æ›´æ–°ï¼Œå‡å°‘æ›´æ–°ç•Œé¢çš„åŒºåŸŸ</p>
<p>å…±åŒæé«˜æ›´æ–°ç•Œé¢çš„æ•ˆç‡</p>
<h3 id="2-8-1-æ•ˆæœ"><a href="#2-8-1-æ•ˆæœ" class="headerlink" title="2.8.1 æ•ˆæœ"></a>2.8.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/vDOM.gif" alt="componentè™šæ‹ŸDOM" class="lazyload"></p>
<pre><code class="html">&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;
&lt;br&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éªŒè¯:
  è™šæ‹ŸDOM+DOM Diffç®—æ³•: æœ€å°åŒ–é¡µé¢é‡ç»˜
  */

  class HelloWorld extends React.Component {
    constructor(props) {
      super(props)
      this.state = {
          date: new Date()
      }
    }

    componentDidMount () {
      setInterval(() =&gt; {
        this.setState({
            date: new Date()
        })
      }, 1000)
    }

    render () {
      console.log(&#39;render()&#39;)
      return (
        &lt;p&gt;
          Hello, &lt;input type=&quot;text&quot; placeholder=&quot;Your name here&quot;/&gt;!&amp;nbsp;
          &lt;span&gt;It is {this.state.date.toTimeString()}&lt;/span&gt;
        &lt;/p&gt;
      )
    }
  }

  ReactDOM.render(
    &lt;HelloWorld/&gt;,
    document.getElementById(&#39;example&#39;)
  )
&lt;/script&gt;</code></pre>
<p> åªæœ‰æ—¶é—´æ›´æ–°ï¼Œå…¶ä»–ä¸æ›´æ–°</p>
<h3 id="2-8-2-åŸºæœ¬åŸç†å›¾"><a href="#2-8-2-åŸºæœ¬åŸç†å›¾" class="headerlink" title="2.8.2 åŸºæœ¬åŸç†å›¾"></a>2.8.2 åŸºæœ¬åŸç†å›¾</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-5.png" alt="åŸºæœ¬åŸç†" class="lazyload"></p>
<ul>
<li><p>åˆå§‹åŒ–ï¼šè™šæ‹ŸDOMæ ‘(div&gt;p&gt;spanâ€¦â€¦)ï¼Œæ›´æ–°è™šæ‹ŸDOMç•Œé¢ä¸ä¼šå˜â€”â€”&gt;æ›´æ–°çœŸå®DOMç•Œé¢æ‰ä¼šå˜åŒ–(æ›´æ–°çŠ¶æ€)</p>
</li>
<li><p>æ›´æ–°(å…³é”®)ï¼šè°ƒç”¨setState()æ›´æ–°çŠ¶æ€(ä¼šè¿›è¡Œå¯¹æ¯”)â€”â€”&gt;æ ¹æ®å·®å¼‚æ›´æ–°çœŸå®DOMã€é‡ç»˜é¡µé¢å˜åŒ–çš„åŒºåŸŸ</p>
</li>
</ul>
<h1 id="ç¬¬3ç« -reactåº”ç”¨-åŸºäºreactè„šæ‰‹æ¶"><a href="#ç¬¬3ç« -reactåº”ç”¨-åŸºäºreactè„šæ‰‹æ¶" class="headerlink" title="ç¬¬3ç«  reactåº”ç”¨(åŸºäºreactè„šæ‰‹æ¶)"></a>ç¬¬3ç«  reactåº”ç”¨(åŸºäºreactè„šæ‰‹æ¶)</h1><h2 id="3-1-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#3-1-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="3.1 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>3.1 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h2><h3 id="3-1-1-reactè„šæ‰‹æ¶"><a href="#3-1-1-reactè„šæ‰‹æ¶" class="headerlink" title="3.1.1 reactè„šæ‰‹æ¶"></a>3.1.1 reactè„šæ‰‹æ¶</h3><p>1)     xxxè„šæ‰‹æ¶: ç”¨æ¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸºäºxxxåº“çš„æ¨¡æ¿é¡¹ç›®</p>
<ul>
<li><p>åŒ…å«äº†æ‰€æœ‰éœ€è¦çš„é…ç½®</p>
</li>
<li><p>æŒ‡å®šå¥½äº†æ‰€æœ‰çš„ä¾èµ–</p>
</li>
<li><p>å¯ä»¥ç›´æ¥å®‰è£…/ç¼–è¯‘/è¿è¡Œä¸€ä¸ªç®€å•æ•ˆæœ</p>
</li>
</ul>
<p>2)     reactæä¾›äº†ä¸€ä¸ªç”¨äºåˆ›å»ºreacté¡¹ç›®çš„è„šæ‰‹æ¶åº“: create-react-app</p>
<p>3)     é¡¹ç›®çš„æ•´ä½“æŠ€æœ¯æ¶æ„ä¸º: react + webpack + es6 + eslint</p>
<p>4)     ä½¿ç”¨è„šæ‰‹æ¶å¼€å‘çš„é¡¹ç›®çš„ç‰¹ç‚¹: æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–ã€å·¥ç¨‹åŒ–</p>
<h3 id="3-1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"><a href="#3-1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨" class="headerlink" title="3.1.2 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"></a>3.1.2 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨</h3><p><code>npm install -g create-react-app</code> å…¨å±€ä¸‹è½½</p>
<p><code>create-react-app hello-react</code></p>
<p><code>cd hello-react</code></p>
<p><code>npm start</code></p>
<p>æµè§ˆå™¨è®¿é—®<a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a></p>
<p>æ³¨ï¼š</p>
<p><code>npm root -g</code> æŸ¥çœ‹å…¨å±€ä¸‹è½½ç›®å½•<br>C:\Users\Shinelon\AppData\Roaming\npm\node_modules</p>
<h3 id="3-1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#3-1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="3.1.3 reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>3.1.3 reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h3><pre><code>ReactNews

 |--node_modules---ç¬¬ä¸‰æ–¹ä¾èµ–æ¨¡å—æ–‡ä»¶å¤¹

 |--public

   |-- index.html-----------------ä¸»é¡µé¢

 |--scripts

   |-- build.js-------------------buildæ‰“åŒ…å¼•ç”¨é…ç½®

   |-- start.js-------------------startè¿è¡Œå¼•ç”¨é…ç½®

 |--src------------æºç æ–‡ä»¶å¤¹

   |--components-----------------reactç»„ä»¶

      |-- app.jsx

   |--index.css

   |--index.js-------------------åº”ç”¨å…¥å£js(main.js)

 |--.gitignore------gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®

 |--package.json----åº”ç”¨åŒ…é…ç½®æ–‡ä»¶ 

 |--README.md-------åº”ç”¨æè¿°è¯´æ˜çš„readmeæ–‡ä»¶</code></pre><p> <code>package.json</code></p>
<ul>
<li><code>&quot;dependencies&quot;</code>ï¼šè¿è¡Œæ—¶ä¾èµ–</li>
<li><code>&quot;devDependencies&quot;</code>ï¼šå¼€å‘æ—¶ä¾èµ–ï¼Œç¼–è¯‘æ‰“åŒ…æ—¶éœ€è¦ï¼Œå¼€å‘æ—¶ä¸éœ€è¦ï¼Œç¼–è¯‘æ‰“åŒ…æ—¶å·¥å…·åŒ…</li>
</ul>
<p><code>public/index.html</code>ä¸»ç•Œé¢</p>
<ul>
<li>åªæœ‰ä¸€ä¸ª<code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code>ï¼Œä¾é ç»„ä»¶</li>
</ul>
<p><code>src/index.js</code>åº”ç”¨å…¥å£</p>
<ul>
<li>å¼•å…¥åŒ…(<code>import * from &quot;*&quot;</code>)ã€CSS(<code>import &quot;*.css&quot;</code>)</li>
<li>æ¸²æŸ“ç»„ä»¶</li>
</ul>
<p><code>README.md</code>å¯¹é¡¹ç›®çš„è¯´æ˜æ–‡ä»¶</p>
<p>SPA(Single Page Application)ï¼šå•åº”ç”¨</p>
<ul>
<li>index.html</li>
</ul>
<pre><code class="html">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code></pre>
<ul>
<li><code>src/components/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import logo from &#39;../logo.svg&#39;

export default class App extends Component {
  render() {
    return(
      &lt;div&gt;
        &lt;img className=&#39;logo&#39; src={logo} alt=&quot;logo&quot;/&gt;
        &lt;p className=&quot;title&quot;&gt;reactç»„ä»¶&lt;/p&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import App from &#39;./components/app&#39;

import &#39;./index.css&#39;

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/index.css</code></li>
</ul>
<pre><code class="css">.logo{
  width: 200px;
  height: 200px;
}
.title{
  color: red;
  font-size: 25px;
}</code></pre>
<p><code>cd react_app</code><br><code>npm start</code>æˆ–<code>npm run start</code></p>
<h2 id="3-2-demo-è¯„è®ºç®¡ç†"><a href="#3-2-demo-è¯„è®ºç®¡ç†" class="headerlink" title="3.2 demo: è¯„è®ºç®¡ç†"></a>3.2 demo: è¯„è®ºç®¡ç†</h2><h3 id="3-2-1-æ•ˆæœ"><a href="#3-2-1-æ•ˆæœ" class="headerlink" title="3.2.1 æ•ˆæœ"></a>3.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/demo_comment.gif" alt="demo_comment" class="lazyload"></p>
<h3 id="3-2-2-æ‹†åˆ†ç»„ä»¶"><a href="#3-2-2-æ‹†åˆ†ç»„ä»¶" class="headerlink" title="3.2.2 æ‹†åˆ†ç»„ä»¶"></a>3.2.2 æ‹†åˆ†ç»„ä»¶</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200708170522553.png" alt="image-20200708170522553" class="lazyload"></p>
<p>åº”ç”¨ç»„ä»¶: App</p>
<ul>
<li>state: comments/array</li>
</ul>
<p>æ·»åŠ è¯„è®ºç»„ä»¶: CommentAdd</p>
<ul>
<li><p>state: username/string, content/string</p>
</li>
<li><p>props: add/func</p>
</li>
</ul>
<p>è¯„è®ºåˆ—è¡¨ç»„ä»¶: CommentList</p>
<ul>
<li>props: comment/object, delete/func, index/number</li>
</ul>
<p>è¯„è®ºé¡¹ç»„ä»¶: CommentItem</p>
<ul>
<li>props: comments/array, delete/func</li>
</ul>
<h3 id="3-2-3-å®ç°é™æ€ç»„ä»¶"><a href="#3-2-3-å®ç°é™æ€ç»„ä»¶" class="headerlink" title="3.2.3 å®ç°é™æ€ç»„ä»¶"></a>3.2.3 å®ç°é™æ€ç»„ä»¶</h3><p>render(){return}ä¸­çš„å†…å®¹</p>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import App from &#39;./components/app/app&#39;

ReactDOM.render(&lt;App/&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/components/app/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import CommentAdd from &#39;../comment-add/comment-add&#39;
import CommentList from &#39;../comment-list/comment-list&#39;

export default class App extends React.Component {

  constructor (props) {
    super(props)

    this.state = {
      comments: []
    }

    this.delete = this.delete.bind(this)
  }

  componentDidMount () {
    //æ¨¡æ‹Ÿå¼‚æ­¥è·å–æ•°æ®
    setTimeout(() =&gt; {
      const comments = [
        {
          username: &quot;Tom&quot;,
          content: &quot;ReactJSå¥½éš¾å•Š!&quot;,
          id: Date.now()
        },
        {
          username: &quot;JACK&quot;,
          content: &quot;ReactJSè¿˜ä¸é”™!&quot;,
          id: Date.now() + 1
        }
      ]
      this.setState({
        comments
      })
    }, 1000)
  }

  add = (comment) =&gt; {
    let comments = this.state.comments
    comments.unshift(comment)
    this.setState({ comments })
  }

  delete (index) {
    let comments = this.state.comments
    comments.splice(index, 1)
    this.setState({ comments })
  }

  render () {
    return (
      &lt;div&gt;
        &lt;header className=&quot;site-header jumbotron&quot;&gt;
          &lt;div className=&quot;container&quot;&gt;
            &lt;div className=&quot;row&quot;&gt;
              &lt;div className=&quot;col-xs-12&quot;&gt;
                &lt;h1&gt;è¯·å‘è¡¨å¯¹Reactçš„è¯„è®º&lt;/h1&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/header&gt;
        &lt;div className=&quot;container&quot;&gt;
          &lt;CommentAdd add={this.add}/&gt;
          &lt;CommentList comments={this.state.comments} delete={this.delete}/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

// export default App å¯ä»¥å†™åˆ°ä¸Šé¢</code></pre>
<ul>
<li><code>src/components/comment-add/comment-add.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

class CommentAdd extends React.Component {
  constructor (props) {
    super(props)
    this.state = {
      username: &#39;&#39;,
      content: &#39;&#39;
    }
    this.addComment = this.addComment.bind(this)
    this.changeUsername = this.changeUsername.bind(this)
    this.changeContent = this.changeContent.bind(this)
  }

  addComment () {
    // æ ¹æ®è¾“å…¥çš„æ•°æ®åˆ›å»ºè¯„è®ºå¯¹è±¡
    let { username, content } = this.state
    let comment = { username, content }
    // æ·»åŠ åˆ°commentsä¸­, æ›´æ–°state
    this.props.add(comment)
    // æ¸…é™¤è¾“å…¥çš„æ•°æ®
    this.setState({
      username: &#39;&#39;,
      content: &#39;&#39;
    })
  }

  changeUsername (event) {
    this.setState({
      username: event.target.value
    })
  }

  changeContent (event) {
    this.setState({
      content: event.target.value
    })
  }

  render () {
    return (
      &lt;div className=&quot;col-md-4&quot;&gt;
        &lt;form className=&quot;form-horizontal&quot;&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label&gt;ç”¨æˆ·å&lt;/label&gt;
            &lt;input type=&quot;text&quot; className=&quot;form-control&quot; placeholder=&quot;ç”¨æˆ·å&quot;
                   value={this.state.username} onChange={this.changeUsername}/&gt;
          &lt;/div&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label&gt;è¯„è®ºå†…å®¹&lt;/label&gt;
            &lt;textarea className=&quot;form-control&quot; rows=&quot;6&quot; placeholder=&quot;è¯„è®ºå†…å®¹&quot;
                      value={this.state.content} onChange={this.changeContent}&gt;&lt;/textarea&gt;
          &lt;/div&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;div className=&quot;col-sm-offset-2 col-sm-10&quot;&gt;
              &lt;button type=&quot;button&quot; className=&quot;btn btn-default pull-right&quot; onClick={this.addComment}&gt;æäº¤&lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/form&gt;
      &lt;/div&gt;
    )
  }
}
CommentAdd.propTypes = {
  add: PropTypes.func.isRequired
}

export default CommentAdd</code></pre>
<ul>
<li><code>src/components/comment-list/comment-list.css</code></li>
</ul>
<pre><code class="css">.reply {
  margin-top: 0px;
}</code></pre>
<ul>
<li><code>src/components/comment-list/comment-list.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import CommentItem from &#39;../comment-item/comment-item&#39;
import &#39;./commentList.css&#39;
class CommentList extends React.Component {
  constructor (props) {
    super(props)
  }
  render () {
    let comments = this.props.comments
    let display = comments.length &gt; 0 ? &#39;none&#39; : &#39;block&#39;</code></pre>
<p>ä¸‹é¢h2ä¸­ç”±äºç”¨äº†åŒå¤§æ‹¬å·ï¼Œä¸€ç›´æŠ¥é”™ï¼Œå› æ­¤è¯·ç›´æ¥åˆ°githubçœ‹æºç </p>
<pre><code class="jsx">    return (
      &lt;div className=&quot;col-md-8&quot;&gt;
        &lt;h3 className=&quot;reply&quot;&gt;è¯„è®ºå›å¤ï¼š&lt;/h3&gt;
        &lt;h2 style=åŒå¤§æ‹¬å· display: display åŒå¤§æ‹¬å·&gt;æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®º&lt;/h2&gt;
        &lt;ul className=&quot;list-group&quot;&gt;
          {
            comments.map((comment, index) =&gt; {
              console.log(comment)
              return &lt;CommentItem comment={comment} key={index} index={index} delete={this.props.delete}/&gt;
            })
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
    }
}
CommentList.propTypes = {
  comments: PropTypes.array.isRequired,
  delete: PropTypes.func.isRequired
}
export default CommentList</code></pre>
<ul>
<li><code>src/components/comment-item/comment-item.css</code></li>
</ul>
<pre><code class="css">li {
  transition: .5s;
  overflow: hidden;
}

.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}

.handle a {
  display: block;
  text-decoration: none;
}

.list-group-item .centence {
  padding: 0px 50px;
}

.user {
  font-size: 22px;
}</code></pre>
<ul>
<li><code>src/components/comment-item/comment-item.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import &#39;./commentItem.css&#39;

class CommentItem extends React.Component {
  constructor (props) {
    super(props)
    this.deleteComment = this.deleteComment.bind(this)
  }

  deleteComment () {
    let username = this.props.comment.username
    if (window.confirm(`ç¡®å®šåˆ é™¤${username}çš„è¯„è®ºå—?`)) {
      this.props.delete(this.props.index)
    }
  }

  render () {
    let comment = this.props.comment
    return (
      &lt;li className=&quot;list-group-item&quot;&gt;
        &lt;div className=&quot;handle&quot;&gt;
          &lt;a href=&quot;javascript:&quot; onClick={this.deleteComment}&gt;åˆ é™¤&lt;/a&gt;
        &lt;/div&gt;
        &lt;p className=&quot;user&quot;&gt;&lt;span &gt;{comment.username}&lt;/span&gt;&lt;span&gt;è¯´:&lt;/span&gt;&lt;/p&gt;
        &lt;p className=&quot;centence&quot;&gt;{comment.content}&lt;/p&gt;
      &lt;/li&gt;
    )
  }
}
CommentItem.propTypes = {
  comment: PropTypes.object.isRequired,
  index: PropTypes.number.isRequired,
  delete: PropTypes.func.isRequired
}

export default CommentItem</code></pre>
<h3 id="3-2-4-å®ç°åŠ¨æ€ç»„ä»¶"><a href="#3-2-4-å®ç°åŠ¨æ€ç»„ä»¶" class="headerlink" title="3.2.4 å®ç°åŠ¨æ€ç»„ä»¶"></a>3.2.4 å®ç°åŠ¨æ€ç»„ä»¶</h3><p>åŠ¨æ€å±•ç¤ºåˆå§‹åŒ–æ•°æ®</p>
<ul>
<li><p>åˆå§‹åŒ–çŠ¶æ€æ•°æ®</p>
</li>
<li><p>ä¼ é€’å±æ€§æ•°æ®</p>
</li>
</ul>
<p>å“åº”ç”¨æˆ·æ“ä½œ, æ›´æ–°ç»„ä»¶ç•Œé¢</p>
<ul>
<li><p>ç»‘å®šäº‹ä»¶ç›‘å¬, å¹¶å¤„ç†</p>
</li>
<li><p>æ›´æ–°state</p>
</li>
</ul>
<h1 id="ç¬¬4ç« -react-ajax"><a href="#ç¬¬4ç« -react-ajax" class="headerlink" title="ç¬¬4ç«  react ajax"></a>ç¬¬4ç«  react ajax</h1><h2 id="4-1-ç†è§£"><a href="#4-1-ç†è§£" class="headerlink" title="4.1 ç†è§£"></a>4.1 ç†è§£</h2><h3 id="4-1-1-å‰ç½®è¯´æ˜"><a href="#4-1-1-å‰ç½®è¯´æ˜" class="headerlink" title="4.1.1 å‰ç½®è¯´æ˜"></a>4.1.1 å‰ç½®è¯´æ˜</h3><p>1)     Reactæœ¬èº«åªå…³æ³¨äºç•Œé¢, å¹¶ä¸åŒ…å«å‘é€ajaxè¯·æ±‚çš„ä»£ç </p>
<p>2)     å‰ç«¯åº”ç”¨éœ€è¦é€šè¿‡ajaxè¯·æ±‚ä¸åå°è¿›è¡Œäº¤äº’(jsonæ•°æ®)</p>
<p>3)     reactåº”ç”¨ä¸­éœ€è¦é›†æˆç¬¬ä¸‰æ–¹ajaxåº“(æˆ–è‡ªå·±å°è£…)</p>
<h3 id="4-1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"><a href="#4-1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“" class="headerlink" title="4.1.2 å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"></a>4.1.2 å¸¸ç”¨çš„ajaxè¯·æ±‚åº“</h3><p>1)     jQuery: æ¯”è¾ƒé‡, å¦‚æœéœ€è¦å¦å¤–å¼•å…¥ä¸å»ºè®®ä½¿ç”¨</p>
<p>2)     <strong>axios</strong>: è½»é‡çº§, å»ºè®®ä½¿ç”¨</p>
<p>â€‹    a.     å°è£…XmlHttpRequestå¯¹è±¡çš„ajax</p>
<p>â€‹    b.     promiseé£æ ¼</p>
<p>â€‹    c.     å¯ä»¥ç”¨åœ¨æµè§ˆå™¨ç«¯å’ŒnodeæœåŠ¡å™¨ç«¯</p>
<p>3)     fetch: åŸç”Ÿå‡½æ•°, ä½†è€ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒ</p>
<p>â€‹    a.     ä¸å†ä½¿ç”¨XmlHttpRequestå¯¹è±¡æäº¤ajaxè¯·æ±‚</p>
<p>â€‹    b.     ä¸ºäº†å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨, å¯ä»¥å¼•å…¥å…¼å®¹åº“fetch.js</p>
<h3 id="4-1-3-æ•ˆæœ"><a href="#4-1-3-æ•ˆæœ" class="headerlink" title="4.1.3 æ•ˆæœ"></a>4.1.3 æ•ˆæœ</h3><pre><code>éœ€æ±‚:
  1. ç•Œé¢æ•ˆæœå¦‚ä¸‹
  2. æ ¹æ®æŒ‡å®šçš„å…³é”®å­—åœ¨githubä¸Šæœç´¢åŒ¹é…çš„æœ€å—å…³æ³¨çš„åº“
  3. æ˜¾ç¤ºåº“å, ç‚¹å‡»é“¾æ¥æŸ¥çœ‹åº“
4. æµ‹è¯•æ¥å£: https://api.github.com/search/repositories?q=r&amp;sort=stars
</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/ajax.gif" alt="ajax" class="lazyload"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;11_ajax&lt;/title&gt;
  &lt;style&gt;
    h2{
      text-align: center;
      margin-top: 200px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;example&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/babel&quot;&gt;
  /*
  éœ€æ±‚:
    1. ç•Œé¢æ•ˆæœå¦‚ä¸‹
    2. æ ¹æ®æŒ‡å®šçš„å…³é”®å­—åœ¨githubä¸Šæœç´¢åŒ¹é…çš„æœ€å—å…³æ³¨çš„åº“
    3. æ˜¾ç¤ºåº“å, ç‚¹å‡»é“¾æ¥æŸ¥çœ‹åº“
    4. æµ‹è¯•æ¥å£: https://api.github.com/search/repositories?q=r&amp;sort=stars
  */
  class MostStarRepo extends React.Component{
    state = {
      repoName: &#39;&#39;,
      repoUrl: &#39;&#39;
    }

    componentDidMount(){
      // ä½¿ç”¨axioså‘é€å¼‚æ­¥çš„ajaxè¯·æ±‚
      const url = `https://api.github.com/search/repositories?q=re&amp;sort=stars`
      axios.get(url)
          .then(response =&gt; {
            const result = response.data
            // console.log(response)
            // å¾—åˆ°æ•°æ®
            const {name, html_url} = result.items[0]
            // æ›´æ–°çŠ¶æ€
            this.setState({repoName:name, repoUrl: html_url})
          })
          .catch((error) =&gt; {
            alert(error.message)
          })
      // ä½¿ç”¨fetchå‘é€å¼‚æ­¥çš„ajaxè¯·æ±‚
      /*fetch(url)
          .then(response =&gt; {
            return response.json()
          })
          .then(data =&gt; {
            // å¾—åˆ°æ•°æ®
            const {name, html_url} = data.items[0]
            // æ›´æ–°çŠ¶æ€
            this.setState({repoName:name, repoUrl: html_url})
          })
      */
    }

    render(){
      const {repoName, repoUrl} = this.state
      if(!repoName){
        return(
          &lt;h2&gt;LOADING...&lt;/h2&gt;
        )
      }else{
        return(
          &lt;h2&gt;Most star repo is &lt;a href={repoUrl}&gt;{repoName}&lt;/a&gt;&lt;/h2&gt;
        )
      }

    }
  }
  ReactDOM.render(&lt;MostStarRepo /&gt;, document.getElementById(&#39;example&#39;))
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="4-2-axios"><a href="#4-2-axios" class="headerlink" title="4.2 axios"></a>4.2 axios</h2><h3 id="4-2-1-æ–‡æ¡£"><a href="#4-2-1-æ–‡æ¡£" class="headerlink" title="4.2.1 æ–‡æ¡£"></a>4.2.1 æ–‡æ¡£</h3><p><a href="https://github.com/axios/axios" target="_blank" rel="noopener">https://github.com/axios/axios</a></p>
<h3 id="4-2-2-ç›¸å…³API"><a href="#4-2-2-ç›¸å…³API" class="headerlink" title="4.2.2 ç›¸å…³API"></a>4.2.2 ç›¸å…³API</h3><p>1)     GETè¯·æ±‚</p>
<pre><code class="javascript">axios.get(&#39;/user?ID=12345&#39;)
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });

axios.get(&#39;/user&#39;, {
    params: {
      ID: 12345
    }
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
</code></pre>
<p>2)     POSTè¯·æ±‚</p>
<pre><code class="javascript">axios.post(&#39;/user&#39;, {
    firstName: &#39;Fred&#39;,
axios.post(&#39;/user&#39;, {
    firstName: &#39;Fred&#39;,
    lastName: &#39;Flintstone&#39;
})
.then(function (response) {
  console.log(response);
})
.catch(function (error) {
  console.log(error);
});
</code></pre>
<h2 id="4-3-Fetch"><a href="#4-3-Fetch" class="headerlink" title="4.3 Fetch"></a>4.3 Fetch</h2><h3 id="4-3-1-æ–‡æ¡£"><a href="#4-3-1-æ–‡æ¡£" class="headerlink" title="4.3.1 æ–‡æ¡£"></a>4.3.1 æ–‡æ¡£</h3><p>1)     <a href="https://github.github.io/fetch/" target="_blank" rel="noopener">https://github.github.io/fetch/</a></p>
<p>2)     <a href="https://segmentfault.com/a/1190000003810652" target="_blank" rel="noopener">https://segmentfault.com/a/1190000003810652</a></p>
<h3 id="4-3-2-ç›¸å…³API"><a href="#4-3-2-ç›¸å…³API" class="headerlink" title="4.3.2 ç›¸å…³API"></a>4.3.2 ç›¸å…³API</h3><p>1)     GETè¯·æ±‚</p>
<pre><code class="javascript">fetch(url).then(function(response) {
  return response.json()
}).then(function(data) {
  console.log(data)
}).catch(function(e) {
  console.log(e)
});
</code></pre>
<p>2)     POSTè¯·æ±‚</p>
<pre><code class="javascript">fetch(url, {
  method: &quot;POST&quot;,
  body: JSON.stringify(data),
}).then(function(data) {
  console.log(data)
}).catch(function(e) {
  console.log(e)
})</code></pre>
<h2 id="4-4-demo-github-users"><a href="#4-4-demo-github-users" class="headerlink" title="4.4 demo: github users"></a>4.4 demo: github users</h2><h3 id="4-4-1-æ•ˆæœ"><a href="#4-4-1-æ•ˆæœ" class="headerlink" title="4.4.1 æ•ˆæœ"></a>4.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/demo_users.gif" alt="demo_users" class="lazyload"></p>
<h3 id="4-4-2-æ‹†åˆ†ç»„ä»¶"><a href="#4-4-2-æ‹†åˆ†ç»„ä»¶" class="headerlink" title="4.4.2 æ‹†åˆ†ç»„ä»¶"></a>4.4.2 æ‹†åˆ†ç»„ä»¶</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200711091558440.png" alt="image-20200711091558440" class="lazyload"></p>
<p>App</p>
<p>â€‹       * state: searchName/string</p>
<p>  Search</p>
<p>â€‹      * props: setSearchName/func</p>
<p>  List</p>
<p>â€‹      * props: searchName/string</p>
<p>â€‹      * state: firstView/bool, loading/bool, users/array, errMsg/string</p>
<h3 id="4-4-3-ç¼–å†™é™æ€ç»„ä»¶"><a href="#4-4-3-ç¼–å†™é™æ€ç»„ä»¶" class="headerlink" title="4.4.3 ç¼–å†™é™æ€ç»„ä»¶"></a>4.4.3 ç¼–å†™é™æ€ç»„ä»¶</h3><h3 id="4-4-4-ç¼–å†™åŠ¨æ€ç»„ä»¶"><a href="#4-4-4-ç¼–å†™åŠ¨æ€ç»„ä»¶" class="headerlink" title="4.4.4 ç¼–å†™åŠ¨æ€ç»„ä»¶"></a>4.4.4 ç¼–å†™åŠ¨æ€ç»„ä»¶</h3><p>componentWillReceiveProps(nextProps): ç›‘è§†æ¥æ”¶åˆ°æ–°çš„props, å‘é€ajax</p>
<p>â€‹     ä½¿ç”¨axiosåº“å‘é€ajaxè¯·æ±‚</p>
<ul>
<li><code>public/index.html</code></li>
</ul>
<pre><code class="html">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import { render } from &#39;react-dom&#39;

import App from &#39;./components/app&#39;
import &#39;./index.css&#39;

render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))</code></pre>
<ul>
<li><code>src/index.css</code></li>
</ul>
<pre><code class="css">.album {
  min-height: 50rem; /* Can be removed; just added for demo purposes */
  padding-top: 3rem;
  padding-bottom: 3rem;
  background-color: #f7f7f7;
}

.card {
  float: left;
  width: 33.333%;
  padding: .75rem;
  margin-bottom: 2rem;
  border: 1px solid #efefef;
  text-align: center;
}

.card &gt; img {
  margin-bottom: .75rem;
  border-radius: 100px;
}

.card-text {
  font-size: 85%;
}
</code></pre>
<ul>
<li><code>src/componets/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import Search from &#39;./search&#39;
import UserList from &#39;./user-list&#39;

export default class App extends React.Component {

  state = {
    searchName: &#39;&#39;
  }

  refreshName = (searchName) =&gt; this.setState({searchName})

  render() {
    return (
      &lt;div className=&quot;container&quot;&gt;
        &lt;section className=&quot;jumbotron&quot;&gt;
          &lt;h3 className=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;
          &lt;Search refreshName={this.refreshName}/&gt;
        &lt;/section&gt;
        &lt;UserList searchName={this.state.searchName}/&gt;
      &lt;/div&gt;
    )
  }

}
</code></pre>
<ul>
<li><code>src/componets/search.jsx</code></li>
</ul>
<pre><code class="jsx">/**
 * ä¸Šéƒ¨çš„æœç´¢æ¨¡å—
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

class Search extends Component {

  static propTypes = {
    refreshName: PropTypes.func.isRequired
  }

  search = () =&gt; {
    var name = this.nameInput.value
    this.props.refreshName(name)
  }

  render() {
    return (
      &lt;div&gt;
        &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot;
               ref={(input =&gt; this.nameInput = input)}/&gt;
        &lt;button onClick={this.search}&gt;Search&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}

export default Search</code></pre>
<ul>
<li><code>src/componets/user-list.jsx</code></li>
</ul>
<pre><code class="jsx">/**
 * ä¸‹éƒ¨çš„ç”¨æˆ·åˆ—è¡¨æ¨¡å—
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import axios from &#39;axios&#39;
// npm install axios --save 

class UserList extends React.Component {

  static propTypes = {
    searchName: PropTypes.string.isRequired
  }

  state = {
    firstView: true,
    loading: false,
    users: null,
    error: null
  }

  async componentWillReceiveProps(nextProps)  {
    let searchName = nextProps.searchName
    console.log(&#39;å‘é€ajaxè¯·æ±‚&#39;, searchName)
    const url = `https://api.github.com/search/users?q=${searchName}`
    this.setState({ firstView: false, loading: true })

    // ä½¿ç”¨axiosåº“
    axios.get(url)
      .then((response) =&gt; {
        console.log(response)
        this.setState({ loading: false, users: response.data.items })
      })
      .catch((error)=&gt;{
        // debugger
        console.log(&#39;error&#39;, error.response.data.message, error.message)
        this.setState({ loading: false, error: error.message })
      })

    try {
      const result = await axios.get(url)
      this.setState({ loading: false, users: result.data.items })
    } catch(err) {
      // debugger
      console.log(&#39;----&#39;, err.message)
    }
  }

  render () {

    if (this.state.firstView) {
      return &lt;h2&gt;Enter name to search&lt;/h2&gt;
    } else if (this.state.loading) {
      return &lt;h2&gt;Loading result...&lt;/h2&gt;
    } else if (this.state.error) {
      return &lt;h2&gt;{this.state.error}&lt;/h2&gt;
    } else {
      return (
        &lt;div className=&quot;row&quot;&gt;
          {
            this.state.users.map((user) =&gt; (
              &lt;div className=&quot;card&quot; key={user.html_url}&gt;
                &lt;a href={user.html_url} target=&quot;_blank&quot;&gt;
                  &lt;img src={user.avatar_url} style={{width: '100px'}} alt=&#39;user&#39;/&gt;
                &lt;/a&gt;
                &lt;p className=&quot;card-text&quot;&gt;{user.login}&lt;/p&gt;
              &lt;/div&gt;
            ))
          }
        &lt;/div&gt;
      )
    }
  }
}

export default UserList</code></pre>
<h1 id="ç¬¬5ç« -å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“"><a href="#ç¬¬5ç« -å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“" class="headerlink" title="ç¬¬5ç«  å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“"></a>ç¬¬5ç«  å‡ ä¸ªé‡è¦æŠ€æœ¯æ€»ç»“</h1><h2 id="5-1-ç»„ä»¶é—´é€šä¿¡"><a href="#5-1-ç»„ä»¶é—´é€šä¿¡" class="headerlink" title="5.1 ç»„ä»¶é—´é€šä¿¡"></a>5.1 ç»„ä»¶é—´é€šä¿¡</h2><h3 id="5-1-1-æ–¹å¼ä¸€-é€šè¿‡propsä¼ é€’"><a href="#5-1-1-æ–¹å¼ä¸€-é€šè¿‡propsä¼ é€’" class="headerlink" title="5.1.1 æ–¹å¼ä¸€: é€šè¿‡propsä¼ é€’"></a>5.1.1 æ–¹å¼ä¸€: é€šè¿‡propsä¼ é€’</h3><p>1)     å…±åŒçš„æ•°æ®æ”¾åœ¨çˆ¶ç»„ä»¶ä¸Š, ç‰¹æœ‰çš„æ•°æ®æ”¾åœ¨è‡ªå·±ç»„ä»¶å†…éƒ¨(state)</p>
<p>2)     é€šè¿‡propså¯ä»¥ä¼ é€’ä¸€èˆ¬æ•°æ®å’Œå‡½æ•°æ•°æ®, åªèƒ½ä¸€å±‚ä¸€å±‚ä¼ é€’</p>
<p>3)     ä¸€èˆ¬æ•°æ®â€“&gt;çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶â€“&gt;å­ç»„ä»¶è¯»å–æ•°æ®</p>
<p>4)     å‡½æ•°æ•°æ®â€“&gt;å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶â€“&gt;å­ç»„ä»¶è°ƒç”¨å‡½æ•°</p>
<p>çˆ¶ç»„ä»¶ä¼ åˆ°å­™ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ä¹‹é—´ä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œç»è¿‡å­ç»„ä»¶ã€æœåŠ¡å™¨ä¼ é€’</p>
<h3 id="5-1-2-æ–¹å¼äºŒ-ä½¿ç”¨æ¶ˆæ¯è®¢é˜…-subscribe-å‘å¸ƒ-publish-æœºåˆ¶"><a href="#5-1-2-æ–¹å¼äºŒ-ä½¿ç”¨æ¶ˆæ¯è®¢é˜…-subscribe-å‘å¸ƒ-publish-æœºåˆ¶" class="headerlink" title="5.1.2 æ–¹å¼äºŒ: ä½¿ç”¨æ¶ˆæ¯è®¢é˜…(subscribe)-å‘å¸ƒ(publish)æœºåˆ¶"></a>5.1.2 æ–¹å¼äºŒ: ä½¿ç”¨æ¶ˆæ¯è®¢é˜…(subscribe)-å‘å¸ƒ(publish)æœºåˆ¶</h3><p>1)     å·¥å…·åº“: PubSubJS</p>
<p>2)     ä¸‹è½½: <code>npm install pubsub-js --save</code></p>
<p>3)     ä½¿ç”¨: </p>
<pre><code class="javascript">import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
PubSub.publish(&#39;delete&#39;, data) //å‘å¸ƒæ¶ˆæ¯
// æ¶ˆæ¯åï¼Œæ¶ˆæ¯
PubSub.subscribe(&#39;delete&#39;, function(msg, data){ }); //è®¢é˜…
// æ¶ˆæ¯åï¼Œå›è°ƒå‡½æ•°</code></pre>
<p>ä»¥ä¸Šä¸€ä¸ªdemoä¸ºä¾‹(ç”¨æˆ·æœç´¢çš„)ï¼Œsearchå’Œuserlist(main)ä¹‹é—´éœ€è¦é€šä¿¡ï¼Œå®ƒä»¬æ˜¯å…„å¼Ÿç»„ä»¶</p>
<p>åœ¨è¿™é‡Œæ˜¯é€šè¿‡çˆ¶ç»„ä»¶ï¼Œåˆ©ç”¨propsè¿›è¡Œé€šä¿¡</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714161016458.png" alt="props-search" class="lazyload"></p>
<p>è¿™æ˜¯ä»¥å‰çš„app.ejs</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714161302225.png" alt="app.ejs" class="lazyload"></p>
<p>ç°åœ¨ä¸é€šè¿‡çˆ¶ç»„ä»¶æ¥é€šä¿¡</p>
<p><code>src/components/app.ejs</code></p>
<pre><code class="ejs">import React from &#39;react&#39;
import Search from &#39;./search&#39;
import UserList from &#39;./user-list&#39;

export default class App extends React.Component {

  render() {
    return (
      &lt;div className=&quot;container&quot;&gt;
        &lt;section className=&quot;jumbotron&quot;&gt;
          &lt;h3 className=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;
          &lt;Search/&gt;
        &lt;/section&gt;
        &lt;UserList/&gt;
      &lt;/div&gt;
    )
  }

}</code></pre>
<p><code>src/components/search.ejs</code></p>
<pre><code class="ejs">/**
 * ä¸Šéƒ¨çš„æœç´¢æ¨¡å—
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
class Search extends Component {
  search = () =&gt; {
    var searchName = this.nameInput.value
    if(searchName){
      // æœç´¢
      // å‘å¸ƒæ¶ˆæ¯ search
PubSub.publish(&#39;search&#39;, searchName)
    }
  }
  render() {
    return (
      &lt;div&gt;
        &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot;
               ref={(input =&gt; this.nameInput = input)}/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Search&quot; onClick={this.search} /&gt;
      &lt;/div&gt;
    )
  }
}
export default Search</code></pre>
<p><code>src/components/user-list.ejs</code></p>
<pre><code class="ejs">/**
 * ä¸‹éƒ¨çš„ç”¨æˆ·åˆ—è¡¨æ¨¡å—
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import axios from &#39;axios&#39;
import PubSub from &#39;pubsub-js&#39; //å¼•å…¥
class UserList extends React.Component {
  static propTypes = {
    searchName: PropTypes.string.isRequired
  }
  state = {
    firstView: true,
    loading: false,
    users: null,
    error: null
  }
  componentDidMount(){
    // è®¢é˜…æ¶ˆæ¯ search
   PubSub.subscribe(&#39;search&#39;, (msg, searchName) =&gt; { // æŒ‡å®šäº†æ–°çš„nameï¼Œéœ€è¦è¯·æ±‚    
      this.setState({ firstView: false, loading: true })
      // ä½¿ç”¨axiosåº“
      const url = `https://api.github.com/search/users?q=${searchName}`
      axios.get(url)
        .then((response) =&gt; {
    console.log(response)
          this.setState({ loading: false, users: response.data.items })
        })
        .catch((error)=&gt;{
          // debugger       console.log(&#39;error&#39;, error.response.data.message, error.message)
          this.setState({ loading: false, error: error.message })
        })
      try {
        const result = axios.get(url)
        this.setState({ loading: false, users: result.data.items })
      } catch(err) {
        // debugger
        console.log(&#39;----&#39;, err.message)
      }
    })
  }
  render () {
    if (this.state.firstView) {
      return &lt;h2&gt;Enter name to search&lt;/h2&gt;
    } else if (this.state.loading) {
      return &lt;h2&gt;Loading result...&lt;/h2&gt;
    } else if (this.state.error) {
      return &lt;h2&gt;{this.state.error}&lt;/h2&gt;
    } else {
      return (
        &lt;div className=&quot;row&quot;&gt;
          {         this.state.users.map((user) =&gt; (
              &lt;div className=&quot;card&quot; key={user.html_url}&gt;
                &lt;a href={user.html_url} target=&quot;_blank&quot;&gt;
                  &lt;img src={user.avatar_url} style={{width: '100px'}} alt=&#39;user&#39;/&gt;
                &lt;/a&gt;
                &lt;p className=&quot;card-text&quot;&gt;{user.login}&lt;/p&gt;
              &lt;/div&gt;
            ))
          }
        &lt;/div&gt;
      )
    }
  }
}
export default UserList</code></pre>
<p>å†ä»¥ä¹‹å‰çš„è¯„è®ºçš„ä¸ºä¾‹</p>
<p>App.ejsä¸­æœ‰ä¸ªåˆ é™¤è¯„è®ºçš„å‡½æ•°ï¼Œä¼ ç»™äº†Listç»„ä»¶(å¹¶æ²¡æœ‰ç”¨åˆ°)ï¼Œæ¥ç€ä¼ ç»™Item</p>
<pre><code class="jsx">delete={this.delete}</code></pre>
<h3 id="5-1-3-æ–¹å¼ä¸‰-redux"><a href="#5-1-3-æ–¹å¼ä¸‰-redux" class="headerlink" title="5.1.3 æ–¹å¼ä¸‰: redux"></a>5.1.3 æ–¹å¼ä¸‰: redux</h3><p>åé¢ä¸“é—¨è®²è§£</p>
<h2 id="5-2-äº‹ä»¶ç›‘å¬ç†è§£"><a href="#5-2-äº‹ä»¶ç›‘å¬ç†è§£" class="headerlink" title="5.2 äº‹ä»¶ç›‘å¬ç†è§£"></a>5.2 äº‹ä»¶ç›‘å¬ç†è§£</h2><h3 id="5-2-1-åŸç”ŸDOMäº‹ä»¶"><a href="#5-2-1-åŸç”ŸDOMäº‹ä»¶" class="headerlink" title="5.2.1 åŸç”ŸDOMäº‹ä»¶"></a>5.2.1 åŸç”ŸDOMäº‹ä»¶</h3><p>1)     ç»‘å®šäº‹ä»¶ç›‘å¬</p>
<p>a.     äº‹ä»¶å(ç±»å‹): åªæœ‰æœ‰é™çš„å‡ ä¸ª, ä¸èƒ½éšä¾¿å†™</p>
<p>b.     å›è°ƒå‡½æ•°</p>
<p>2)         è§¦å‘äº‹ä»¶</p>
<p>a.     ç”¨æˆ·æ“ä½œç•Œé¢</p>
<p>b.     äº‹ä»¶å(ç±»å‹)</p>
<p>c.     æ•°æ®</p>
<h3 id="5-2-2-è‡ªå®šä¹‰äº‹ä»¶-æ¶ˆæ¯æœºåˆ¶"><a href="#5-2-2-è‡ªå®šä¹‰äº‹ä»¶-æ¶ˆæ¯æœºåˆ¶" class="headerlink" title="5.2.2 è‡ªå®šä¹‰äº‹ä»¶(æ¶ˆæ¯æœºåˆ¶)"></a>5.2.2 è‡ªå®šä¹‰äº‹ä»¶(æ¶ˆæ¯æœºåˆ¶)</h3><p>1)     ç»‘å®šäº‹ä»¶ç›‘å¬</p>
<p>a.     äº‹ä»¶å(ç±»å‹): ä»»æ„</p>
<p>b.     å›è°ƒå‡½æ•°: é€šè¿‡å½¢å‚æ¥æ”¶æ•°æ®, åœ¨å‡½æ•°ä½“å¤„ç†äº‹ä»¶</p>
<p>2)     è§¦å‘äº‹ä»¶(ç¼–ç )</p>
<p>a.     äº‹ä»¶å(ç±»å‹): ä¸ç»‘å®šçš„äº‹ä»¶ç›‘å¬çš„äº‹ä»¶åä¸€è‡´</p>
<p>b.     æ•°æ®: ä¼šè‡ªåŠ¨ä¼ é€’ç»™å›è°ƒå‡½æ•°</p>
<h2 id="5-3-ES6å¸¸ç”¨æ–°è¯­æ³•"><a href="#5-3-ES6å¸¸ç”¨æ–°è¯­æ³•" class="headerlink" title="5.3 ES6å¸¸ç”¨æ–°è¯­æ³•"></a>5.3 ES6å¸¸ç”¨æ–°è¯­æ³•</h2><p>1)     å®šä¹‰å¸¸é‡/å˜é‡: <code>const/let</code></p>
<p>2)     è§£æ„èµ‹å€¼:<code>let {a, b} = this.props</code>  <code>import {aa} from &#39;xxx&#39;</code></p>
<p>3)     å¯¹è±¡çš„ç®€æ´è¡¨è¾¾: <code>{a, b}</code></p>
<p>4)     ç®­å¤´å‡½æ•°: </p>
<p>a.     å¸¸ç”¨åœºæ™¯</p>
<ul>
<li><p>ç»„ä»¶çš„è‡ªå®šä¹‰æ–¹æ³•: <code>xxx = () =&gt; {}</code></p>
</li>
<li><p>å‚æ•°åŒ¿åå‡½æ•°</p>
</li>
</ul>
<p>b.     ä¼˜ç‚¹:</p>
<p>â€‹          * ç®€æ´</p>
<p>â€‹          * æ²¡æœ‰è‡ªå·±çš„this,ä½¿ç”¨å¼•ç”¨thisæŸ¥æ‰¾çš„æ˜¯å¤–éƒ¨this</p>
<p>5)     æ‰©å±•(ä¸‰ç‚¹)è¿ç®—ç¬¦: æ‹†è§£å¯¹è±¡<code>(const MyProps = {}, &lt;Xxx {...MyProps}&gt;)</code></p>
<p>6)     ç±»: <code>class/extends/constructor/super</code></p>
<p>7)     ES6æ¨¡å—åŒ–: <code>export default | import</code></p>
<h1 id="ç¬¬6ç« -react-router4"><a href="#ç¬¬6ç« -react-router4" class="headerlink" title="ç¬¬6ç«  react-router4"></a>ç¬¬6ç«  react-router4</h1><h2 id="6-1-ç›¸å…³ç†è§£"><a href="#6-1-ç›¸å…³ç†è§£" class="headerlink" title="6.1 ç›¸å…³ç†è§£"></a>6.1 ç›¸å…³ç†è§£</h2><h3 id="6-1-1-react-routerçš„ç†è§£"><a href="#6-1-1-react-routerçš„ç†è§£" class="headerlink" title="6.1.1 react-routerçš„ç†è§£"></a>6.1.1 react-routerçš„ç†è§£</h3><p>1)     reactçš„ä¸€ä¸ªæ’ä»¶åº“(ä¾èµ–/åŸºäºReact)</p>
<p>2)     ä¸“é—¨ç”¨æ¥å®ç°ä¸€ä¸ªSPAåº”ç”¨</p>
<p>3)     åŸºäºreactçš„é¡¹ç›®åŸºæœ¬éƒ½ä¼šç”¨åˆ°æ­¤åº“</p>
<h3 id="6-1-2-SPAçš„ç†è§£"><a href="#6-1-2-SPAçš„ç†è§£" class="headerlink" title="6.1.2 SPAçš„ç†è§£"></a>6.1.2 SPAçš„ç†è§£</h3><p>1)     å•é¡µWebåº”ç”¨ï¼ˆsingle page web applicationï¼ŒSPAï¼‰</p>
<p>2)     æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢</p>
<p>3)     ç‚¹å‡»é¡µé¢ä¸­çš„é“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢, æœ¬èº«ä¹Ÿä¸ä¼šå‘æœåŠ¡å™¨å‘è¯·æ±‚</p>
<p>4)     å½“ç‚¹å‡»è·¯ç”±é“¾æ¥æ—¶, åªä¼šåšé¡µé¢çš„<strong>å±€éƒ¨æ›´æ–°</strong></p>
<p>5)     æ•°æ®éƒ½éœ€è¦é€šè¿‡<strong>ajaxè¯·æ±‚</strong>è·å–, å¹¶åœ¨å‰ç«¯<strong>å¼‚æ­¥å±•ç°</strong></p>
<h3 id="6-1-3-è·¯ç”±çš„ç†è§£"><a href="#6-1-3-è·¯ç”±çš„ç†è§£" class="headerlink" title="6.1.3 è·¯ç”±çš„ç†è§£"></a>6.1.3 è·¯ç”±çš„ç†è§£</h3><p>1)     ä»€ä¹ˆæ˜¯è·¯ç”±?</p>
<p>a.     ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ä¸ª<strong>æ˜ å°„å…³ç³»(key:value)</strong></p>
<p>b.     keyä¸º<strong>è·¯ç”±è·¯å¾„(path)</strong>, valueå¯èƒ½æ˜¯function(åå°è·¯ç”±)/<strong>component(å‰å°è·¯ç”±)</strong></p>
<p>2)     è·¯ç”±åˆ†ç±»</p>
<p>a.     åå°è·¯ç”±: nodeæœåŠ¡å™¨ç«¯è·¯ç”±, valueæ˜¯function, ç”¨æ¥å¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚å¹¶è¿”å›ä¸€ä¸ªå“åº”æ•°æ®</p>
<p>b.     å‰å°è·¯ç”±: æµè§ˆå™¨ç«¯è·¯ç”±, valueæ˜¯component, å½“è¯·æ±‚çš„æ˜¯è·¯ç”±pathæ—¶, æµè§ˆå™¨ç«¯å‰æ²¡æœ‰å‘é€httpè¯·æ±‚, ä½†ç•Œé¢ä¼šæ›´æ–°æ˜¾ç¤ºå¯¹åº”çš„ç»„ä»¶ </p>
<p>3)     åå°è·¯ç”±</p>
<p>a.     æ³¨å†Œè·¯ç”±: <code>router.get(path, function(req, res))</code></p>
<p>b.     å½“nodeæ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶, æ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±, è°ƒç”¨è·¯ç”±ä¸­çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚, è¿”å›å“åº”æ•°æ®</p>
<p>4)         å‰ç«¯è·¯ç”±</p>
<p>a.     æ³¨å†Œè·¯ç”±: <code>&lt;Route path=&quot;/about&quot; component={About}&gt;</code></p>
<p>b.     å½“æµè§ˆå™¨çš„<strong>hash</strong>å˜ä¸º<code>#about</code>æ—¶, å½“å‰è·¯ç”±ç»„ä»¶å°±ä¼šå˜ä¸ºAboutç»„ä»¶</p>
<h3 id="6-1-4-å‰ç«¯è·¯ç”±çš„å®ç°"><a href="#6-1-4-å‰ç«¯è·¯ç”±çš„å®ç°" class="headerlink" title="6.1.4 å‰ç«¯è·¯ç”±çš„å®ç°"></a>6.1.4 å‰ç«¯è·¯ç”±çš„å®ç°</h3><p>(åº•å±‚å®ç°)</p>
<p>1)     historyåº“</p>
<p>a.     ç½‘å€: <a href="https://github.com/ReactTraining/history" target="_blank" rel="noopener">https://github.com/ReactTraining/history</a></p>
<p>b.     ç®¡ç†æµè§ˆå™¨ä¼šè¯å†å²(history)çš„å·¥å…·åº“</p>
<p>c.     åŒ…è£…çš„æ˜¯åŸç”ŸBOMä¸­<code>window.history</code>å’Œ<code>window.location.hash</code></p>
<p>2)     history API</p>
<p>a.     <code>History.createBrowserHistory()</code>: å¾—åˆ°å°è£…window.historyçš„ç®¡ç†å¯¹è±¡</p>
<p>b.     <code>History.createHashHistory()</code>: å¾—åˆ°å°è£…window.location.hashçš„ç®¡ç†å¯¹è±¡</p>
<p>c.     <code>history.push()</code>: æ·»åŠ ä¸€ä¸ªæ–°çš„å†å²è®°å½•</p>
<p>d.     <code>history.replace()</code>: ç”¨ä¸€ä¸ªæ–°çš„å†å²è®°å½•æ›¿æ¢å½“å‰çš„è®°å½•</p>
<p>e.     <code>history.goBack()</code>: å›é€€åˆ°ä¸Šä¸€ä¸ªå†å²è®°å½•</p>
<p>f.     <code>history.goForword()</code>: å‰è¿›åˆ°ä¸‹ä¸€ä¸ªå†å²è®°å½•</p>
<p>g.     <code>history.listen(function(location){})</code>: ç›‘è§†å†å²è®°å½•çš„å˜åŒ–</p>
<p>3)     æµ‹è¯•</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/history-%E6%96%B9%E5%BC%8F1.gif" alt="history-æ–¹å¼1" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/history-%E6%96%B9%E5%BC%8F2.gif" alt="history-æ–¹å¼2" class="lazyload"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;history test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;p&gt;&lt;input type=&quot;text&quot;&gt;&lt;/p&gt;
  &lt;a href=&quot;/test1&quot; onclick=&quot;return push(&#39;/test1&#39;)&quot;&gt;test1&lt;/a&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;push(&#39;/test2&#39;)&quot;&gt;push test2&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;back()&quot;&gt;å›é€€&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;forword()&quot;&gt;å‰è¿›&lt;/button&gt;&lt;br&gt;&lt;br&gt;
  &lt;button onClick=&quot;replace(&#39;/test3&#39;)&quot;&gt;replace test3&lt;/button&gt;&lt;br&gt;&lt;br&gt;

  &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.bootcss.com/history/4.7.2/history.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    let history = History.createBrowserHistory() // æ–¹å¼ä¸€
    history = History.createHashHistory() // æ–¹å¼äºŒ
    // console.log(history)

    function push (to) {
      history.push(to)
      return false
    } // å¯ä»¥è¿”å›

    function back() {
      history.goBack()
    }

    function forword() {
      history.goForward()
    }

    function replace (to) {
      history.replace(to)
    } // ä¸èƒ½è¿”å›

    history.listen((location) =&gt; {
      console.log(&#39;è¯·æ±‚è·¯ç”±è·¯å¾„å˜åŒ–äº†&#39;, location)
    })
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="6-2-react-routerç›¸å…³API"><a href="#6-2-react-routerç›¸å…³API" class="headerlink" title="6.2 react-routerç›¸å…³API"></a>6.2 react-routerç›¸å…³API</h2><p><a href="https://reactrouter.com/" target="_blank" rel="noopener">react_router</a></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200714181151269.png" alt="react-router" class="lazyload"></p>
<p><a href="https://reactrouter.com/web/guides/quick-start" target="_blank" rel="noopener">web</a></p>
<h3 id="6-2-1-ç»„ä»¶"><a href="#6-2-1-ç»„ä»¶" class="headerlink" title="6.2.1 ç»„ä»¶"></a>6.2.1 ç»„ä»¶</h3><p>1)     <code>&lt;BrowserRouter&gt;</code>ï¼šBrowserRouteræ˜¯reactè·¯ç”±çš„å®¹å™¨</p>
<p>2)     <code>&lt;HashRouter&gt;</code>ï¼šè¿™ä¸ªæ˜¯ç”¨æ¥å…¼å®¹è€æµè§ˆå™¨çš„</p>
<p>3)     <code>&lt;Route&gt;</code>ï¼šRouteçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ¸²æŸ“è·¯ç”±åŒ¹é…çš„ç»„ä»¶ã€‚è·¯ç”±æ¸²æŸ“æœ‰ä¸‰ç§æ–¹å¼ï¼Œæ¯ä¸€ç§æ–¹å¼éƒ½å¯ä»¥ä¼ é€’match,location,historyå¯¹è±¡</p>
<p>4)     <code>&lt;Redirect&gt;</code>ï¼šè·¯ç”±é‡å®šå‘</p>
<p>5)     <code>&lt;Link&gt;</code>ï¼šLinkçš„ä½œç”¨å’Œaæ ‡ç­¾ç±»ä¼¼</p>
<p>6)     <code>&lt;NavLink&gt;</code>ï¼šNavLinkå’ŒLinkä¸€æ ·æœ€ç»ˆéƒ½æ˜¯æ¸²æŸ“æˆaæ ‡ç­¾ï¼ŒNavLinkå¯ä»¥ç»™è¿™ä¸ªaæ ‡ç­¾æ·»åŠ é¢å¤–çš„å±æ€§</p>
<p>7)     <code>&lt;Switch&gt;</code>ï¼šSwitchç»„ä»¶å†…éƒ¨å¯ä»¥æ˜¯Routeæˆ–è€…Redirectï¼Œåªä¼šæ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </p>
<h3 id="6-2-2-å…¶å®ƒ"><a href="#6-2-2-å…¶å®ƒ" class="headerlink" title="6.2.2 å…¶å®ƒ"></a>6.2.2 å…¶å®ƒ</h3><p>1)     <strong><code>history</code>å¯¹è±¡</strong>ï¼šè¿™é‡Œçš„historyå¯¹è±¡æ˜¯ä½¿ç”¨historyæ’ä»¶ç”Ÿæˆçš„ï¼Œ<a href="http://www.cnblogs.com/ye-hcj/p/7741742.htmlå·²ç»è¯¦ç»†è®²è¿‡äº†" target="_blank" rel="noopener">http://www.cnblogs.com/ye-hcj/p/7741742.htmlå·²ç»è¯¦ç»†è®²è¿‡äº†</a><br>è®°ä½ä¸€ç‚¹ï¼Œå†ä½¿ç”¨locationåšå¯¹æ¯”çš„ä½¿ç”¨ï¼Œé€šè¿‡historyè®¿é—®çš„locationæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæœ€å¥½é€šè¿‡Routeè®¿é—®location</p>
<p>2)     <code>match</code>å¯¹è±¡ï¼šmatchå¯¹è±¡è¡¨ç¤ºå½“å‰çš„è·¯ç”±åœ°å€æ˜¯æ€ä¹ˆè·³è½¬è¿‡æ¥çš„</p>
<p>3)     <code>withRouter</code>å‡½æ•°ï¼šå½“ä¸€ä¸ªéè·¯ç”±ç»„ä»¶ä¹Ÿæƒ³è®¿é—®åˆ°å½“å‰è·¯ç”±çš„match,location,historyå¯¹è±¡ï¼Œé‚£ä¹ˆwithRouterå°†æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©</p>
<h2 id="6-3-åŸºæœ¬è·¯ç”±ä½¿ç”¨"><a href="#6-3-åŸºæœ¬è·¯ç”±ä½¿ç”¨" class="headerlink" title="6.3 åŸºæœ¬è·¯ç”±ä½¿ç”¨"></a>6.3 åŸºæœ¬è·¯ç”±ä½¿ç”¨</h2><h3 id="6-3-1-æ•ˆæœ"><a href="#6-3-1-æ•ˆæœ" class="headerlink" title="6.3.1 æ•ˆæœ"></a>6.3.1 æ•ˆæœ</h3><p>![react-router demo1 (3)](<a href="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router</a> demo1 (3).gif)</p>
<p>å¹¶æ²¡æœ‰åˆ·æ–°é¡µé¢</p>
<h3 id="6-3-2-å‡†å¤‡"><a href="#6-3-2-å‡†å¤‡" class="headerlink" title="6.3.2 å‡†å¤‡"></a>6.3.2 å‡†å¤‡</h3><p>1)     ä¸‹è½½react-router: <code>npm install --save react-router@4</code></p>
<p>æˆ‘ä»¬åªéœ€è¦webç‰ˆæœ¬ï¼š<code>npm install --save react-router-dom</code></p>
<p>2)     ç”±äºä½¿ç”¨åˆ°äº†BootStrapï¼Œå› æ­¤åœ¨index.htmlä¸­å¼•å…¥bootstrap.css: <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;</code></p>
<p><code>public/index.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React-router&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>ä¸€èˆ¬ä¼šå°†è·¯ç”±ç»„ä»¶å’Œéè·¯ç”±ç»„ä»¶åˆ†å¼€å†™</p>
<p>pages/viewså­˜æ”¾è·¯ç”±ç»„ä»¶</p>
<p>componentså­˜æ”¾å…¶ä»–ç»„ä»¶</p>
<h3 id="6-3-3-è·¯ç”±ç»„ä»¶-views-about-jsx"><a href="#6-3-3-è·¯ç”±ç»„ä»¶-views-about-jsx" class="headerlink" title="6.3.3 è·¯ç”±ç»„ä»¶: views/about.jsx"></a>6.3.3 è·¯ç”±ç»„ä»¶: <code>views/about.jsx</code></h3><pre><code class="jsx">import React,{Component} from &#39;react&#39;
export default class About extends Component{
  render(){
    return(
        &lt;div&gt;Aboutç»„ä»¶å†…å®¹&lt;/div&gt;
      )
  }
}</code></pre>
<h3 id="6-3-4-è·¯ç”±ç»„ä»¶-views-home-jsx"><a href="#6-3-4-è·¯ç”±ç»„ä»¶-views-home-jsx" class="headerlink" title="6.3.4 è·¯ç”±ç»„ä»¶: views/home.jsx"></a>6.3.4 è·¯ç”±ç»„ä»¶: <code>views/home.jsx</code></h3><pre><code class="jsx">import React, {Component} from &#39;react&#39;

export default class Home extends Component{
  render(){
    return (
        &lt;div&gt;Homeç»„ä»¶å†…å®¹&lt;/div&gt;
      )
  }
}</code></pre>
<h3 id="6-3-5-åŒ…è£…NavLinkç»„ä»¶-components-my-nav-link-jsx"><a href="#6-3-5-åŒ…è£…NavLinkç»„ä»¶-components-my-nav-link-jsx" class="headerlink" title="6.3.5 åŒ…è£…NavLinkç»„ä»¶: components/my-nav-link.jsx"></a>6.3.5 åŒ…è£…NavLinkç»„ä»¶: <code>components/my-nav-link.jsx</code></h3><p>ç”±äºæ¯ä¸ªNavLinkéƒ½éœ€è¦è‡ªå®šä¹‰activeæ ·å¼(åŠ å…¥å±æ€§activeClassName)ï¼Œå› æ­¤æå‡ºæ¥</p>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {NavLink} from &#39;react-router-dom&#39;

export default class MyNavLink extends Component {
  render(){
    // åˆ©ç”¨this.propsä¸‰ç‚¹è¿ç®—ç¬¦æ¥å—æ‰€æœ‰çš„å±æ€§
    return(
      &lt;NavLink {...this.props} activeClassName=&#39;activeClass&#39;/&gt;
    )
  }
}</code></pre>
<h3 id="6-3-6-åº”ç”¨ç»„ä»¶-components-app-jsx"><a href="#6-3-6-åº”ç”¨ç»„ä»¶-components-app-jsx" class="headerlink" title="6.3.6 åº”ç”¨ç»„ä»¶: components/app.jsx"></a>6.3.6 åº”ç”¨ç»„ä»¶: <code>components/app.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {NavLink, Route, Switch, Redirect} from &#39;react-router-dom&#39;
import MyNavLink from &#39;./my-nav-link&#39;
import About from &#39;../views/about&#39;
import Home from &#39;../views/home&#39;

export default class App extends React.Component {

  render() {
    return (
      &lt;div&gt;
        &lt;div className=&quot;row&quot;&gt;
          &lt;div className=&quot;col-xs-offset-2 col-xs-8&quot;&gt;
            &lt;div className=&quot;page-header&quot;&gt;
              &lt;h2&gt;React Router Demo&lt;/h2&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className=&quot;row&quot;&gt;
          &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;
            &lt;div className=&quot;list-group&quot;&gt;
              {/*å¯¼èˆªè·¯ç”±é“¾æ¥ï¼Œä¸èƒ½ä½¿ç”¨aæ ‡ç­¾ï¼ŒtoæŒ‡å‘çš„path*/}
              &lt;MyNavLink className=&quot;list-group-item&quot; to=&#39;/about&#39;&gt;About&lt;/MyNavLink&gt;
              &lt;MyNavLink className=&quot;list-group-item&quot; to=&#39;/home&#39;&gt;Home&lt;/MyNavLink&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div className=&quot;col-xs-6&quot;&gt;
            &lt;div className=&quot;panel&quot;&gt;
              &lt;div className=&quot;panel-body&quot;&gt;
                {/*å¯åˆ‡æ¢çš„è·¯ç”±ç»„ä»¶ï¼Œä½¿ç”¨switchåªæœ‰åŒ¹é…æ‰æ˜¾ç¤ºï¼Œrouteçš„pathå¯¹åº”ä¸Šæ–¹çš„toã€componentå¯¹åº”è·¯ç”±ç»„ä»¶ï¼ŒRedirectè‡ªåŠ¨é‡å®šå‘åˆ°aboutã€é»˜è®¤åˆ°aboutç»„ä»¶*/}
                &lt;Switch&gt;
                  &lt;Route path=&#39;/about&#39; component={About}/&gt;
                  &lt;Route path=&#39;/home&#39; component={Home}/&gt;
                  &lt;Redirect to=&#39;/about&#39;/&gt;
                &lt;/Switch&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre>
<h3 id="6-3-7-è‡ªå®šä¹‰æ ·å¼-index-css"><a href="#6-3-7-è‡ªå®šä¹‰æ ·å¼-index-css" class="headerlink" title="6.3.7 è‡ªå®šä¹‰æ ·å¼: index.css"></a>6.3.7 è‡ªå®šä¹‰æ ·å¼: <code>index.css</code></h3><pre><code class="css">activeClass{
  color: red !important;
}</code></pre>
<h3 id="6-3-8-å…¥å£JS-index-js"><a href="#6-3-8-å…¥å£JS-index-js" class="headerlink" title="6.3.8 å…¥å£JS: index.js"></a>6.3.8 å…¥å£JS: <code>index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
//import ReactDOM from &#39;react-dom&#39;
import {render} from &#39;react-dom&#39;
import {BrowserRouter, HashRouter} from &#39;react-router-dom&#39;
import App from &#39;./components/app&#39;

import &#39;./index.css&#39;

// ReactDOM.render(
render(
  (
    &lt;BrowserRouter&gt;
      &lt;App/&gt;
    &lt;/BrowserRouter&gt;
    /* ç»„ä»¶éœ€è¦ç”¨è·¯ç”±å™¨ç»„ä»¶åŒ…å«èµ·æ¥ï¼Œä¸¤è€…ä»»é€‰ä¸€ä¸ª */
    /*&lt;HashRouter&gt;
      &lt;App /&gt;
    &lt;/HashRouter&gt;*/
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<p>æ€»ç»“ï¼šå¦‚ä½•ç¼–å†™è·¯ç”±æ•ˆæœï¼Ÿ</p>
<ol>
<li>ç¼–å†™è·¯ç”±ç»„ä»¶</li>
<li>åœ¨çˆ¶è·¯ç”±ç»„ä»¶ä¸­æŒ‡å®š<ul>
<li>è·¯ç”±è¿æ¥ï¼š<code>&lt;NavLink&gt;&lt;/NavLink&gt;</code></li>
<li>è·¯ç”±ï¼š<code>&lt;Route&gt;&lt;/Route&gt;</code></li>
</ul>
</li>
</ol>
<h2 id="6-4-åµŒå¥—è·¯ç”±ä½¿ç”¨"><a href="#6-4-åµŒå¥—è·¯ç”±ä½¿ç”¨" class="headerlink" title="6.4 åµŒå¥—è·¯ç”±ä½¿ç”¨"></a>6.4 åµŒå¥—è·¯ç”±ä½¿ç”¨</h2><p>åµŒå¥—è·¯ç”±â€”â€”è·¯ç”±ç»„ä»¶ä¸­çš„è·¯ç”±</p>
<h3 id="6-4-1-æ•ˆæœ"><a href="#6-4-1-æ•ˆæœ" class="headerlink" title="6.4.1 æ•ˆæœ"></a>6.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo2.gif" alt="react-router demo2" class="lazyload"></p>
<h3 id="6-4-2-äºŒçº§è·¯ç”±ç»„ä»¶-views-news-jsx"><a href="#6-4-2-äºŒçº§è·¯ç”±ç»„ä»¶-views-news-jsx" class="headerlink" title="6.4.2 äºŒçº§è·¯ç”±ç»„ä»¶: views/news.jsx"></a>6.4.2 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/news.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;

export default class News extends React.Component {
  state = {
    newsArr: [&#39;news001&#39;, &#39;news002&#39;, &#39;news003&#39;]
  }

  render () {
    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.newsArr.map((news, index) =&gt; &lt;li key={index}&gt;{news}&lt;/li&gt;)
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="6-4-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><a href="#6-4-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx" class="headerlink" title="6.4.3 äºŒçº§è·¯ç”±ç»„ä»¶: views/message.jsx"></a>6.4.3 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/message.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                   &lt;a href=&#39;???&#39;&gt;{m.title}&lt;/a&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="6-4-4-ä¸€çº§è·¯ç”±ç»„ä»¶-views-home-jsx"><a href="#6-4-4-ä¸€çº§è·¯ç”±ç»„ä»¶-views-home-jsx" class="headerlink" title="6.4.4 ä¸€çº§è·¯ç”±ç»„ä»¶: views/home.jsx"></a>6.4.4 ä¸€çº§è·¯ç”±ç»„ä»¶: <code>views/home.jsx</code></h3><pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {Switch, Route, Redirect} from &#39;react-router-dom&#39;
import MyNavLink from &#39;../components/my-nav-link&#39;
import News from &#39;./news&#39;
import Message from &#39;./message&#39;

export default class Home extends Component{
  render(){
    return (
      &lt;div&gt;
        &lt;h2&gt;Homeç»„ä»¶å†…å®¹&lt;/h2&gt;
        &lt;div&gt;
          &lt;ul className=&quot;nav nav-tabs&quot;&gt;
            &lt;li&gt;
              &lt;MyNavLink to=&#39;/home/news&#39;&gt;News&lt;/MyNavLink&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;MyNavLink to=&quot;/home/message&quot;&gt;Message&lt;/MyNavLink&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
          &lt;Switch&gt;
            &lt;Route path=&#39;/home/news&#39; component={News} /&gt;
            &lt;Route path=&#39;/home/message&#39; component={Message} /&gt;
            &lt;Redirect to=&#39;/home/news&#39;/&gt;
          &lt;/Switch&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h2 id="6-5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"><a href="#6-5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®" class="headerlink" title="6.5 å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"></a>6.5 å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®</h2><p>ä¼ é€’çš„æ˜¯idå€¼</p>
<h3 id="6-5-1-æ•ˆæœ"><a href="#6-5-1-æ•ˆæœ" class="headerlink" title="6.5.1 æ•ˆæœ"></a>6.5.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo3.gif" alt="react-router demo3 (2)" class="lazyload"></p>
<h3 id="6-5-2-ä¸‰çº§è·¯ç”±ç»„ä»¶-views-message-detail-jsx"><a href="#6-5-2-ä¸‰çº§è·¯ç”±ç»„ä»¶-views-message-detail-jsx" class="headerlink" title="6.5.2 ä¸‰çº§è·¯ç”±ç»„ä»¶: views/message-detail.jsx"></a>6.5.2 ä¸‰çº§è·¯ç”±ç»„ä»¶: <code>views/message-detail.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;

const messageDetails = [
  {id: 1, title: &#39;Message001&#39;, content: &#39;ä¸­å›½ï¼Œä½ æ˜¯æœ€æ£’çš„&#39;},
  {id: 3, title: &#39;Message003&#39;, content: &#39;å¯¹çš„ï¼Œæ²¡é”™ï¼Œéå¸¸èµæˆæ¥¼ä¸Š&#39;},
  {id: 6, title: &#39;Message006&#39;, content: &#39;æˆ‘ä¹Ÿèµæˆ&#39;},
]

// å‡½æ•°çš„ç»„ä»¶
export default function MessageDetail(props) {

  const id = props.match.params.id
  const md = messageDetails.find(md =&gt; md.id===id*1)

  return (
    &lt;ul&gt;
      &lt;li&gt;ID: {md.id}&lt;/li&gt;
      &lt;li&gt;TITLE: {md.title}&lt;/li&gt;
      &lt;li&gt;CONTENT: {md.content}&lt;/li&gt;
    &lt;/ul&gt;
  )
}</code></pre>
<h3 id="6-5-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx"><a href="#6-5-3-äºŒçº§è·¯ç”±ç»„ä»¶-views-message-jsx" class="headerlink" title="6.5.3 äºŒçº§è·¯ç”±ç»„ä»¶: views/message.jsx"></a>6.5.3 äºŒçº§è·¯ç”±ç»„ä»¶: <code>views/message.jsx</code></h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;
import MessageDetail from &quot;./message-detail&quot;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                  &lt;Link to={`${path}/${m.id}`}&gt;{m.title}&lt;/Link&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
        &lt;Route path={`${path}/:id`} component={MessageDetail}&gt;&lt;/Route&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<p>è·¯ç”±é“¾æ¥ä¸éè·¯ç”±é“¾æ¥ï¼šæ˜¯å¦å‘äº†è¯·æ±‚(è·¯ç”±è¿æ¥ä¸å‘)</p>
<p><code>&lt;NavLink to=&#39;&#39;&gt;&lt;/NavLink&gt;`` &lt;Link to=&#39;&#39;&gt;&lt;/Link&gt;</code></p>
<p><code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code></p>
<h2 id="6-6-å¤šç§è·¯ç”±è·³è½¬æ–¹å¼"><a href="#6-6-å¤šç§è·¯ç”±è·³è½¬æ–¹å¼" class="headerlink" title="6.6 å¤šç§è·¯ç”±è·³è½¬æ–¹å¼"></a>6.6 å¤šç§è·¯ç”±è·³è½¬æ–¹å¼</h2><p>å‰é¢è®²çš„è·¯ç”±åˆ‡æ¢éƒ½æ˜¯é€šè¿‡ç‚¹å‡»é“¾æ¥çš„æ–¹å¼åˆ‡æ¢çš„ï¼Œä¸æ˜¯é“¾æ¥ä¹Ÿèƒ½å¤Ÿ</p>
<h3 id="6-6-1-æ•ˆæœ"><a href="#6-6-1-æ•ˆæœ" class="headerlink" title="6.6.1 æ•ˆæœ"></a>6.6.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/react-router-demo4.gif" alt="react-router demo4" class="lazyload"></p>
<h3 id="6-6-2-äºŒçº§è·¯ç”±-views-message-jsx"><a href="#6-6-2-äºŒçº§è·¯ç”±-views-message-jsx" class="headerlink" title="6.6.2 äºŒçº§è·¯ç”±: views/message.jsx"></a>6.6.2 äºŒçº§è·¯ç”±: views/message.jsx</h3><pre><code class="jsx">import React from &#39;react&#39;
import {Link, Route} from &#39;react-router-dom&#39;
import MessageDetail from &quot;./message-detail&quot;

export default class Message extends React.Component {
  state = {
    messages: []
  }

  componentDidMount () {
    // æ¨¡æ‹Ÿå‘é€ajaxè¯·æ±‚
    setTimeout(() =&gt; {
      const data = [
        {id: 1, title: &#39;Message001&#39;},
        {id: 3, title: &#39;Message003&#39;},
        {id: 6, title: &#39;Message006&#39;},
      ]
      this.setState({
        messages: data
      })
    }, 1000)
  }

  // propsä¸­æœ‰historyå±æ€§ï¼Œå®ƒç”±pushç­‰æ–¹æ³•
  ShowDetail = (id) =&gt; {
    this.props.history.push(`/home/message/${id}`)
  }

  ShowDetail2 = (id) =&gt; {
    this.props.history.replace(`/home/message/${id}`)
  }

  back = () =&gt; {
    this.props.history.goBack()
  }

  forward = () =&gt; {
    this.props.history.goForward()
  }

  render () {
    const path = this.props.match.path

    return (
      &lt;div&gt;
        &lt;ul&gt;
          {
            this.state.messages.map((m, index) =&gt; {
              return (
                &lt;li key={index}&gt;
                  &lt;Link to={`${path}/${m.id}`}&gt;{m.title}&lt;/Link&gt;
                  &amp;nbsp;&amp;nbsp;&amp;nbsp;
                  &lt;button onClick={() =&gt; this.ShowDetail(m.id)}&gt;æŸ¥çœ‹è¯¦æƒ…(push)&lt;/button&gt;&amp;nbsp;
                  &lt;button onClick={() =&gt; this.ShowDetail2(m.id)}&gt;æŸ¥çœ‹è¯¦æƒ…(replace)&lt;/button&gt;
                &lt;/li&gt;
              )
            })
          }
        &lt;/ul&gt;
        &lt;p&gt;
          &lt;button onClick={this.back}&gt;è¿”å›&lt;/button&gt;&amp;nbsp;
          &lt;button onClick={this.forward}&gt;å‰è¿›&lt;/button&gt;&amp;nbsp;
        &lt;/p&gt;
        &lt;hr/&gt;
        &lt;Route path={`${path}/:id`} component={MessageDetail}&gt;&lt;/Route&gt;
        {/*&lt;Route path={`home/message/meassagedetail/:id`} component={MessageDetail}&gt;&lt;/Route&gt;*/}
      &lt;/div&gt;
    )
  }
}</code></pre>
<p> æ€»ç»“ï¼š</p>
<ul>
<li>è·¯ç”±å™¨æ ‡ç­¾<ul>
<li><code>&lt;BrowserRouter&gt;</code>ï¼šBrowserRouteræ˜¯reactè·¯ç”±çš„å®¹å™¨</li>
<li><code>&lt;HashRouter&gt;</code>ï¼šå¤šäº†ä¸€ä¸ª#å·</li>
</ul>
</li>
<li>è·¯ç”±<ul>
<li><code>&lt;Route&gt;</code>ï¼šRouteçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ¸²æŸ“è·¯ç”±åŒ¹é…çš„ç»„ä»¶ã€‚è·¯ç”±æ¸²æŸ“æœ‰ä¸‰ç§æ–¹å¼ï¼Œæ¯ä¸€ç§æ–¹å¼éƒ½å¯ä»¥ä¼ é€’match,location,historyå¯¹è±¡</li>
</ul>
</li>
<li><code>&lt;Redirect&gt;</code>ï¼šè·¯ç”±é‡å®šå‘</li>
<li>é“¾æ¥<ul>
<li><code>&lt;Link&gt;</code>ï¼šLinkçš„ä½œç”¨å’Œaæ ‡ç­¾ç±»ä¼¼</li>
<li><code>&lt;NavLink&gt;</code>ï¼šå¯ä»¥æ·»åŠ å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚activeClassName</li>
</ul>
</li>
<li><ul>
<li><code>&lt;Switch&gt;</code>ï¼šSwitchç»„ä»¶å†…éƒ¨å¯ä»¥æ˜¯Routeæˆ–è€…Redirectï¼Œåªä¼šæ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </li>
</ul>
</li>
</ul>
<ul>
<li>this.props.<ul>
<li>match<ul>
<li>params</li>
</ul>
</li>
<li>history<ul>
<li>push()</li>
<li>replace()</li>
<li>goback()</li>
<li>goforward()</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ç¬¬7ç« -react-ui"><a href="#ç¬¬7ç« -react-ui" class="headerlink" title="ç¬¬7ç«  react-ui"></a>ç¬¬7ç«  react-ui</h1><h2 id="7-1-æœ€æµè¡Œçš„å¼€æºReact-UIç»„ä»¶åº“"><a href="#7-1-æœ€æµè¡Œçš„å¼€æºReact-UIç»„ä»¶åº“" class="headerlink" title="7.1 æœ€æµè¡Œçš„å¼€æºReact UIç»„ä»¶åº“"></a>7.1 æœ€æµè¡Œçš„å¼€æºReact UIç»„ä»¶åº“</h2><h3 id="7-1-1-material-ui-å›½å¤–"><a href="#7-1-1-material-ui-å›½å¤–" class="headerlink" title="7.1.1 material-ui(å›½å¤–)"></a>7.1.1 material-ui(å›½å¤–)</h3><p>1)     å®˜ç½‘: <a href="http://www.material-ui.com/#/" target="_blank" rel="noopener">http://www.material-ui.com/#/</a></p>
<p>2)     github: <a href="https://github.com/callemall/material-ui" target="_blank" rel="noopener">https://github.com/callemall/material-ui</a></p>
<h3 id="7-1-2-ant-design-å›½å†…èš‚èšé‡‘æœ"><a href="#7-1-2-ant-design-å›½å†…èš‚èšé‡‘æœ" class="headerlink" title="7.1.2 ant-design(å›½å†…èš‚èšé‡‘æœ)"></a>7.1.2 ant-design(å›½å†…èš‚èšé‡‘æœ)</h3><p>1)     PCå®˜ç½‘: <a href="https://ant.design/index-cn" target="_blank" rel="noopener">https://ant.design/index-cn</a></p>
<p>2)     ç§»åŠ¨å®˜ç½‘: <a href="https://mobile.ant.design/index-cn" target="_blank" rel="noopener">https://mobile.ant.design/index-cn</a></p>
<p>3)     Github: <a href="https://github.com/ant-design/ant-design/" target="_blank" rel="noopener">https://github.com/ant-design/ant-design/</a></p>
<p>4)     Github: <a href="https://github.com/ant-design/ant-design-mobile/" target="_blank" rel="noopener">https://github.com/ant-design/ant-design-mobile/</a></p>
<h2 id="7-2-ant-design-mobileä½¿ç”¨å…¥é—¨"><a href="#7-2-ant-design-mobileä½¿ç”¨å…¥é—¨" class="headerlink" title="7.2 ant-design-mobileä½¿ç”¨å…¥é—¨"></a>7.2 ant-design-mobileä½¿ç”¨å…¥é—¨</h2><h3 id="7-2-1-æ•ˆæœ"><a href="#7-2-1-æ•ˆæœ" class="headerlink" title="7.2.1 æ•ˆæœ"></a>7.2.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/antd-mobile.gif" alt="antd-mobile" class="lazyload"></p>
<h3 id="7-2-2-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#7-2-2-ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="7.2.2 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>7.2.2 ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h3><pre><code class="bash">npm install create-react-app -g
create-react-app antm-demo
cd antm-demo
npm start</code></pre>
<h3 id="7-2-3-æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ"><a href="#7-2-3-æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ" class="headerlink" title="7.2.3 æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ"></a>7.2.3 æ­å»ºantd-mobileçš„åŸºæœ¬å¼€å‘ç¯å¢ƒ</h3><p>1)     ä¸‹è½½</p>
<p><code>npm install antd-mobile --save</code></p>
<p>2)     <code>src/components/App.jsx</code></p>
<pre><code class="jsx">import React, {Component} from &#39;react&#39;
import {Button, Toast} from &#39;antd-mobile&#39;
export default class App extends Component {
  handleClick = () =&gt; {
    Toast.info(&#39;æäº¤æˆåŠŸ&#39;, 2)
  }

  render() {
    return (
        &lt;div&gt;
          &lt;Button type=&quot;primary&quot; onClick={this.handleClick}&gt;æäº¤&lt;/Button&gt;
        &lt;/div&gt;   
      )
  }
  /* typeå€¼ä¸åŒæ ·å¼ä¸åŒ */
}</code></pre>
<p>3)     <code>src/index.js</code></p>
<pre><code class="javascript">import React from &#39;react&#39;;
import {render} from &#39;react-dom&#39;
import App from &quot;./components/App&quot;
// å¼•å…¥æ•´ä½“css
import &#39;antd-mobile/dist/antd-mobile.css&#39;

render(&lt;App /&gt;, document.getElementById(&#39;root&#39;))
</code></pre>
<p>4)     <code>index.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot; /&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React ant design mobile&lt;/title&gt;
    &lt;script src=&quot;https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      if (&#39;addEventListener&#39; in document) {
        document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
          FastClick.attach(document.body);
        }, false);
      }
      if(!window.Promise) {
        document.writeln(&#39;&lt;script src=&quot;https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js&quot;&#39;+&#39;&gt;&#39;+&#39;&lt;&#39;+&#39;/&#39;+&#39;script&gt;&#39;);
      }
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="7-2-4-å®ç°æŒ‰éœ€æ‰“åŒ…-ç»„ä»¶js-css"><a href="#7-2-4-å®ç°æŒ‰éœ€æ‰“åŒ…-ç»„ä»¶js-css" class="headerlink" title="7.2.4 å®ç°æŒ‰éœ€æ‰“åŒ…(ç»„ä»¶js/css)"></a>7.2.4 å®ç°æŒ‰éœ€æ‰“åŒ…(ç»„ä»¶js/css)</h3><p>1)     ä¸‹è½½ä¾èµ–åŒ…</p>
<pre><code class="bash">yarn add react-app-rewired --dev
yarn add babel-plugin-import --dev</code></pre>
<p>2)     ä¿®æ”¹é»˜è®¤é…ç½®: </p>
<p>l package.json</p>
<pre><code class="json">{
  &quot;name&quot;: &quot;react_ui&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;private&quot;: true,
  &quot;dependencies&quot;: {
    &quot;antd-mobile&quot;: &quot;^2.1.3&quot;,
    &quot;react&quot;: &quot;^16.2.0&quot;,
    &quot;react-dom&quot;: &quot;^16.2.0&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;babel-plugin-import&quot;: &quot;^1.6.3&quot;,
    &quot;react-app-rewired&quot;: &quot;^1.4.0&quot;,
    &quot;react-scripts&quot;: &quot;1.0.17&quot;
  },
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-app-rewired start&quot;,
    &quot;build&quot;: &quot;react-app-rewired build&quot;,
    &quot;test&quot;: &quot;react-app-rewired test --env=jsdom&quot;
  }
}</code></pre>
<p>l config-overrides.js</p>
<pre><code class="javascript">const {injectBabelPlugin} = require(&#39;react-app-rewired&#39;);
module.exports = function override(config, env) {
  config = injectBabelPlugin([&#39;import&#39;, {libraryName: &#39;antd-mobile&#39;, style: &#39;css&#39;}], config);
  return config;
};</code></pre>
<p>3)     ç¼–ç </p>
<pre><code class="jsx">// import &#39;antd-mobile/dist/antd-mobile.css&#39;
// import Button from &#39;antd-mobile/lib/button&#39;
// import Toast from &#39;antd-mobile/lib/toast&#39; 
import {Button, Toast} from &#39;antd-mobile&#39;</code></pre>
<h1 id="ç¬¬8ç« -redux"><a href="#ç¬¬8ç« -redux" class="headerlink" title="ç¬¬8ç«  redux"></a>ç¬¬8ç«  redux</h1><h2 id="8-1-reduxç†è§£"><a href="#8-1-reduxç†è§£" class="headerlink" title="8.1 reduxç†è§£"></a>8.1 reduxç†è§£</h2><h3 id="8-1-1-å­¦ä¹ æ–‡æ¡£"><a href="#8-1-1-å­¦ä¹ æ–‡æ¡£" class="headerlink" title="8.1.1 å­¦ä¹ æ–‡æ¡£"></a>8.1.1 å­¦ä¹ æ–‡æ¡£</h3><p>1)     è‹±æ–‡æ–‡æ¡£: <a href="https://redux.js.org/" target="_blank" rel="noopener">https://redux.js.org/</a></p>
<p>2)     ä¸­æ–‡æ–‡æ¡£: <a href="http://www.redux.org.cn/" target="_blank" rel="noopener">http://www.redux.org.cn/</a></p>
<p>3)     Github: <a href="https://github.com/reactjs/redux" target="_blank" rel="noopener">https://github.com/reactjs/redux</a></p>
<h3 id="8-1-2-reduxæ˜¯ä»€ä¹ˆ"><a href="#8-1-2-reduxæ˜¯ä»€ä¹ˆ" class="headerlink" title="8.1.2 reduxæ˜¯ä»€ä¹ˆ?"></a>8.1.2 reduxæ˜¯ä»€ä¹ˆ?</h3><p>1)     reduxæ˜¯ä¸€ä¸ªç‹¬ç«‹ä¸“é—¨ç”¨äºåš<strong>çŠ¶æ€ç®¡ç†</strong>çš„<strong>JSåº“</strong>(ä¸æ˜¯reactæ’ä»¶åº“)</p>
<p>2)     å®ƒå¯ä»¥ç”¨åœ¨react, angular, vueç­‰é¡¹ç›®ä¸­, ä½†åŸºæœ¬ä¸reacté…åˆä½¿ç”¨</p>
<p>3)     ä½œç”¨: <strong>é›†ä¸­å¼ç®¡ç†</strong>reactåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶å…±äº«çš„çŠ¶æ€</p>
<h3 id="8-1-3-reduxå·¥ä½œæµç¨‹"><a href="#8-1-3-reduxå·¥ä½œæµç¨‹" class="headerlink" title="8.1.3 reduxå·¥ä½œæµç¨‹"></a>8.1.3 reduxå·¥ä½œæµç¨‹</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715104120743.png" alt="redux" class="lazyload"></p>
<h3 id="8-1-4-ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux"><a href="#8-1-4-ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux" class="headerlink" title="8.1.4 ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux"></a>8.1.4 ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä½¿ç”¨redux</h3><p>1)     æ€»ä½“åŸåˆ™: èƒ½ä¸ç”¨å°±ä¸ç”¨, å¦‚æœä¸ç”¨æ¯”è¾ƒåƒåŠ›æ‰è€ƒè™‘ä½¿ç”¨</p>
<p>2)     æŸä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œéœ€è¦å…±äº«</p>
<p>3)     æŸä¸ªçŠ¶æ€éœ€è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥æ‹¿åˆ°</p>
<p>4)     ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å…¨å±€çŠ¶æ€</p>
<p>5)     ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€</p>
<h2 id="8-2-reduxçš„æ ¸å¿ƒAPI"><a href="#8-2-reduxçš„æ ¸å¿ƒAPI" class="headerlink" title="8.2 reduxçš„æ ¸å¿ƒAPI"></a>8.2 reduxçš„æ ¸å¿ƒAPI</h2><h3 id="8-2-1-createStore"><a href="#8-2-1-createStore" class="headerlink" title="8.2.1 createStore()"></a>8.2.1 <code>createStore()</code></h3><p>1)     ä½œç”¨:  åˆ›å»ºåŒ…å«æŒ‡å®šreducerçš„storeå¯¹è±¡</p>
<p>2)     ç¼–ç :</p>
<pre><code>import {createStore} from &#39;redux&#39;
import counter from &#39;./reducers/counter&#39;
const store = createStore(counter)</code></pre><h3 id="8-2-2-storeå¯¹è±¡"><a href="#8-2-2-storeå¯¹è±¡" class="headerlink" title="8.2.2 storeå¯¹è±¡"></a>8.2.2 <code>store</code>å¯¹è±¡</h3><p>1)     ä½œç”¨: </p>
<p>reduxåº“æœ€æ ¸å¿ƒçš„ç®¡ç†å¯¹è±¡</p>
<p>2)     å®ƒå†…éƒ¨ç»´æŠ¤ç€:</p>
<ul>
<li><p><code>state</code></p>
</li>
<li><p><code>reducer</code></p>
</li>
</ul>
<p>3)     æ ¸å¿ƒæ–¹æ³•:</p>
<ul>
<li><p><code>getState()</code></p>
</li>
<li><p><code>dispatch(action)</code></p>
</li>
<li><p><code>subscribe(listener)</code></p>
</li>
</ul>
<p>4)     ç¼–ç :</p>
<pre><code>store.getState()
store.dispatch({type:&#39;INCREMENT&#39;, number})
store.subscribe(render)</code></pre><h3 id="8-2-3-applyMiddleware"><a href="#8-2-3-applyMiddleware" class="headerlink" title="8.2.3 applyMiddleware()"></a>8.2.3 <code>applyMiddleware()</code></h3><p>1)     ä½œç”¨:</p>
<p>åº”ç”¨ä¸ŠåŸºäºreduxçš„ä¸­é—´ä»¶(æ’ä»¶åº“)</p>
<p>2)     ç¼–ç :</p>
<pre><code>import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39; // reduxå¼‚æ­¥ä¸­é—´ä»¶
const store = createStore(
 counter,
 applyMiddleware(thunk) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre><h3 id="8-2-4-combineReducers"><a href="#8-2-4-combineReducers" class="headerlink" title="8.2.4 combineReducers()"></a>8.2.4 <code>combineReducers()</code></h3><p>1)     ä½œç”¨:</p>
<p>åˆå¹¶å¤šä¸ªreducerå‡½æ•°</p>
<p>2)     ç¼–ç :</p>
<pre><code>export default combineReducers({
 user,
 chatUser,
 chat
})</code></pre><h2 id="8-3-reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><a href="#8-3-reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="8.3 reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ"></a>8.3 reduxçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="8-3-1-action"><a href="#8-3-1-action" class="headerlink" title="8.3.1 action"></a>8.3.1 <code>action</code></h3><p>1)     æ ‡è¯†è¦æ‰§è¡Œè¡Œä¸ºçš„å¯¹è±¡</p>
<p>2)     åŒ…å«2ä¸ªæ–¹é¢çš„å±æ€§</p>
<p>a.     type: æ ‡è¯†å±æ€§, å€¼ä¸ºå­—ç¬¦ä¸², å”¯ä¸€, å¿…è¦å±æ€§</p>
<p>b.     xxx: æ•°æ®å±æ€§, å€¼ç±»å‹ä»»æ„, å¯é€‰å±æ€§</p>
<p>3)     ä¾‹å­:</p>
<pre><code>const action = {
    type: &#39;INCREMENT&#39;,
    data: 2
}</code></pre><p>4)     Action Creator(åˆ›å»ºActionçš„å·¥å‚å‡½æ•°)</p>
<pre><code>const increment = (number) =&gt; ({type: &#39;INCREMENT&#39;, data: number})</code></pre><h3 id="8-3-2-reducer"><a href="#8-3-2-reducer" class="headerlink" title="8.3.2 reducer"></a>8.3.2 <code>reducer</code></h3><p>1)     æ ¹æ®è€çš„stateå’Œaction, äº§ç”Ÿæ–°çš„stateçš„çº¯å‡½æ•°</p>
<p>2)     æ ·ä¾‹</p>
<pre><code>export default function counter(state = 0, action) {
  switch (action.type) {
     case &#39;INCREMENT&#39;:
        return state + action.data
     case &#39;DECREMENT&#39;:
        return state - action.data
     default:
        return state
  }
}</code></pre><p>3)     æ³¨æ„</p>
<p>a.     è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€</p>
<p>b.     ä¸è¦ä¿®æ”¹åŸæ¥çš„çŠ¶æ€</p>
<h3 id="8-3-3-store"><a href="#8-3-3-store" class="headerlink" title="8.3.3 store"></a>8.3.3 <code>store</code></h3><p>1)     å°†state,actionä¸reducerè”ç³»åœ¨ä¸€èµ·çš„å¯¹è±¡</p>
<p>2)     å¦‚ä½•å¾—åˆ°æ­¤å¯¹è±¡?</p>
<pre><code>import {createStore} from &#39;redux&#39;
import reducer from &#39;./reducers&#39;
const store = createStore(reducer)</code></pre><p>3)     æ­¤å¯¹è±¡çš„åŠŸèƒ½?</p>
<ul>
<li><p>getState(): å¾—åˆ°state</p>
</li>
<li><p>dispatch(action): åˆ†å‘action, è§¦å‘reducerè°ƒç”¨, äº§ç”Ÿæ–°çš„state</p>
</li>
<li><p>subscribe(listener): æ³¨å†Œç›‘å¬, å½“äº§ç”Ÿäº†æ–°çš„stateæ—¶, è‡ªåŠ¨è°ƒç”¨</p>
</li>
</ul>
<h2 id="8-4-ä½¿ç”¨reduxç¼–å†™åº”ç”¨"><a href="#8-4-ä½¿ç”¨reduxç¼–å†™åº”ç”¨" class="headerlink" title="8.4 ä½¿ç”¨reduxç¼–å†™åº”ç”¨"></a>8.4 ä½¿ç”¨reduxç¼–å†™åº”ç”¨</h2><h3 id="8-4-1-æ•ˆæœ"><a href="#8-4-1-æ•ˆæœ" class="headerlink" title="8.4.1 æ•ˆæœ"></a>8.4.1 æ•ˆæœ</h3><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/redux.gif" alt="redux" class="lazyload"></p>
<p>ä½¿ç”¨reactå®ç°</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715112226383.png" alt="app.jsx" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/image-20200715112313127.png" alt="index.js" class="lazyload"></p>
<h3 id="8-4-2-ä¸‹è½½ä¾èµ–åŒ…"><a href="#8-4-2-ä¸‹è½½ä¾èµ–åŒ…" class="headerlink" title="8.4.2 ä¸‹è½½ä¾èµ–åŒ…"></a>8.4.2 ä¸‹è½½ä¾èµ–åŒ…</h3><p><code>npm install --save redux</code></p>
<h3 id="8-4-3-src-redux-action-types-js"><a href="#8-4-3-src-redux-action-types-js" class="headerlink" title="8.4.3 src/redux/action-types.js"></a>8.4.3 <code>src/redux/action-types.js</code></h3><pre><code class="javascript">/*
Actionå¯¹è±¡çš„typeå¸¸é‡åç§°æ¨¡å—
 */
export const INCREMENT = &#39;increment&#39;
export const DECREMENT = &#39;decrement&#39;</code></pre>
<h3 id="8-4-4-src-redux-actions-js"><a href="#8-4-4-src-redux-actions-js" class="headerlink" title="8.4.4 src/redux/actions.js"></a>8.4.4 <code>src/redux/actions.js</code></h3><pre><code class="javascript">/*
action creatoræ¨¡å—
 */
import {INCREMENT, DECREMENT} from &#39;./action-types&#39;

export const increment = number =&gt; ({type: INCREMENT, number})
export const decrement = number =&gt; ({type: DECREMENT, number})</code></pre>
<h3 id="8-4-5-src-redux-reducers-js"><a href="#8-4-5-src-redux-reducers-js" class="headerlink" title="8.4.5 src/redux/reducers.js"></a>8.4.5 <code>src/redux/reducers.js</code></h3><pre><code class="javascript">/*
åŒ…å«nä¸ªreducerå‡½æ•°çš„æ¨¡å—
æ ¹æ®è€çš„stateå’ŒæŒ‡å®šaction, å¤„ç†è¿”å›ä¸€ä¸ªæ–°çš„state
 */
import {INCREMENT, DECREMENT} from &#39;./action-types&#39;

export function counter(state = 0, action) {
  console.log(&#39;counter&#39;, state, action)
  switch (action.type) {
    case INCREMENT:
      return state + action.number
    case DECREMENT:
      return state - action.number
    default:
      return state
  }
}</code></pre>
<h3 id="8-4-6-src-components-app-jsx"><a href="#8-4-6-src-components-app-jsx" class="headerlink" title="8.4.6 src/components/app.jsx"></a>8.4.6 <code>src/components/app.jsx</code></h3><pre><code class="jsx">/*
åº”ç”¨ç»„ä»¶
 */
import React, {Component} from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import * as actions from &#39;../redux/actions&#39;
import { INCREMENT } from &#39;../redux/action-types&#39;

export default class App extends Component {

  static propTypes = {
    store: PropTypes.object.isRequired,
  }

  increment = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
    this.props.store.dispatch(actions.increment(number))
  }

  decrement = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å‡å°æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
    this.props.store.dispatch(actions.decrement(number))
  }

  incrementIfOdd = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.å¾—åˆ°åŸæœ¬çš„countçŠ¶æ€
    let count = this.props.store.getState()
    // åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶çŒœæ›´æ–°çŠ¶æ€
    if (count % 2 === 1) {
      // è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
      this.props.store.dispatch(actions.increment(number))
    }
  }

  incrementAsync = () =&gt; {
    // 1.å¾—åˆ°é€‰æ‹©å¢åŠ æ•°é‡
    const number = this.refs.numSelect.value * 1
    // 2.å¯åŠ¨å»¶æ—¶å®šæ—¶å™¨ï¼Œæ¨¡æ‹Ÿå¼‚æ­¥
    setTimeout(() =&gt; {
      // 3.è°ƒç”¨storeçš„æ–¹æ³•æ›´æ–°çŠ¶æ€
      this.props.store.dispatch(actions.increment(number))
    }, 1000)
  }

  render() {
    const count = this.props.store.getState()
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="8-4-7-src-index-js"><a href="#8-4-7-src-index-js" class="headerlink" title="8.4.7 src/index.js"></a>8.4.7 <code>src/index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {createStore} from &#39;redux&#39;

import App from &#39;./components/app&#39;
import {counter} from &#39;./redux/reducers&#39;

// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
const store = createStore(counter) // å†…éƒ¨ä¼šç¬¬ä¸€æ¬¡è°ƒç”¨reduerå‡½æ•°ï¼Œå¾—åˆ°åˆå§‹state

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
const render = () =&gt; {
  ReactDOM.render(
    &lt;App store={store}/&gt;,
    document.getElementById(&#39;root&#39;)
  )
}
// åˆå§‹åŒ–æ¸²æŸ“
render()

// æ³¨å†Œ(è®¢é˜…)ç›‘å¬, ä¸€æ—¦çŠ¶æ€å‘ç”Ÿæ”¹å˜, è‡ªåŠ¨é‡æ–°æ¸²æŸ“
store.subscribe(render)</code></pre>
<p>ä¹Ÿå¯ä»¥æŠŠindex.jsä¸­storeæå–å‡ºæ¥</p>
<ul>
<li><code>src/redux/store.js</code></li>
</ul>
<pre><code class="javascript">import {createStore} from &#39;redux&#39;
import {counter} from &#39;./reducers&#39;
// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
const store = createStore(counter)  // // å†…éƒ¨ä¼šç¬¬ä¸€æ¬¡è°ƒç”¨reduerå‡½æ•°ï¼Œå¾—åˆ°åˆå§‹state

export default store</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;

import App from &#39;./components/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
const render = () =&gt; {
  ReactDOM.render(
    &lt;App store={store}/&gt;,
    document.getElementById(&#39;root&#39;)
  )
}
// åˆå§‹åŒ–æ¸²æŸ“
render()

// æ³¨å†Œ(è®¢é˜…)ç›‘å¬, ä¸€æ—¦çŠ¶æ€å‘ç”Ÿæ”¹å˜, è‡ªåŠ¨é‡æ–°æ¸²æŸ“
store.subscribe(render)</code></pre>
<h3 id="8-4-8-é—®é¢˜"><a href="#8-4-8-é—®é¢˜" class="headerlink" title="8.4.8 é—®é¢˜"></a>8.4.8 é—®é¢˜</h3><p>1)     reduxä¸reactç»„ä»¶çš„ä»£ç è€¦åˆåº¦å¤ªé«˜(å¤§å¤šæ•°åœ°æ–¹ç”¨åˆ°store)</p>
<p>2)     ç¼–ç ä¸å¤Ÿç®€æ´</p>
<h2 id="8-5-react-redux"><a href="#8-5-react-redux" class="headerlink" title="8.5 react-redux"></a>8.5 react-redux</h2><h3 id="8-5-1-ç†è§£"><a href="#8-5-1-ç†è§£" class="headerlink" title="8.5.1 ç†è§£"></a>8.5.1 ç†è§£</h3><p>1)     ä¸€ä¸ª<strong>reactæ’ä»¶åº“</strong></p>
<p>2)     ä¸“é—¨ç”¨æ¥ç®€åŒ–reactåº”ç”¨ä¸­ä½¿ç”¨redux</p>
<h3 id="8-5-2-React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»"><a href="#8-5-2-React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»" class="headerlink" title="8.5.2 React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»"></a>8.5.2 React-Reduxå°†æ‰€æœ‰ç»„ä»¶åˆ†æˆä¸¤å¤§ç±»</h3><p>1)     UIç»„ä»¶</p>
<p>â€‹    a.     åªè´Ÿè´£ UI çš„å‘ˆç°ï¼Œä¸å¸¦æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘</p>
<p>â€‹    b.     é€šè¿‡propsæ¥æ”¶æ•°æ®(ä¸€èˆ¬æ•°æ®å’Œå‡½æ•°)</p>
<p>â€‹    c.     ä¸ä½¿ç”¨ä»»ä½• Redux çš„ API</p>
<p>â€‹    d.     ä¸€èˆ¬ä¿å­˜åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸‹</p>
<p>2)     å®¹å™¨ç»„ä»¶</p>
<p>â€‹    a.     è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œä¸è´Ÿè´£UIçš„å‘ˆç°</p>
<p>â€‹    b.     ä½¿ç”¨ Redux çš„ API</p>
<p>â€‹    c.     ä¸€èˆ¬ä¿å­˜åœ¨<code>containers</code>æ–‡ä»¶å¤¹ä¸‹</p>
<h3 id="8-5-3-ç›¸å…³API"><a href="#8-5-3-ç›¸å…³API" class="headerlink" title="8.5.3 ç›¸å…³API"></a>8.5.3 ç›¸å…³API</h3><p>1)     <code>Provider</code></p>
<p>è®©æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥å¾—åˆ°stateæ•°æ®</p>
<pre><code>&lt;Provider store={store}&gt;
   &lt;App /&gt;
&lt;/Provider&gt;</code></pre><p>2)     <code>connect()</code></p>
<p>ç”¨äºåŒ…è£… UI ç»„ä»¶ç”Ÿæˆå®¹å™¨ç»„ä»¶</p>
<pre><code>import { connect } from &#39;react-redux&#39;
connect(
   mapStateToprops,
   mapDispatchToProps
)(Counter)</code></pre><p>3)     <code>mapStateToprops()</code></p>
<p>å°†å¤–éƒ¨çš„æ•°æ®ï¼ˆå³stateå¯¹è±¡ï¼‰è½¬æ¢ä¸ºUIç»„ä»¶çš„æ ‡ç­¾å±æ€§</p>
<pre><code>const mapStateToprops = function (state) {
  return {
   value: state
  }
}</code></pre><p>4)     <code>mapDispatchToProps()</code></p>
<p>å°†åˆ†å‘actionçš„å‡½æ•°è½¬æ¢ä¸ºUIç»„ä»¶çš„æ ‡ç­¾å±æ€§</p>
<p>ç®€æ´è¯­æ³•å¯ä»¥ç›´æ¥æŒ‡å®šä¸ºactionså¯¹è±¡æˆ–åŒ…å«å¤šä¸ªactionæ–¹æ³•çš„å¯¹è±¡</p>
<h3 id="8-5-4-ä½¿ç”¨react-redux"><a href="#8-5-4-ä½¿ç”¨react-redux" class="headerlink" title="8.5.4 ä½¿ç”¨react-redux"></a>8.5.4 ä½¿ç”¨react-redux</h3><p>1)     ä¸‹è½½ä¾èµ–åŒ…</p>
<p><code>npm install --save react-redux</code></p>
<p>2)     <code>redux/action-types.js</code></p>
<p>ä¸å˜</p>
<p>3)     <code>redux/actions.js</code></p>
<p>ä¸å˜</p>
<p>4)     <code>redux/reducers.js</code></p>
<p>ä¸å˜</p>
<p>5)     <code>components/counter.jsx</code></p>
<pre><code class="jsx">/*
UIç»„ä»¶: ä¸åŒ…å«ä»»ä½•redux API
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

export default class Counter extends React.Component {

  static propTypes = {
    count: PropTypes.number.isRequired,
    increment: PropTypes.func.isRequired,
    decrement: PropTypes.func.isRequired
  }

  increment = () =&gt; {
    const number = this.refs.numSelect.value * 1
    this.props.increment(number)
  }

  decrement = () =&gt; {
    const number = this.refs.numSelect.value * 1
    this.props.decrement(number)
  }

  incrementIfOdd = () =&gt; {
    const number = this.refs.numSelect.value * 1
    let count = this.props.count
    if (count % 2 === 1) {
      this.props.increment(number)
    }
  }

  incrementAsync = () =&gt; {
    const number = this.refs.numSelect.value * 1
    setTimeout(() =&gt; {
      this.props.increment(number)
    }, 1000)
  }

  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {this.props.count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;
        {&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<p>6)     <code>containters/app.jsx</code></p>
<pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
// å¼•å…¥è¿æ¥å‡½æ•°
import {connect} from &#39;react-redux&#39;
// å¼•å…¥actionå‡½æ•°
import {increment, decrement} from &#39;../redux/actions&#39;

import Counter from &#39;../components/counter&#39;

// å‘å¤–æš´éœ²è¿æ¥Appç»„ä»¶çš„åŒ…è£…ç»„ä»¶
export default connect(
  state =&gt; ({count: state}),
  {increment, decrement}
)(Counter)</code></pre>
<p>7)     <code>store.js</code></p>
<p>ä¸å˜</p>
<p>8)     <code>index.js</code></p>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./containers/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<h3 id="8-5-5-é—®é¢˜"><a href="#8-5-5-é—®é¢˜" class="headerlink" title="8.5.5 é—®é¢˜"></a>8.5.5 é—®é¢˜</h3><p>1)    reduxé»˜è®¤æ˜¯ä¸èƒ½è¿›è¡Œå¼‚æ­¥å¤„ç†çš„, ï¼ˆå‰é¢çš„éƒ½æ˜¯reactå®ç°çš„ï¼‰</p>
<p>2)    åº”ç”¨ä¸­åˆéœ€è¦åœ¨reduxä¸­æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡(ajax, å®šæ—¶å™¨)</p>
<h2 id="8-6-reduxå¼‚æ­¥ç¼–ç¨‹"><a href="#8-6-reduxå¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="8.6 reduxå¼‚æ­¥ç¼–ç¨‹"></a>8.6 reduxå¼‚æ­¥ç¼–ç¨‹</h2><h3 id="8-6-1-ä¸‹è½½reduxæ’ä»¶-å¼‚æ­¥ä¸­é—´ä»¶"><a href="#8-6-1-ä¸‹è½½reduxæ’ä»¶-å¼‚æ­¥ä¸­é—´ä»¶" class="headerlink" title="8.6.1 ä¸‹è½½reduxæ’ä»¶(å¼‚æ­¥ä¸­é—´ä»¶)"></a>8.6.1 ä¸‹è½½reduxæ’ä»¶(å¼‚æ­¥ä¸­é—´ä»¶)</h3><p><code>npm install --save redux-thunk</code></p>
<h3 id="8-6-2-redux-store-js"><a href="#8-6-2-redux-store-js" class="headerlink" title="8.6.2 redux/store.js"></a>8.6.2 <code>redux/store.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39;
import {composeWithDevTools} from &#39;redux-devtools-extension&#39;

import reducers from &#39;./reducers&#39;

// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
export default createStore(
  reducers,
  applyMiddleware(thunk) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre>
<h3 id="8-6-3-index-js"><a href="#8-6-3-index-js" class="headerlink" title="8.6.3 index.js"></a>8.6.3 <code>index.js</code></h3><pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./containers/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)</code></pre>
<h3 id="8-6-4-redux-actions-js"><a href="#8-6-4-redux-actions-js" class="headerlink" title="8.6.4 redux/actions.js"></a>8.6.4 <code>redux/actions.js</code></h3><pre><code class="jsx">/*
action creatoræ¨¡å—
 */
import {
  INCREMENT,
  DECREMENT
} from &#39;./action-types&#39;

export const increment = number =&gt; ({type: INCREMENT, number})

export const decrement = number =&gt; ({type: DECREMENT, number})

// å¼‚æ­¥action creator(è¿”å›ä¸€ä¸ªå‡½æ•°)
export const incrementAsync = number =&gt; {
  return dispatch =&gt; { // è¦åœ¨è¿™è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå¾—åœ¨storeä¸­åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
    // å¼‚æ­¥çš„ä»£ç 
    setTimeout(() =&gt; {
      // 1sä¹‹åæ‰åˆ†å‘ä¸€ä¸ªå¢åŠ çš„action
      dispatch(increment(number))
    }, 1000)
  }
}</code></pre>
<p> åŒæ­¥çš„actionéƒ½è¿”å›ä¸€ä¸ªå¯¹è±¡</p>
<p>å¼‚æ­¥çš„actionè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°</p>
<h3 id="8-6-5-components-counter-jsx"><a href="#8-6-5-components-counter-jsx" class="headerlink" title="8.6.5 components/counter.jsx"></a>8.6.5 <code>components/counter.jsx</code></h3><pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;

export default class Counter extends React.Component {

  static propTypes = {
    count: PropTypes.number.isRequired,
    increment: PropTypes.func.isRequired,
    decrement: PropTypes.func.isRequired
  }

  increment = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.increment(number)
  }

  decrement = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.decrement(number)
  }

  incrementIfOdd = () =&gt; {
    const number = this.refs.numSelect.value*1
    let count = this.props.count
    if(count%2===1) {
      this.props.increment(number)
    }
  }

  // Async
  incrementAsync = () =&gt; {
    const number = this.refs.numSelect.value*1
    this.props.incrementAsync(number)
  }

  render () {
    return (
      &lt;div&gt;
        &lt;p&gt;
          click {this.props.count} times {&#39; &#39;}
        &lt;/p&gt;
        &lt;select ref=&quot;numSelect&quot;&gt;
          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;
          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;
          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;
        &lt;/select&gt;{&#39; &#39;}
        &lt;button onClick={this.increment}&gt;+&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.decrement}&gt;-&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.incrementIfOdd}&gt;increment if odd&lt;/button&gt;{&#39; &#39;}
        &lt;button onClick={this.incrementAsync}&gt;increment async&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre>
<h3 id="8-6-6-containers-app-jsx"><a href="#8-6-6-containers-app-jsx" class="headerlink" title="8.6.6 containers/app.jsx"></a>8.6.6 <code>containers/app.jsx</code></h3><pre><code class="jsx">/*
åŒ…å«Counterç»„ä»¶çš„å®¹å™¨ç»„ä»¶
 */
import React from &#39;react&#39;
// å¼•å…¥è¿æ¥å‡½æ•°
import {connect} from &#39;react-redux&#39;
// å¼•å…¥actionå‡½æ•°
import {increment, decrement, incrementAsync} from &#39;../redux/actions&#39;
import Counter from &#39;../components/counter&#39;

// å‘å¤–æš´éœ²è¿æ¥Appç»„ä»¶çš„åŒ…è£…ç»„ä»¶
export default connect(
  state =&gt; ({count: state.counter}),
  {increment, decrement, incrementAsync}
)(Counter)
</code></pre>
<p><code>redux/action-types.js</code></p>
<pre><code class="javascript">export const INCREMENT = &#39;increment&#39;
export const DECREMENT = &#39;decrement&#39;</code></pre>
<h2 id="8-7-ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·"><a href="#8-7-ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·" class="headerlink" title="8.7 ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·"></a>8.7 ä½¿ç”¨ä¸Šreduxè°ƒè¯•å·¥å…·</h2><h3 id="8-7-1-å®‰è£…chromeæµè§ˆå™¨æ’ä»¶"><a href="#8-7-1-å®‰è£…chromeæµè§ˆå™¨æ’ä»¶" class="headerlink" title="8.7.1 å®‰è£…chromeæµè§ˆå™¨æ’ä»¶"></a>8.7.1 å®‰è£…chromeæµè§ˆå™¨æ’ä»¶</h3><p><a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?utm_source=chrome-ntp-icon" target="_blank" rel="noopener">Redux DevTools</a></p>
<h3 id="8-7-2-ä¸‹è½½å·¥å…·ä¾èµ–åŒ…"><a href="#8-7-2-ä¸‹è½½å·¥å…·ä¾èµ–åŒ…" class="headerlink" title="8.7.2 ä¸‹è½½å·¥å…·ä¾èµ–åŒ…"></a>8.7.2 ä¸‹è½½å·¥å…·ä¾èµ–åŒ…</h3><pre><code>npm install --save-dev redux-devtools-extension</code></pre><h3 id="8-7-3-ç¼–ç "><a href="#8-7-3-ç¼–ç " class="headerlink" title="8.7.3 ç¼–ç "></a>8.7.3 ç¼–ç </h3><pre><code class="javascript">import { composeWithDevTools } from &#39;redux-devtools-extension&#39;
const store = createStore(  counter,  composeWithDevTools(applyMiddleware(thunk))
)</code></pre>
<h2 id="8-8-Reduxç‰ˆè¯„è®º"><a href="#8-8-Reduxç‰ˆè¯„è®º" class="headerlink" title="8.8 Reduxç‰ˆè¯„è®º"></a>8.8 Reduxç‰ˆè¯„è®º</h2><h3 id="8-8-1-éœ€æ±‚"><a href="#8-8-1-éœ€æ±‚" class="headerlink" title="8.8.1 éœ€æ±‚"></a>8.8.1 éœ€æ±‚</h3><p>ä½¿ç”¨react_reduxå’Œä¸­é—´ä»¶å®ç°å¼‚æ­¥è¯„è®ºåŠŸèƒ½</p>
<h3 id="8-8-2-å®‰è£…"><a href="#8-8-2-å®‰è£…" class="headerlink" title="8.8.2 å®‰è£…"></a>8.8.2 å®‰è£…</h3><pre><code class="bash">â€¦â€¦
npm install --save react-redux
npm install --save redux-thunk
npm install --save-dev redux-devtools-extension</code></pre>
<h3 id="8-8-3-ç›®å½•ç»“æ„"><a href="#8-8-3-ç›®å½•ç»“æ„" class="headerlink" title="8.8.3 ç›®å½•ç»“æ„"></a>8.8.3 ç›®å½•ç»“æ„</h3><blockquote>
<ul>
<li>REACT_REDUX<ul>
<li>public<ul>
<li>css<ul>
<li>bootstrap.css</li>
</ul>
</li>
<li>index.html</li>
</ul>
</li>
<li>src<ul>
<li>components<ul>
<li>app<ul>
<li>app.jsx</li>
</ul>
</li>
<li>comment-add<ul>
<li>comment-add.jsx</li>
</ul>
</li>
<li>comment-item<ul>
<li>comment-item.jsx</li>
<li>comment-item.css</li>
</ul>
</li>
<li>comment-list<ul>
<li>comment-list.jsx</li>
<li>comment-list.css</li>
</ul>
</li>
</ul>
</li>
<li>redux<ul>
<li>action-types.js</li>
<li>actions.js</li>
<li>reducers.js</li>
<li>store.js</li>
</ul>
</li>
<li>index.js</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="8-8-4-æ–‡ä»¶å†…å®¹"><a href="#8-8-4-æ–‡ä»¶å†…å®¹" class="headerlink" title="8.8.4 æ–‡ä»¶å†…å®¹"></a>8.8.4 æ–‡ä»¶å†…å®¹</h3><ul>
<li><code>public/index.html</code></li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot;&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&gt;
    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;
    &lt;title&gt;React App&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bootstrap.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      You need to enable JavaScript to run this app.
    &lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li><code>src/index.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import ReactDOM from &#39;react-dom&#39;
import {Provider} from &#39;react-redux&#39;

import App from &#39;./components/app/app&#39;
import store from &#39;./redux/store&#39;

// å®šä¹‰æ¸²æŸ“æ ¹ç»„ä»¶æ ‡ç­¾çš„å‡½æ•°
ReactDOM.render(
  (
    &lt;Provider store={store}&gt;
      &lt;App/&gt;
    &lt;/Provider&gt;
  ),
  document.getElementById(&#39;root&#39;)
)
</code></pre>
<ul>
<li><code>src/componets/app/app.jsx</code></li>
</ul>
<pre><code class="jsx">import React from &#39;react&#39;
import {connect} from &#39;react-redux&#39;
import CommentAdd from &#39;../comment-add/comment-add&#39;
import CommentList from &#39;../comment-list/comment-list&#39;
import {getComments} from &#39;../../redux/actions&#39;

class App extends React.Component {

  componentDidMount() {
    //æ¨¡æ‹Ÿå¼‚æ­¥è·å–æ•°æ®
    this.props.getComments()
  }

  render() {
    return (
      &lt;div&gt;
        &lt;header className=&quot;site-header jumbotron&quot;&gt;
          &lt;div className=&quot;container&quot;&gt;
            &lt;div className=&quot;row&quot;&gt;
              &lt;div className=&quot;col-xs-12&quot;&gt;
                &lt;h1&gt;è¯·å‘è¡¨å¯¹Reactçš„è¯„è®º&lt;/h1&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/header&gt;
        &lt;div className=&quot;container&quot;&gt;
          &lt;CommentAdd/&gt;
          &lt;CommentList/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

export default connect(
  null,
  {getComments}
)(App)</code></pre>
<ul>
<li><code>src/componets/comment-add/comment-add.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import {addComment} from &#39;../../redux/actions&#39;
class CommentAdd extends React.Component {
constructor (props) {
  super(props)
  this.state = {
    username: &#39;&#39;,
    content: &#39;&#39;
  }
  this.addComment = this.addComment.bind(this)
  this.changeUsername = this.changeUsername.bind(this)
  this.changeContent = this.changeContent.bind(this)
}
addComment () {
  // æ ¹æ®è¾“å…¥çš„æ•°æ®åˆ›å»ºè¯„è®ºå¯¹è±¡
  let { username, content } = this.state
  let comment = { username, content }
  // æ·»åŠ åˆ°commentsä¸­, æ›´æ–°state
  this.props.addComment(comment)
  // æ¸…é™¤è¾“å…¥çš„æ•°æ®
  this.setState({
    username: &#39;&#39;,
    content: &#39;&#39;
  })
}
changeUsername (event) {
  this.setState({
    username: event.target.value
  })
}
changeContent (event) {
  this.setState({
    content: event.target.value
  })
}
render () {
  return (
    &lt;div className=&quot;col-md-4&quot;&gt;
      &lt;form className=&quot;form-horizontal&quot;&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label&gt;ç”¨æˆ·å&lt;/label&gt;
          &lt;input type=&quot;text&quot; className=&quot;form-control&quot; placeholder=&quot;ç”¨æˆ·å&quot;
                 value={this.state.username} onChange={this.changeUsername}/&gt;
        &lt;/div&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label&gt;è¯„è®ºå†…å®¹&lt;/label&gt;
          &lt;textarea className=&quot;form-control&quot; rows=&quot;6&quot; placeholder=&quot;è¯„è®ºå†…å®¹&quot;
                    value={this.state.content} onChange={this.changeContent}&gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;div className=&quot;col-sm-offset-2 col-sm-10&quot;&gt;
            &lt;button type=&quot;button&quot; className=&quot;btn btn-default pull-right&quot; onClick={this.addComment}&gt;æäº¤&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  )
}
}
CommentAdd.propTypes = {
addComment: PropTypes.func.isRequired
}
export default connect(
null,
{addComment}
)(CommentAdd)</code></pre>
</li>
</ul>
<ul>
<li><code>src/componets/comment-item/comment-item.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import &#39;./commentItem.css&#39;
import {deleteComment} from &#39;../../redux/actions&#39;
class CommentItem extends React.Component {
constructor(props) {
  super(props)
}
deleteComment = () =&gt; {
  let username = this.props.comment.username
  if (window.confirm(`ç¡®å®šåˆ é™¤${username}çš„è¯„è®ºå—?`)) {
    this.props.deleteComment(this.props.index)
  }
}
render() {
  let comment = this.props.comment
  return (
    &lt;li className=&quot;list-group-item&quot;&gt;
      &lt;div className=&quot;handle&quot;&gt;
        &lt;a href=&quot;javascript:&quot; onClick={this.deleteComment}&gt;åˆ é™¤&lt;/a&gt;
      &lt;/div&gt;
      &lt;p className=&quot;user&quot;&gt;&lt;span&gt;{comment.username}&lt;/span&gt;&lt;span&gt;è¯´:&lt;/span&gt;&lt;/p&gt;
      &lt;p className=&quot;centence&quot;&gt;{comment.content}&lt;/p&gt;
    &lt;/li&gt;
  )
}
}
CommentItem.propTypes = {
comment: PropTypes.object.isRequired,
index: PropTypes.number.isRequired,
deleteComment: PropTypes.func.isRequired
}
export default connect(
null,
{deleteComment}
)(CommentItem)
</code></pre>
</li>
</ul>
<pre><code>






- `src/componets/comment-item/comment-item.css`
```css
li {
  transition: .5s;
  overflow: hidden;
}
.handle {
  width: 40px;
  border: 1px solid #ccc;
  background: #fff;
  position: absolute;
  right: 10px;
  top: 1px;
  text-align: center;
}
.handle a {
  display: block;
  text-decoration: none;
}
.list-group-item .centence {
  padding: 0px 50px;
}
.user {
  font-size: 22px;
}</code></pre><ul>
<li><code>src/componets/comment-list/comment-list.jsx</code><pre><code class="jsx">import React from &#39;react&#39;
import PropTypes from &#39;prop-types&#39;
import {connect} from &#39;react-redux&#39;
import CommentItem from &#39;../comment-item/comment-item&#39;
import &#39;./commentList.css&#39;
class CommentList extends React.Component {
render () {
  let comments = this.props.comments
  let display = comments.length &gt; 0 ? &#39;none&#39; : &#39;block&#39;
  return (
    &lt;div className=&quot;col-md-8&quot;&gt;
      &lt;h3 className=&quot;reply&quot;&gt;è¯„è®ºå›å¤ï¼š&lt;/h3&gt;
      &lt;h2 style=åŒå¤§æ‹¬å· display: display åŒå¤§æ‹¬å·&gt;æš‚æ— è¯„è®ºï¼Œç‚¹å‡»å·¦ä¾§æ·»åŠ è¯„è®ºï¼ï¼ï¼&lt;/h2&gt;
      &lt;ul className=&quot;list-group&quot;&gt;
        {
          comments.map((comment, index) =&gt; {
            console.log(comment)
            return &lt;CommentItem comment={comment} key={index} index={index}/&gt;
          })
        }
      &lt;/ul&gt;
    &lt;/div&gt;
  )
}
}
CommentList.propTypes = {
comments: PropTypes.array.isRequired,
}
export default connect(
state =&gt; ({comments: state.comments})
)(CommentList)</code></pre>
</li>
</ul>
<ul>
<li><code>src/componets/comment-list/comment-list.css</code><pre><code class="css">.reply {
margin-top: 0px;
}</code></pre>
</li>
</ul>
<ul>
<li><code>redux/action-types.js</code><pre><code class="javascript">export const ADD_COMMENT = &#39;ADD_COMMENT&#39;
export const DELETE_COMMENT = &#39;DELETE_COMMENT&#39;
export const RECEIVE_COMMENTS = &#39;RECEIVE_COMMENTS&#39;</code></pre>
</li>
</ul>
<ul>
<li><code>redux/actions.js</code><pre><code class="javascript">import {
ADD_COMMENT,
DELETE_COMMENT,
RECEIVE_COMMENTS
} from &#39;./action-types&#39;
export const addComment = (comment) =&gt; ({type: ADD_COMMENT, data: comment})
export const deleteComment = (index) =&gt; ({type: DELETE_COMMENT, data: index})
const receiveComments = (comments) =&gt; ({type: RECEIVE_COMMENTS, data: comments})
export const getComments = () =&gt; {
return dispatch =&gt; {
  setTimeout(() =&gt; {
    const comments = [
      {
        username: &quot;Tom&quot;,
        content: &quot;ReactJSå¥½éš¾å•Š!&quot;,
        id: Date.now()
      },
      {
        username: &quot;JACK&quot;,
        content: &quot;ReactJSè¿˜ä¸é”™!&quot;,
        id: Date.now() + 1
      }
    ]
    dispatch(receiveComments(comments))
  }, 1000)
}
}</code></pre>
</li>
</ul>
<ul>
<li><code>redux/reducers.js</code></li>
</ul>
<pre><code class="javascript">import {combineReducers} from &#39;redux&#39;
import {
  ADD_COMMENT,
  DELETE_COMMENT,
  RECEIVE_COMMENTS
} from &#39;./action-types&#39;
const initComments = []
function comments(state = initComments, action) {
  switch (action.type) {
    case ADD_COMMENT:
      return [...state, action.data]
    case DELETE_COMMENT:
      return state.filter((c, index) =&gt; index !== action.data)
    case RECEIVE_COMMENTS:
      return action.data
    default:
      return state
  }
}
export default combineReducers({
  comments
})</code></pre>
<ul>
<li><code>redux/store.js</code></li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;
import {createStore, applyMiddleware} from &#39;redux&#39;
import thunk from &#39;redux-thunk&#39;
import {composeWithDevTools} from &#39;redux-devtools-extension&#39;
import reducers from &#39;./reducers&#39;
// æ ¹æ®counterå‡½æ•°åˆ›å»ºstoreå¯¹è±¡
export default createStore(
  reducers,
  composeWithDevTools(applyMiddleware(thunk)) // åº”ç”¨ä¸Šå¼‚æ­¥ä¸­é—´ä»¶
)</code></pre>
<h2 id="8-9-ç›¸å…³é‡è¦çŸ¥è¯†-çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°"><a href="#8-9-ç›¸å…³é‡è¦çŸ¥è¯†-çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°" class="headerlink" title="8.9 ç›¸å…³é‡è¦çŸ¥è¯†: çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°"></a>8.9 ç›¸å…³é‡è¦çŸ¥è¯†: çº¯å‡½æ•°å’Œé«˜é˜¶å‡½æ•°</h2><h3 id="8-9-1-çº¯å‡½æ•°"><a href="#8-9-1-çº¯å‡½æ•°" class="headerlink" title="8.9.1 çº¯å‡½æ•°"></a>8.9.1 çº¯å‡½æ•°</h3><p>1)     ä¸€ç±»ç‰¹åˆ«çš„å‡½æ•°: åªè¦æ˜¯åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡º</p>
<p>2)    å¿…é¡»éµå®ˆä»¥ä¸‹ä¸€äº›çº¦æŸ </p>
<p>a.    ä¸å¾—æ”¹å†™å‚æ•°</p>
<p>b.    ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/O çš„API</p>
<p>c.    èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.random()ç­‰ä¸çº¯çš„æ–¹æ³• </p>
<p>3)     reducerå‡½æ•°å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°</p>
<h3 id="8-9-2-é«˜é˜¶å‡½æ•°"><a href="#8-9-2-é«˜é˜¶å‡½æ•°" class="headerlink" title="8.9.2 é«˜é˜¶å‡½æ•°"></a>8.9.2 é«˜é˜¶å‡½æ•°</h3><p>4)     ç†è§£: ä¸€ç±»ç‰¹åˆ«çš„å‡½æ•°</p>
<p>a.     æƒ…å†µ1: å‚æ•°æ˜¯å‡½æ•°</p>
<p>b.     æƒ…å†µ2: è¿”å›æ˜¯å‡½æ•°</p>
<p>5)         å¸¸è§çš„é«˜é˜¶å‡½æ•°: </p>
<p>a.     å®šæ—¶å™¨è®¾ç½®å‡½æ•°</p>
<p>b.     æ•°ç»„çš„map()/filter()/reduce()/find()/bind()</p>
<p>c.     react-reduxä¸­çš„connectå‡½æ•°</p>
<p>6)         ä½œç”¨: </p>
<p>â€‹     èƒ½å®ç°æ›´åŠ åŠ¨æ€, æ›´åŠ å¯æ‰©å±•çš„åŠŸèƒ½</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
  </article>

  <div class="nexmoe-post-meta">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/%E7%AC%94%E8%AE%B0/">ç¬”è®°</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a>
    
    
        <a class="nexmoefont icon-tag-fill -link" href="/tags/React/" rel="tag">React</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">å‰ç«¯</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag">æ¡†æ¶</a>
    
</div>

  <div class="nexmoe-post-footer">
    <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸ<i class="fa fa-paw"></i>æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------</div>
    
      <!-- 
  <div class="nexmoe-post-copyright">
    <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Luwang<br>
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://blog.wallleap.cn/2020/07/12/React/" title="https:&#x2F;&#x2F;blog.wallleap.cn&#x2F;2020&#x2F;07&#x2F;12&#x2F;React&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;blog.wallleap.cn&#x2F;2020&#x2F;07&#x2F;12&#x2F;React&#x2F;</a><br>
    
      <strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬æ–‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> åè®®è¿›è¡Œè®¸å¯
    
  </div>
 -->

  <div class="my_post_copyright">
    <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script> 
    <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <p><span>æœ¬æ–‡æ ‡é¢˜:</span>Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°</a></p>
    <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® {{ theme.author }} çš„ä¸ªäººåšå®¢">luwang</a></p>
    <p><span>å‘å¸ƒæ—¶é—´:</span>2020å¹´07æœˆ12æ—¥ - 16:07</p>
    <p><span>æœ€åæ›´æ–°:</span>2020å¹´07æœˆ15æ—¥ - 18:07</p>
    <p><span>åŸå§‹é“¾æ¥:</span><a href="/2020/07/12/React/" title="Reactå…¨å®¶æ¡¶(æŠ€æœ¯æ ˆ)å­¦ä¹ ç¬”è®°">https://blog.wallleap.cn/2020/07/12/React/</a>
    <span class="copy-path"  title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard" data-clipboard-text="https://blog.wallleap.cn/2020/07/12/React/"  aria-label="å¤åˆ¶æˆåŠŸï¼"></i></span>
    </p>
    <p><span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>  
  </div>
  <script> 
      var clipboard = new Clipboard('.fa-clipboard');
        $(".fa-clipboard").click(function(){
        clipboard.on('success', function(){
          swal({   
            title: "",   
            text: 'å¤åˆ¶æˆåŠŸ',
            icon: "success", 
            showConfirmButton: true
            });
          });
      });  
    </script>
  

  
    
    <!-- <div style="text-align:center;color: #ccc;font-size:14px;margin-top: 46px;">-------------å–œæ¬¢å°±åˆ†äº«<i class="fa fa-paw"></i>ç–¼çˆ±å°±æ‰“èµ-------------</div>
    <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
    <footer class="post-footer">
        <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a></div>
        <div class="post-tags">
        </div>
        <div class="post-share">
          <div class="social-share sharehidden share-component"></div>
          <i class="iconfont show-share icon-forward"></i>
        </div>
      </footer>.entry-footer -->
    
      <style>
/* .list, .list li, .list-left li {
	list-style: none;
	list-style-type: none;
	margin: 0px;
	padding: 0px;
} 
.pos-f {
	position: fixed;
} 
*/

.left-100 {
	width: 100%;
    height: 100%;
    float: left;
}
.blur {
	-webkit-filter: blur(3px);
	filter: blur(3px);
}
.tr3, .list li {
	transition: all .3s;
}
.hidden {
    display: none;
}
.click-cursor, .icon-donate, .list li {
    cursor: pointer;
}
#drinks-box .opacity-show {
    opacity: 1;
}
#drinks-box {
    width: 320px;
    height: 240px;
    margin: 0 auto;
	text-align: center;
	/* left: calc(50% - 160px);
	top: calc(50% - 120px);
    position: fixed; */
    position: relative;
    top:0;
    left: 0;
}
#drinks-icons {
    background: no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/text.png);
}
.drinks-button>div {
    position: absolute;
    top: 0;
    left: 0;
	transition: all 0.3s;
	transform-style: preserve-3d;
    transform-origin: center center;
}
.icon-donate {
    width: 64px;
    height: 64px;
    position: absolute;
	left: calc(50% - 32px);
	top: calc(50% - 32px);
}
.icon-donate img {
    max-width: 64px;
    max-height: 64px;
}
#drinks-button-box {
    display: none;
    opacity: 0;
    transform: scale(1.3,1.3);
}
#drinks-button-bg {
    position: absolute;
    top: 70px;
    left: 0;
    height: 100px;
    opacity: 0;
}
#donate-buttons {
    position: absolute;
    overflow: hidden;
    top: calc(50% - 14px);
    left: 20px;
    height: 28px;
    border-radius: 6px;
    background-color: #ff006e;
    box-shadow: 0 10px 20px 1px rgba(255, 0, 110, 0.5);
}
#donate-buttons a, #github-box a {
    display: block;
}
li[id$="_donate"] {
    position: relative;
    float: left;
    width: 70px;
    height: 28px;
    line-height: 600px;
    overflow: hidden;
	cursor: pointer;
	background: no-repeat center center;
    background-size: 45px;
    text-align: center;
}
li[id$="_donate"]::after {
    content: "";
    position: absolute;
    top: -5px;
    left: calc(50% - 5px);
    height: 0;
    width: 0;
    opacity: 0;
	border: 5px solid #fff;
	border-color: #fff transparent transparent transparent;
    transition: all .3s;
}
li[id$="_donate"]:hover::after {
    opacity: 1;
    top: 0px;
}
#github-box {
    width: 32px;
    height: 32px;
    position: absolute;
    top: calc(50% - 16px);
    background: no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/github.svg);
    background-size: contain;
    right: 72px;
    line-height: 600px;
    overflow: hidden;
    transform: rotatez(20deg );
    opacity: 0;
    transition: all .3s ease-out;
}
#drinks-button-box:hover #github-box, #drinks-button-box.Mobile #github-box {
    top: calc(50% - 40px);
    right: 64px;
    transform: rotatez(5deg );
    opacity: 0.8;
}
#paypal_donate {
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iUGF5UGFsIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiAxNDUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiAxNDU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00OS41LDcyLjljLTMuNywwLTcuMywwLTExLDBjLTEuOCwwLTMuMSwwLjctMy42LDIuNmMtMS4yLDQuMi02LjMsMjIuOS03LjYsMjguMWMtMC43LDIuNy0yLjEsMy44LTQuOSwzLjgNCgljLTUuNywwLTExLjUsMC0xNy4yLDBjLTMuMSwwLTQuNC0xLjQtMy45LTQuNGMwLjQtMi42LDE1LjQtNjcuMiwyMi4zLTk2LjlDMjQuNiwyLjMsMjYuMiwxLDMwLjIsMWMxMC43LDAsNDMuNCwwLjIsNDkuMSwwLjINCglDOTMuNywxLjMsMTA1LjUsMTIuNywxMDYsMjdjMC4zLDkuNi0xLjUsMTguNy02LjksMjYuOGMtNS4zLDcuOS0xMi44LDEyLjgtMjEuNywxNS43QzY4LjMsNzIuNSw1OSw3My40LDQ5LjUsNzIuOXogTTUwLjIsNTMNCgljMi42LTAuMiw0LjctMC4zLDYuOC0wLjVjNS4zLTAuNiwxMC40LTIsMTQuOC01LjNjNS0zLjgsNi43LTksNS43LTE1LjFjLTAuOS01LjYtNC42LTguNi05LjctMTAuM0M2Mi42LDIwLDU3LjIsMjAsNTEuOCwyMC40DQoJYy0yLjcsMC4yLTQuNSwxLjctNS4yLDQuNWMtMC42LDIuNi0xLjUsNS4yLTIuMSw3LjhjLTEuMSw0LjgtMi4yLDkuNy0zLjEsMTQuNmMtMC42LDMuMSwwLjUsNC43LDMuNSw1LjINCglDNDYuOCw1Mi45LDQ4LjcsNTIuOSw1MC4yLDUzeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIwMywxNDMuNmMzLjEsMCw2LjItMC4xLDkuMywwYzIsMC4xLDMuNS0wLjUsNC43LTIuMmMxLjktMi44LDYzLjQtMTAyLjksNjguNS0xMTEuN2MxLjMtMi4yLDAuNS00LTEuOS00DQoJYy02LjctMC4xLTEzLjUsMC0yMC4yLDAuMWMtMS43LDAtMywwLjktNCwyLjVjLTQuOCw3LjgtMjQuMywzOS4yLTI5LjMsNDcuMmMtMC4zLDAuNS0xLjEsMS0xLjUsMC45Yy0wLjYtMC4xLTEuMS0wLjgtMS41LTEuMw0KCWMtMC4yLTAuMy0wLjItMC43LTAuMy0xLjFjLTAuNy0zLjgtNS4zLTMyLjEtNy00Mi40Yy0wLjctNC40LTIuOS02LjEtNy4zLTYuMWMtNC42LDAtOS4yLDAuMi0xMy44LDAuM2MtMy42LDAuMS01LjYsMi40LTUuMSw1LjkNCgljMC4zLDEuOSwxMi40LDY2LjcsMTQuNSw3Ny40YzAuMSwwLjUsMC4yLDEsMC4xLDEuNGMtMC41LDEuNC0wLjksMi44LTEuNiw0Yy00LjcsNy41LTkuNSwxNS0xNC4yLDIyLjVjLTAuNCwwLjctMC45LDEuNC0xLjEsMi4xDQoJYy0wLjYsMi41LTAuOCw0LjIsMi45LDQuMkMxOTcsMTQzLjMsMjAzLDE0My41LDIwMywxNDMuNnoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDkuOCw5OS4yYy0xLjYsMC45LTIuOCwxLjUtMy45LDIuMWMtMi45LDEuNi01LjcsMy4xLTguNiw0LjhjLTUuNCwzLjItMTEuMywzLjktMTcuMywzLjcNCgljLTMuMS0wLjEtNi4yLTAuNC05LjEtMS4yYy03LjctMi0xMi4zLTctMTMuMi0xNS4xYy0wLjgtNi42LTAuMS0xMy4xLDMuMy0xOWMzLjgtNi43LDkuOS0xMC4zLDE2LjktMTIuNmM2LjMtMi4xLDEyLjktMi42LDE5LjUtMi43DQoJYzUuMi0wLjEsMTAuNC0wLjMsMTUuNy0wLjRjMC42LDAsMS4yLTAuMiwxLjgtMC4xYzIuNSwwLjEsMy42LTEuNSw0LTMuNmMwLjMtMS43LDAuNi0zLjYsMC40LTUuM2MtMC40LTMuNS0yLjMtNS43LTUuOC02DQoJYy00LjMtMC41LTguNi0wLjctMTIuOS0wLjZjLTYuMywwLjItMTIuNSwxLTE4LjUsMi44Yy0wLjksMC4zLTEuOCwwLjctMi44LDEuMWMtMi40LDEtNC42LTAuMi00LjQtMi43YzAuMy00LjEsMC44LTguMiwxLjctMTIuMg0KCWMwLjUtMi4yLDIuNC0zLjYsNC43LTRjNy44LTEuNiwxNS43LTIuNCwyMy43LTIuN2M2LjUtMC4yLDEyLjksMCwxOS4yLDEuNWM1LjgsMS4zLDEwLjYsNC4zLDE0LjcsOC41YzQuNCw0LjYsNS45LDEwLjIsNC44LDE2LjMNCgljLTIuMSwxMS4zLTkuNCw0NS41LTEwLjcsNTEuNGMtMC42LDIuOS0yLjMsNC40LTUuMyw0LjVjLTUuNSwwLjItMTEsMC4yLTE2LjUsMC4zYy0xLjYsMC0yLjEtMC42LTItMi4yDQoJQzE0OS41LDEwMy41LDE0OS43LDEwMS42LDE0OS44LDk5LjJ6IE0xNDcuNyw3MC4xYzAsMCwwLDAuMSwwLDAuMWMtMi41LDAuMi00LjksMC4zLTcuNCwwLjVjLTQuMSwwLjQtOC4xLDEuMS0xMS44LDIuOQ0KCWMtNC45LDIuNC02LjksNS44LTYuNiwxMS4zYzAuMyw0LjksMy4zLDguMSw4LjIsOC43YzQsMC41LDcuOSwwLjEsMTEuNy0wLjdjMy4xLTAuNiw1LjktMiw3LjktNC41YzMuOC00LjcsNS0xMC4yLDUtMTYuMQ0KCWMwLTEuNC0wLjktMi4xLTIuMy0yLjJDMTUwLjksNzAuMSwxNDkuMyw3MC4xLDE0Ny43LDcwLjF6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzI1LjksNzIuOWMtMy42LDAtNy4zLDAtMTEsMGMtMS44LDAtMy4xLDAuNy0zLjYsMi42Yy0xLjIsNC4yLTYuMywyMi45LTcuNiwyOC4xYy0wLjcsMi43LTIuMSwzLjgtNC45LDMuOA0KCWMtNS43LDAtMTEuNSwwLTE3LjIsMGMtMy4xLDAtNC40LTEuNC0zLjktNC40YzAuNC0yLjYsMTUuNC02Ny4yLDIyLjMtOTYuOWMwLjktMy45LDIuNi01LjIsNi42LTUuMmMxMC43LDAsNDMuNCwwLjIsNDkuMSwwLjINCglDMzcwLDEuMywzODEuOCwxMi43LDM4Mi4zLDI3YzAuMyw5LjYtMS41LDE4LjctNi45LDI2LjhjLTUuMyw3LjktMTIuOCwxMi44LTIxLjcsMTUuN0MzNDQuNiw3Mi41LDMzNS4zLDczLjQsMzI1LjksNzIuOXogTTMyNi41LDUzDQoJYzIuNi0wLjIsNC43LTAuMyw2LjgtMC41YzUuMy0wLjYsMTAuNC0yLDE0LjgtNS4zYzUtMy44LDYuNy05LDUuNy0xNS4xYy0wLjktNS42LTQuNi04LjYtOS43LTEwLjNjLTUuMi0xLjctMTAuNi0xLjgtMTYuMS0xLjMNCgljLTIuNywwLjItNC41LDEuNy01LjIsNC41Yy0wLjYsMi42LTEuNSw1LjItMi4xLDcuOGMtMS4xLDQuOC0yLjIsOS43LTMuMSwxNC42Yy0wLjYsMy4xLDAuNSw0LjcsMy41LDUuMg0KCUMzMjMuMSw1Mi45LDMyNSw1Mi45LDMyNi41LDUzeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQyNS41LDk5LjJjLTEsMC40LTEuNiwwLjYtMi4yLDAuOWMtNC41LDIuNC05LjEsNC44LTEzLjYsNy4yYy00LjQsMi4zLTkuMiwyLjYtMTQsMi42Yy00LDAtOC0wLjUtMTEuOC0yLjENCgljLTYuNi0yLjgtMTAtNy45LTEwLjctMTQuOWMtMC41LTQuOS0wLjEtOS44LDEuNi0xNC40YzIuOC03LjksOC44LTEyLjcsMTYuNC0xNS43YzYuOS0yLjYsMTQtMy40LDIxLjMtMy41DQoJYzUuNi0wLjEsMTEuMy0wLjMsMTYuOS0wLjVjMy41LTAuMSw0LjMtMC43LDUuMS00LjFjMC40LTEuNywwLjUtMy41LDAuNC01LjJjLTAuMy0zLjItMi4zLTUuNC01LjctNS45Yy0zLjctMC41LTcuNS0wLjgtMTEuMi0wLjcNCgljLTcsMC4yLTEzLjksMS0yMC42LDIuOWMtMC44LDAuMi0xLjYsMC42LTIuNCwxYy0yLjYsMS4yLTQuOCwwLTQuNS0yLjhjMC4zLTMuOCwwLjgtNy42LDEuNS0xMS40YzAuNC0yLjMsMi0zLjksNC40LTQuMw0KCWM0LjgtMC44LDkuNi0xLjgsMTQuNS0yLjFjNi4xLTAuNSwxMi4zLTAuNywxOC41LTAuNmM4LDAuMiwxNS42LDEuNywyMi4xLDdjMy45LDMuMiw2LjksNi45LDcuOCwxMmMwLjYsMy42LDAuMiw3LjItMC41LDEwLjcNCgljLTMuMywxNS41LTYuNiwzMS05LjksNDYuNWMtMC45LDQuMS0yLjMsNS40LTYuNCw1LjVjLTUuMSwwLjItMTAuMiwwLjItMTUuMiwwLjNjLTEuOCwwLTIuMi0wLjQtMi4xLTIuMg0KCUM0MjUuMywxMDMuNSw0MjUuNCwxMDEuNiw0MjUuNSw5OS4yeiBNNDI1LjgsNzAuMWMtMy4yLDAuMi02LjcsMC4zLTEwLjIsMC43Yy00LDAuNC03LjksMS4yLTExLjQsMy4xYy0zLjMsMS43LTUuNiw0LjMtNiw4LjENCgljLTAuNiw1LjMsMS4yLDEwLjksOC40LDExLjdjNC4zLDAuNSw4LjQsMC4xLDEyLjUtMC45YzMuOC0wLjksNi44LTMuMiw4LjctNi42YzIuMy00LDMuMi04LjQsMy40LTEyLjljMC4xLTIuMy0wLjktMy4xLTMuMi0zLjINCglDNDI3LjQsNzAsNDI2LjcsNzAuMSw0MjUuOCw3MC4xeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ4NC40LDEwNy40YzIuMy0wLjEsMi44LTAuNSwzLjMtMi41YzIuMS04LjcsMTcuNS03NC4xLDIzLjItOTguMWMwLjYtMi42LTEuMi00LjktNC00LjkNCgljLTUuNCwwLTEwLjgtMC4xLTE2LjItMC4xYy0zLjMsMC00LjksMS4yLTUuNiw0LjRjLTEuMiw0LjgtMjAuNyw5My45LTIxLjMsOThjLTAuMywyLDAuOCwyLjksMi45LDIuOQ0KCUM0NjkuNSwxMDcuMiw0ODIuOSwxMDcuNCw0ODQuNCwxMDcuNHoiLz4NCjwvc3ZnPg0K);
}
#btc_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMzAzLjYgMjc0LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEzMDMuNiAyNzQuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEzNi42LDkzLjZsLTcuNSwzMC4xYzguNSwyLjEsMzQuNywxMC44LDM5LTYuMkMxNzIuNSw5OS43LDE0NS4xLDk1LjcsMTM2LjYsOTMuNnoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTcwLjUsNC4xQzk3LTE0LjIsMjIuNSwzMC41LDQuMiwxMDQuMWMtMTguMyw3My41LDI2LjQsMTQ4LDk5LjksMTY2LjNjNzMuNiwxOC4zLDE0OC0yNi40LDE2Ni40LTk5LjkNCgkJQzI4OC44LDk2LjksMjQ0LDIyLjQsMTcwLjUsNC4xeiBNMTk3LjgsMTE3LjdjLTIsMTMuNC05LjQsMTkuOC0xOS4yLDIyLjFjMTMuNSw3LDIwLjQsMTcuOCwxMy44LDM2LjUNCgkJYy04LjEsMjMuMi0yNy40LDI1LjItNTMuMSwyMC4zbC02LjIsMjVsLTE1LjEtMy44bDYuMS0yNC42Yy0zLjktMS03LjktMi0xMi0zLjFsLTYuMiwyNC44bC0xNS0zLjhsNi4yLTI1DQoJCWMtMy41LTAuOS03LjEtMS45LTEwLjctMi44bC0xOS42LTQuOWw3LjUtMTcuMmMwLDAsMTEuMSwyLjksMTAuOSwyLjdjNC4zLDEuMSw2LjItMS43LDYuOS0zLjZsOS45LTM5LjVjMC42LDAuMSwxLjEsMC4zLDEuNiwwLjQNCgkJYy0wLjYtMC4yLTEuMS0wLjQtMS42LTAuNWw3LTI4LjJjMC4yLTMuMi0wLjktNy4yLTctOC44YzAuMi0wLjItMTAuOS0yLjctMTAuOS0yLjdsNC0xNi4xbDIwLjgsNS4ydjAuMWMzLjEsMC44LDYuMywxLjUsOS42LDIuMw0KCQlsNi4yLTI0LjdsMTUuMSwzLjhsLTYsMjQuM2M0LDAuOSw4LjEsMS45LDEyLjEsMi44bDYtMjQuMWwxNS4xLDMuOEwxNjcuNiw4M0MxODYuNiw4OS42LDIwMC41LDk5LjQsMTk3LjgsMTE3Ljd6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyOTQuMiwxMDcuMmMtMTAuMy0xNS43LTI4LjktMjMuNS01NS45LTIzLjVjLTkuMiwwLTE3LjUsMC40LTI0LjcsMS4yYy03LjMsMC44LTEzLjksMS44LTE5LjcsMy4xDQoJCWMtNS45LDEuMi0xMS4yLDIuNi0xNS45LDQuMWMtNC43LDEuNS05LjEsMi45LTEyLjksNGwtNDEuOSwxNzMuNmg1MS41bDMzLjYtMTQwLjdjNi45LTEuNCwxMy43LTIuMSwyMC40LTIuMWM2LjksMCwxMiwxLjMsMTUuNCw0DQoJCWMzLjMsMi43LDUuNSw2LjIsNi40LDEwLjRjMSw0LjMsMSw5LjIsMC4yLDE0LjlzLTEuOSwxMS41LTMuMywxNy41bC0yMi44LDk2LjFoNTEuNWwyMy41LTk4LjINCgkJQzEzMDYuMywxNDQuNCwxMzA0LjUsMTIyLjksMTI5NC4yLDEwNy4yeiIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMTA3Ni42LDg3LjkgMTAzMy40LDI2OS44IDEwODQuNiwyNjkuOCAxMTI4LjIsODcuOSAJIi8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwOTAuMiw1OS4zYzUuNyw0LjMsMTIuMiw2LjQsMTkuMyw2LjRjNC45LDAsOS40LTAuOSwxMy43LTIuOGM0LjMtMS44LDgtNC4zLDExLjItNy40DQoJCWMzLjItMy4xLDUuOC02LjgsNy44LTExLjFjMS45LTQuMywzLTguOCwzLTEzLjdjMC04LjctMi45LTE1LjMtOC43LTE5LjVjLTUuOC00LjMtMTIuMi02LjQtMTkuNC02LjRjLTQuOCwwLTkuNCwwLjktMTMuNiwyLjgNCgkJcy04LDQuMy0xMS4yLDcuNHMtNS44LDYuOC03LjgsMTEuMXMtMi45LDguOC0yLjksMTMuNkMxMDgxLjUsNDguNiwxMDg0LjQsNTUuMSwxMDkwLjIsNTkuM3oiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTIwLjYsNTkuM2M1LjcsNC4zLDEyLjIsNi40LDE5LjQsNi40YzQuOCwwLDkuNC0wLjksMTMuNy0yLjhjNC4yLTEuOCw4LTQuMywxMS4yLTcuNA0KCQljMy4yLTMuMSw1LjgtNi44LDcuOC0xMS4xczIuOS04LjgsMi45LTEzLjdjMC04LjctMi45LTE1LjMtOC42LTE5LjVjLTUuOC00LjMtMTIuMi02LjQtMTkuMy02LjRjLTQuOSwwLTkuNCwwLjktMTMuNywyLjgNCgkJcy04LDQuMy0xMS4yLDcuNHMtNS44LDYuOC03LjgsMTEuMWMtMiw0LjMtMyw4LjktMywxMy43QzUxMiw0OC42LDUxNC45LDU1LjEsNTIwLjYsNTkuM3oiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTI1LjMsMTM4LjhMMTE3LDE3MmMxMC4yLDIuNSw0MS43LDEyLjcsNDYuNC02LjFDMTY4LjIsMTQ2LjQsMTM1LjUsMTQxLjQsMTI1LjMsMTM4Ljh6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTgwOC4xLDEyNi42YzcuMiwwLDEzLjIsMC43LDE4LjIsMi4zYzUsMS41LDkuNywzLjEsMTQuNCw1bDE3LjctNDAuMWMtNi43LTMuMi0xNC4xLTUuOC0yMi4zLTcuOA0KCQlzLTE3LjQtMy0yNy44LTNjLTE2LjYsMC0zMS43LDMtNDUuMSw5Yy0xMy41LDYtMjUsMTQuMi0zNC40LDI0LjVjLTkuNSwxMC40LTE2LjcsMjIuNS0yMS44LDM2LjNjLTUuMSwxMy44LTcuNiwyOC42LTcuNiw0NC4zDQoJCWMwLDEwLjQsMS41LDIwLjMsNC4zLDI5LjdjMi45LDkuNSw3LjUsMTcuNywxNCwyNC43YzYuNSw3LDE0LjYsMTIuNiwyNC41LDE2LjhjOS45LDQuMSwyMiw2LjIsMzYuMyw2LjJjMTAuOCwwLDIwLjItMSwyOC0yLjkNCgkJYzcuOC0yLDE1LTQuMywyMS40LTYuOGwtMy44LTQxLjFjLTQuOSwyLjEtMTAuNCwzLjgtMTYuNiw1LjJjLTYuMiwxLjQtMTIuNywyLjEtMTkuNCwyLjFjLTEzLjYsMC0yMi45LTMuNi0yOC0xMC45DQoJCWMtNS4xLTcuMy03LjYtMTYuOC03LjYtMjguNWMwLTE5LjgsNS0zNS42LDE1LjEtNDcuNEM3NzcuNSwxMzIuNSw3OTEsMTI2LjYsODA4LjEsMTI2LjZ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMTEuMSwxMDQuMWMtNS45LTYuNy0xMy40LTExLjktMjIuNS0xNS42cy0xOS43LTUuNi0zMS43LTUuNmMtMTYuMywwLTMwLjksMy41LTQzLjUsMTAuNQ0KCQljLTEyLjcsNy4xLTIzLjQsMTYuMS0zMi4xLDI3LjJjLTguOCwxMS4xLTE1LjQsMjMuNS0xOS45LDM3LjNzLTYuNywyNy43LTYuNyw0MS41YzAsMTEsMS41LDIxLjEsNC41LDMwLjJjMyw5LjEsNy40LDE3LDEzLjMsMjMuNw0KCQljNS45LDYuNywxMy4zLDExLjksMjIuMywxNS42YzksMy43LDE5LjYsNS41LDMxLjgsNS41YzE2LjgsMCwzMS43LTMuNSw0NC40LTEwLjZjMTIuOC03LDIzLjUtMTYuMSwzMi0yNy4xDQoJCWM4LjUtMTEuMSwxNS0yMy41LDE5LjQtMzcuM2M0LjQtMTMuOSw2LjYtMjcuNyw2LjYtNDEuNWMwLTExLjEtMS41LTIxLjItNC41LTMwLjJDMTAyMS40LDExOC43LDEwMTYuOSwxMTAuOCwxMDExLjEsMTA0LjF6DQoJCSBNOTc0LjgsMTg1LjljLTIsOC00LjksMTUuMy04LjgsMjJjLTMuOSw2LjctOC44LDEyLjItMTQuNSwxNi42Yy01LjgsNC40LTEyLjQsNi42LTIwLjEsNi42Yy05LjcsMC0xNi40LTMuMi0yMC4xLTkuNw0KCQljLTMuNy02LjUtNS41LTE1LjUtNS41LTI3YzAtNy4yLDEtMTQuNywyLjktMjIuNmMyLTcuOSw0LjktMTUuMyw4LjgtMjJjMy45LTYuNyw4LjctMTIuMiwxNC41LTE2LjZjNS43LTQuNCwxMi40LTYuNiwyMC02LjYNCgkJYzkuNywwLDE2LjQsMy4yLDIwLjEsOS43YzMuNyw2LjUsNS42LDE1LjUsNS42LDI3Qzk3Ny43LDE3MC40LDk3Ni43LDE3OCw5NzQuOCwxODUuOXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjE4LjgsMTkzLjdsMTUuMi02My42aDU3bDEwLjQtNDIuMkg2NDRsMTMuMi01My42bC01My42LDguM2wtMzMuOSwxNDMuMmMtMi44LDExLjgtNC40LDIyLjktNC44LDMzLjUNCgkJYy0wLjUsMTAuNiwxLjIsMjAsNC44LDI4LjJjMy43LDguMiw5LjksMTQuNywxOC43LDE5LjRjOC44LDQuNywyMS4xLDcuMSwzNyw3LjFjMTEuMSwwLDIwLjYtMC45LDI4LjctMi44YzguMS0xLjgsMTUuNi00LDIyLjUtNi42DQoJCWwtMy44LTM5LjRjLTUuMywxLjktMTAuNSwzLjMtMTUuNyw0LjNzLTEwLjYsMS42LTE2LjEsMS42Yy02LjcsMC0xMS44LTAuOS0xNS40LTIuOGMtMy42LTEuOC02LjEtNC40LTcuNC03LjgNCgkJYy0xLjQtMy4zLTItNy4zLTEuNy0xMS45QzYxNi42LDIwMy45LDYxNy40LDE5OSw2MTguOCwxOTMuN3oiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjQ2My45LDI2OS44IDUxNS4xLDI2OS44IDU1OC43LDg3LjkgNTA3LjEsODcuOSAJIi8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ0NCwxMDUuOGMtNS40LTYuNy0xMi0xMi0yMC4xLTE1LjljLTgtMy45LTE3LjYtNS45LTI4LjctNS45Yy01LjMsMC0xMC4yLDAuNi0xNC45LDEuNw0KCQljLTQuNiwxLjItOS4yLDIuOC0xMy44LDQuOGwyMS40LTg5LjJsLTUzLjYsOC4zTDI3NC41LDI2MWM2LjcsMy4yLDEzLjgsNS44LDIxLjMsNy42YzcuNSwxLjksMTQuNiwzLjIsMjEuMyw0LjINCgkJYzYuNywwLjksMTIuNiwxLjQsMTcuOCwxLjVjNS4yLDAuMSw4LjgsMC4yLDEwLjksMC4yYzE2LjEsMCwzMS4xLTMuMSw0NC45LTkuMnMyNS44LTE0LjQsMzYtMjQuOXMxOC4yLTIyLjgsMjQtMzcNCgkJYzUuOS0xNC4yLDguOC0yOS4yLDguOC00NS4xYzAtMTAuNC0xLjMtMjAtMy44LTI5QzQ1My4yLDEyMC40LDQ0OS4zLDExMi41LDQ0NCwxMDUuOHogTTQwMy45LDE4OC4xYy0zLDguMy03LjEsMTUuNy0xMi4zLDIyLjMNCgkJYy01LjIsNi42LTExLjQsMTEuOC0xOC41LDE1LjdzLTE0LjcsNS45LTIyLjgsNS45Yy0yLjUsMC00LjYsMC02LjIsMHMtMy0wLjEtNC4yLTAuMmMtMS4xLTAuMS0yLjItMC4zLTMuMy0wLjUNCgkJYy0xLTAuMi0yLjMtMC40LTMuNi0wLjdsMjIuOC05NC43YzQuMi0zLjcsOC44LTYuMSwxNC03LjNjNS4yLTEuMSw5LjQtMS43LDEyLjYtMS43YzkuOSwwLDE2LjcsMy4xLDIwLjQsOS4zDQoJCWMzLjcsNi4yLDUuNSwxNC45LDUuNSwyNS45QzQwOC40LDE3MS4yLDQwNi45LDE3OS44LDQwMy45LDE4OC4xeiIvPg0KPC9nPg0KPC9zdmc+DQo=);
}
#alipay_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ0OC41IDE0NS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDguNSAxNDUuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8ZyBpZD0i5Zu+5bGCXzIiPg0KPC9nPg0KPGcgaWQ9IuWbvuWxgl8xIj4NCgk8ZyBpZD0i5qSt5ZyGXzJfMV8iIGNsYXNzPSJzdDAiPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA1LjYsMEg4MS44djE4LjdoLTQ4djkuOGg0OHYxOEg0OC4xdjExLjFoNjcuNGMwLDAsMCwxNS45LTIwLjMsMzcuNlM2Ny40LDEyMC4yLDU3LjgsMTIzcy0yNiwyLjQtMzEuNS0xLjUNCgkJCXMtMTEuOC04LjktMTEuMy0xOFMyNi45LDg0LjEsMzMuOSw4M2MwLDAtMjAtMi4yLTI0LjUsMTguMWMtMy41LDE1LjYsNi42LDIzLjMsMTIuNCwyNy4yczE4LjIsOC41LDI2LjMsOXMyNS44LTAuNiw0Mi43LTEyLjgNCgkJCWMxNi44LTEyLjIsMzcuMy0zNi43LDQzLjUtNTEuOHM4LjktMjEuMyw5LjgtMjYuMmgtMzguNHYtMThoNTAuMnYtOS44aC01MC4yVjAiLz4NCgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE4NiwwYzAsMC0yLjUsMjEuNS0zMy44LDQ1bDMuNiw1LjNjMCwwLDEzLjktNS41LDE3LjQtOC4zdjgwLjNIMTk4VjI1LjVjMCwwLDEyLTEyLjUsMTItMjUuNQ0KCQkJQzIxMCwwLDE4NiwwLDE4NiwweiIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjI0NiwwIDI0NiwyNyAyMDIuNSwyNyAyMDIuNSwzNi4xIDI0NiwzNi4xIDI0NiwxMjEuNSAyNzAuMSwxMjEuNSAyNzAuMSwzNi4xIDI4MS4zLDM2LjEgMjgxLjMsMjcgDQoJCQkyNzAuMSwyNyAyNzAuMSwwIAkJIi8+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNjQuNSwwdjExLjJINDExdjcuNWMwLDIyLjEtMTQuMiwyNC44LTE0LjIsMjQuOGgtMzIuM1Y2M2gzMi4zdjkuOGgtMzIuM3Y0NS44aC0yNC43VjcyLjhoLTM0LjZWNjNoMzQuNg0KCQkJVjQzLjVoLTQ5LjVWOC4zaDIzLjF2M2gyNi40VjBIMzY0LjV6IE0zMTMuMywyMS41djEzaDc3LjR2LTEzSDMxMy4zeiIvPg0KCTwvZz4NCgk8ZyBpZD0i5qSt5ZyGXzFfMV8iIGNsYXNzPSJzdDAiPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDQuMSwxMzYuN2MwLDAtMjIuNS0zLjctMzIuMS0yMC41Yy0zLjctNi40LTQtMTkuMyw2LTI3LjhjOC40LTcuMSwxOS41LTYuNiwzMy44LTNzMjQuNCw4LjEsNDIuOCwxNy4zDQoJCQljMTguNSw5LjMsNDQuOSwyMi41LDc4LjcsMjkuNmMzMy43LDcuMSw1Mi4zLDkuNCw3Mi44LDEwLjljMzUuNCwyLjYsMTQ5LjQtMi40LDE2NS02bDM3LjUtMzljMCwwLTExMi45LDE3LjQtMTgzLjgsMTgNCgkJCWMtNzAuOCwwLjYtNzguOC0zLjctOTUuMy02LjhTMTA5LjYsOTIuMyw5Ni44LDg3Yy02LjMtMi42LTQxLjctMTYuMy02My0xNC4zUzEuMiw4NCwwLjgsOTguM1M1LjgsMTMyLjIsNDQuMSwxMzYuN3oiLz4NCgkJDQoJCQk8cmVjdCB4PSIyMDYuNiIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAyMS4zNjgzIDE3NC42Mzk3KSIgY2xhc3M9InN0MSIgd2lkdGg9IjI5LjciIGhlaWdodD0iMjkuNyIvPg0KCQkNCgkJCTxyZWN0IHg9IjM3OC40IiB5PSI3OC45IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMC43MDcxIDUwLjc0MDMgMzAxLjE0OTEpIiBjbGFzcz0ic3QxIiB3aWR0aD0iMjAuOSIgaGVpZ2h0PSIyMC45Ii8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=);
}
#wechat_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTMxLjIgMTYxLjciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUzMS4yIDE2MS43OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjguNiwwQzMxLjEtMC42LDAsMjcsMCw1OS41YzAsMTguOCw4LjgsMzUsMjUuOSw0N2MwLDAtNi4zLDIwLjctNi4yLDIxLjFjMC4xLDAuNCwxLjUsMS4yLDEuOSwxDQoJCWMwLjQtMC4yLDIyLjYtMTMuNSwyMi42LTEzLjVjMTcsNS44LDI2LjksMy45LDI3LjQsMy45Yy0xLjctNS0yLjgtMTIuNy0xLjUtMjBjNi42LTM4LjEsNDUuNi01MCw2Ny00Ny45DQoJCUMxMzEuMiwyMy40LDEwNS42LDAuNSw2OC42LDB6IE00Mi41LDQ5LjFjLTQuOSwwLTguOS00LTguOS04LjlzNC04LjksOC45LTguOXM4LjksNCw4LjksOC45UzQ3LjQsNDkuMSw0Mi41LDQ5LjF6IE05Ni40LDQ5LjENCgkJYy00LjksMC04LjktNC04LjktOC45czQtOC45LDguOS04LjlzOC45LDQsOC45LDguOVMxMDEuNCw0OS4xLDk2LjQsNDkuMXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTkyLDEwNC43YzAtMjcuOC0yNi45LTQ5LjItNTguMS00OS4yYy0zMy4xLDAtNTkuNCwyMS44LTU5LjQsNDkuNmMwLDI3LjksMjUuMSw1MSw1OS41LDUxLjINCgkJYzYuOSwwLDE3LjItMS43LDI0LjItNC42YzAsMCwxNi42LDEwLjEsMTcuNSwxMHMxLjQtMC44LDEuNC0xLjRzLTUuMy0xNi40LTUuMy0xNi40QzE4NiwxMzIuNywxOTIsMTIwLjQsMTkyLDEwNC43eiBNMTEyLjEsOTQuNA0KCQljLTQuNCwwLTcuOS0zLjUtNy45LTcuOXMzLjUtNy45LDcuOS03LjlzNy45LDMuNSw3LjksNy45UzExNi40LDk0LjQsMTEyLjEsOTQuNHogTTE1NC4yLDk0LjRjLTQuNCwwLTcuOS0zLjUtNy45LTcuOQ0KCQlzMy41LTcuOSw3LjktNy45czcuOSwzLjUsNy45LDcuOVMxNTguNiw5NC40LDE1NC4yLDk0LjR6Ii8+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyNzcuNiw2Ni41IDI2NS43LDExNS41IDI1NS43LDY2LjUgMjQwLjUsNjYuNSAyMzAuNSwxMTUuNSAyMTguNiw2Ni41IDIwMy44LDY2LjUgMjIzLjcsMTM2IA0KCQkJMjM3LjIsMTM2IDI0OCw4Mi44IDI1OC44LDEzNiAyNzIuNCwxMzYgMjkyLjMsNjYuNSAJCSIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzI4LjMsODkuOGMtNC4zLTQuNy0xMC4zLTcuMS0xOC4yLTcuMWMtNy40LDAtMTMuMiwyLjUtMTcuNSw3LjNjLTQuMyw0LjktNi40LDExLjUtNi40LDE5LjkNCgkJCWMwLDguNiwyLjIsMTUuMyw2LjUsMjAuM3MxMC4yLDcuNSwxNy42LDcuNWM2LDAsMTEuMS0xLjUsMTUuMy00LjZjNC4yLTMuMSw3LTcuMyw4LjQtMTIuN2gtMTMuNmMtMC45LDEuOS0yLjEsMy40LTMuNiw0LjENCgkJCWMtMS41LDAuOS0zLjQsMS40LTUuOCwxLjRjLTMuNCwwLTUuOS0xLjEtNy43LTMuMWMtMS43LTItMi43LTUuMS0yLjktOS4xaDM0LjJjMC0wLjQsMC4xLTAuOSwwLjEtMS40czAtMS4yLDAtMi4yDQoJCQlDMzM0LjcsMTAxLjMsMzMyLjYsOTQuNSwzMjguMyw4OS44eiBNMzAwLjQsMTA0LjljMC4zLTMuNCwxLjMtNiwzLTcuOWMxLjctMS44LDQtMi43LDctMi43YzMuMiwwLDUuNywwLjksNy40LDIuNw0KCQkJYzEuOCwxLjgsMi43LDQuNCwyLjgsNy45SDMwMC40eiIvPg0KCTwvZz4NCgk8Zz4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwMi43LDExMi4yTDQwMi43LDExMi4yQzQwMi43LDExMi4xLDQwMi43LDExMi4yLDQwMi43LDExMi4yTDQwMi43LDExMi4yeiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzgzLjQsMTIxLjdjLTIuOCwyLjItNi40LDMuMy0xMC43LDMuM2MtNiwwLTEwLjYtMi4xLTEzLjktNi4ycy00LjktMTAtNC45LTE3LjVjMC03LjgsMS42LTEzLjcsNC45LTE3LjgNCgkJCWMzLjItNC4xLDgtNi4xLDE0LjMtNi4xYzQuNSwwLDgsMSwxMC42LDMuMXM0LjIsNS4xLDQuOCw5aDE0LjFjLTAuNS03LjktMy40LTE0LTguNS0xOC4zcy0xMi4xLTYuNS0yMS02LjUNCgkJCWMtMTAuOSwwLTE5LjMsMy4xLTI1LjEsOS40cy04LjcsMTUuNC04LjcsMjcuMmMwLDExLjYsMi45LDIwLjYsOC42LDI3czEzLjcsOS42LDI0LDkuNmM4LjksMCwxNi4yLTIuMywyMS43LTcNCgkJCWM1LjUtNC42LDguNi0xMC44LDkuMS0xOC43aC0xMy45QzM4OCwxMTYuMywzODYuMiwxMTkuNSwzODMuNCwxMjEuN3oiLz4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ0OC41LDg5LjNjLTEuNS0xLjktMy41LTMuNC01LjktNC40Yy0yLjUtMS4xLTUuMi0xLjYtOC4yLTEuNmMtMy4yLDAtNi4xLDAuNi04LjYsMS44DQoJCQljLTIuNSwxLjItNC43LDMtNi42LDUuM1Y2Ni41aC0xMy42djY5LjNoMTMuNnYtMzAuNGMwLTMuMywwLjktNiwyLjgtNy45czQuNS0yLjksNy43LTIuOWMzLDAsNS4yLDAuNyw2LjMsMi40DQoJCQljMS4xLDEuNywxLjcsNS43LDEuNywxMnYyNi44aDEzLjZ2LTMzLjJ2LTAuOWMwLTMuNy0wLjItNi4zLTAuNi04QzQ1MC4zLDkyLjEsNDQ5LjUsOTAuNiw0NDguNSw4OS4zeiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTAwLjcsMTMxLjRjLTAuNS0xLjEtMC43LTIuNy0wLjctNC44Vjk3LjVjMC00LjctMS45LTguMy01LjctMTAuOFM0ODUsODMsNDc3LjgsODMNCgkJCWMtNi42LDAtMTEuNywxLjUtMTUuNCw0LjVzLTUuNiw3LjEtNS42LDEyLjR2MC45aDEyLjhWMTAwYzAtMiwwLjctMy42LDIuMi00LjdzMy42LTEuNyw2LjQtMS43YzMuMSwwLDUuMiwwLjQsNi41LDEuMw0KCQkJczEuOSwyLjQsMS45LDQuNWMwLDIuNi0yLjksNC4yLTguNyw1Yy0yLjMsMC4zLTQuMiwwLjYtNS42LDAuOGMtNi4yLDAuOS0xMC42LDIuNy0xMy4zLDUuMmMtMi43LDIuNi00LDYuMy00LDExLjENCgkJCWMwLDUuMiwxLjMsOS4zLDQsMTIuMWMyLjcsMi44LDYuNSw0LjIsMTEuNSw0LjJjMy43LDAsNy0wLjcsOS44LTIuMXM1LjEtMy40LDYuOC02LjFjMCwxLjIsMC4yLDIuNCwwLjQsMy42YzAuMywxLDAuNiwyLDEuMSwyLjkNCgkJCWgxNC4zdi0yLjNDNTAxLjksMTMzLjIsNTAxLjEsMTMyLjUsNTAwLjcsMTMxLjR6IE00ODYuOSwxMTUuNmMwLDMuNy0xLjEsNi41LTMuMiw4LjZzLTUsMy4xLTguNywzLjFjLTIuMSwwLTMuOC0wLjYtNS0xLjcNCgkJCXMtMS44LTIuNi0xLjgtNC41YzAtMS44LDAuNC0zLjMsMS40LTQuM3MyLjctMS45LDUuMS0yLjZjMC4xLDAsMS42LTAuNCw0LjUtMXM1LjUtMS41LDcuNy0yLjVWMTE1LjZ6Ii8+DQoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MzEuMiw5NC40di05LjZoLTcuOXYtMTRoLTEzLjZ2MTRoLTYuOHY5LjZoNi44djI3LjdjMCw1LjgsMSw5LjYsMi45LDExLjZjMiwxLjksNS41LDIuOSwxMC44LDIuOQ0KCQkJYzAuNCwwLDEuNiwwLDMuMy0wLjFjMS43LTAuMSwzLjItMC4yLDQuNS0wLjJsMCwwdi0xMC4yaC0zLjNjLTEuOSwwLTMuMS0wLjItMy43LTAuNmMtMC42LTAuNS0wLjktMS4zLTAuOS0yLjdWOTQuNEw1MzEuMiw5NC40DQoJCQlMNTMxLjIsOTQuNHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==);
}
#drinks-qrcodes {
    display: none;
}
#drinks-qrcode {
    position: absolute;
    top: calc(50% - 90px);
    left: calc(50% - 90px);
    width: 180px;
    height: 180px;
	background: #fff no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/WeChatSQ.png);
    background-size: 160px;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(255, 0, 110, 0.5);
}

/* åŠ¨ç”» */
#drinks-icons, #drinks-button-box {filter: blur(0px);}
.donate-animation-1>#drinks-icons, .donate-animation-4>#drinks-icons,.donate-animation-3>#drinks-button-box {
    transform: scale(0.7,0.7);
    filter: blur(2px);
    display: block;
    opacity: 1;
}
.donate-animation-1>#drinks-button-box,.donate-animation-4>#drinks-button-box,.donate-animation-3>#drinks-qrcodes {
    display: block;
    opacity: 1;
    transform: scale(1,1);
}
.donate-animation-2>#drinks-button-box,.donate-animation-4>#drinks-qrcodes, .hideBox {
    display: block;
    transform: scale(1,1);
    animation-name:hideBox;
    animation-duration:0.3s;
    animation-timing-function:ease-in-out;
    animation-iteration-count:1;
    animation-fill-mode:forwards;
}

.donate-animation-3>#drinks-icons {
    transform: scale(0.4,0.4);
    filter: blur(2px);
}
.showBox {
    animation-name:showBox;
    animation-duration:0.3s;
    animation-timing-function:ease-in-out;
    animation-iteration-count:1;
    animation-fill-mode:forwards;
}
@keyframes showBox {
	from {
        opacity: 0;
        transform: scale(1.3,1.3);
	}
	to {
        opacity: 1;
        transform: scale(1,1);
	}
}
@keyframes hideBox {
	from {
        opacity: 1;
        transform: scale(1,1);
	}
	to {
        opacity: 0;
        transform: scale(1.3,1.3);
	}
}
</style>
<section id="drinks-box">
    <section id="drinks-box-s" class="drinks-button left-100">
        <div id="drinks-icons" class="left-100 tr3">
            <div id="coffee-donate" class="icon-donate"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/coffee.png" alt="coffee" data-creative
                ="https://www.zcool.com.cn/work/ZMjQ3NTE2MA==.html"></div>
        </div>
        <div id="drinks-button-box" class="tr3 left-100">
            <div id="drinks-button-bg" class="left-100"></div>
            <div id="github-box"><a href="https://github.com/Kaiyuan/donate-page/" target="_blank">Github</a></div>
            <ul id="donate-buttons" class="list tr3">
                <li id="paypal_donate"><a href="https://www.paypal.me/wallleap" target="_blank">Paypal</a></li>
                <!-- <li id="btc_donate" class="donate-button">Bitcoin</li> -->
                <li id="alipay_donate" class="donate-button">AliPay</li>
                <li id="wechat_donate" class="donate-button">WeChat</li>
            </ul>
        </div>
        <div id="drinks-qrcodes" class="left-100 tr3">
            <div id="drinks-qrcode"></div>
        </div>
    </section>
</section>

<script>
jQuery(document).ready(function () {

    var thisPage = $('body');
    var drink_box = $('#donate-box');
    var drink_box_s = $('#drinks-box-s');
    var icon_donate = $('.icon-donate');
    var donate_button = $('.donate-button');
    var donate_buttons = $('#drinks-button-box');
    var donate_button_bg = $('#drinks-button-bg');
    var drinks_qrcodes = $('#drinks-qrcodes');
    var drinks_qrcode = $('#drinks-qrcode');
    var isMobile = /Android|webOS|iPhone|iPad|BlackBerry/i.test(navigator.userAgent);
    
    var GithubLink  =   "https://github.com/wallleap/sponsor-page/";
    var PayPalLink  =   "https://www.paypal.me/wallleap";
    $('#paypal-donate>a').href = PayPalLink;
    $('#github-box>a').href = GithubLink;
    var qrcodes = {
        // 'btc_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/BTCQR.png',	// äºŒç»´ç è·¯å¾„
        'alipay_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/donate/AliPayQR.jpg',	// æ”¯ä»˜å®äºŒç»´ç 
        // 'alipay_donate_link'   :   'https://qr.alipay.com/3272611934645308',   // æ”¯ä»˜å®äºŒç»´ç ä¸Šçš„é“¾æ¥ï¼Œå¿…é¡»æ¢æˆè‡ªå·±çš„è¿æ¥ï¼ï¼ï¼æ‰‹æœºç‚¹å‡»ä¼šè‡ªåŠ¨è·³è½¬åˆ°æ”¯ä»˜å®ã€‚
        'wechat_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/donate/WeChatSQ.jpg'
    };
    
    var drinks_an = new Object();
    // åŠ¨ç”»æœ‰ 4 ç§çŠ¶æ€ï¼Œä¸åŒçŠ¶æ€ç»™å¯¹åº” DOM æ·»åŠ  css åŠ¨ç”»
    drinks_an[0] = function(){
        drink_box_s.removeClass('donate-animation-2 donate-animation-3').addClass('donate-animation-1');
        donate_buttons.addClass('showBox');
        setTimeout(() => {
            donate_buttons.removeClass('showBox');
        }, 300);
        // console.log('donate-animation-1');
    }
    drinks_an[1] = function(){
        drink_box_s.removeClass('donate-animation-1 donate-animation-3').addClass('donate-animation-2');
        setTimeout(() => {
            drink_box_s.removeClass('donate-animation-2');
        }, 300);
        // console.log('donate-animation-2');
    }
    drinks_an[2] = function(){
        drink_box_s.removeClass('donate-animation-2 donate-animation-1').addClass('donate-animation-3');
        drinks_qrcodes.addClass('showBox');
        setTimeout(() => {
            drinks_qrcodes.removeClass('showBox');
        }, 300);
        // console.log('donate-animation-3');
    }
    drinks_an[3] = function(){
        drink_box_s.removeClass('donate-animation-3 donate-animation-2').addClass('donate-animation-4');
        setTimeout(() => {
            drink_box_s.removeClass('donate-animation-4');
            drink_box_s.addClass('donate-animation-1');
        }, 300);
        // console.log('donate-animation-4');
    }
    
    if (isMobile) {
        donate_buttons.addClass('Mobile');
    }
    
    icon_donate.on('click',drinks_an[0]); // drinks å›¾æ ‡ç‚¹å‡»
    
    donate_button_bg.on('click',drinks_an[1]); // éšè— donate box
    
    donate_button.on('click',function(){
        var thisID = $(this).attr("id");
        if (isMobile && thisID === 'alipay_donate') {
            // å½“å‰ç½‘é¡µåœ¨æ‰‹æœºç«¯æ‰“å¼€è·³è½¬åˆ°æ”¯ä»˜å® App
            window.open(qrcodes['alipay_donate_link']);
        } else {
            // å½“å‰ç½‘é¡µåœ¨PCç«¯æ‰“å¼€
        drinks_qrcode.css({'background-image' : 'url('+qrcodes[thisID]+')'});
        drinks_an[2]();
        // æ˜¾ç¤ºäºŒç»´ç 
        }
    });
    
    drinks_qrcode.on('click',drinks_an[3]); // éšè—äºŒç»´ç 
    //
    })
</script>
    
    <section class="nexmoe-comment">
    <div class="valine" id="vcomments"></div>
<!-- <script src='https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js'></script> -->
<script type="text/javascript">
    loadComments();
    function loadComments() {
      if (typeof Valine === 'undefined') {
        var getScript = (options) => {
          var script = document.createElement('script');
          script.defer = true;
          script.crossOrigin = 'anonymous';
          Object.keys(options).forEach((key) => {
              script[key] = options[key];
          });
          document.body.appendChild(script);
        };
        getScript({
          src: '//unpkg.com/valine/dist/Valine.min.js',
          onload: () => {
            newValine();
          }
        });
      } else {
        newValine();
      }
    }
    function newValine() {
      new Valine({
        el: '.valine',
        appId: 'GOPlqD10uwQGshDFcsr8Cxik-gzGzoHsz',
        appKey: 'vpzGg4wzHHLRPNOlPHf0UEDS',
        placeholder: 'æ¬¢è¿è®¿é—®æœ¬ç«™ï¼Œè¯„è®ºä¸€ä¸‹ç•™ä¸ªè¶³è¿¹ğŸ‘£å‘—',
        notify: false,
        verify: true,
        avatar: 'mp',
        meta: ['nick','mail','link'],
        pageSize: 10,
        recordIP: true,
        enableQQ: true,
        // è®¾ç½®Bilibiliè¡¨æƒ…åŒ…åœ°å€
        emojiCDN: '//cdn.jsdelivr.net/gh/wallleap/cdn@latest/emote/cool/', 
        // è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„
        emojiMaps: {
            "cool_coolapk_emotion_100_qqdoge": "coolapk_emotion_100_qqdoge.png",
            "cool_coolapk_emotion_1010": "coolapk_emotion_1010.png",
            "cool_coolapk_emotion_1011": "coolapk_emotion_1011.png",
            "cool_coolapk_emotion_1012": "coolapk_emotion_1012.png",
            "cool_coolapk_emotion_1013": "coolapk_emotion_1013.png",
            "cool_coolapk_emotion_1014": "coolapk_emotion_1014.png",
            "cool_coolapk_emotion_1015": "coolapk_emotion_1015.png",
            "cool_coolapk_emotion_1016": "coolapk_emotion_1016.png",
            "cool_coolapk_emotion_1017": "coolapk_emotion_1017.png",
            "cool_coolapk_emotion_1018": "coolapk_emotion_1018.png",
            "cool_coolapk_emotion_1019": "coolapk_emotion_1019.png",
            "cool_coolapk_emotion_101_pyjiaoyi": "coolapk_emotion_101_pyjiaoyi.png",
            "cool_coolapk_emotion_1020": "coolapk_emotion_1020.png",
            "cool_coolapk_emotion_1021": "coolapk_emotion_1021.png",
            "cool_coolapk_emotion_102_fadai": "coolapk_emotion_102_fadai.png",
            "cool_coolapk_emotion_103_nb": "coolapk_emotion_103_nb.png",
            "cool_coolapk_emotion_104": "coolapk_emotion_104.png",
            "cool_coolapk_emotion_105": "coolapk_emotion_105.png",
            "cool_coolapk_emotion_106": "coolapk_emotion_106.png",
            "cool_coolapk_emotion_107": "coolapk_emotion_107.png",
            "cool_coolapk_emotion_108": "coolapk_emotion_108.png",
            "cool_coolapk_emotion_109": "coolapk_emotion_109.png",
            "cool_coolapk_emotion_10_aoman": "coolapk_emotion_10_aoman.png",
            "cool_coolapk_emotion_11_yiwen": "coolapk_emotion_11_yiwen.png",
            "cool_coolapk_emotion_12_wuyu": "coolapk_emotion_12_wuyu.png",
            "cool_coolapk_emotion_13_huaixiao": "coolapk_emotion_13_huaixiao.png",
            "cool_coolapk_emotion_14_bishi": "coolapk_emotion_14_bishi.png",
            "cool_coolapk_emotion_15_fanu": "coolapk_emotion_15_fanu.png",
            "cool_coolapk_emotion_16_tuosai": "coolapk_emotion_16_tuosai.png",
            "cool_coolapk_emotion_17_tushe": "coolapk_emotion_17_tushe.png",
            "cool_coolapk_emotion_18_han": "coolapk_emotion_18_han.png",
            "cool_coolapk_emotion_19_koubi": "coolapk_emotion_19_koubi.png",
            "cool_coolapk_emotion_1_hahaha": "coolapk_emotion_1_hahaha.png",
            "cool_coolapk_emotion_20_qinqin": "coolapk_emotion_20_qinqin.png",
            "cool_coolapk_emotion_21_penxue": "coolapk_emotion_21_penxue.png",
            "cool_coolapk_emotion_22_xiaoyan": "coolapk_emotion_22_xiaoyan.png",
            "cool_coolapk_emotion_23_shui": "coolapk_emotion_23_shui.png",
            "cool_coolapk_emotion_24_wuzuixiao": "coolapk_emotion_24_wuzuixiao.png",
            "cool_coolapk_emotion_25_zaijian": "coolapk_emotion_25_zaijian.png",
            "cool_coolapk_emotion_26_kelian": "coolapk_emotion_26_kelian.png",
            "cool_coolapk_emotion_27_qiang": "coolapk_emotion_27_qiang.png",
            "cool_coolapk_emotion_28_ruo": "coolapk_emotion_28_ruo.png",
            "cool_coolapk_emotion_29_baoquan": "coolapk_emotion_29_baoquan.png",
            "cool_coolapk_emotion_2_jingya": "coolapk_emotion_2_jingya.png",
            "cool_coolapk_emotion_30_ok": "coolapk_emotion_30_ok.png",
            "cool_coolapk_emotion_31_xiaoku": "coolapk_emotion_31_xiaoku.png",
            "cool_coolapk_emotion_32_heiha": "coolapk_emotion_32_heiha.png",
            "cool_coolapk_emotion_33_wulian": "coolapk_emotion_33_wulian.png",
            "cool_coolapk_emotion_34_jizhi": "coolapk_emotion_34_jizhi.png",
            "cool_coolapk_emotion_35_ye": "coolapk_emotion_35_ye.png",
            "cool_coolapk_emotion_36_ku": "coolapk_emotion_36_ku.png",
            "cool_coolapk_emotion_37_doge": "coolapk_emotion_37_doge.png",
            "cool_coolapk_emotion_38_wozuimei": "coolapk_emotion_38_wozuimei.png",
            "cool_coolapk_emotion_39_caidao": "coolapk_emotion_39_caidao.png",
            "cool_coolapk_emotion_3_ciya": "coolapk_emotion_3_ciya.png",
            "cool_coolapk_emotion_40_aixin": "coolapk_emotion_40_aixin.png",
            "cool_coolapk_emotion_41_meigui": "coolapk_emotion_41_meigui.png",
            "cool_coolapk_emotion_42_diaoxie": "coolapk_emotion_42_diaoxie.png",
            "cool_coolapk_emotion_43_heixian": "coolapk_emotion_43_heixian.png",
            "cool_coolapk_emotion_44_pen": "coolapk_emotion_44_pen.png",
            "cool_coolapk_emotion_45_yinxian": "coolapk_emotion_45_yinxian.png",
            "cool_coolapk_emotion_46_nanguo": "coolapk_emotion_46_nanguo.png",
            "cool_coolapk_emotion_47_weiqu": "coolapk_emotion_47_weiqu.png",
            "cool_coolapk_emotion_48_weiweiyixiao": "coolapk_emotion_48_weiweiyixiao.png",
            "cool_coolapk_emotion_49_huanhu": "coolapk_emotion_49_huanhu.png",
            "cool_coolapk_emotion_4_liulei": "coolapk_emotion_4_liulei.png",
            "cool_coolapk_emotion_50_xinsui": "coolapk_emotion_50_xinsui.png",
            "cool_coolapk_emotion_51_chigua": "coolapk_emotion_51_chigua.png",
            "cool_coolapk_emotion_52_hejiu": "coolapk_emotion_52_hejiu.png",
            "cool_coolapk_emotion_53_pu": "coolapk_emotion_53_pu.png",
            "cool_coolapk_emotion_54_hongyaowan": "coolapk_emotion_54_hongyaowan.png",
            "cool_coolapk_emotion_55_lvyaowan": "coolapk_emotion_55_lvyaowan.png",
            "cool_coolapk_emotion_56_dogexiaoku": "coolapk_emotion_56_dogexiaoku.png",
            "cool_coolapk_emotion_57_dogehechi": "coolapk_emotion_57_dogehechi.png",
            "cool_coolapk_emotion_58_dogeyuanliangta": "coolapk_emotion_58_dogeyuanliangta.png",
            "cool_coolapk_emotion_59_erha": "coolapk_emotion_59_erha.png",
            "cool_coolapk_emotion_5_keai": "coolapk_emotion_5_keai.png",
            "cool_coolapk_emotion_61_lvmao": "coolapk_emotion_61_lvmao.png",
            "cool_coolapk_emotion_62_huaji": "coolapk_emotion_62_huaji.png",
            "cool_coolapk_emotion_60_kuan": "coolapk_emotion_60_kuan.png",
            "cool_coolapk_emotion_63_liuhanhuaji": "coolapk_emotion_63_liuhanhuaji.png",
            "cool_coolapk_emotion_64_shounuehuaji": "coolapk_emotion_64_shounuehuaji.png",
            "cool_coolapk_emotion_65_coshuaji": "coolapk_emotion_65_coshuaji.png",
            "cool_coolapk_emotion_66_doujiyanhuaji": "coolapk_emotion_66_doujiyanhuaji.png",
            "cool_coolapk_emotion_67_mojinghuaji": "coolapk_emotion_67_mojinghuaji.png",
            "cool_coolapk_emotion_68": "coolapk_emotion_68.png",
            "cool_coolapk_emotion_69": "coolapk_emotion_69.png",
            "cool_coolapk_emotion_6_weixiao": "coolapk_emotion_6_weixiao.png",
            "cool_coolapk_emotion_70": "coolapk_emotion_70.png",
            "cool_coolapk_emotion_71": "coolapk_emotion_71.png",
            "cool_coolapk_emotion_72": "coolapk_emotion_72.png",
            "cool_coolapk_emotion_73": "coolapk_emotion_73.png",
            "cool_coolapk_emotion_74": "coolapk_emotion_74.png",
            "cool_coolapk_emotion_75": "coolapk_emotion_75.png",
            "cool_coolapk_emotion_76": "coolapk_emotion_76.png",
            "cool_coolapk_emotion_77": "coolapk_emotion_77.png",
            "cool_coolapk_emotion_78": "coolapk_emotion_78.png",
            "cool_coolapk_emotion_79": "coolapk_emotion_79.png",
            "cool_coolapk_emotion_7_hehe": "coolapk_emotion_7_hehe.png",
            "cool_coolapk_emotion_80": "coolapk_emotion_80.png",
            "cool_coolapk_emotion_81_naikezui": "coolapk_emotion_81_naikezui.png",
            "cool_coolapk_emotion_82_miaomiao": "coolapk_emotion_82_miaomiao.png",
            "cool_coolapk_emotion_83_huoba": "coolapk_emotion_83_huoba.png",
            "cool_coolapk_emotion_84_baiyan": "coolapk_emotion_84_baiyan.png",
            "cool_coolapk_emotion_85": "coolapk_emotion_85.png",
            "cool_coolapk_emotion_86": "coolapk_emotion_86.png",
            "cool_coolapk_emotion_87": "coolapk_emotion_87.png",
            "cool_coolapk_emotion_88": "coolapk_emotion_88.png",
            "cool_coolapk_emotion_89": "coolapk_emotion_89.png",
            "cool_coolapk_emotion_8_piezui": "coolapk_emotion_8_piezui.png",
            "cool_coolapk_emotion_90": "coolapk_emotion_90.png",
            "cool_coolapk_emotion_91": "coolapk_emotion_91.png",
            "cool_coolapk_emotion_92": "coolapk_emotion_92.png",
            "cool_coolapk_emotion_93": "coolapk_emotion_93.png",
            "cool_coolapk_emotion_94": "coolapk_emotion_94.png",
            "cool_coolapk_emotion_95_erhading": "coolapk_emotion_95_erhading.png",
            "cool_coolapk_emotion_96_kuanlvmao": "coolapk_emotion_96_kuanlvmao.png",
            "cool_coolapk_emotion_97_haixiu": "coolapk_emotion_97_haixiu.png",
            "cool_coolapk_emotion_98_wunai": "coolapk_emotion_98_wunai.png",
            "cool_coolapk_emotion_99_zhoumei": "coolapk_emotion_99_zhoumei.png",
            "cool_coolapk_emotion_9_se": "coolapk_emotion_9_se.png",
            "cool_c_coolb": "c_coolb.png",
            "cool_c_fived": "c_fived.png",
            "cool_c_fivef": "c_fivef.png",
            "cool_c_fivem": "c_fivem.png",
            "cool_c_fiveo": "c_fiveo.png",
            "cool_c_fivey": "c_fivey.png",
            "cool_c_fy": "c_fy.png",
            "cool_c_oned": "c_oned.png",
            "cool_c_onef": "c_onef.png",
            "cool_c_onem": "c_onem.png",
            "cool_c_oneo": "c_oneo.png",
            "cool_c_oney": "c_oney.png",
            "cool_c_oy": "c_oy.png",
            "cool_c_teny": "c_teny.png",
            "cool_c_twod": "c_twod.png",
            "cool_c_twof": "c_twof.png",
            "cool_c_twom": "c_twom.png",
            "cool_c_twoo": "c_twoo.png",
            "cool_c_twoy": "c_twoy.png",
            "cool_c_ty": "c_ty.png",
            // ... æ›´å¤šè¡¨æƒ…
        } 
      });
    }
</script>

<!-- <script>
    document.body.addEventListener('click', function(e) {
    if (e.target.classList.contains('vsubmit')) {
        const email = document.querySelector('input[type=email]');
        const nick = document.querySelector('input[name=nick]');
        const reg = /^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        if (!email.value || !nick.value || !reg.test(email.value)) {
            const str = `<div class="valert txt-center"><div class="vtext">è¯·å¡«å†™æ­£ç¡®çš„æ˜µç§°å’Œé‚®ç®±ï¼</div></div>`;
            const vmark = document.querySelector('.vmark');
            vmark.innerHTML = str;
            vmark.style.display = 'block';

            setTimeout(function() {
                vmark.style.display = 'none';
                vmark.innerHTML = '';
            }, 2500);
        }
      }
    });
</script> -->
<!-- <script>
$(document).ready(function(){
  $('.vemoji-btn').text('ğŸ˜€');
	$("#vcomments").on('click', 'span.vat',function(){
		$(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
		$('textarea#veditor').focus();
	})
})
</script> -->
<style>
@keyframes valineBg{
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
#vcomments .vwrap{
  padding: 20px 20px 44px;
  background: linear-gradient(-45deg, rgba(255, 206, 255, .3), rgba(237, 156, 253 ,.3), rgba(173, 214, 251, .3), rgba(192, 255, 208, .3));
  background-size: 400% 400%;
  animation: valineBg 15s ease infinite;
}
#veditor{
  background-image: url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/other/comment-bg.png);
  background-size: contain;
  background-repeat: no-repeat;
  background-position: right;
  background-color: rgba(255,255,255,0);
  /* resize: vertical; */
  resize:none;
  min-height:7rem;
}
textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:15px;text-align:center;line-height:6rem;}
.v .vwrap .vheader{width: 80%;bottom:0;position: absolute;}
.v .vinput{padding:10px 15px;border-bottom:0px;background-color: rgba(255, 0, 110, .1);}
.v .vwrap .vedit .vctrl{margin-top:-44px;right:0;position:absolute;margin-right:-3px;}
.v .vwrap .vcontrol{ position:absolute;right:0;bottom:0;width:20%;padding-top:0px;}
.v .vwrap .vcol-30{
  position: absolute;left: 4px;bottom: 5px;width: 20px !important;
}
.v .vwrap .vcontrol .col.col-80{width: 100%;}
.v .vbtn.vsubmit{
  padding: 0;
  position:absolute; bottom: 0; right: 0; 
  color: #fff; height: 42px; line-height: 42px; width:150px; text-align: center;
  border: none;border-radius:22px;background:#fe1b73;
}
.v .vbtn.vsubmit:hover{box-shadow: 0 2px 12px #ff4e6a;}
.v .vwrap .vedit .vctrl span{
  margin-top: 30px;
}
.v .vwrap .vcontrol .col.col-20,.v .vlist .vcard .vhead .vsys{
  display:none;
}
@media screen and (max-width: 520px){
  .v .vwrap .vcol-30{display: none !important;}
  textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:14px;text-align:center;line-height: 1;}
  .vemojis{margin-bottom: 100px;}
  .v .vwrap .vheader .vinput{width: 33.33%;padding:10px 5px;}
  .v .vbtn.vsubmit{bottom: 10px;left: 0;right: 0;margin: 0 auto;}
}
@media screen and (min-width: 520px;) (max-width: 750px){
  /* #vcomments .vwrap{height: 400px;} */
  .v .vwrap .vcol-30{display: none !important;}
  .v .vwrap .item3{bottom: 60px;}
  .vemojis{margin-bottom: 200px;}
  textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:14px;text-align:center;line-height: 1;}
	.v .vwrap .vheader .vinput{width: 33.33%;padding:10px 5px;}
  .v .vbtn.vsubmit{bottom: 10px;left: 0;right: 0;margin: 0 auto;}
}
.vcard .vhead .vsys:nth-of-type(1){
  display: inline-block;
  background-color: rgba(247, 210, 247, .5);
}
.vcard .vhead .vsys:nth-of-type(2){
  display: inline-block;
  background-color: rgba(224, 235, 247, .5);
}
</style>
    <div style="text-align:center;font-size: 12px;color: #888;">
            <div class="site-info">
                
             
              <div class="footertext">
                <p><a href="#" style="color: #b9b9b9;" >Blog wallleap</a>
                  , Copyright &copy; 2019-2020 
                  by Luwang All Rights Reserved.</p>
              </div>

              <!-- <a style="color: #b9b9b9;" href="//beian.miit.gov.cn" target="_blank">	
                <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/logo/ICP.png" style="vertical-align: text-bottom; width: 17px;" />
                èµ£ICPå¤‡20000895å·-1
              </a> -->
              
              <span style="padding-left: 20px;">
                <i class="fa fa-clock-o" aria-hidden="true"></i>
                <span id="time" align="center">è½½å…¥æ—¶é—´ä¸­...</span>
                <script>
                  var now = new Date(); 
                  function createtime() { 
                    var grt= new Date("08/08/2019 17:38:00");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("time").innerHTML = "å°ç«™å·²ç»è‹Ÿæ´» "+dnum+" å¤© "+hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
                 } 
                 setInterval("createtime()",250);
                </script>
              <span style="padding-left: 20px;><i class="fa fa-cog fa-spin" aria-hidden="true"></i></span>
                <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278079074'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278079074%26online%3D2' type='text/javascript'%3E%3C/script%3E"));</script>
              </span>
              
              <div style="text-align:center; padding-top: 20px;">
                <div class="github-badge">
                  <a rel="license" href="https://hexo.io/" target="_blank" title="ç”±Hexoå¼ºåŠ›é©±åŠ¨">
                  <span class="badge-subject"><i class="fa fa-fire" aria-hidden="true"></i> Powered</span><span class="badge-value bg-blue">Hexo</span></a>
                </div>
                <div class="github-badge">
                    <a rel="license" href="https://coding.net/" target="_blank" title="é™æ€ç½‘é¡µæ‰˜ç®¡äºCODING">
                    <span class="badge-subject"><i class="fa fa-heart" aria-hidden="true"></i> Hosted</span>
                    <span class="badge-value bg-gray">CODING</span></a>
                  </div>
                <div class="github-badge">
                    <a rel="license" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivræä¾›CDNåŠ é€ŸæœåŠ¡">
                    <span class="badge-subject"><i class="fa fa-firefox fa-spin" aria-hidden="true"></i> CND</span><span class="badge-value bg-cdn">Github&jsDelivr</span></a>
                </div>
                <div class="github-badge">
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="æœ¬ç«™ç‚¹é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯">
                    <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
                </div>
              </div>  
          
              
            </div><!-- .site-info -->
          </div>
</section>
  </div>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js,gh/nexmoe/nexmoe.github.io@latest/js/app.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<script src="/js/app.js?v=1599833537171"></script>-->


    <script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>


 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script>
<script> 
!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
</script>

  





</body>

</html>
