<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <title>JavaScript高级学习笔记 - wallleap</title>
  <meta charset="UTF-8">
  <meta name="description" content="luwang的博客，正在努力学习💪">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/favicon.png" type="image/png" />
  <meta name="description" content="基础总结  函数高级  面向对象高级  线程机制与事件机制   一、基础总结1、数据类型分类  基本（值）类型  String：任意字符串 Number：任意的数字 boolean：true&#x2F;false undefined：undefined null：null   对象（引用）类型  Object：任意对象 Function：一种特殊的对象（可以执行） Array：一种特殊的对象（数值下标，内">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript高级学习笔记">
<meta property="og:url" content="https://blog.wallleap.cn/2020/04/15/JavaScriptAdvance/index.html">
<meta property="og:site_name" content="wallleap">
<meta property="og:description" content="基础总结  函数高级  面向对象高级  线程机制与事件机制   一、基础总结1、数据类型分类  基本（值）类型  String：任意字符串 Number：任意的数字 boolean：true&#x2F;false undefined：undefined null：null   对象（引用）类型  Object：任意对象 Function：一种特殊的对象（可以执行） Array：一种特殊的对象（数值下标，内">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/cover/(00).jpg">
<meta property="article:published_time" content="2020-04-15T11:33:14.000Z">
<meta property="article:modified_time" content="2020-09-11T13:47:00.000Z">
<meta property="article:author" content="Luwang">
<meta property="article:tag" content="前端">
<meta property="article:tag" content=" web">
<meta property="article:tag" content=" JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/cover/(00).jpg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/nexmoe/nexmoe.github.io@latest/css/style.css,npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/nexmoe/nexmoe.github.io@latest/lib/mdui_043tiny/css/mdui.css,gh/nexmoe/nexmoe.github.io@latest/lib/iconfont/iconfont.css" crossorigin>
  
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1721693_jg94kndwhe.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1599833537257">

   
    <style>
      .nexmoe-avatar img:hover {
        -webkit-transform: rotateZ(360deg);
        -moz-transform: rotateZ(360deg);
        transform: rotateZ(360deg);
      }	
    </style>
  

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
<script src="https://cdn.jsdelivr.net/gh/wallleap/live2d-widget@latest/autoload.js"></script> 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/js/busuanzi.pure.mini.js"></script>

<link rel="stylesheet" href="/css/github-badge.css">
<link rel="stylesheet" href="/css/tags_ca.css">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
  .pace .pace-progress {  background: rgb(254, 27, 115); /*进度条颜色*/
  height: 3px;  }
  .pace .pace-progress-inner {  box-shadow: 0 0 10px #ff0000, 0 0 5px     #ff0000; /*阴影颜色*/
  }
  .pace .pace-activity {  border-top-color: rgb(251, 30, 30);    /*上边框颜色*/
  border-left-color: rgb(251, 30, 30);    /*左边框颜色*/
}
</style>
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Luwang" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Luwang">
            <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/avatar.jpg" alt="Luwang" alt="Luwang">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>54</div>
        <div><span>标签</span>57</div>
        <div><span>分类</span>25</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/categories" title="文章分类">
            <i class="mdui-list-item-icon nexmoefont icon-appstore-fill"></i>
            <div class="mdui-list-item-content">
                文章分类
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friends.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:wallleap.cn" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/157360395" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
            <!-- <i class="fa icon-bilibili"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
            <!-- <i class="fa icon-github"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(0 , 0, 252);background-color: rgba(0, 0, 252, .15);">
            <i class="nexmoefont icon-QQ"></i>
            <!-- <i class="fa icon-QQ"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: '微信公众号'}" style="color: rgb(0, 229, 105);background-color: rgba(0, 229, 105, .15);">
            <i class="nexmoefont icon-wechat-fill"></i>
            <!-- <i class="fa icon-wechat-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: '我的邮箱'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-mail-fill"></i>
            <!-- <i class="fa icon-mail-fill"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: '我的微博'}" style="color: rgb(245, 0, 0);background-color: rgba(245, 0, 0, .15);">
            <i class="nexmoefont icon-weibo"></i>
            <!-- <i class="fa icon-weibo"></i> -->
        </a><a class="mdui-ripple" href="https://github.com/wallleap/" target="_blank" mdui-tooltip="{content: 'RSS'}" style="color: rgb(252, 129, 0);background-color: rgba(252, 129, 0, .15);">
            <i class="nexmoefont icon-rss"></i>
            <!-- <i class="fa icon-rss"></i> -->
        </a> 
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/ACL/" style="font-size: 10px;">ACL</a> <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/Blog/" style="font-size: 17.14px;">Blog</a> <a href="/tags/C-C/" style="font-size: 11.43px;">C/C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/ES/" style="font-size: 10px;">ES</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/GitHub/" style="font-size: 15.71px;">GitHub</a> <a href="/tags/HCL/" style="font-size: 15.71px;">HCL</a> <a href="/tags/HCNA/" style="font-size: 15.71px;">HCNA</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/Hexo/" style="font-size: 17.14px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 14.29px;">JavaScript</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/NAT/" style="font-size: 10px;">NAT</a> <a href="/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/tags/OSPF/" style="font-size: 10px;">OSPF</a> <a href="/tags/RIP/" style="font-size: 10px;">RIP</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/STP/" style="font-size: 10px;">STP</a> <a href="/tags/Sakura/" style="font-size: 10px;">Sakura</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VLAN/" style="font-size: 10px;">VLAN</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Win10/" style="font-size: 10px;">Win10</a> <a href="/tags/eNSP/" style="font-size: 15.71px;">eNSP</a> <a href="/tags/eNsp/" style="font-size: 11.43px;">eNsp</a> <a href="/tags/hackintosh/" style="font-size: 10px;">hackintosh</a> <a href="/tags/hexo/" style="font-size: 11.43px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/w650dc/" style="font-size: 10px;">w650dc</a> <a href="/tags/web/" style="font-size: 18.57px;">web</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 12.86px;">主题</a> <a href="/tags/%E4%BA%94%E7%AC%94/" style="font-size: 10px;">五笔</a> <a href="/tags/%E4%BA%A4%E6%8D%A2%E6%9C%BA/" style="font-size: 10px;">交换机</a> <a href="/tags/%E4%BC%81%E4%B8%9A%E7%BD%91/" style="font-size: 10px;">企业网</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E5%8D%8E%E4%B8%89/" style="font-size: 15.71px;">华三</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 17.14px;">博客</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 11.43px;">后端</a> <a href="/tags/%E5%9B%BE%E9%9B%86/" style="font-size: 10px;">图集</a> <a href="/tags/%E5%AE%89%E8%A3%85/" style="font-size: 10px;">安装</a> <a href="/tags/%E5%AE%9E%E9%AA%8C/" style="font-size: 12.86px;">实验</a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 10px;">微信</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E9%98%B2%E7%9B%97%E9%93%BE/" style="font-size: 10px;">微信防盗链</a> <a href="/tags/%E6%82%A6%E8%AF%BB/" style="font-size: 10px;">悦读</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 10px;">技术</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 11.43px;">数据结构</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">框架</a> <a href="/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 10px;">模块化</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">考研</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 10px;">英语</a> <a href="/tags/%E9%80%86%E6%B0%B4%E5%AF%92/" style="font-size: 10px;">逆水寒</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 12.86px;">配置</a> <a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" style="font-size: 10px;">黑苹果</a>
    </div>
    
      <script>
        var maxTagcloud = parseInt(10);
        var tags_length = parseInt(57);
        var tags_arr = [];
        for(var i = 0; i < tags_length; i++){
          tags_arr.push(i);
        }
        tags_arr.sort(function (l, r) {
          return Math.random() > 0.5 ? -1 : 1;
        });
        tags_arr = tags_arr.slice(0, maxTagcloud < tags_length ? tags_length - maxTagcloud : 0);
        for(var tag_i = 0; tag_i < tags_arr.length; tag_i++){
          document.getElementById("randomtagcloud").children[tags_arr[tag_i]].style.display = 'none';
        }
      </script>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul>
    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">最新文章</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2020/08/28/VUE/">Vue学习笔记</a>
          </li>
        
          <li>
            <a href="/2020/08/20/AJAX/">Ajax学习笔记</a>
          </li>
        
          <li>
            <a href="/2020/07/12/React/">React全家桶(技术栈)学习笔记</a>
          </li>
        
          <li>
            <a href="/2020/07/04/Git/">Git学习笔记</a>
          </li>
        
          <li>
            <a href="/2020/06/14/nodejs/">NodeJs学习笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <!-- <div class="nexmoe-copyright">
        &copy; 2020 Luwang
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div> -->
    <div style="text-align: center;">
        <div class="github-badge">
            <a rel="license" href="https://github.io/" target="_blank" title="静态网页托管于Github">
            <span class="badge-subject">Hosted</span><span class="badge-value bg-brightgreen"><i class="fa fa-github" aria-hidden="true"></i> Github</span></a>
        </div>
        <div class="github-badge">
            <a rel="license" href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank" title="站点使用 Sakura 主题，作者：Mashiro & Hojun">
            <span class="badge-subject"><i class="fa fa-themeisle" aria-hidden="true"></i> Theme</span><span class="badge-value bg-theme">nexmoe</span></a>
        </div><br />
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-user" aria-hidden="true"></i> UV</span>
            <span  class="badge-value bg-orange" id="busuanzi_value_site_uv"></span>
        </div>
        <div class="github-badge">
            <span class="badge-subject"><i class="fa fa-eye" aria-hidden="true"></i> PV</span>
            <span class="badge-value bg-brightgreen" id="busuanzi_value_site_pv"></span>
        </div>
    </div>
    <div class="site-img" style="margin: 20px 0 20px 16px;">
        <a href="#"><img width="200px" src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/wechat/wallleap.bmp"></a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
  
      <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
          <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="JavaScript高级学习笔记" class="lazyload">
          <h1>JavaScript高级学习笔记</h1>
      </div>
  
  
  <link rel="stylesheet" href="/css/sharejs.css">
  <input type="hidden" id="yelog_site_posts_number" value="54">
  <input type="hidden" id="yelog_site_word_count" value="276.4k">
<div class="nexmoe-post-meta" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2020年04月15日</a>
    <a><i class="nexmoefont icon-areachart"></i>10.5k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 49 分钟</a>
    <a><i class="nexmoefont icon-eye-fill"></i>阅读次数 <span id="busuanzi_value_page_pv"></span></a>
</div>

  <div class="nexmoe-post-right">
    
      <div class="nexmoe-fixed">
        <div class="nexmoe-valign">
            <div class="nexmoe-toc">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、基础总结"><span class="toc-number">1.</span> <span class="toc-text">一、基础总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、数据类型"><span class="toc-number">1.1.</span> <span class="toc-text">1、数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、数据、变量与内存"><span class="toc-number">1.2.</span> <span class="toc-text">2、数据、变量与内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、对象"><span class="toc-number">1.3.</span> <span class="toc-text">3、对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、函数"><span class="toc-number">1.4.</span> <span class="toc-text">4、函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、回调函数"><span class="toc-number">1.5.</span> <span class="toc-text">5、回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、IIFE"><span class="toc-number">1.6.</span> <span class="toc-text">6、IIFE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、函数中的this"><span class="toc-number">1.7.</span> <span class="toc-text">7、函数中的this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、函数高级"><span class="toc-number">2.</span> <span class="toc-text">二、函数高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、原型和原型链"><span class="toc-number">2.1.</span> <span class="toc-text">1、原型和原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、执行上下文与执行上下文栈"><span class="toc-number">2.2.</span> <span class="toc-text">2、执行上下文与执行上下文栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、作用域与作用域链"><span class="toc-number">2.3.</span> <span class="toc-text">3、作用域与作用域链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、闭包"><span class="toc-number">2.4.</span> <span class="toc-text">4、闭包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、面向对象高级"><span class="toc-number">3.</span> <span class="toc-text">三、面向对象高级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、对象创建模式"><span class="toc-number">3.1.</span> <span class="toc-text">1、对象创建模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、继承模式"><span class="toc-number">3.2.</span> <span class="toc-text">2、继承模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、线程机制与事件机制"><span class="toc-number">4.</span> <span class="toc-text">四、线程机制与事件机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、进程与线程"><span class="toc-number">4.1.</span> <span class="toc-text">1、进程与线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、浏览器内核"><span class="toc-number">4.2.</span> <span class="toc-text">2、浏览器内核</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、定时器引发的思考"><span class="toc-number">4.3.</span> <span class="toc-text">3、定时器引发的思考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、JS是单线程执行的"><span class="toc-number">4.4.</span> <span class="toc-text">4、JS是单线程执行的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、浏览器的事件循环-轮询-模型"><span class="toc-number">4.5.</span> <span class="toc-text">5、浏览器的事件循环(轮询)模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、H5-Web-Workers-多线程"><span class="toc-number">4.6.</span> <span class="toc-text">6、H5 Web Workers(多线程)</span></a></li></ol></li></ol>
            </div>
        </div>
      </div>
    
  </div>

  <article>
    <ul>
<li><p>基础总结</p>
</li>
<li><p>函数高级</p>
</li>
<li><p>面向对象高级</p>
</li>
<li><p>线程机制与事件机制</p>
</li>
</ul>
<h2 id="一、基础总结"><a href="#一、基础总结" class="headerlink" title="一、基础总结"></a>一、基础总结</h2><h3 id="1、数据类型"><a href="#1、数据类型" class="headerlink" title="1、数据类型"></a>1、数据类型</h3><p><strong>分类</strong></p>
<ul>
<li><p>基本（值）类型</p>
<ul>
<li>String：任意字符串</li>
<li>Number：任意的数字</li>
<li>boolean：true/false</li>
<li>undefined：undefined</li>
<li>null：null</li>
</ul>
</li>
<li><p>对象（引用）类型</p>
<ul>
<li>Object：任意对象</li>
<li>Function：一种特殊的对象（可以执行）</li>
<li>Array：一种特殊的对象（数值下标，内部数据是有序的）</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var obj = {
  name: &#39;TOM&#39;,
  age: 12
}
fuction test(){
  var a = 3
}
var arr = [3, &#39;abc&#39;]
arr[1]</code></pre>
<p><strong>判断</strong></p>
<ul>
<li><p><code>typeof</code></p>
<ul>
<li>可以判断：undefined/ 数值 /字符串/布尔值/function</li>
<li>不能判断：null与Object Object与array</li>
</ul>
</li>
<li><p><code>instanceof</code>：判断对象的具体类型</p>
</li>
<li><p><code>===</code>可以判断：undefined/null/function</p>
</li>
<li><p><code>isNaN</code> 判断NaN ……</p>
</li>
</ul>
<pre><code class="javascript">//1. 基本
// typeof返回数据类型的字符串表达
var a
// undefined
console.log(a, typeof a, typeof a===&#39;undefined&#39;,a===undefined )  // undefined &#39;undefined&#39; true true
console.log(undefined===&#39;undefined&#39;) // false
// Number Sting Boolean
a = 4
console.log(typeof a===&#39;number&#39;) // true
a = &quot;abc123&quot;
console.log(isNaN(a)) // true
a = &#39;string iiii&#39;
console.log(typeof a===&#39;string&#39;) // true
a = true
console.log(typeof a===&#39;boolean&#39;) // true
// null
a = null
console.log(typeof a, a===null) // &#39;object&#39; true

//2. 对象
var b1 = {
    b2: [1, &#39;abc&#39;, console.log],
    b3: function () {
        console.log(&#39;b3&#39;) // b3
        return function () {
            return &#39;funb1&#39;
        }
    }
}
// Object Array Function
console.log(b1 instanceof Object, b1 instanceof Array) // true  false
console.log(b1.b2 instanceof Array, b1.b2 instanceof Object) // true true
console.log(b1.b3 instanceof Function, b1.b3 instanceof Object) // true true
console.log(typeof b1.b2) // &#39;object&#39;
// Function
console.log(typeof b1.b3===&#39;function&#39;) // true
console.log(typeof b1.b2[2]===&#39;function&#39;) // true

// 细节问题
b1.b2[2](4) // 4
console.log(b1.b3()()) // funb1
/*
b1.b3() ---&gt; b3当前的function
b1.b3()() ---&gt; return的function
*/</code></pre>
<p><strong>实例</strong></p>
<p>实例：实例对象</p>
<p>类型：类型对象</p>
<pre><code class="javascript">function Person(name, age){ // 构造函数 类型
    this.name = name
  this.age = age
} 
var p = new Person(&#39;Tom&#39;, 12) // 根据类型创建的实例对象</code></pre>
<p><strong>其他问题</strong></p>
<ol>
<li><p>undefined与null的区别?</p>
<ul>
<li>undefined代表定义未赋值</li>
<li>nulll定义并赋值了, 只是值为null</li>
</ul>
<pre><code class="javascript">var a
console.log(a)  // undefined
a = null
console.log(a) // null</code></pre>
</li>
</ol>
<ol start="2">
<li><p>什么时候给变量赋值为null呢?</p>
<ul>
<li>初始赋值, 表明将要赋值为对象</li>
<li>结束前, 让对象成为垃圾对象(被垃圾回收器回收)</li>
</ul>
<pre><code class="javascript">//起始
var b = null  // 初始赋值为null, 表明将要赋值为对象
//确定对象就赋值
b = [&#39;atguigu&#39;, 12]
//最后
b = null // 让b指向的对象成为垃圾对象(被垃圾回收器回收)
// b = 2</code></pre>
</li>
</ol>
<ol start="3">
<li><p>严格区别变量类型与数据类型?</p>
<ul>
<li><p>数据的类型</p>
<ul>
<li>基本类型 </li>
<li>对象类型 </li>
</ul>
</li>
<li><p>变量的类型(变量内存值的类型)</p>
<ul>
<li>基本类型: 保存就是基本类型的数据</li>
<li>引用类型: 保存的是地址值</li>
</ul>
<pre><code class="javascript">var c = function () {

}
console.log(typeof c) // &#39;function&#39;</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="2、数据、变量与内存"><a href="#2、数据、变量与内存" class="headerlink" title="2、数据、变量与内存"></a>2、数据、变量与内存</h3><ol>
<li>什么是数据?</li>
</ol>
<ul>
<li><p>存储在内存中代表特定信息的’东东’, 本质上是0101…</p>
</li>
<li><p>数据的特点: 可传递, 可运算</p>
</li>
<li><p>一切皆数据</p>
</li>
<li><p>内存中所有操作的目标: 数据</p>
<ul>
<li>算术运算</li>
<li>逻辑运算</li>
<li>赋值</li>
<li>运行函数</li>
</ul>
</li>
</ul>
<ol start="2">
<li>什么是内存?</li>
</ol>
<ul>
<li><p>内存条通电后产生的可储存数据的空间(临时的)</p>
</li>
<li><p>内存产生和死亡: 内存条(电路版)—&gt;通电—&gt;产生内存空间—&gt;存储数据—&gt;处理数据—&gt;断电—&gt;内存空间和数据都消失</p>
</li>
<li><p>一块小内存的2个数据</p>
<ul>
<li>内部存储的数据</li>
<li>地址值</li>
</ul>
</li>
<li><p>内存分类</p>
<ul>
<li>栈: 全局变量/局部变量</li>
<li>堆: 对象</li>
</ul>
</li>
</ul>
<ol start="3">
<li>什么是变量?</li>
</ol>
<ul>
<li>可变化的量, 由变量名和变量值组成</li>
</ul>
<ul>
<li>每个变量都对应的一块小内存, 变量名用来查找对应的内存, 变量值就是内存中保存的数据</li>
</ul>
<ol start="4">
<li>内存,数据, 变量三者之间的关系</li>
</ol>
<ul>
<li><p>内存用来存储数据的空间</p>
</li>
<li><p>变量是内存的标识</p>
</li>
</ul>
<pre><code class="javascript">var age = 18
console.log(age)

var obj = {name: &#39;Tom&#39;}
console.log(obj.name)

function fn () {
  var obj = {name: &#39;Tom&#39;}
}

var a = 3
var b = a + 2</code></pre>
<ol start="5">
<li>关于赋值与内存的问题</li>
</ol>
<p>问题: var a = xxx, a内存中到底保存的是什么?</p>
<ul>
<li><p>xxx是<strong>基本数据</strong>, 保存的就是这个<strong>数据</strong></p>
</li>
<li><p>xxx是<strong>对象</strong>, 保存的是对象的<strong>地址值</strong></p>
</li>
<li><p>xxx是一个<strong>变量</strong>, 保存的xxx的<strong>内存内容(可能是基本数据, 也可能是地址值)</strong></p>
</li>
</ul>
<pre><code class="javascript">var a = 3
a = function () {

}
var b = &#39;abc&#39;
a = b
b = {}
a = b</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815100154.png" alt="image-20200815100153040" class="lazyload"></p>
<ol start="6">
<li>关于引用变量赋值问题</li>
</ol>
<ul>
<li><p>2个引用变量指向同一个对象, 通过一个变量修改对象内部数据, 另一个变量看到的是修改之后的数据</p>
</li>
<li><p>2个引用变量指向同一个对象, 让其中一个引用变量指向另一个对象, 另一引用变量依然指向前一个对象</p>
</li>
</ul>
<pre><code class="javascript">var obj1 = {name: &#39;Tom&#39;}
var obj2 = obj1
obj2.age = 12
console.log(obj1.age)  // 12
function fn (obj) {
  obj.name = &#39;A&#39;
}
fn(obj1)
console.log(obj2.name) //A

var a = {age: 12}
var b = a
a = {name: &#39;BOB&#39;, age: 13}
b.age = 14
console.log(b.age, a.name, a.age) // 14 Bob 13
function fn2 (obj) {
  obj = {age: 15}
}
fn2(a)
console.log(a.age) // 13</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815101835.png" alt="image-20200815101834022" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815102623.png" alt="image-20200815102622137" class="lazyload"></p>
<ol start="7">
<li>关于数据传递问题</li>
</ol>
<p>问题: 在js调用函数时传递变量参数时, 是值传递还是引用传递</p>
<ul>
<li><p>理解1: 都是值(基本/地址值)传递</p>
</li>
<li><p>理解2: 可能是值传递, 也可能是引用传递(地址值)</p>
</li>
</ul>
<pre><code class="javascript">var a = 3
function fn (a) {
  a = a +1
}
fn(a)
console.log(a)  // 3

function fn2 (obj) {
  console.log(obj.name)
}
var obj = {name: &#39;Tom&#39;}
fn2(obj)  // Tom</code></pre>
<ol start="8">
<li>JS引擎如何管理内存</li>
</ol>
<p>问题: JS引擎如何管理内存?</p>
<ul>
<li>内存生命周期<ul>
<li>分配小内存空间, 得到它的使用权</li>
<li>存储数据, 可以反复进行操作</li>
<li>释放小内存空间</li>
</ul>
</li>
</ul>
<ul>
<li>释放内存<ul>
<li>局部变量: 函数执行完自动释放</li>
<li>对象: 成为垃圾对象==&gt;垃圾回收器回收</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var a = 3
var obj = {}
obj = undefined

function fn () {
  var b = {}
}

fn() // b是自动释放, b所指向的对象是在后面的某个时刻由垃圾回收器回收</code></pre>
<h3 id="3、对象"><a href="#3、对象" class="headerlink" title="3、对象"></a>3、对象</h3><ol>
<li>什么是对象?</li>
</ol>
<ul>
<li><p>多个数据的封装体</p>
</li>
<li><p>用来保存多个数据的容器</p>
</li>
<li><p>一个对象代表现实中的一个事物</p>
</li>
</ul>
<ol start="2">
<li>为什么要用对象?</li>
</ol>
<ul>
<li>统一管理多个数据</li>
</ul>
<ol start="3">
<li>对象的组成</li>
</ol>
<ul>
<li><p>属性: 属性名(字符串)和属性值(任意)组成</p>
</li>
<li><p>方法: 一种特别的属性(属性值是函数)</p>
</li>
</ul>
<ol start="4">
<li>如何访问对象内部数据?</li>
</ol>
<ul>
<li><p><code>.属性名</code>: 编码简单, 有时不能用</p>
</li>
<li><p><code>[&#39;属性名&#39;]</code>: 编码麻烦, 能通用</p>
</li>
</ul>
<pre><code class="javascript">var p = {
  name: &#39;Tom&#39;,
  age: 12,
  setName: function (name) {
    this.name = name
  },
  setAge: function (age) {
    this.age = age
  }
}

p.setName(&#39;Bob&#39;)
p[&#39;setAge&#39;](23)
console.log(p.name, p[&#39;age&#39;])</code></pre>
<p>问题: 什么时候必须使用[‘属性名’]的方式?</p>
<ol>
<li><p>属性名包含特殊字符: <code>-</code>空格</p>
</li>
<li><p>属性名不确定</p>
</li>
</ol>
<pre><code class="javascript">var p = {}
//1. 给p对象添加一个属性: content type: text/json
// p.content-type = &#39;text/json&#39; //不能用
p[&#39;content-type&#39;] = &#39;text/json&#39;
console.log(p[&#39;content-type&#39;])

//2. 属性名不确定
var propName = &#39;myAge&#39;
var value = 18
// p.propName = value //不能用
p[propName] = value
console.log(p[propName])</code></pre>
<h3 id="4、函数"><a href="#4、函数" class="headerlink" title="4、函数"></a>4、函数</h3><ol>
<li>什么是函数?</li>
</ol>
<ul>
<li>实现特定功能的n条语句的封装体</li>
<li>只有函数是可以执行的, 其它类型的数据不能执行</li>
</ul>
<ol start="2">
<li>为什么要用函数?</li>
</ol>
<ul>
<li>提高代码复用</li>
<li>便于阅读交流</li>
</ul>
<ol start="3">
<li>如何定义函数?</li>
</ol>
<ul>
<li>函数声明</li>
<li>表达式</li>
</ul>
<ol start="4">
<li>如何调用(执行)函数?</li>
</ol>
<ul>
<li>test(): <strong>直接调用</strong></li>
<li>obj.test(): <strong>通过对象调用</strong></li>
<li>new test(): <strong>new调用</strong></li>
<li>test.call/apply(obj): <strong>临时让test成为obj的方法进行调用</strong></li>
</ul>
<pre><code class="javascript">/*
编写程序实现以下功能需求:
  1. 根据年龄输出对应的信息
  2. 如果小于18, 输出: 未成年, 再等等!
  3. 如果大于60, 输出: 算了吧!
  4. 其它, 输出: 刚好!
*/
function showInfo (age) {
  if(age&lt;18) {
    console.log(&#39;未成年, 再等等!&#39;)
  } else if(age&gt;60) {
    console.log(&#39;算了吧!&#39;)
  } else {
    console.log(&#39;刚好!&#39;)
  }
}

showInfo(17)
showInfo(20)
showInfo(65)

function fn1 () { //函数声明
  console.log(&#39;fn1()&#39;)
}
var fn2 = function () { //表达式
  console.log(&#39;fn2()&#39;)
}

fn1()
fn2()

var obj = {}
function test2 () {
  this.xxx = &#39;atguigu&#39;
}
// obj.test2()  不能直接, 根本就没有
test2.call(obj) // obj.test2()   // 可以让一个函数成为指定任意对象的方法进行调用
console.log(obj.xxx)</code></pre>
<h3 id="5、回调函数"><a href="#5、回调函数" class="headerlink" title="5、回调函数"></a>5、回调函数</h3><ol>
<li><p>什么函数才是回调函数?<br> 1). 你定义的<br> 2). 你没有调<br> 3). 但最终它执行了(在某个时刻或某个条件下)</p>
</li>
<li><p>常见的回调函数?</p>
<ul>
<li><p>dom事件回调函数 ==&gt;发生事件的dom元素</p>
</li>
<li><p>定时器回调函数 ===&gt;window</p>
</li>
<li><p>ajax请求回调函数(后面讲)</p>
</li>
<li><p>生命周期回调函数(后面讲)</p>
</li>
</ul>
</li>
</ol>
<pre><code class="html">&lt;button id=&quot;btn&quot;&gt;测试点击事件&lt;/button&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  document.getElementById(&#39;btn&#39;).onclick = function () { // dom事件回调函数
    alert(this.innerHTML)
  }
  //定时器
    // 超时定时器
    // 循环定时器
  setTimeout(function () { // 定时器回调函数
    alert(&#39;到点了&#39;+this)
  }, 2000)
  /*var a = 3
  alert(window.a)
  window.b = 4
  alert(b)*/
&lt;/script&gt;</code></pre>
<h3 id="6、IIFE"><a href="#6、IIFE" class="headerlink" title="6、IIFE"></a>6、IIFE</h3><ol>
<li>理解<ul>
<li>全称: Immediately-Invoked Function Expression（立即执行函数）</li>
</ul>
</li>
<li>作用<ul>
<li>隐藏实现</li>
<li>不会污染外部(全局)命名空间</li>
<li>用它来编码js模块</li>
</ul>
</li>
</ol>
<pre><code class="javascript">(function () { //匿名函数自调用
  var a = 3
  console.log(a + 3)
})()
var a = 4
console.log(a)
;(function () {
  var a = 1
  function test () {
    console.log(++a)
  }
  window.$ = function () { // 向外暴露一个全局函数
    return {
      test: test
    }
  }
})()
$().test() // 1.</code></pre>
<h3 id="7、函数中的this"><a href="#7、函数中的this" class="headerlink" title="7、函数中的this"></a>7、函数中的this</h3><ol>
<li>this是什么?<ul>
<li>任何函数本质上都是通过某个对象来调用的,如果没有直接指定就是window</li>
<li>所有函数内部都有一个变量this</li>
<li>它的值是调用函数的当前对象</li>
</ul>
</li>
<li>如何确定this的值?<ul>
<li>test(): window</li>
<li>p.test(): p</li>
<li>new test(): 新创建的对象</li>
<li>p.call(obj): obj</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function Person(color) {
  console.log(this)
  this.color = color;
  this.getColor = function () {
    console.log(this)
    return this.color;
  };
  this.setColor = function (color) {
    console.log(this)
    this.color = color;
  };
}

Person(&quot;red&quot;); //this是谁? window

var p = new Person(&quot;yello&quot;); //this是谁? p

p.getColor(); //this是谁? p

var obj = {};
p.setColor.call(obj, &quot;black&quot;); //this是谁? obj

var test = p.setColor;
test(); //this是谁? window

function fun1() {
  function fun2() {
    console.log(this);
  }

  fun2(); //this是谁? window
}
fun1();</code></pre>
<h2 id="二、函数高级"><a href="#二、函数高级" class="headerlink" title="二、函数高级"></a>二、函数高级</h2><p>超级重点，两大神兽：==原型和闭包==</p>
<h3 id="1、原型和原型链"><a href="#1、原型和原型链" class="headerlink" title="1、原型和原型链"></a>1、原型和原型链</h3><p>(1) 原型</p>
<ol>
<li>函数的prototype属性(图)<ul>
<li>每个函数都有一个prototype属性, 它默认指向一个Object空对象(即称为: 原型对象)</li>
<li>原型对象中有一个属性constructor, 它指向函数对象</li>
</ul>
</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815113737.png" alt="image-20200815113735029" class="lazyload"></p>
<ol start="2">
<li>给原型对象添加属性(一般都是方法)<ul>
<li>作用: 函数的所有实例对象自动拥有原型中的属性(方法)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">// 每个函数都有一个prototype属性, 它默认指向一个Object空对象(即称为: 原型对象)
console.log(Date.prototype, typeof Date.prototype)
function Fun () {//alt + shift +r(重命名rename)

}
console.log(Fun.prototype)  // 默认指向一个Object空对象(没有我们的属性)

// 原型对象中有一个属性constructor, 它指向函数对象
console.log(Date.prototype.constructor===Date)
console.log(Fun.prototype.constructor===Fun)

//给原型对象添加属性(一般是方法) ===&gt;实例对象可以访问
Fun.prototype.test = function () {
  console.log(&#39;test()&#39;)
}
var fun = new Fun()
fun.test()</code></pre>
<p>(2) 显式原型与隐式原型</p>
<ol>
<li>每个函数function都有一个prototype，即显式原型(属性)</li>
<li>每个实例对象都有一个<strong>proto</strong>，可称为隐式原型(属性)</li>
<li>对象的隐式原型的值为其对应构造函数的显式原型的值</li>
<li>内存结构(图)</li>
<li>总结:<ul>
<li>函数的<code>prototype</code>属性: 在定义函数时自动添加的, 默认值是一个空Object对象</li>
<li>对象的<code>__proto__</code>属性: 创建对象时自动添加的, 默认值为构造函数的prototype属性值</li>
<li>程序员能直接操作显式原型, 但不能直接操作隐式原型(ES6之前)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">//定义构造函数
function Fn() {   // 内部语句: this.prototype = {}

}
// 1. 每个函数function都有一个prototype，即显式原型属性, 默认指向一个空的Object对象
console.log(Fn.prototype)
// 2. 每个实例对象都有一个__proto__，可称为隐式原型
//创建实例对象
var fn = new Fn()  // 内部语句: this.__proto__ = Fn.prototype
console.log(fn.__proto__)
// 3. 对象的隐式原型的值为其对应构造函数的显式原型的值
console.log(Fn.prototype===fn.__proto__) // true
//给原型添加方法
Fn.prototype.test = function () {
  console.log(&#39;test()&#39;)
}
//通过实例调用原型的方法
fn.test()</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115018.png" alt="image-20200815115016550" class="lazyload"></p>
<p>(3) 原型链</p>
<ol>
<li>原型链(图解)<ul>
<li>访问一个对象的属性时，<ul>
<li>先在自身属性中查找，找到返回</li>
<li>如果没有, 再沿着<code>__proto__</code>这条链向上查找, 找到返回</li>
<li>如果最终没找到, 返回undefined</li>
</ul>
</li>
<li>别名: 隐式原型链</li>
<li>作用: 查找对象的属性(方法)</li>
</ul>
</li>
</ol>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115136.png" alt="image-20200815115135158" class="lazyload"></p>
<ol start="2">
<li>构造函数/原型/实体对象的关系(图解)</li>
</ol>
<pre><code class="javascript">var o1 = new Object();
var o2 = {};</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115415.png" alt="image-20200815115413214" class="lazyload"></p>
<ol start="3">
<li>构造函数/原型/实体对象的关系2(图解)</li>
</ol>
<pre><code class="javascript">function Foo(){  }
// var Foo = new Function()
// Function = new Function()
// 所有函数的__proto__都是一样的</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815115508.png" alt="image-20200815115505581" class="lazyload"></p>
<pre><code class="javascript">// console.log(Object)
//console.log(Object.prototype)
console.log(Object.prototype.__proto__)
function Fn() {
  this.test1 = function () {
    console.log(&#39;test1()&#39;)
  }
}
console.log(Fn.prototype)
Fn.prototype.test2 = function () {
  console.log(&#39;test2()&#39;)
}

var fn = new Fn()

fn.test1()
fn.test2()
console.log(fn.toString())
console.log(fn.test3)
// fn.test3()

/*
1. 函数的显示原型指向的对象默认是空Object实例对象(但Object不满足)
  */
console.log(Fn.prototype instanceof Object) // true
console.log(Object.prototype instanceof Object) // false
console.log(Function.prototype instanceof Object) // true
/*
2. 所有函数都是Function的实例(包含Function)
*/
console.log(Function.__proto__===Function.prototype)
/*
3. Object的原型对象是原型链尽头
  */
console.log(Object.prototype.__proto__) // null
</code></pre>
<ol start="4">
<li>原型继承</li>
</ol>
<ul>
<li>构造函数的实例对象自动拥有构造函数原型对象的属性(方法)</li>
<li>利用的就是原型链</li>
</ul>
<ol start="5">
<li>原型属性问题</li>
</ol>
<ul>
<li>读取对象的属性值时: 会自动到原型链中查找</li>
<li>设置对象的属性值时: 不会查找原型链, 如果当前对象中没有此属性, 直接添加此属性并设置其值</li>
<li>方法一般定义在原型中, 属性一般通过构造函数定义在对象本身上</li>
</ul>
<pre><code class="javascript">function Fn() {

}
Fn.prototype.a = &#39;xxx&#39;
var fn1 = new Fn()
console.log(fn1.a, fn1)

var fn2 = new Fn()
fn2.a = &#39;yyy&#39;
console.log(fn1.a, fn2.a, fn2)

function Person(name, age) {
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}
var p1 = new Person(&#39;Tom&#39;, 12)
p1.setName(&#39;Bob&#39;)
console.log(p1)

var p2 = new Person(&#39;Jack&#39;, 12)
p2.setName(&#39;Cat&#39;)
console.log(p2)
console.log(p1.__proto__===p2.__proto__) // true</code></pre>
<p>(4) 探索instanceof</p>
<ol>
<li>instanceof是如何判断的?<ul>
<li>表达式: A instanceof B</li>
<li>如果B函数的显式原型对象在A对象的原型链上, 返回true, 否则返回false</li>
</ul>
</li>
<li>Function是通过new自己产生的实例</li>
</ol>
<p><em>案例1</em></p>
<pre><code class="javascript">function Foo() {  }
var f1 = new Foo()
console.log(f1 instanceof Foo) // true
console.log(f1 instanceof Object) // true</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815120818.png" alt="image-20200815120816214" class="lazyload"></p>
<p><em>案例2</em></p>
<pre><code class="javascript">console.log(Object instanceof Function) // true
console.log(Object instanceof Object) // true
console.log(Function instanceof Function) // true
console.log(Function instanceof Object) // true

function Foo() {}
console.log(Object instanceof  Foo) // false</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815120915.png" alt="image-20200815120913828" class="lazyload"></p>
<p>(5) 面试题</p>
<pre><code class="javascript">/*
测试题1
  */
function A () {

}
A.prototype.n = 1

var b = new A()

A.prototype = {
  n: 2,
  m: 3
}

var c = new A()
console.log(b.n, b.m, c.n, c.m) // 1 undefined 2 3</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815122322.png" alt="image-20200815122319966" class="lazyload"></p>
<pre><code class="javascript">/*
  测试题2
  */
function F (){}
Object.prototype.a = function(){
  console.log(&#39;a()&#39;)
}
Function.prototype.b = function(){
  console.log(&#39;b()&#39;)
}

var f = new F()
f.a() // a()
// f.b() // Uncaught TypeError: f.b is not a function
F.a() // a()
F.b() // b()
console.log(f) // F {}
console.log(Object.prototype) // {a: ƒ, constructor: ƒ, __defineGetter__: ƒ, __defineSetter__: ƒ, hasOwnProperty: ƒ, …}
console.log(Function.prototype) // ƒ () { [native code] }</code></pre>
<h3 id="2、执行上下文与执行上下文栈"><a href="#2、执行上下文与执行上下文栈" class="headerlink" title="2、执行上下文与执行上下文栈"></a>2、执行上下文与执行上下文栈</h3><p>(1) 变量提升与函数提升</p>
<ol>
<li>变量声明提升<ul>
<li>通过<strong>var定义(声明)的变量</strong>, 在定义语句之前就可以访问到</li>
<li>值: undefined</li>
</ul>
</li>
<li>函数声明提升<ul>
<li>通过<strong>function声明的函数</strong>, 在之前就可以直接调用</li>
<li>值: 函数定义(对象)</li>
</ul>
</li>
<li>问题: 变量提升和函数提升是如何产生的?<ul>
<li>在js中js引擎会优先解析var变量和function定义！在预解析完成后从上到下逐步进行！</li>
<li>解析var变量时，会把值存储在“执行环境”中，而不会去赋值，值是存储作用！例如:<br>alert（a）; var a = 2; 这时会输出undifiend,意思是没有被初始化没有被赋值!<br>这并不是没有被定义、错误了的意思！</li>
<li>在解析function时会把函数整体定义，这也就解释了为什么在function定义函数时为什么可以先调用后声明了！其实表面上看是先调用了，其实在内部机制中第一步实行的是把以function方式定义的函数先声明了（预处理）</li>
</ul>
</li>
</ol>
<pre><code class="javascript">/*
面试题 : 输出 undefined
  */
var a = 3
function fn () {
  console.log(a)
  var a = 4
}
fn() // undefined

console.log(b) //undefined  变量提升
fn2() //可调用  函数提升 fn2()
// fn3() //不能  变量提升 Uncaught TypeError: fn3 is not a function

var b = 3
function fn2() {
  console.log(&#39;fn2()&#39;)
}

var fn3 = function () {
  console.log(&#39;fn3()&#39;)
}</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815122405.png" alt="image-20200815122404360" class="lazyload"></p>
<p>(2) 执行上下文</p>
<ol>
<li>代码分类(位置)<ul>
<li>全局代码</li>
<li>函数(局部)代码</li>
</ul>
</li>
<li>全局执行上下文<ul>
<li>在执行全局代码前将window确定为全局执行上下文</li>
<li>对全局数据进行预处理<ul>
<li>var定义的全局变量==&gt;undefined, 添加为window的属性</li>
<li>function声明的全局函数==&gt;赋值(fun), 添加为window的方法</li>
<li>this==&gt;赋值(window)</li>
</ul>
</li>
<li>开始执行全局代码<pre><code class="javascript">// 全局声明的变量和函数都会在window中：window.a1、window.a2()
console.log(a1, window.a1) // undefined undefined
window.a2() // a2() 
console.log(this) // Window
</code></pre>
</li>
</ul>
</li>
</ol>
<p>var a1 = 3 // 在这声明，事实上调到上面声明了，这里赋值(因此上面能访问)<br>function a2() { // 在这里声明，能够在上面调用<br>  console.log(‘a2()’)<br>}<br>console.log(a1) // 3</p>
<pre><code>


3. 函数执行上下文
  * 在调用函数, 准备执行函数体之前, 创建对应的函数执行上下文对象(虚拟的, 存在于栈中)
  * 对局部数据进行预处理
    * 形参变量——&gt;赋值(实参)——&gt;添加为执行上下文的属性
    * arguments==&gt;赋值(实参列表), 添加为执行上下文的属性
    * var定义的局部变量==&gt;undefined, 添加为执行上下文的属性
    * function声明的函数 ==&gt;赋值(fun), 添加为执行上下文的方法
    * this==&gt;赋值(调用函数的对象)
  * 开始执行函数体代码

![image-20200815123117687](https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123118.png)



(3) 执行上下文栈

1. 在全局代码执行前, JS引擎就会创建一个栈来存储管理所有的执行上下文对象
2. 在全局执行上下文(window)确定后, 将其添加到栈中(压栈)
3. 在函数执行上下文创建后, 将其添加到栈中(压栈)
4. 在当前函数执行完后,将栈顶的对象移除(出栈)
5. 当所有的代码执行完后, 栈中只剩下window

```javascript
var a = 10
var bar = function (x) {
  var b = 5
  foo(x + b)
}
var foo = function (y) {
  var c = 5
  console.log(a + c + y)
}
bar(10)
// bar(10)</code></pre><p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123328.png" alt="image-20200815123327077" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123402.png" alt="image-20200815123401244" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815123416.png" alt="image-20200815123414448" class="lazyload"></p>
<pre><code class="javascript">console.log(&#39;gb: &#39;+ i)
var i = 1
foo(1)
function foo(i) {
  if (i == 4) {
    return
  }
  console.log(&#39;fb:&#39; + i)
  foo(i + 1) //递归调用: 在函数内部调用自己
  console.log(&#39;fe:&#39; + i)
}
console.log(&#39;ge: &#39; + i)
/*
1. 依次输出什么?
  gb: undefined
  fb: 1
  fb: 2
  fb: 3
  fe: 3
  fe: 2
  fe: 1
  ge: 1
2. 整个过程中产生了几个执行上下文?  5   */</code></pre>
<p>(4) 面试题</p>
<pre><code class="javascript">/*
  测试题1:  先执行变量提升, 再执行函数提升(先找var和function xxx(){})
  */
function a() {}
var a
console.log(typeof a) // function</code></pre>
<pre><code class="javascript">/*
  测试题2: 先提出去，window中有b，且未赋值
  */
if (!(b in window)) {
  var b = 1
}
console.log(b) // undefined</code></pre>
<pre><code class="javascript">/*
  测试题3: 针对变量名同名或函数名同名的情况：如果声明了同名的函数其定义会被后者覆盖，声明了同名的变量其值也会被后者覆盖
  */
var c = 1
function c(c) {
  console.log(c)
  var c = 3
}
console.log(c) // 1
c(2) // 报错 Uncaught TypeError: c is not a function

再看一个
//声明阶段
function x(){//函数声明
    //console.log(5)此句会被下句代码覆盖
    console.log(3)
}
var x;//变量声明，因为x已经声明过了，此处不进行声明（忽略）
//执行阶段
console.log(x) // ƒ x(){//函数声明//console.log(5);此句会被下句代码覆盖console.log(3);}
console.log(x()) // 3
x=1 
x=100 //x的值被覆盖
console.log(x) // 100
console.log(x()) // Uncaught TypeError: x is not a function</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125003.png" alt="image-20200815125002631" class="lazyload"></p>
<h3 id="3、作用域与作用域链"><a href="#3、作用域与作用域链" class="headerlink" title="3、作用域与作用域链"></a>3、作用域与作用域链</h3><p>(1) 作用域</p>
<ol>
<li>理解<ul>
<li>就是一块”地盘”, 一个代码段所在的区域</li>
<li>它是静态的(相对于上下文对象), 在编写代码时就确定了</li>
</ul>
</li>
<li>分类<ul>
<li>全局作用域</li>
<li>函数作用域</li>
<li>没有块作用域(ES6有了)<pre><code class="javascript">/*  //没块作用域
if(true) {
var c = 3
}
console.log(c) // 3 有块作用域则报错*/</code></pre>
</li>
</ul>
</li>
</ol>
<ol start="3">
<li>作用<ul>
<li>隔离变量，不同作用域下同名变量不会有冲突</li>
</ul>
</li>
</ol>
<p>例如把如下代码分割</p>
<pre><code class="javascript">var a = 10,
  b = 20
function fn(x) {
  var a = 100,
    c = 300;
  console.log(&#39;fn()&#39;, a, b, c, x) 
  function bar(x) {
    var a = 1000,
      d = 400
    console.log(&#39;bar()&#39;, a, b, c, d, x)
  }
  bar(100) // bar() 1000 20 300 400 100
  bar(200) // bar() 1000 20 300 400 200
}
fn(10) // fn() 100 20 300 10</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125424.png" alt="image-20200815125422438" class="lazyload"></p>
<p>(2) 作用域与执行上下文</p>
<ol>
<li>区别1<ul>
<li>全局作用域之外，每个函数都会创建自己的作用域，作用域在函数定义时就已经确定了。而不是在函数调用时</li>
<li>全局执行上下文环境是在全局作用域确定之后, js代码马上执行之前创建</li>
<li>函数执行上下文是在调用函数时, 函数体代码执行之前创建</li>
</ul>
</li>
<li>区别2<ul>
<li>作用域是静态的, 只要函数定义好了就一直存在, 且不会再变化</li>
<li>执行上下文是动态的, 调用函数时创建, 函数调用结束时就会自动释放</li>
</ul>
</li>
<li>联系<ul>
<li>执行上下文(对象)是从属于所在的作用域</li>
<li>全局上下文环境==&gt;全局作用域</li>
<li>函数上下文环境==&gt;对应的函数使用域</li>
</ul>
</li>
</ol>
<p>还是上面那串代码</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125637.png" alt="image-20200815125635951" class="lazyload"></p>
<p>(3) 作用域链</p>
<ol>
<li>理解<ul>
<li>多个上下级关系的作用域形成的链, 它的方向是从下向上的(从内到外)</li>
<li>查找变量时就是沿着作用域链来查找的</li>
</ul>
</li>
<li>查找一个变量的查找规则<ul>
<li>在当前作用域下的执行上下文中查找对应的属性, 如果有直接返回, 否则进入2</li>
<li>在上一级作用域的执行上下文中查找对应的属性, 如果有直接返回, 否则进入3</li>
<li>再次执行2的相同操作, 直到全局作用域, 如果还找不到就抛出找不到的异常</li>
</ul>
</li>
</ol>
<pre><code class="javascript">var a = 1
function fn1() {
  var b = 2
  function fn2() {
    var c = 3
    console.log(c) // 3
    console.log(b) // 2
    console.log(a) // 1
    console.log(d) // Uncaught ReferenceError: d is not defined
  }
  fn2()
}
fn1()</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125756.png" alt="image-20200815125755108" class="lazyload"></p>
<p>(4) 面试题</p>
<pre><code class="javascript">var x = 10;
function fn() {
  console.log(x);
}
function show(f) {
  var x = 20;
  f();
}
show(fn); // 10</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125904.png" alt="image-20200815125902910" class="lazyload"></p>
<pre><code class="javascript">var fn = function () {
  console.log(fn)
}
fn() // f(){console.log(fn)}

var obj = {
  fn2: function () {
    console.log(fn2)
    //console.log(this.fn2) // ƒ () {// console.log(fn2) console.log(this.fn2)}
  }
}
obj.fn2() // Uncaught ReferenceError: fn2 is not defined</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815125936.png" alt="image-20200815125935489" class="lazyload"></p>
<h3 id="4、闭包"><a href="#4、闭包" class="headerlink" title="4、闭包"></a>4、闭包</h3><p>(1) 引入实例</p>
<pre><code class="html">&lt;button&gt;测试1&lt;/button&gt;
&lt;button&gt;测试2&lt;/button&gt;
&lt;button&gt;测试3&lt;/button&gt;
&lt;!--
需求: 点击某个按钮, 提示&quot;点击的是第n个按钮&quot;
--&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var btns = document.getElementsByTagName(&#39;button&#39;)
  //遍历加监听
  /*// 无论点哪个都是 第4个 ——点击的时候循环已经执行完了
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    var btn = btns[i]
    btn.onclick = function () {
      alert(&#39;第&#39;+(i+1)+&#39;个&#39;)
    }
  }*/
  /*
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    var btn = btns[i]
    //将btn所对应的下标保存在btn上，利用这中方式可以实现
    btn.index = i
    btn.onclick = function () {
      alert(&#39;第&#39;+(this.index+1)+&#39;个&#39;)
    }
  }*/

  //利用闭包
  for (var i = 0,length=btns.length; i &lt; length; i++) {
    (function (j) {
      var btn = btns[j]
      btn.onclick = function () {
        alert(&#39;第&#39;+(j+1)+&#39;个&#39;)
      }
    })(i)
  }
&lt;/script&gt;</code></pre>
<p>(2) 理解闭包</p>
<ol>
<li>如何产生闭包?<ul>
<li>当一个<strong>嵌套的内部(子)函数引用了嵌套的外部(父)函数的变量(函数)</strong>时, 就产生了闭包</li>
</ul>
</li>
<li>闭包到底是什么?<ul>
<li>使用chrome调试查看</li>
<li>理解一: 闭包是嵌套的内部函数(绝大部分人)</li>
<li>理解二: 包含被引用变量(函数)的对象(极少数人)</li>
<li>注意: 闭包存在于嵌套的内部函数中</li>
</ul>
</li>
<li><strong><em>产生闭包的条件?</em></strong><ul>
<li>函数嵌套</li>
<li>内部函数引用了外部函数的数据(变量/函数)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1 () {
  var a = 2
  var b = &#39;abc&#39;
  function fn2 () { //执行函数定义就会产生闭包(不用调用内部函数)
    console.log(a)
  }
  // fn2()
}
fn1()

function fun1() {
  var a = 3
  var fun2 = function () { // 声明变量形式定义函数，不会产生闭包
    console.log(a)
  }
}
fun1()</code></pre>
<p>(3) 常见的闭包</p>
<ol>
<li>将函数作为另一个函数的返回值</li>
<li>将函数作为实参传递给另一个函数调用</li>
</ol>
<pre><code class="javascript">// 1. 将函数作为另一个函数的返回值
function fn1() {
  var a = 2
  function fn2() {
    a++
    console.log(a)
  }
  return fn2
}
var f = fn1()
f() // 3
f() // 4
/* f调用的是内部函数，fn1外部函数执行了一次，产生1个闭包 */

// 2. 将函数作为实参传递给另一个函数调用
function showDelay(msg, time) {
  setTimeout(function () {
    alert(msg)
  }, time)
}
showDelay(&#39;test&#39;, 2000)</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815131913.png" alt="image-20200815131912058" class="lazyload"></p>
<p>(4) 闭包的作用</p>
<ol>
<li>使用函数内部的变量在函数执行完后, 仍然存活在内存中(延长了局部变量的生命周期)</li>
<li>让函数外部可以操作(读写)到函数内部的数据(变量/函数)</li>
</ol>
<p><em>问题:</em></p>
<ul>
<li><p>函数执行完后, 函数内部声明的局部变量是否还存在? </p>
<p>一般是不存在, 存在于闭中的变量才可能存在</p>
</li>
<li><p>在函数外部能直接访问函数内部的局部变量吗? </p>
<p>不能, 但我们可以通过闭包让外部操作它</p>
</li>
</ul>
<pre><code class="javascript">function fn1() {
  var a = 2
  function fn2() {
    a++
    console.log(a)
    // return a
  }
  function fn3() {
    a--
    console.log(a)
  }
  return fn3
}
var f = fn1()
f() // 1
f() // 0</code></pre>
<p>(5) 闭包的生命周期</p>
<ol>
<li>产生: 在嵌套内部函数<strong>定义</strong>执行完时就产生了(不是在调用)</li>
<li>死亡: 在嵌套的内部函数成为垃圾对象时</li>
</ol>
<pre><code>function fn1() {
  //此时闭包就已经产生了(函数提升, 内部函数对象已经创建了)
  var a = 2
  function fn2 () {
    a++
    console.log(a)
  }
  return fn2
}
var f = fn1()
f() // 3
f() // 4
f = null //闭包死亡(包含闭包的函数对象成为垃圾对象)</code></pre><p>(6) 闭包的应用: 自定义JS模块</p>
<p>模块：</p>
<ul>
<li>具有特定功能的js文件<ul>
<li>将所有的数据和功能都封装在一个函数内部(私有的)</li>
<li>只向外暴露一个包括n个方法的对象或函数</li>
<li>模块的使用者, 只需要通过模块暴露的对象调用方法来实现对应的功能</li>
</ul>
</li>
</ul>
<p>例如：</p>
<p>文件<code>myModule1.js</code>就是一个模块</p>
<pre><code class="javascript">function myModule() {
  //私有数据
  var msg = &#39;Hello This is Module1&#39;
  //操作数据的函数
  function doSomething() {
    console.log(&#39;doSomething() &#39;+msg.toUpperCase())
  }
  function doOtherthing () {
    console.log(&#39;doOtherthing() &#39;+msg.toLowerCase())
  }

  //向外暴露对象(给外部使用的方法)
  return {
    doSomething: doSomething,
    doOtherthing: doOtherthing
  }
}</code></pre>
<p>在其他文件中引入</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;myModule.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  var module = myModule()
  module.doSomething()
  module.doOtherthing()
&lt;/script&gt;</code></pre>
<p>下面这种更好用一点，可以不需要先执行那个函数（IIFE）</p>
<p><code>myModule2.js</code></p>
<pre><code class="javascript">(function () {
  //私有数据
  var msg = &#39;Hello This is Module1&#39;
  //操作数据的函数
  function doSomething() {
    console.log(&#39;doSomething() &#39;+msg.toUpperCase())
  }
  function doOtherthing () {
    console.log(&#39;doOtherthing() &#39;+msg.toLowerCase())
  }

  //向外暴露对象(给外部使用的方法)
  window.myModule2 = {
    doSomething: doSomething,
    doOtherthing: doOtherthing
  }
})()</code></pre>
<p>引入使用</p>
<pre><code class="html">&lt;script type=&quot;text/javascript&quot; src=&quot;myModule2.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  myModule2.doSomething()
  myModule2.doOtherthing()
&lt;/script&gt;</code></pre>
<p>压缩代码时，会把变量改为a、b、c这种的，因此最好这样做</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815132854.png" alt="image-20200815132852872" class="lazyload"></p>
<p>(7) 闭包的缺点及解决</p>
<ol>
<li>缺点<ul>
<li>函数执行完后, 函数内的局部变量没有释放, 占用内存时间会变长</li>
<li>容易造成内存泄露</li>
</ul>
</li>
<li>解决<ul>
<li>能不用闭包就不用</li>
<li>及时释放</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1() {
  var arr = new Array[100000]
  function fn2() {
    console.log(arr.length)
  }
  return fn2
}
var f = fn1()
f()

f = null //让内部函数成为垃圾对象--&gt;回收闭包</code></pre>
<p>补充：内存溢出与内存泄露</p>
<ul>
<li>内存溢出<ul>
<li>一种程序运行出现的错误</li>
<li>当程序运行需要的内存超过了剩余的内存时，就会抛出内存溢出的错误</li>
</ul>
</li>
<li>内存泄露<ul>
<li>占用的内存没有及时释放</li>
<li>内存泄露积累多了就容易导致内存溢出</li>
<li>常见的内存泄露：<ul>
<li>意外的全局变量</li>
<li>没有及时清理的计时器或回调函数</li>
<li>闭包</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133732.png" alt="image-20200815133731332" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133741.png" alt="image-20200815133739782" class="lazyload"></p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133756.png" alt="image-20200815133755479" class="lazyload"></p>
<p>(8) 面试题</p>
<pre><code class="javascript">//代码片段一
var name = &quot;The Window&quot;;
var object = {
  name : &quot;My Object&quot;,
  getNameFunc : function(){
    return function(){
      return this.name;
    };
  }
};
alert(object.getNameFunc()());  // the window

//代码片段二
var name2 = &quot;The Window&quot;;
var object2 = {
  name2 : &quot;My Object&quot;,
  getNameFunc : function(){
    var that = this;
    return function(){
      return that.name2;
    };
  }
};
alert(object2.getNameFunc()()); // my object

// 三
function fun(n,o) {
  console.log(o)
  return {
    fun:function(m){
      return fun(m,n)
    }
  }
}
var a = fun(0)
a.fun(1)
a.fun(2)
a.fun(3)//undefined,0,0,0

var b = fun(0).fun(1).fun(2).fun(3)//undefined,0,1,2

var c = fun(0).fun(1)
c.fun(2)
c.fun(3)//undefined,0,1,1</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815133831.png" alt="image-20200815133830697" class="lazyload"></p>
<h2 id="三、面向对象高级"><a href="#三、面向对象高级" class="headerlink" title="三、面向对象高级"></a>三、面向对象高级</h2><h3 id="1、对象创建模式"><a href="#1、对象创建模式" class="headerlink" title="1、对象创建模式"></a>1、对象创建模式</h3><p>有如下五种方式：</p>
<p>(1) Object构造函数模式</p>
<ul>
<li>套路: 先创建空Object对象, 再动态添加属性/方法</li>
<li>适用场景: 起始时不确定对象内部数据</li>
<li>问题: 语句太多</li>
</ul>
<pre><code class="javascript">/*
一个人: name:&quot;Tom&quot;, age: 12
  */
// 先创建空Object对象
var p = new Object()
p = {} //此时内部数据是不确定的
// 再动态添加属性/方法
p.name = &#39;Tom&#39;
p.age = 12
p.setName = function (name) {
  this.name = name
}

//测试
console.log(p.name, p.age)
p.setName(&#39;Bob&#39;)
console.log(p.name, p.age)</code></pre>
<p>(2) 对象字面量模式</p>
<ul>
<li>套路: 使用{}创建对象, 同时指定属性/方法<ul>
<li>适用场景: 起始时对象内部数据是确定的</li>
<li>问题: 如果创建多个对象, 有重复代码</li>
</ul>
</li>
</ul>
<pre><code class="javascript">var p = {
  name: &#39;Tom&#39;,
  age: 12,
  setName: function (name) {
    this.name = name
  }
}

//测试
console.log(p.name, p.age)
p.setName(&#39;JACK&#39;)
console.log(p.name, p.age)

var p2 = {  //如果创建多个对象代码很重复
  name: &#39;Bob&#39;,
  age: 13,
  setName: function (name) {
    this.name = name
  }
}</code></pre>
<p>(3) <del>工厂模式</del></p>
<ul>
<li>套路: 通过工厂函数动态创建对象并返回<ul>
<li>适用场景: 需要创建多个对象</li>
<li>问题: 对象没有一个具体的类型, 都是Object类型</li>
</ul>
</li>
</ul>
<pre><code class="javascript">function createPerson(name, age) { //返回一个对象的函数===&gt;工厂函数
  var obj = {
    name: name,
    age: age,
    setName: function (name) {
      this.name = name
    }
  }

  return obj
}

// 创建2个人
var p1 = createPerson(&#39;Tom&#39;, 12)
var p2 = createPerson(&#39;Bob&#39;, 13)

// p1/p2是Object类型

function createStudent(name, price) {
  var obj = {
    name: name,
    price: price
  }
  return obj
}
var s = createStudent(&#39;张三&#39;, 12000)
// s也是Object</code></pre>
<p>(4) 自定义构造函数模式</p>
<ul>
<li>套路: 自定义构造函数, 通过new创建对象</li>
<li>适用场景: 需要创建多个类型确定的对象</li>
<li>问题: 每个对象都有相同的数据, 浪费内存</li>
</ul>
<pre><code class="javascript">//定义类型
function Person(name, age) {
  this.name = name
  this.age = age
  this.setName = function (name) {
    this.name = name
  }
}
var p1 = new Person(&#39;Tom&#39;, 12)
p1.setName(&#39;Jack&#39;)
console.log(p1.name, p1.age)
console.log(p1 instanceof Person)

function Student (name, price) {
  this.name = name
  this.price = price
}
var s = new Student(&#39;Bob&#39;, 13000)
console.log(s instanceof Student)

var p2 = new Person(&#39;JACK&#39;, 23)
console.log(p1, p2)</code></pre>
<p>方法两者都有，且相同，不需要单独拥有，可放到原型中(方法一般放到原型中)——&gt;</p>
<p>(5) 构造函数+原型的组合模式</p>
<ul>
<li>套路: 自定义构造函数, 属性在函数中初始化, 方法添加到原型上</li>
<li>适用场景: 需要创建多个类型确定的对象</li>
</ul>
<pre><code class="javascript">function Person(name, age) { //在构造函数中只初始化一般函数
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}

var p1 = new Person(&#39;Tom&#39;, 23)
var p2 = new Person(&#39;Jack&#39;, 24)
console.log(p1, p2)</code></pre>
<h3 id="2、继承模式"><a href="#2、继承模式" class="headerlink" title="2、继承模式"></a>2、继承模式</h3><p>继承，在js中有三种方式：</p>
<p>(1) 原型链继承</p>
<ol>
<li>套路<ul>
<li>定义父类型构造函数</li>
<li>给父类型的原型添加方法</li>
<li>定义子类型的构造函数</li>
<li>创建父类型的对象赋值给子类型的原型</li>
<li>将子类型原型的构造属性设置为子类型</li>
<li>给子类型原型添加方法</li>
<li>创建子类型的对象: 可以调用父类型的方法</li>
</ul>
</li>
<li>关键<ul>
<li>子类型的原型为父类型的一个实例对象</li>
</ul>
</li>
</ol>
<pre><code class="javascript">//父类型
function Supper() {
  this.supProp = &#39;Supper property&#39;
}
Supper.prototype.showSupperProp = function () {
  console.log(this.supProp)
}

//子类型
function Sub() {
  this.subProp = &#39;Sub property&#39;
}

// 子类型的原型为父类型的一个实例对象
Sub.prototype = new Supper()
// 让子类型的原型的constructor指向子类型
Sub.prototype.constructor = Sub
Sub.prototype.showSubProp = function () {
  console.log(this.subProp)
}

var sub = new Sub()
sub.showSupperProp()
// sub.toString()
sub.showSubProp()

console.log(sub)  // Sub</code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815135207.png" alt="image-20200815135206553" class="lazyload"></p>
<p>(2) 借用构造函数继承</p>
<ol>
<li>套路:<ul>
<li>定义父类型构造函数</li>
<li>定义子类型构造函数</li>
<li>在子类型构造函数中调用父类型构造</li>
</ul>
</li>
<li>关键:<ul>
<li>在子类型构造函数中通用call()调用父类型构造函数</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function Person(name, age) {
  this.name = name
  this.age = age
}
function Student(name, age, price) {
  Person.call(this, name, age)  // 相当于: this.Person(name, age)
  /*this.name = name
  this.age = age*/
  this.price = price
}

var s = new Student(&#39;Tom&#39;, 20, 14000)
console.log(s.name, s.age, s.price)</code></pre>
<p>(3) 组合继承</p>
<ol>
<li><p>利用原型链实现对父类型对象的方法继承</p>
</li>
<li><p>利用super()借用父类型构建函数初始化相同属性</p>
</li>
</ol>
<pre><code class="javascript">function Person(name, age) {
  this.name = name
  this.age = age
}
Person.prototype.setName = function (name) {
  this.name = name
}

function Student(name, age, price) {
  Person.call(this, name, age)  // 为了得到属性
  this.price = price
}
Student.prototype = new Person() // 为了能看到父类型的方法
Student.prototype.constructor = Student //修正constructor属性
Student.prototype.setPrice = function (price) {
  this.price = price
}

var s = new Student(&#39;Tom&#39;, 24, 15000)
s.setName(&#39;Bob&#39;)
s.setPrice(16000)
console.log(s.name, s.age, s.price)</code></pre>
<h2 id="四、线程机制与事件机制"><a href="#四、线程机制与事件机制" class="headerlink" title="四、线程机制与事件机制"></a>四、线程机制与事件机制</h2><h3 id="1、进程与线程"><a href="#1、进程与线程" class="headerlink" title="1、进程与线程"></a>1、进程与线程</h3><p>(1) 进程(process)</p>
<ul>
<li>程序的一次执行, 它占有一片独有的内存空间</li>
<li>可以通过windows任务管理器查看进程</li>
</ul>
<p>(2) 线程(thread)</p>
<ul>
<li>是进程内的一个独立执行单元</li>
<li>是程序执行的一个完整流程</li>
<li>是CPU的最小的调度单元</li>
</ul>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815135743.png" alt="线程与进程" class="lazyload"></p>
<p>应用程序必须运行在某个进程的某个线程上<br>一个进程中至少有一个运行的线程: 主线程,  进程启动后自动创建<br>一个进程中也可以同时运行多个线程, 我们会说程序是多线程运行的<br>一个进程内的数据可以供其中的多个线程直接共享<br>多个进程之间的数据是不能直接共享的<br>线程池(thread pool): 保存多个线程对象的容器, 实现线程对象的反复利用</p>
<p>(3) 相关问题</p>
<ol>
<li>何为多进程与多线程?</li>
</ol>
<ul>
<li>多进程运行: 一应用程序可以同时启动多个实例运行</li>
<li>多线程: 在一个进程内, 同时有多个线程运行</li>
</ul>
<ol start="2">
<li>比较单线程与多线程?</li>
</ol>
<ul>
<li>多线程<ul>
<li>优点<ul>
<li>能有效提升CPU的利用率</li>
</ul>
</li>
<li>缺点<ul>
<li>创建多线程开销</li>
<li>线程间切换开销</li>
<li>死锁与状态同步问题</li>
</ul>
</li>
</ul>
</li>
<li>单线程<ul>
<li>优点<ul>
<li>顺序编程简单易懂</li>
</ul>
</li>
<li>缺点<ul>
<li>效率低</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="3">
<li>JS是单线程还是多线程?</li>
</ol>
<ul>
<li>js是单线程运行的，但使用H5中的 Web Workers可以多线程运行</li>
</ul>
<ol start="4">
<li>浏览器运行是单线程还是多线程?</li>
</ol>
<ul>
<li>都是多线程运行的</li>
</ul>
<ol start="5">
<li>浏览器运行是单进程还是多进程?</li>
</ol>
<ul>
<li>有的是单进程<ul>
<li>firefox</li>
<li>老版IE</li>
</ul>
</li>
<li>有的是多进程<ul>
<li>chrome</li>
<li>新版IE</li>
</ul>
</li>
<li>如何查看浏览器是否是多进程运行的呢?<ul>
<li>任务管理器–&gt;进程</li>
</ul>
</li>
</ul>
<h3 id="2、浏览器内核"><a href="#2、浏览器内核" class="headerlink" title="2、浏览器内核"></a>2、浏览器内核</h3><ul>
<li>支撑浏览器运行的最核心的程序</li>
<li>不同的浏览器可能不一样<ul>
<li>Chrome, Safari : webkit</li>
<li>firefox : Gecko</li>
<li>IE    : Trident</li>
<li>360,搜狗等国内浏览器: Trident + webkit</li>
</ul>
</li>
<li>内核由很多模块组成<ul>
<li>主线程<ul>
<li>js引擎模块 : 负责js程序的编译与运行</li>
<li>html,css文档解析模块 : 负责页面文本的解析</li>
<li>DOM/CSS模块 : 负责dom/css在内存中的相关处理 </li>
<li>布局和渲染模块 : 负责页面的布局和效果的绘制(内存中的对象)<pre><code>......</code></pre></li>
</ul>
</li>
<li>​    分线程<ul>
<li>定时器模块 : 负责定时器的管理</li>
<li>DOM事件响应模块 : 负责事件的管理</li>
<li>网络请求模块 : 负责ajax请求</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3、定时器引发的思考"><a href="#3、定时器引发的思考" class="headerlink" title="3、定时器引发的思考"></a>3、定时器引发的思考</h3><ol>
<li>定时器真是定时执行的吗?</li>
</ol>
<ul>
<li><p>定时器并不能保证真正定时执行</p>
</li>
<li><p>一般会延迟一丁点(可以接受), 也有可能延迟很长时间(不能接受)</p>
</li>
</ul>
<ol start="2">
<li>定时器回调函数是在分线程执行的吗?</li>
</ol>
<ul>
<li>在主线程执行的, js是单线程的</li>
</ul>
<ol start="3">
<li>定时器是如何实现的?</li>
</ol>
<ul>
<li>事件循环模型(后面讲)</li>
</ul>
<pre><code class="javascript">document.getElementById(&#39;btn&#39;).onclick = function () {
  var start = Date.now()
  console.log(&#39;启动定时器前...&#39;)
  setTimeout(function () {
    console.log(&#39;定时器执行了&#39;, Date.now()-start)
  }, 200)
  console.log(&#39;启动定时器后...&#39;)

  // 做一个长时间的工作
  for (var i = 0; i &lt; 1000000000; i++) {

  }
}</code></pre>
<h3 id="4、JS是单线程执行的"><a href="#4、JS是单线程执行的" class="headerlink" title="4、JS是单线程执行的"></a>4、JS是单线程执行的</h3><ol>
<li><p>如何证明js执行是单线程的?</p>
<ul>
<li>setTimeout()的回调函数是在主线程执行的</li>
<li>定时器回调函数只有在运行栈中的代码全部执行完后才有可能执行</li>
</ul>
</li>
<li><p>为什么js要用单线程模式, 而不用多线程模式?</p>
<ul>
<li>JavaScript的单线程，与它的用途有关。</li>
<li>作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。</li>
<li>这决定了它只能是单线程，否则会带来很复杂的同步问题</li>
</ul>
</li>
<li><p>代码的分类:</p>
<ul>
<li>初始化代码</li>
<li>回调代码</li>
</ul>
</li>
<li><p>js引擎执行代码的基本流程</p>
<ul>
<li>先执行初始化代码: 包含一些特别的代码   回调函数(异步执行)<ul>
<li>设置定时器</li>
<li>绑定事件监听</li>
<li>发送ajax请求</li>
</ul>
</li>
<li>后面在某个时刻才会执行回调代码(回调函数包含的代码)</li>
</ul>
</li>
</ol>
<pre><code class="javascript">setTimeout(function () {
  console.log(&#39;timeout 2222&#39;)
  alert(&#39;22222222&#39;)
}, 2000)
setTimeout(function () {
  console.log(&#39;timeout 1111&#39;)
  alert(&#39;1111111&#39;)
}, 1000)
setTimeout(function () {
  console.log(&#39;timeout() 00000&#39;)
}, 0)
function fn() {
  console.log(&#39;fn()&#39;)
}
fn()

console.log(&#39;alert()之前&#39;)
alert(&#39;------&#39;) //暂停当前主线程的执行, 同时暂停计时, 点击确定后, 恢复程序执行和计时
console.log(&#39;alert()之后&#39;)</code></pre>
<h3 id="5、浏览器的事件循环-轮询-模型"><a href="#5、浏览器的事件循环-轮询-模型" class="headerlink" title="5、浏览器的事件循环(轮询)模型"></a>5、浏览器的事件循环(轮询)模型</h3><p>(1) 模型原理图</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815141019.png" alt="image-20200815141017614" class="lazyload"></p>
<ol>
<li>所有代码分类<ul>
<li>初始化执行代码(同步代码): 包含绑定dom事件监听, 设置定时器, 发送ajax请求的代码</li>
<li>回调执行代码(异步代码): 处理回调逻辑</li>
</ul>
</li>
<li>js引擎执行代码的基本流程:<ul>
<li>初始化代码===&gt;回调代码</li>
</ul>
</li>
<li>模型的2个重要组成部分:<ul>
<li>事件(定时器/DOM事件/Ajax)管理模块</li>
<li>回调队列</li>
</ul>
</li>
<li>模型的运转流程<ul>
<li>执行初始化代码, 将事件回调函数交给对应模块管理</li>
<li>当事件发生时, 管理模块会将回调函数及其数据添加到回调列队中</li>
<li>只有当初始化代码执行完后(可能要一定时间), 才会遍历读取回调队列中的回调函数执行</li>
</ul>
</li>
</ol>
<pre><code class="javascript">function fn1() {
  console.log(&#39;fn1()&#39;)
}
fn1()
document.getElementById(&#39;btn&#39;).onclick = function () {
  console.log(&#39;点击了btn&#39;)
}
setTimeout(function () {
  console.log(&#39;定时器执行了&#39;)
}, 2000)
function fn2() {
  console.log(&#39;fn2()&#39;)
}
fn2()</code></pre>
<p>(2) 相关重要概念</p>
<ol>
<li>执行栈 execution stack</li>
</ol>
<ul>
<li>所有的代码都是在此空间中执行的</li>
</ul>
<ol start="2">
<li><p>浏览器内核 browser core</p>
<ul>
<li><p>js引擎模块(在主线程处理)</p>
</li>
<li><p>其它模块(在主/分线程处理)</p>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815141526.png" alt="运行原理图" class="lazyload"></p>
</li>
</ul>
</li>
</ol>
<ol start="3">
<li><p>任务队列 task queue</p>
</li>
<li><p>消息队列 message queue</p>
</li>
<li><p>事件队列 event queue</p>
<p>上面这三个在同一个 callback queue </p>
</li>
</ol>
<ol start="6">
<li><p>事件轮询 event loop<br> 从任务队列中循环取出回调函数放入执行栈中处理(一个接一个)</p>
</li>
<li><p>事件驱动模型 event-driven interaction model</p>
</li>
<li><p>请求响应模型 request-response model</p>
</li>
</ol>
<h3 id="6、H5-Web-Workers-多线程"><a href="#6、H5-Web-Workers-多线程" class="headerlink" title="6、H5 Web Workers(多线程)"></a>6、H5 Web Workers(多线程)</h3><p>(1) 介绍</p>
<ul>
<li>Web Workers 是 HTML5 提供的一个javascript多线程解决方案</li>
<li>我们可以将一些大计算量的代码交由web Worker运行而不冻结用户界面</li>
<li>但是子线程完全受主线程控制，且不得操作DOM。所以，这个新标准并没有改变JavaScript单线程的本质</li>
</ul>
<p>(2) 相关API</p>
<ul>
<li>Worker: 构造函数, 加载分线程执行的js文件</li>
<li>Worker.prototype.onmessage: 用于接收另一个线程的回调函数</li>
<li>Worker.prototype.postMessage: 向另一个线程发送消息</li>
</ul>
<p>(3) 使用</p>
<ul>
<li>创建在分线程执行的js文件</li>
</ul>
<pre><code class="javascript">var onmessage =function (event){ //不能用函数声明
    console.log(&#39;onMessage()22&#39;);
    var upper = event.data.toUpperCase();//通过event.data获得发送来的数据
    postMessage( upper );//将获取到的数据发送会主线程
}</code></pre>
<ul>
<li>在主线程中的js中发消息并设置回调</li>
</ul>
<pre><code class="javascript">//创建一个Worker对象并向它传递将在新线程中执行的脚本的URL
var worker = new Worker(&quot;worker.js&quot;);  
//接收worker传过来的数据函数
worker.onmessage = function (event) {     
    console.log(event.data);             
};
//向worker发送数据
worker.postMessage(&quot;hello world&quot;);    </code></pre>
<p><img data-sizes="auto" data-src="https://cdn.jsdelivr.net/gh/wallleap/cdn/img/pic/illustration/20200815143823.png" alt="image-20200815143821391" class="lazyload"></p>
<p>(4) 应用练习</p>
<ul>
<li>直接在主线程</li>
</ul>
<pre><code class="javascript">&lt;input type=&quot;text&quot; placeholder=&quot;数值&quot; id=&quot;number&quot;&gt;
&lt;button id=&quot;btn&quot;&gt;计算&lt;/button&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
// 1 1 2 3 5 8    f(n) = f(n-1) + f(n-2)
function fibonacci(n) {
  return n&lt;=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //递归调用
}
// console.log(fibonacci(7))
var input = document.getElementById(&#39;number&#39;)
document.getElementById(&#39;btn&#39;).onclick = function () {
  var number = input.value
  var result = fibonacci(number)
  alert(result)
}
&lt;/script&gt;</code></pre>
<ul>
<li><p>使用Worker在分线程</p>
<ul>
<li>主线程</li>
</ul>
<pre><code class="javascript">var input = document.getElementById(&#39;number&#39;)
document.getElementById(&#39;btn&#39;).onclick = function () {
  var number = input.value

  //创建一个Worker对象
  var worker = new Worker(&#39;worker.js&#39;)
  // 绑定接收消息的监听
  worker.onmessage = function (event) {
    console.log(&#39;主线程接收分线程返回的数据: &#39;+event.data)
    alert(event.data)
  }

  // 向分线程发送消息
  worker.postMessage(number)
  console.log(&#39;主线程向分线程发送数据: &#39;+number)
}
// console.log(this) // window</code></pre>
</li>
</ul>
<ul>
<li><p>分线程 worker.js</p>
<pre><code class="javascript">function fibonacci(n) {
return n&lt;=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //递归调用
}

console.log(this)
this.onmessage = function (event) {
var number = event.data
console.log(&#39;分线程接收到主线程发送的数据: &#39;+number)
//计算
var result = fibonacci(number)
postMessage(result)
console.log(&#39;分线程向主线程返回数据: &#39;+result)
// alert(result)  alert是window的方法, 在分线程不能调用
// 分线程中的全局对象不再是window, 所以在分线程中不可能更新界面
}</code></pre>
</li>
</ul>
<p>(5) 不足</p>
<ul>
<li>worker内代码不能操作DOM(更新UI)</li>
<li>不能跨域加载JS</li>
<li>不是每个浏览器都支持这个新特性</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
  </article>

  <div class="nexmoe-post-meta">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF/">前端</a>
    
    
        <a class="nexmoefont icon-tag-fill -link" href="/tags/JavaScript/" rel="tag">JavaScript</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/web/" rel="tag">web</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a>
    
</div>

  <div class="nexmoe-post-footer">
    <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
      <!-- 
  <div class="nexmoe-post-copyright">
    <strong>本文作者：</strong>Luwang<br>
    <strong>本文链接：</strong><a href="https://blog.wallleap.cn/2020/04/15/JavaScriptAdvance/" title="https:&#x2F;&#x2F;blog.wallleap.cn&#x2F;2020&#x2F;04&#x2F;15&#x2F;JavaScriptAdvance&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;blog.wallleap.cn&#x2F;2020&#x2F;04&#x2F;15&#x2F;JavaScriptAdvance&#x2F;</a><br>
    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>
 -->

  <div class="my_post_copyright">
    <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script> 
    <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <p><span>本文标题:</span>JavaScript高级学习笔记</a></p>
    <p><span>文章作者:</span><a href="/" title="访问 {{ theme.author }} 的个人博客">luwang</a></p>
    <p><span>发布时间:</span>2020年04月15日 - 19:04</p>
    <p><span>最后更新:</span>2020年09月11日 - 21:09</p>
    <p><span>原始链接:</span><a href="/2020/04/15/JavaScriptAdvance/" title="JavaScript高级学习笔记">https://blog.wallleap.cn/2020/04/15/JavaScriptAdvance/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://blog.wallleap.cn/2020/04/15/JavaScriptAdvance/"  aria-label="复制成功！"></i></span>
    </p>
    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
  </div>
  <script> 
      var clipboard = new Clipboard('.fa-clipboard');
        $(".fa-clipboard").click(function(){
        clipboard.on('success', function(){
          swal({   
            title: "",   
            text: '复制成功',
            icon: "success", 
            showConfirmButton: true
            });
          });
      });  
    </script>
  

  
    
    <!-- <div style="text-align:center;color: #ccc;font-size:14px;margin-top: 46px;">-------------喜欢就分享<i class="fa fa-paw"></i>疼爱就打赏-------------</div>
    <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
    <footer class="post-footer">
        <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
        <div class="post-tags">
        </div>
        <div class="post-share">
          <div class="social-share sharehidden share-component"></div>
          <i class="iconfont show-share icon-forward"></i>
        </div>
      </footer>.entry-footer -->
    
      <style>
/* .list, .list li, .list-left li {
	list-style: none;
	list-style-type: none;
	margin: 0px;
	padding: 0px;
} 
.pos-f {
	position: fixed;
} 
*/

.left-100 {
	width: 100%;
    height: 100%;
    float: left;
}
.blur {
	-webkit-filter: blur(3px);
	filter: blur(3px);
}
.tr3, .list li {
	transition: all .3s;
}
.hidden {
    display: none;
}
.click-cursor, .icon-donate, .list li {
    cursor: pointer;
}
#drinks-box .opacity-show {
    opacity: 1;
}
#drinks-box {
    width: 320px;
    height: 240px;
    margin: 0 auto;
	text-align: center;
	/* left: calc(50% - 160px);
	top: calc(50% - 120px);
    position: fixed; */
    position: relative;
    top:0;
    left: 0;
}
#drinks-icons {
    background: no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/text.png);
}
.drinks-button>div {
    position: absolute;
    top: 0;
    left: 0;
	transition: all 0.3s;
	transform-style: preserve-3d;
    transform-origin: center center;
}
.icon-donate {
    width: 64px;
    height: 64px;
    position: absolute;
	left: calc(50% - 32px);
	top: calc(50% - 32px);
}
.icon-donate img {
    max-width: 64px;
    max-height: 64px;
}
#drinks-button-box {
    display: none;
    opacity: 0;
    transform: scale(1.3,1.3);
}
#drinks-button-bg {
    position: absolute;
    top: 70px;
    left: 0;
    height: 100px;
    opacity: 0;
}
#donate-buttons {
    position: absolute;
    overflow: hidden;
    top: calc(50% - 14px);
    left: 20px;
    height: 28px;
    border-radius: 6px;
    background-color: #ff006e;
    box-shadow: 0 10px 20px 1px rgba(255, 0, 110, 0.5);
}
#donate-buttons a, #github-box a {
    display: block;
}
li[id$="_donate"] {
    position: relative;
    float: left;
    width: 70px;
    height: 28px;
    line-height: 600px;
    overflow: hidden;
	cursor: pointer;
	background: no-repeat center center;
    background-size: 45px;
    text-align: center;
}
li[id$="_donate"]::after {
    content: "";
    position: absolute;
    top: -5px;
    left: calc(50% - 5px);
    height: 0;
    width: 0;
    opacity: 0;
	border: 5px solid #fff;
	border-color: #fff transparent transparent transparent;
    transition: all .3s;
}
li[id$="_donate"]:hover::after {
    opacity: 1;
    top: 0px;
}
#github-box {
    width: 32px;
    height: 32px;
    position: absolute;
    top: calc(50% - 16px);
    background: no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/github.svg);
    background-size: contain;
    right: 72px;
    line-height: 600px;
    overflow: hidden;
    transform: rotatez(20deg );
    opacity: 0;
    transition: all .3s ease-out;
}
#drinks-button-box:hover #github-box, #drinks-button-box.Mobile #github-box {
    top: calc(50% - 40px);
    right: 64px;
    transform: rotatez(5deg );
    opacity: 0.8;
}
#paypal_donate {
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iUGF5UGFsIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiAxNDUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiAxNDU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00OS41LDcyLjljLTMuNywwLTcuMywwLTExLDBjLTEuOCwwLTMuMSwwLjctMy42LDIuNmMtMS4yLDQuMi02LjMsMjIuOS03LjYsMjguMWMtMC43LDIuNy0yLjEsMy44LTQuOSwzLjgNCgljLTUuNywwLTExLjUsMC0xNy4yLDBjLTMuMSwwLTQuNC0xLjQtMy45LTQuNGMwLjQtMi42LDE1LjQtNjcuMiwyMi4zLTk2LjlDMjQuNiwyLjMsMjYuMiwxLDMwLjIsMWMxMC43LDAsNDMuNCwwLjIsNDkuMSwwLjINCglDOTMuNywxLjMsMTA1LjUsMTIuNywxMDYsMjdjMC4zLDkuNi0xLjUsMTguNy02LjksMjYuOGMtNS4zLDcuOS0xMi44LDEyLjgtMjEuNywxNS43QzY4LjMsNzIuNSw1OSw3My40LDQ5LjUsNzIuOXogTTUwLjIsNTMNCgljMi42LTAuMiw0LjctMC4zLDYuOC0wLjVjNS4zLTAuNiwxMC40LTIsMTQuOC01LjNjNS0zLjgsNi43LTksNS43LTE1LjFjLTAuOS01LjYtNC42LTguNi05LjctMTAuM0M2Mi42LDIwLDU3LjIsMjAsNTEuOCwyMC40DQoJYy0yLjcsMC4yLTQuNSwxLjctNS4yLDQuNWMtMC42LDIuNi0xLjUsNS4yLTIuMSw3LjhjLTEuMSw0LjgtMi4yLDkuNy0zLjEsMTQuNmMtMC42LDMuMSwwLjUsNC43LDMuNSw1LjINCglDNDYuOCw1Mi45LDQ4LjcsNTIuOSw1MC4yLDUzeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIwMywxNDMuNmMzLjEsMCw2LjItMC4xLDkuMywwYzIsMC4xLDMuNS0wLjUsNC43LTIuMmMxLjktMi44LDYzLjQtMTAyLjksNjguNS0xMTEuN2MxLjMtMi4yLDAuNS00LTEuOS00DQoJYy02LjctMC4xLTEzLjUsMC0yMC4yLDAuMWMtMS43LDAtMywwLjktNCwyLjVjLTQuOCw3LjgtMjQuMywzOS4yLTI5LjMsNDcuMmMtMC4zLDAuNS0xLjEsMS0xLjUsMC45Yy0wLjYtMC4xLTEuMS0wLjgtMS41LTEuMw0KCWMtMC4yLTAuMy0wLjItMC43LTAuMy0xLjFjLTAuNy0zLjgtNS4zLTMyLjEtNy00Mi40Yy0wLjctNC40LTIuOS02LjEtNy4zLTYuMWMtNC42LDAtOS4yLDAuMi0xMy44LDAuM2MtMy42LDAuMS01LjYsMi40LTUuMSw1LjkNCgljMC4zLDEuOSwxMi40LDY2LjcsMTQuNSw3Ny40YzAuMSwwLjUsMC4yLDEsMC4xLDEuNGMtMC41LDEuNC0wLjksMi44LTEuNiw0Yy00LjcsNy41LTkuNSwxNS0xNC4yLDIyLjVjLTAuNCwwLjctMC45LDEuNC0xLjEsMi4xDQoJYy0wLjYsMi41LTAuOCw0LjIsMi45LDQuMkMxOTcsMTQzLjMsMjAzLDE0My41LDIwMywxNDMuNnoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDkuOCw5OS4yYy0xLjYsMC45LTIuOCwxLjUtMy45LDIuMWMtMi45LDEuNi01LjcsMy4xLTguNiw0LjhjLTUuNCwzLjItMTEuMywzLjktMTcuMywzLjcNCgljLTMuMS0wLjEtNi4yLTAuNC05LjEtMS4yYy03LjctMi0xMi4zLTctMTMuMi0xNS4xYy0wLjgtNi42LTAuMS0xMy4xLDMuMy0xOWMzLjgtNi43LDkuOS0xMC4zLDE2LjktMTIuNmM2LjMtMi4xLDEyLjktMi42LDE5LjUtMi43DQoJYzUuMi0wLjEsMTAuNC0wLjMsMTUuNy0wLjRjMC42LDAsMS4yLTAuMiwxLjgtMC4xYzIuNSwwLjEsMy42LTEuNSw0LTMuNmMwLjMtMS43LDAuNi0zLjYsMC40LTUuM2MtMC40LTMuNS0yLjMtNS43LTUuOC02DQoJYy00LjMtMC41LTguNi0wLjctMTIuOS0wLjZjLTYuMywwLjItMTIuNSwxLTE4LjUsMi44Yy0wLjksMC4zLTEuOCwwLjctMi44LDEuMWMtMi40LDEtNC42LTAuMi00LjQtMi43YzAuMy00LjEsMC44LTguMiwxLjctMTIuMg0KCWMwLjUtMi4yLDIuNC0zLjYsNC43LTRjNy44LTEuNiwxNS43LTIuNCwyMy43LTIuN2M2LjUtMC4yLDEyLjksMCwxOS4yLDEuNWM1LjgsMS4zLDEwLjYsNC4zLDE0LjcsOC41YzQuNCw0LjYsNS45LDEwLjIsNC44LDE2LjMNCgljLTIuMSwxMS4zLTkuNCw0NS41LTEwLjcsNTEuNGMtMC42LDIuOS0yLjMsNC40LTUuMyw0LjVjLTUuNSwwLjItMTEsMC4yLTE2LjUsMC4zYy0xLjYsMC0yLjEtMC42LTItMi4yDQoJQzE0OS41LDEwMy41LDE0OS43LDEwMS42LDE0OS44LDk5LjJ6IE0xNDcuNyw3MC4xYzAsMCwwLDAuMSwwLDAuMWMtMi41LDAuMi00LjksMC4zLTcuNCwwLjVjLTQuMSwwLjQtOC4xLDEuMS0xMS44LDIuOQ0KCWMtNC45LDIuNC02LjksNS44LTYuNiwxMS4zYzAuMyw0LjksMy4zLDguMSw4LjIsOC43YzQsMC41LDcuOSwwLjEsMTEuNy0wLjdjMy4xLTAuNiw1LjktMiw3LjktNC41YzMuOC00LjcsNS0xMC4yLDUtMTYuMQ0KCWMwLTEuNC0wLjktMi4xLTIuMy0yLjJDMTUwLjksNzAuMSwxNDkuMyw3MC4xLDE0Ny43LDcwLjF6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzI1LjksNzIuOWMtMy42LDAtNy4zLDAtMTEsMGMtMS44LDAtMy4xLDAuNy0zLjYsMi42Yy0xLjIsNC4yLTYuMywyMi45LTcuNiwyOC4xYy0wLjcsMi43LTIuMSwzLjgtNC45LDMuOA0KCWMtNS43LDAtMTEuNSwwLTE3LjIsMGMtMy4xLDAtNC40LTEuNC0zLjktNC40YzAuNC0yLjYsMTUuNC02Ny4yLDIyLjMtOTYuOWMwLjktMy45LDIuNi01LjIsNi42LTUuMmMxMC43LDAsNDMuNCwwLjIsNDkuMSwwLjINCglDMzcwLDEuMywzODEuOCwxMi43LDM4Mi4zLDI3YzAuMyw5LjYtMS41LDE4LjctNi45LDI2LjhjLTUuMyw3LjktMTIuOCwxMi44LTIxLjcsMTUuN0MzNDQuNiw3Mi41LDMzNS4zLDczLjQsMzI1LjksNzIuOXogTTMyNi41LDUzDQoJYzIuNi0wLjIsNC43LTAuMyw2LjgtMC41YzUuMy0wLjYsMTAuNC0yLDE0LjgtNS4zYzUtMy44LDYuNy05LDUuNy0xNS4xYy0wLjktNS42LTQuNi04LjYtOS43LTEwLjNjLTUuMi0xLjctMTAuNi0xLjgtMTYuMS0xLjMNCgljLTIuNywwLjItNC41LDEuNy01LjIsNC41Yy0wLjYsMi42LTEuNSw1LjItMi4xLDcuOGMtMS4xLDQuOC0yLjIsOS43LTMuMSwxNC42Yy0wLjYsMy4xLDAuNSw0LjcsMy41LDUuMg0KCUMzMjMuMSw1Mi45LDMyNSw1Mi45LDMyNi41LDUzeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQyNS41LDk5LjJjLTEsMC40LTEuNiwwLjYtMi4yLDAuOWMtNC41LDIuNC05LjEsNC44LTEzLjYsNy4yYy00LjQsMi4zLTkuMiwyLjYtMTQsMi42Yy00LDAtOC0wLjUtMTEuOC0yLjENCgljLTYuNi0yLjgtMTAtNy45LTEwLjctMTQuOWMtMC41LTQuOS0wLjEtOS44LDEuNi0xNC40YzIuOC03LjksOC44LTEyLjcsMTYuNC0xNS43YzYuOS0yLjYsMTQtMy40LDIxLjMtMy41DQoJYzUuNi0wLjEsMTEuMy0wLjMsMTYuOS0wLjVjMy41LTAuMSw0LjMtMC43LDUuMS00LjFjMC40LTEuNywwLjUtMy41LDAuNC01LjJjLTAuMy0zLjItMi4zLTUuNC01LjctNS45Yy0zLjctMC41LTcuNS0wLjgtMTEuMi0wLjcNCgljLTcsMC4yLTEzLjksMS0yMC42LDIuOWMtMC44LDAuMi0xLjYsMC42LTIuNCwxYy0yLjYsMS4yLTQuOCwwLTQuNS0yLjhjMC4zLTMuOCwwLjgtNy42LDEuNS0xMS40YzAuNC0yLjMsMi0zLjksNC40LTQuMw0KCWM0LjgtMC44LDkuNi0xLjgsMTQuNS0yLjFjNi4xLTAuNSwxMi4zLTAuNywxOC41LTAuNmM4LDAuMiwxNS42LDEuNywyMi4xLDdjMy45LDMuMiw2LjksNi45LDcuOCwxMmMwLjYsMy42LDAuMiw3LjItMC41LDEwLjcNCgljLTMuMywxNS41LTYuNiwzMS05LjksNDYuNWMtMC45LDQuMS0yLjMsNS40LTYuNCw1LjVjLTUuMSwwLjItMTAuMiwwLjItMTUuMiwwLjNjLTEuOCwwLTIuMi0wLjQtMi4xLTIuMg0KCUM0MjUuMywxMDMuNSw0MjUuNCwxMDEuNiw0MjUuNSw5OS4yeiBNNDI1LjgsNzAuMWMtMy4yLDAuMi02LjcsMC4zLTEwLjIsMC43Yy00LDAuNC03LjksMS4yLTExLjQsMy4xYy0zLjMsMS43LTUuNiw0LjMtNiw4LjENCgljLTAuNiw1LjMsMS4yLDEwLjksOC40LDExLjdjNC4zLDAuNSw4LjQsMC4xLDEyLjUtMC45YzMuOC0wLjksNi44LTMuMiw4LjctNi42YzIuMy00LDMuMi04LjQsMy40LTEyLjljMC4xLTIuMy0wLjktMy4xLTMuMi0zLjINCglDNDI3LjQsNzAsNDI2LjcsNzAuMSw0MjUuOCw3MC4xeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ4NC40LDEwNy40YzIuMy0wLjEsMi44LTAuNSwzLjMtMi41YzIuMS04LjcsMTcuNS03NC4xLDIzLjItOTguMWMwLjYtMi42LTEuMi00LjktNC00LjkNCgljLTUuNCwwLTEwLjgtMC4xLTE2LjItMC4xYy0zLjMsMC00LjksMS4yLTUuNiw0LjRjLTEuMiw0LjgtMjAuNyw5My45LTIxLjMsOThjLTAuMywyLDAuOCwyLjksMi45LDIuOQ0KCUM0NjkuNSwxMDcuMiw0ODIuOSwxMDcuNCw0ODQuNCwxMDcuNHoiLz4NCjwvc3ZnPg0K);
}
#btc_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMzAzLjYgMjc0LjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEzMDMuNiAyNzQuNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEzNi42LDkzLjZsLTcuNSwzMC4xYzguNSwyLjEsMzQuNywxMC44LDM5LTYuMkMxNzIuNSw5OS43LDE0NS4xLDk1LjcsMTM2LjYsOTMuNnoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTcwLjUsNC4xQzk3LTE0LjIsMjIuNSwzMC41LDQuMiwxMDQuMWMtMTguMyw3My41LDI2LjQsMTQ4LDk5LjksMTY2LjNjNzMuNiwxOC4zLDE0OC0yNi40LDE2Ni40LTk5LjkNCgkJQzI4OC44LDk2LjksMjQ0LDIyLjQsMTcwLjUsNC4xeiBNMTk3LjgsMTE3LjdjLTIsMTMuNC05LjQsMTkuOC0xOS4yLDIyLjFjMTMuNSw3LDIwLjQsMTcuOCwxMy44LDM2LjUNCgkJYy04LjEsMjMuMi0yNy40LDI1LjItNTMuMSwyMC4zbC02LjIsMjVsLTE1LjEtMy44bDYuMS0yNC42Yy0zLjktMS03LjktMi0xMi0zLjFsLTYuMiwyNC44bC0xNS0zLjhsNi4yLTI1DQoJCWMtMy41LTAuOS03LjEtMS45LTEwLjctMi44bC0xOS42LTQuOWw3LjUtMTcuMmMwLDAsMTEuMSwyLjksMTAuOSwyLjdjNC4zLDEuMSw2LjItMS43LDYuOS0zLjZsOS45LTM5LjVjMC42LDAuMSwxLjEsMC4zLDEuNiwwLjQNCgkJYy0wLjYtMC4yLTEuMS0wLjQtMS42LTAuNWw3LTI4LjJjMC4yLTMuMi0wLjktNy4yLTctOC44YzAuMi0wLjItMTAuOS0yLjctMTAuOS0yLjdsNC0xNi4xbDIwLjgsNS4ydjAuMWMzLjEsMC44LDYuMywxLjUsOS42LDIuMw0KCQlsNi4yLTI0LjdsMTUuMSwzLjhsLTYsMjQuM2M0LDAuOSw4LjEsMS45LDEyLjEsMi44bDYtMjQuMWwxNS4xLDMuOEwxNjcuNiw4M0MxODYuNiw4OS42LDIwMC41LDk5LjQsMTk3LjgsMTE3Ljd6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyOTQuMiwxMDcuMmMtMTAuMy0xNS43LTI4LjktMjMuNS01NS45LTIzLjVjLTkuMiwwLTE3LjUsMC40LTI0LjcsMS4yYy03LjMsMC44LTEzLjksMS44LTE5LjcsMy4xDQoJCWMtNS45LDEuMi0xMS4yLDIuNi0xNS45LDQuMWMtNC43LDEuNS05LjEsMi45LTEyLjksNGwtNDEuOSwxNzMuNmg1MS41bDMzLjYtMTQwLjdjNi45LTEuNCwxMy43LTIuMSwyMC40LTIuMWM2LjksMCwxMiwxLjMsMTUuNCw0DQoJCWMzLjMsMi43LDUuNSw2LjIsNi40LDEwLjRjMSw0LjMsMSw5LjIsMC4yLDE0LjlzLTEuOSwxMS41LTMuMywxNy41bC0yMi44LDk2LjFoNTEuNWwyMy41LTk4LjINCgkJQzEzMDYuMywxNDQuNCwxMzA0LjUsMTIyLjksMTI5NC4yLDEwNy4yeiIvPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMTA3Ni42LDg3LjkgMTAzMy40LDI2OS44IDEwODQuNiwyNjkuOCAxMTI4LjIsODcuOSAJIi8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwOTAuMiw1OS4zYzUuNyw0LjMsMTIuMiw2LjQsMTkuMyw2LjRjNC45LDAsOS40LTAuOSwxMy43LTIuOGM0LjMtMS44LDgtNC4zLDExLjItNy40DQoJCWMzLjItMy4xLDUuOC02LjgsNy44LTExLjFjMS45LTQuMywzLTguOCwzLTEzLjdjMC04LjctMi45LTE1LjMtOC43LTE5LjVjLTUuOC00LjMtMTIuMi02LjQtMTkuNC02LjRjLTQuOCwwLTkuNCwwLjktMTMuNiwyLjgNCgkJcy04LDQuMy0xMS4yLDcuNHMtNS44LDYuOC03LjgsMTEuMXMtMi45LDguOC0yLjksMTMuNkMxMDgxLjUsNDguNiwxMDg0LjQsNTUuMSwxMDkwLjIsNTkuM3oiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTIwLjYsNTkuM2M1LjcsNC4zLDEyLjIsNi40LDE5LjQsNi40YzQuOCwwLDkuNC0wLjksMTMuNy0yLjhjNC4yLTEuOCw4LTQuMywxMS4yLTcuNA0KCQljMy4yLTMuMSw1LjgtNi44LDcuOC0xMS4xczIuOS04LjgsMi45LTEzLjdjMC04LjctMi45LTE1LjMtOC42LTE5LjVjLTUuOC00LjMtMTIuMi02LjQtMTkuMy02LjRjLTQuOSwwLTkuNCwwLjktMTMuNywyLjgNCgkJcy04LDQuMy0xMS4yLDcuNHMtNS44LDYuOC03LjgsMTEuMWMtMiw0LjMtMyw4LjktMywxMy43QzUxMiw0OC42LDUxNC45LDU1LjEsNTIwLjYsNTkuM3oiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTI1LjMsMTM4LjhMMTE3LDE3MmMxMC4yLDIuNSw0MS43LDEyLjcsNDYuNC02LjFDMTY4LjIsMTQ2LjQsMTM1LjUsMTQxLjQsMTI1LjMsMTM4Ljh6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTgwOC4xLDEyNi42YzcuMiwwLDEzLjIsMC43LDE4LjIsMi4zYzUsMS41LDkuNywzLjEsMTQuNCw1bDE3LjctNDAuMWMtNi43LTMuMi0xNC4xLTUuOC0yMi4zLTcuOA0KCQlzLTE3LjQtMy0yNy44LTNjLTE2LjYsMC0zMS43LDMtNDUuMSw5Yy0xMy41LDYtMjUsMTQuMi0zNC40LDI0LjVjLTkuNSwxMC40LTE2LjcsMjIuNS0yMS44LDM2LjNjLTUuMSwxMy44LTcuNiwyOC42LTcuNiw0NC4zDQoJCWMwLDEwLjQsMS41LDIwLjMsNC4zLDI5LjdjMi45LDkuNSw3LjUsMTcuNywxNCwyNC43YzYuNSw3LDE0LjYsMTIuNiwyNC41LDE2LjhjOS45LDQuMSwyMiw2LjIsMzYuMyw2LjJjMTAuOCwwLDIwLjItMSwyOC0yLjkNCgkJYzcuOC0yLDE1LTQuMywyMS40LTYuOGwtMy44LTQxLjFjLTQuOSwyLjEtMTAuNCwzLjgtMTYuNiw1LjJjLTYuMiwxLjQtMTIuNywyLjEtMTkuNCwyLjFjLTEzLjYsMC0yMi45LTMuNi0yOC0xMC45DQoJCWMtNS4xLTcuMy03LjYtMTYuOC03LjYtMjguNWMwLTE5LjgsNS0zNS42LDE1LjEtNDcuNEM3NzcuNSwxMzIuNSw3OTEsMTI2LjYsODA4LjEsMTI2LjZ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMTEuMSwxMDQuMWMtNS45LTYuNy0xMy40LTExLjktMjIuNS0xNS42cy0xOS43LTUuNi0zMS43LTUuNmMtMTYuMywwLTMwLjksMy41LTQzLjUsMTAuNQ0KCQljLTEyLjcsNy4xLTIzLjQsMTYuMS0zMi4xLDI3LjJjLTguOCwxMS4xLTE1LjQsMjMuNS0xOS45LDM3LjNzLTYuNywyNy43LTYuNyw0MS41YzAsMTEsMS41LDIxLjEsNC41LDMwLjJjMyw5LjEsNy40LDE3LDEzLjMsMjMuNw0KCQljNS45LDYuNywxMy4zLDExLjksMjIuMywxNS42YzksMy43LDE5LjYsNS41LDMxLjgsNS41YzE2LjgsMCwzMS43LTMuNSw0NC40LTEwLjZjMTIuOC03LDIzLjUtMTYuMSwzMi0yNy4xDQoJCWM4LjUtMTEuMSwxNS0yMy41LDE5LjQtMzcuM2M0LjQtMTMuOSw2LjYtMjcuNyw2LjYtNDEuNWMwLTExLjEtMS41LTIxLjItNC41LTMwLjJDMTAyMS40LDExOC43LDEwMTYuOSwxMTAuOCwxMDExLjEsMTA0LjF6DQoJCSBNOTc0LjgsMTg1LjljLTIsOC00LjksMTUuMy04LjgsMjJjLTMuOSw2LjctOC44LDEyLjItMTQuNSwxNi42Yy01LjgsNC40LTEyLjQsNi42LTIwLjEsNi42Yy05LjcsMC0xNi40LTMuMi0yMC4xLTkuNw0KCQljLTMuNy02LjUtNS41LTE1LjUtNS41LTI3YzAtNy4yLDEtMTQuNywyLjktMjIuNmMyLTcuOSw0LjktMTUuMyw4LjgtMjJjMy45LTYuNyw4LjctMTIuMiwxNC41LTE2LjZjNS43LTQuNCwxMi40LTYuNiwyMC02LjYNCgkJYzkuNywwLDE2LjQsMy4yLDIwLjEsOS43YzMuNyw2LjUsNS42LDE1LjUsNS42LDI3Qzk3Ny43LDE3MC40LDk3Ni43LDE3OCw5NzQuOCwxODUuOXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjE4LjgsMTkzLjdsMTUuMi02My42aDU3bDEwLjQtNDIuMkg2NDRsMTMuMi01My42bC01My42LDguM2wtMzMuOSwxNDMuMmMtMi44LDExLjgtNC40LDIyLjktNC44LDMzLjUNCgkJYy0wLjUsMTAuNiwxLjIsMjAsNC44LDI4LjJjMy43LDguMiw5LjksMTQuNywxOC43LDE5LjRjOC44LDQuNywyMS4xLDcuMSwzNyw3LjFjMTEuMSwwLDIwLjYtMC45LDI4LjctMi44YzguMS0xLjgsMTUuNi00LDIyLjUtNi42DQoJCWwtMy44LTM5LjRjLTUuMywxLjktMTAuNSwzLjMtMTUuNyw0LjNzLTEwLjYsMS42LTE2LjEsMS42Yy02LjcsMC0xMS44LTAuOS0xNS40LTIuOGMtMy42LTEuOC02LjEtNC40LTcuNC03LjgNCgkJYy0xLjQtMy4zLTItNy4zLTEuNy0xMS45QzYxNi42LDIwMy45LDYxNy40LDE5OSw2MTguOCwxOTMuN3oiLz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjQ2My45LDI2OS44IDUxNS4xLDI2OS44IDU1OC43LDg3LjkgNTA3LjEsODcuOSAJIi8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ0NCwxMDUuOGMtNS40LTYuNy0xMi0xMi0yMC4xLTE1LjljLTgtMy45LTE3LjYtNS45LTI4LjctNS45Yy01LjMsMC0xMC4yLDAuNi0xNC45LDEuNw0KCQljLTQuNiwxLjItOS4yLDIuOC0xMy44LDQuOGwyMS40LTg5LjJsLTUzLjYsOC4zTDI3NC41LDI2MWM2LjcsMy4yLDEzLjgsNS44LDIxLjMsNy42YzcuNSwxLjksMTQuNiwzLjIsMjEuMyw0LjINCgkJYzYuNywwLjksMTIuNiwxLjQsMTcuOCwxLjVjNS4yLDAuMSw4LjgsMC4yLDEwLjksMC4yYzE2LjEsMCwzMS4xLTMuMSw0NC45LTkuMnMyNS44LTE0LjQsMzYtMjQuOXMxOC4yLTIyLjgsMjQtMzcNCgkJYzUuOS0xNC4yLDguOC0yOS4yLDguOC00NS4xYzAtMTAuNC0xLjMtMjAtMy44LTI5QzQ1My4yLDEyMC40LDQ0OS4zLDExMi41LDQ0NCwxMDUuOHogTTQwMy45LDE4OC4xYy0zLDguMy03LjEsMTUuNy0xMi4zLDIyLjMNCgkJYy01LjIsNi42LTExLjQsMTEuOC0xOC41LDE1LjdzLTE0LjcsNS45LTIyLjgsNS45Yy0yLjUsMC00LjYsMC02LjIsMHMtMy0wLjEtNC4yLTAuMmMtMS4xLTAuMS0yLjItMC4zLTMuMy0wLjUNCgkJYy0xLTAuMi0yLjMtMC40LTMuNi0wLjdsMjIuOC05NC43YzQuMi0zLjcsOC44LTYuMSwxNC03LjNjNS4yLTEuMSw5LjQtMS43LDEyLjYtMS43YzkuOSwwLDE2LjcsMy4xLDIwLjQsOS4zDQoJCWMzLjcsNi4yLDUuNSwxNC45LDUuNSwyNS45QzQwOC40LDE3MS4yLDQwNi45LDE3OS44LDQwMy45LDE4OC4xeiIvPg0KPC9nPg0KPC9zdmc+DQo=);
}
#alipay_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ0OC41IDE0NS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDguNSAxNDUuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQ0KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8ZyBpZD0i5Zu+5bGCXzIiPg0KPC9nPg0KPGcgaWQ9IuWbvuWxgl8xIj4NCgk8ZyBpZD0i5qSt5ZyGXzJfMV8iIGNsYXNzPSJzdDAiPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA1LjYsMEg4MS44djE4LjdoLTQ4djkuOGg0OHYxOEg0OC4xdjExLjFoNjcuNGMwLDAsMCwxNS45LTIwLjMsMzcuNlM2Ny40LDEyMC4yLDU3LjgsMTIzcy0yNiwyLjQtMzEuNS0xLjUNCgkJCXMtMTEuOC04LjktMTEuMy0xOFMyNi45LDg0LjEsMzMuOSw4M2MwLDAtMjAtMi4yLTI0LjUsMTguMWMtMy41LDE1LjYsNi42LDIzLjMsMTIuNCwyNy4yczE4LjIsOC41LDI2LjMsOXMyNS44LTAuNiw0Mi43LTEyLjgNCgkJCWMxNi44LTEyLjIsMzcuMy0zNi43LDQzLjUtNTEuOHM4LjktMjEuMyw5LjgtMjYuMmgtMzguNHYtMThoNTAuMnYtOS44aC01MC4yVjAiLz4NCgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE4NiwwYzAsMC0yLjUsMjEuNS0zMy44LDQ1bDMuNiw1LjNjMCwwLDEzLjktNS41LDE3LjQtOC4zdjgwLjNIMTk4VjI1LjVjMCwwLDEyLTEyLjUsMTItMjUuNQ0KCQkJQzIxMCwwLDE4NiwwLDE4NiwweiIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjI0NiwwIDI0NiwyNyAyMDIuNSwyNyAyMDIuNSwzNi4xIDI0NiwzNi4xIDI0NiwxMjEuNSAyNzAuMSwxMjEuNSAyNzAuMSwzNi4xIDI4MS4zLDM2LjEgMjgxLjMsMjcgDQoJCQkyNzAuMSwyNyAyNzAuMSwwIAkJIi8+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zNjQuNSwwdjExLjJINDExdjcuNWMwLDIyLjEtMTQuMiwyNC44LTE0LjIsMjQuOGgtMzIuM1Y2M2gzMi4zdjkuOGgtMzIuM3Y0NS44aC0yNC43VjcyLjhoLTM0LjZWNjNoMzQuNg0KCQkJVjQzLjVoLTQ5LjVWOC4zaDIzLjF2M2gyNi40VjBIMzY0LjV6IE0zMTMuMywyMS41djEzaDc3LjR2LTEzSDMxMy4zeiIvPg0KCTwvZz4NCgk8ZyBpZD0i5qSt5ZyGXzFfMV8iIGNsYXNzPSJzdDAiPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDQuMSwxMzYuN2MwLDAtMjIuNS0zLjctMzIuMS0yMC41Yy0zLjctNi40LTQtMTkuMyw2LTI3LjhjOC40LTcuMSwxOS41LTYuNiwzMy44LTNzMjQuNCw4LjEsNDIuOCwxNy4zDQoJCQljMTguNSw5LjMsNDQuOSwyMi41LDc4LjcsMjkuNmMzMy43LDcuMSw1Mi4zLDkuNCw3Mi44LDEwLjljMzUuNCwyLjYsMTQ5LjQtMi40LDE2NS02bDM3LjUtMzljMCwwLTExMi45LDE3LjQtMTgzLjgsMTgNCgkJCWMtNzAuOCwwLjYtNzguOC0zLjctOTUuMy02LjhTMTA5LjYsOTIuMyw5Ni44LDg3Yy02LjMtMi42LTQxLjctMTYuMy02My0xNC4zUzEuMiw4NCwwLjgsOTguM1M1LjgsMTMyLjIsNDQuMSwxMzYuN3oiLz4NCgkJDQoJCQk8cmVjdCB4PSIyMDYuNiIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAyMS4zNjgzIDE3NC42Mzk3KSIgY2xhc3M9InN0MSIgd2lkdGg9IjI5LjciIGhlaWdodD0iMjkuNyIvPg0KCQkNCgkJCTxyZWN0IHg9IjM3OC40IiB5PSI3OC45IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMC43MDcxIDUwLjc0MDMgMzAxLjE0OTEpIiBjbGFzcz0ic3QxIiB3aWR0aD0iMjAuOSIgaGVpZ2h0PSIyMC45Ii8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=);
}
#wechat_donate{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTMxLjIgMTYxLjciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUzMS4yIDE2MS43OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjguNiwwQzMxLjEtMC42LDAsMjcsMCw1OS41YzAsMTguOCw4LjgsMzUsMjUuOSw0N2MwLDAtNi4zLDIwLjctNi4yLDIxLjFjMC4xLDAuNCwxLjUsMS4yLDEuOSwxDQoJCWMwLjQtMC4yLDIyLjYtMTMuNSwyMi42LTEzLjVjMTcsNS44LDI2LjksMy45LDI3LjQsMy45Yy0xLjctNS0yLjgtMTIuNy0xLjUtMjBjNi42LTM4LjEsNDUuNi01MCw2Ny00Ny45DQoJCUMxMzEuMiwyMy40LDEwNS42LDAuNSw2OC42LDB6IE00Mi41LDQ5LjFjLTQuOSwwLTguOS00LTguOS04LjlzNC04LjksOC45LTguOXM4LjksNCw4LjksOC45UzQ3LjQsNDkuMSw0Mi41LDQ5LjF6IE05Ni40LDQ5LjENCgkJYy00LjksMC04LjktNC04LjktOC45czQtOC45LDguOS04LjlzOC45LDQsOC45LDguOVMxMDEuNCw0OS4xLDk2LjQsNDkuMXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTkyLDEwNC43YzAtMjcuOC0yNi45LTQ5LjItNTguMS00OS4yYy0zMy4xLDAtNTkuNCwyMS44LTU5LjQsNDkuNmMwLDI3LjksMjUuMSw1MSw1OS41LDUxLjINCgkJYzYuOSwwLDE3LjItMS43LDI0LjItNC42YzAsMCwxNi42LDEwLjEsMTcuNSwxMHMxLjQtMC44LDEuNC0xLjRzLTUuMy0xNi40LTUuMy0xNi40QzE4NiwxMzIuNywxOTIsMTIwLjQsMTkyLDEwNC43eiBNMTEyLjEsOTQuNA0KCQljLTQuNCwwLTcuOS0zLjUtNy45LTcuOXMzLjUtNy45LDcuOS03LjlzNy45LDMuNSw3LjksNy45UzExNi40LDk0LjQsMTEyLjEsOTQuNHogTTE1NC4yLDk0LjRjLTQuNCwwLTcuOS0zLjUtNy45LTcuOQ0KCQlzMy41LTcuOSw3LjktNy45czcuOSwzLjUsNy45LDcuOVMxNTguNiw5NC40LDE1NC4yLDk0LjR6Ii8+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyNzcuNiw2Ni41IDI2NS43LDExNS41IDI1NS43LDY2LjUgMjQwLjUsNjYuNSAyMzAuNSwxMTUuNSAyMTguNiw2Ni41IDIwMy44LDY2LjUgMjIzLjcsMTM2IA0KCQkJMjM3LjIsMTM2IDI0OCw4Mi44IDI1OC44LDEzNiAyNzIuNCwxMzYgMjkyLjMsNjYuNSAJCSIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzI4LjMsODkuOGMtNC4zLTQuNy0xMC4zLTcuMS0xOC4yLTcuMWMtNy40LDAtMTMuMiwyLjUtMTcuNSw3LjNjLTQuMyw0LjktNi40LDExLjUtNi40LDE5LjkNCgkJCWMwLDguNiwyLjIsMTUuMyw2LjUsMjAuM3MxMC4yLDcuNSwxNy42LDcuNWM2LDAsMTEuMS0xLjUsMTUuMy00LjZjNC4yLTMuMSw3LTcuMyw4LjQtMTIuN2gtMTMuNmMtMC45LDEuOS0yLjEsMy40LTMuNiw0LjENCgkJCWMtMS41LDAuOS0zLjQsMS40LTUuOCwxLjRjLTMuNCwwLTUuOS0xLjEtNy43LTMuMWMtMS43LTItMi43LTUuMS0yLjktOS4xaDM0LjJjMC0wLjQsMC4xLTAuOSwwLjEtMS40czAtMS4yLDAtMi4yDQoJCQlDMzM0LjcsMTAxLjMsMzMyLjYsOTQuNSwzMjguMyw4OS44eiBNMzAwLjQsMTA0LjljMC4zLTMuNCwxLjMtNiwzLTcuOWMxLjctMS44LDQtMi43LDctMi43YzMuMiwwLDUuNywwLjksNy40LDIuNw0KCQkJYzEuOCwxLjgsMi43LDQuNCwyLjgsNy45SDMwMC40eiIvPg0KCTwvZz4NCgk8Zz4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwMi43LDExMi4yTDQwMi43LDExMi4yQzQwMi43LDExMi4xLDQwMi43LDExMi4yLDQwMi43LDExMi4yTDQwMi43LDExMi4yeiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzgzLjQsMTIxLjdjLTIuOCwyLjItNi40LDMuMy0xMC43LDMuM2MtNiwwLTEwLjYtMi4xLTEzLjktNi4ycy00LjktMTAtNC45LTE3LjVjMC03LjgsMS42LTEzLjcsNC45LTE3LjgNCgkJCWMzLjItNC4xLDgtNi4xLDE0LjMtNi4xYzQuNSwwLDgsMSwxMC42LDMuMXM0LjIsNS4xLDQuOCw5aDE0LjFjLTAuNS03LjktMy40LTE0LTguNS0xOC4zcy0xMi4xLTYuNS0yMS02LjUNCgkJCWMtMTAuOSwwLTE5LjMsMy4xLTI1LjEsOS40cy04LjcsMTUuNC04LjcsMjcuMmMwLDExLjYsMi45LDIwLjYsOC42LDI3czEzLjcsOS42LDI0LDkuNmM4LjksMCwxNi4yLTIuMywyMS43LTcNCgkJCWM1LjUtNC42LDguNi0xMC44LDkuMS0xOC43aC0xMy45QzM4OCwxMTYuMywzODYuMiwxMTkuNSwzODMuNCwxMjEuN3oiLz4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQ0OC41LDg5LjNjLTEuNS0xLjktMy41LTMuNC01LjktNC40Yy0yLjUtMS4xLTUuMi0xLjYtOC4yLTEuNmMtMy4yLDAtNi4xLDAuNi04LjYsMS44DQoJCQljLTIuNSwxLjItNC43LDMtNi42LDUuM1Y2Ni41aC0xMy42djY5LjNoMTMuNnYtMzAuNGMwLTMuMywwLjktNiwyLjgtNy45czQuNS0yLjksNy43LTIuOWMzLDAsNS4yLDAuNyw2LjMsMi40DQoJCQljMS4xLDEuNywxLjcsNS43LDEuNywxMnYyNi44aDEzLjZ2LTMzLjJ2LTAuOWMwLTMuNy0wLjItNi4zLTAuNi04QzQ1MC4zLDkyLjEsNDQ5LjUsOTAuNiw0NDguNSw4OS4zeiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTAwLjcsMTMxLjRjLTAuNS0xLjEtMC43LTIuNy0wLjctNC44Vjk3LjVjMC00LjctMS45LTguMy01LjctMTAuOFM0ODUsODMsNDc3LjgsODMNCgkJCWMtNi42LDAtMTEuNywxLjUtMTUuNCw0LjVzLTUuNiw3LjEtNS42LDEyLjR2MC45aDEyLjhWMTAwYzAtMiwwLjctMy42LDIuMi00LjdzMy42LTEuNyw2LjQtMS43YzMuMSwwLDUuMiwwLjQsNi41LDEuMw0KCQkJczEuOSwyLjQsMS45LDQuNWMwLDIuNi0yLjksNC4yLTguNyw1Yy0yLjMsMC4zLTQuMiwwLjYtNS42LDAuOGMtNi4yLDAuOS0xMC42LDIuNy0xMy4zLDUuMmMtMi43LDIuNi00LDYuMy00LDExLjENCgkJCWMwLDUuMiwxLjMsOS4zLDQsMTIuMWMyLjcsMi44LDYuNSw0LjIsMTEuNSw0LjJjMy43LDAsNy0wLjcsOS44LTIuMXM1LjEtMy40LDYuOC02LjFjMCwxLjIsMC4yLDIuNCwwLjQsMy42YzAuMywxLDAuNiwyLDEuMSwyLjkNCgkJCWgxNC4zdi0yLjNDNTAxLjksMTMzLjIsNTAxLjEsMTMyLjUsNTAwLjcsMTMxLjR6IE00ODYuOSwxMTUuNmMwLDMuNy0xLjEsNi41LTMuMiw4LjZzLTUsMy4xLTguNywzLjFjLTIuMSwwLTMuOC0wLjYtNS0xLjcNCgkJCXMtMS44LTIuNi0xLjgtNC41YzAtMS44LDAuNC0zLjMsMS40LTQuM3MyLjctMS45LDUuMS0yLjZjMC4xLDAsMS42LTAuNCw0LjUtMXM1LjUtMS41LDcuNy0yLjVWMTE1LjZ6Ii8+DQoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MzEuMiw5NC40di05LjZoLTcuOXYtMTRoLTEzLjZ2MTRoLTYuOHY5LjZoNi44djI3LjdjMCw1LjgsMSw5LjYsMi45LDExLjZjMiwxLjksNS41LDIuOSwxMC44LDIuOQ0KCQkJYzAuNCwwLDEuNiwwLDMuMy0wLjFjMS43LTAuMSwzLjItMC4yLDQuNS0wLjJsMCwwdi0xMC4yaC0zLjNjLTEuOSwwLTMuMS0wLjItMy43LTAuNmMtMC42LTAuNS0wLjktMS4zLTAuOS0yLjdWOTQuNEw1MzEuMiw5NC40DQoJCQlMNTMxLjIsOTQuNHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==);
}
#drinks-qrcodes {
    display: none;
}
#drinks-qrcode {
    position: absolute;
    top: calc(50% - 90px);
    left: calc(50% - 90px);
    width: 180px;
    height: 180px;
	background: #fff no-repeat center center url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/WeChatSQ.png);
    background-size: 160px;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(255, 0, 110, 0.5);
}

/* 动画 */
#drinks-icons, #drinks-button-box {filter: blur(0px);}
.donate-animation-1>#drinks-icons, .donate-animation-4>#drinks-icons,.donate-animation-3>#drinks-button-box {
    transform: scale(0.7,0.7);
    filter: blur(2px);
    display: block;
    opacity: 1;
}
.donate-animation-1>#drinks-button-box,.donate-animation-4>#drinks-button-box,.donate-animation-3>#drinks-qrcodes {
    display: block;
    opacity: 1;
    transform: scale(1,1);
}
.donate-animation-2>#drinks-button-box,.donate-animation-4>#drinks-qrcodes, .hideBox {
    display: block;
    transform: scale(1,1);
    animation-name:hideBox;
    animation-duration:0.3s;
    animation-timing-function:ease-in-out;
    animation-iteration-count:1;
    animation-fill-mode:forwards;
}

.donate-animation-3>#drinks-icons {
    transform: scale(0.4,0.4);
    filter: blur(2px);
}
.showBox {
    animation-name:showBox;
    animation-duration:0.3s;
    animation-timing-function:ease-in-out;
    animation-iteration-count:1;
    animation-fill-mode:forwards;
}
@keyframes showBox {
	from {
        opacity: 0;
        transform: scale(1.3,1.3);
	}
	to {
        opacity: 1;
        transform: scale(1,1);
	}
}
@keyframes hideBox {
	from {
        opacity: 1;
        transform: scale(1,1);
	}
	to {
        opacity: 0;
        transform: scale(1.3,1.3);
	}
}
</style>
<section id="drinks-box">
    <section id="drinks-box-s" class="drinks-button left-100">
        <div id="drinks-icons" class="left-100 tr3">
            <div id="coffee-donate" class="icon-donate"><img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/donate/drinks/coffee.png" alt="coffee" data-creative
                ="https://www.zcool.com.cn/work/ZMjQ3NTE2MA==.html"></div>
        </div>
        <div id="drinks-button-box" class="tr3 left-100">
            <div id="drinks-button-bg" class="left-100"></div>
            <div id="github-box"><a href="https://github.com/Kaiyuan/donate-page/" target="_blank">Github</a></div>
            <ul id="donate-buttons" class="list tr3">
                <li id="paypal_donate"><a href="https://www.paypal.me/wallleap" target="_blank">Paypal</a></li>
                <!-- <li id="btc_donate" class="donate-button">Bitcoin</li> -->
                <li id="alipay_donate" class="donate-button">AliPay</li>
                <li id="wechat_donate" class="donate-button">WeChat</li>
            </ul>
        </div>
        <div id="drinks-qrcodes" class="left-100 tr3">
            <div id="drinks-qrcode"></div>
        </div>
    </section>
</section>

<script>
jQuery(document).ready(function () {

    var thisPage = $('body');
    var drink_box = $('#donate-box');
    var drink_box_s = $('#drinks-box-s');
    var icon_donate = $('.icon-donate');
    var donate_button = $('.donate-button');
    var donate_buttons = $('#drinks-button-box');
    var donate_button_bg = $('#drinks-button-bg');
    var drinks_qrcodes = $('#drinks-qrcodes');
    var drinks_qrcode = $('#drinks-qrcode');
    var isMobile = /Android|webOS|iPhone|iPad|BlackBerry/i.test(navigator.userAgent);
    
    var GithubLink  =   "https://github.com/wallleap/sponsor-page/";
    var PayPalLink  =   "https://www.paypal.me/wallleap";
    $('#paypal-donate>a').href = PayPalLink;
    $('#github-box>a').href = GithubLink;
    var qrcodes = {
        // 'btc_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/images/BTCQR.png',	// 二维码路径
        'alipay_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/donate/AliPayQR.jpg',	// 支付宝二维码
        // 'alipay_donate_link'   :   'https://qr.alipay.com/3272611934645308',   // 支付宝二维码上的链接，必须换成自己的连接！！！手机点击会自动跳转到支付宝。
        'wechat_donate'	:	'https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/custom/donate/WeChatSQ.jpg'
    };
    
    var drinks_an = new Object();
    // 动画有 4 种状态，不同状态给对应 DOM 添加 css 动画
    drinks_an[0] = function(){
        drink_box_s.removeClass('donate-animation-2 donate-animation-3').addClass('donate-animation-1');
        donate_buttons.addClass('showBox');
        setTimeout(() => {
            donate_buttons.removeClass('showBox');
        }, 300);
        // console.log('donate-animation-1');
    }
    drinks_an[1] = function(){
        drink_box_s.removeClass('donate-animation-1 donate-animation-3').addClass('donate-animation-2');
        setTimeout(() => {
            drink_box_s.removeClass('donate-animation-2');
        }, 300);
        // console.log('donate-animation-2');
    }
    drinks_an[2] = function(){
        drink_box_s.removeClass('donate-animation-2 donate-animation-1').addClass('donate-animation-3');
        drinks_qrcodes.addClass('showBox');
        setTimeout(() => {
            drinks_qrcodes.removeClass('showBox');
        }, 300);
        // console.log('donate-animation-3');
    }
    drinks_an[3] = function(){
        drink_box_s.removeClass('donate-animation-3 donate-animation-2').addClass('donate-animation-4');
        setTimeout(() => {
            drink_box_s.removeClass('donate-animation-4');
            drink_box_s.addClass('donate-animation-1');
        }, 300);
        // console.log('donate-animation-4');
    }
    
    if (isMobile) {
        donate_buttons.addClass('Mobile');
    }
    
    icon_donate.on('click',drinks_an[0]); // drinks 图标点击
    
    donate_button_bg.on('click',drinks_an[1]); // 隐藏 donate box
    
    donate_button.on('click',function(){
        var thisID = $(this).attr("id");
        if (isMobile && thisID === 'alipay_donate') {
            // 当前网页在手机端打开跳转到支付宝 App
            window.open(qrcodes['alipay_donate_link']);
        } else {
            // 当前网页在PC端打开
        drinks_qrcode.css({'background-image' : 'url('+qrcodes[thisID]+')'});
        drinks_an[2]();
        // 显示二维码
        }
    });
    
    drinks_qrcode.on('click',drinks_an[3]); // 隐藏二维码
    //
    })
</script>
    
    <section class="nexmoe-comment">
    <div class="valine" id="vcomments"></div>
<!-- <script src='https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js'></script> -->
<script type="text/javascript">
    loadComments();
    function loadComments() {
      if (typeof Valine === 'undefined') {
        var getScript = (options) => {
          var script = document.createElement('script');
          script.defer = true;
          script.crossOrigin = 'anonymous';
          Object.keys(options).forEach((key) => {
              script[key] = options[key];
          });
          document.body.appendChild(script);
        };
        getScript({
          src: '//unpkg.com/valine/dist/Valine.min.js',
          onload: () => {
            newValine();
          }
        });
      } else {
        newValine();
      }
    }
    function newValine() {
      new Valine({
        el: '.valine',
        appId: 'GOPlqD10uwQGshDFcsr8Cxik-gzGzoHsz',
        appKey: 'vpzGg4wzHHLRPNOlPHf0UEDS',
        placeholder: '欢迎访问本站，评论一下留个足迹👣呗',
        notify: false,
        verify: true,
        avatar: 'mp',
        meta: ['nick','mail','link'],
        pageSize: 10,
        recordIP: true,
        enableQQ: true,
        // 设置Bilibili表情包地址
        emojiCDN: '//cdn.jsdelivr.net/gh/wallleap/cdn@latest/emote/cool/', 
        // 表情title和图片映射
        emojiMaps: {
            "cool_coolapk_emotion_100_qqdoge": "coolapk_emotion_100_qqdoge.png",
            "cool_coolapk_emotion_1010": "coolapk_emotion_1010.png",
            "cool_coolapk_emotion_1011": "coolapk_emotion_1011.png",
            "cool_coolapk_emotion_1012": "coolapk_emotion_1012.png",
            "cool_coolapk_emotion_1013": "coolapk_emotion_1013.png",
            "cool_coolapk_emotion_1014": "coolapk_emotion_1014.png",
            "cool_coolapk_emotion_1015": "coolapk_emotion_1015.png",
            "cool_coolapk_emotion_1016": "coolapk_emotion_1016.png",
            "cool_coolapk_emotion_1017": "coolapk_emotion_1017.png",
            "cool_coolapk_emotion_1018": "coolapk_emotion_1018.png",
            "cool_coolapk_emotion_1019": "coolapk_emotion_1019.png",
            "cool_coolapk_emotion_101_pyjiaoyi": "coolapk_emotion_101_pyjiaoyi.png",
            "cool_coolapk_emotion_1020": "coolapk_emotion_1020.png",
            "cool_coolapk_emotion_1021": "coolapk_emotion_1021.png",
            "cool_coolapk_emotion_102_fadai": "coolapk_emotion_102_fadai.png",
            "cool_coolapk_emotion_103_nb": "coolapk_emotion_103_nb.png",
            "cool_coolapk_emotion_104": "coolapk_emotion_104.png",
            "cool_coolapk_emotion_105": "coolapk_emotion_105.png",
            "cool_coolapk_emotion_106": "coolapk_emotion_106.png",
            "cool_coolapk_emotion_107": "coolapk_emotion_107.png",
            "cool_coolapk_emotion_108": "coolapk_emotion_108.png",
            "cool_coolapk_emotion_109": "coolapk_emotion_109.png",
            "cool_coolapk_emotion_10_aoman": "coolapk_emotion_10_aoman.png",
            "cool_coolapk_emotion_11_yiwen": "coolapk_emotion_11_yiwen.png",
            "cool_coolapk_emotion_12_wuyu": "coolapk_emotion_12_wuyu.png",
            "cool_coolapk_emotion_13_huaixiao": "coolapk_emotion_13_huaixiao.png",
            "cool_coolapk_emotion_14_bishi": "coolapk_emotion_14_bishi.png",
            "cool_coolapk_emotion_15_fanu": "coolapk_emotion_15_fanu.png",
            "cool_coolapk_emotion_16_tuosai": "coolapk_emotion_16_tuosai.png",
            "cool_coolapk_emotion_17_tushe": "coolapk_emotion_17_tushe.png",
            "cool_coolapk_emotion_18_han": "coolapk_emotion_18_han.png",
            "cool_coolapk_emotion_19_koubi": "coolapk_emotion_19_koubi.png",
            "cool_coolapk_emotion_1_hahaha": "coolapk_emotion_1_hahaha.png",
            "cool_coolapk_emotion_20_qinqin": "coolapk_emotion_20_qinqin.png",
            "cool_coolapk_emotion_21_penxue": "coolapk_emotion_21_penxue.png",
            "cool_coolapk_emotion_22_xiaoyan": "coolapk_emotion_22_xiaoyan.png",
            "cool_coolapk_emotion_23_shui": "coolapk_emotion_23_shui.png",
            "cool_coolapk_emotion_24_wuzuixiao": "coolapk_emotion_24_wuzuixiao.png",
            "cool_coolapk_emotion_25_zaijian": "coolapk_emotion_25_zaijian.png",
            "cool_coolapk_emotion_26_kelian": "coolapk_emotion_26_kelian.png",
            "cool_coolapk_emotion_27_qiang": "coolapk_emotion_27_qiang.png",
            "cool_coolapk_emotion_28_ruo": "coolapk_emotion_28_ruo.png",
            "cool_coolapk_emotion_29_baoquan": "coolapk_emotion_29_baoquan.png",
            "cool_coolapk_emotion_2_jingya": "coolapk_emotion_2_jingya.png",
            "cool_coolapk_emotion_30_ok": "coolapk_emotion_30_ok.png",
            "cool_coolapk_emotion_31_xiaoku": "coolapk_emotion_31_xiaoku.png",
            "cool_coolapk_emotion_32_heiha": "coolapk_emotion_32_heiha.png",
            "cool_coolapk_emotion_33_wulian": "coolapk_emotion_33_wulian.png",
            "cool_coolapk_emotion_34_jizhi": "coolapk_emotion_34_jizhi.png",
            "cool_coolapk_emotion_35_ye": "coolapk_emotion_35_ye.png",
            "cool_coolapk_emotion_36_ku": "coolapk_emotion_36_ku.png",
            "cool_coolapk_emotion_37_doge": "coolapk_emotion_37_doge.png",
            "cool_coolapk_emotion_38_wozuimei": "coolapk_emotion_38_wozuimei.png",
            "cool_coolapk_emotion_39_caidao": "coolapk_emotion_39_caidao.png",
            "cool_coolapk_emotion_3_ciya": "coolapk_emotion_3_ciya.png",
            "cool_coolapk_emotion_40_aixin": "coolapk_emotion_40_aixin.png",
            "cool_coolapk_emotion_41_meigui": "coolapk_emotion_41_meigui.png",
            "cool_coolapk_emotion_42_diaoxie": "coolapk_emotion_42_diaoxie.png",
            "cool_coolapk_emotion_43_heixian": "coolapk_emotion_43_heixian.png",
            "cool_coolapk_emotion_44_pen": "coolapk_emotion_44_pen.png",
            "cool_coolapk_emotion_45_yinxian": "coolapk_emotion_45_yinxian.png",
            "cool_coolapk_emotion_46_nanguo": "coolapk_emotion_46_nanguo.png",
            "cool_coolapk_emotion_47_weiqu": "coolapk_emotion_47_weiqu.png",
            "cool_coolapk_emotion_48_weiweiyixiao": "coolapk_emotion_48_weiweiyixiao.png",
            "cool_coolapk_emotion_49_huanhu": "coolapk_emotion_49_huanhu.png",
            "cool_coolapk_emotion_4_liulei": "coolapk_emotion_4_liulei.png",
            "cool_coolapk_emotion_50_xinsui": "coolapk_emotion_50_xinsui.png",
            "cool_coolapk_emotion_51_chigua": "coolapk_emotion_51_chigua.png",
            "cool_coolapk_emotion_52_hejiu": "coolapk_emotion_52_hejiu.png",
            "cool_coolapk_emotion_53_pu": "coolapk_emotion_53_pu.png",
            "cool_coolapk_emotion_54_hongyaowan": "coolapk_emotion_54_hongyaowan.png",
            "cool_coolapk_emotion_55_lvyaowan": "coolapk_emotion_55_lvyaowan.png",
            "cool_coolapk_emotion_56_dogexiaoku": "coolapk_emotion_56_dogexiaoku.png",
            "cool_coolapk_emotion_57_dogehechi": "coolapk_emotion_57_dogehechi.png",
            "cool_coolapk_emotion_58_dogeyuanliangta": "coolapk_emotion_58_dogeyuanliangta.png",
            "cool_coolapk_emotion_59_erha": "coolapk_emotion_59_erha.png",
            "cool_coolapk_emotion_5_keai": "coolapk_emotion_5_keai.png",
            "cool_coolapk_emotion_61_lvmao": "coolapk_emotion_61_lvmao.png",
            "cool_coolapk_emotion_62_huaji": "coolapk_emotion_62_huaji.png",
            "cool_coolapk_emotion_60_kuan": "coolapk_emotion_60_kuan.png",
            "cool_coolapk_emotion_63_liuhanhuaji": "coolapk_emotion_63_liuhanhuaji.png",
            "cool_coolapk_emotion_64_shounuehuaji": "coolapk_emotion_64_shounuehuaji.png",
            "cool_coolapk_emotion_65_coshuaji": "coolapk_emotion_65_coshuaji.png",
            "cool_coolapk_emotion_66_doujiyanhuaji": "coolapk_emotion_66_doujiyanhuaji.png",
            "cool_coolapk_emotion_67_mojinghuaji": "coolapk_emotion_67_mojinghuaji.png",
            "cool_coolapk_emotion_68": "coolapk_emotion_68.png",
            "cool_coolapk_emotion_69": "coolapk_emotion_69.png",
            "cool_coolapk_emotion_6_weixiao": "coolapk_emotion_6_weixiao.png",
            "cool_coolapk_emotion_70": "coolapk_emotion_70.png",
            "cool_coolapk_emotion_71": "coolapk_emotion_71.png",
            "cool_coolapk_emotion_72": "coolapk_emotion_72.png",
            "cool_coolapk_emotion_73": "coolapk_emotion_73.png",
            "cool_coolapk_emotion_74": "coolapk_emotion_74.png",
            "cool_coolapk_emotion_75": "coolapk_emotion_75.png",
            "cool_coolapk_emotion_76": "coolapk_emotion_76.png",
            "cool_coolapk_emotion_77": "coolapk_emotion_77.png",
            "cool_coolapk_emotion_78": "coolapk_emotion_78.png",
            "cool_coolapk_emotion_79": "coolapk_emotion_79.png",
            "cool_coolapk_emotion_7_hehe": "coolapk_emotion_7_hehe.png",
            "cool_coolapk_emotion_80": "coolapk_emotion_80.png",
            "cool_coolapk_emotion_81_naikezui": "coolapk_emotion_81_naikezui.png",
            "cool_coolapk_emotion_82_miaomiao": "coolapk_emotion_82_miaomiao.png",
            "cool_coolapk_emotion_83_huoba": "coolapk_emotion_83_huoba.png",
            "cool_coolapk_emotion_84_baiyan": "coolapk_emotion_84_baiyan.png",
            "cool_coolapk_emotion_85": "coolapk_emotion_85.png",
            "cool_coolapk_emotion_86": "coolapk_emotion_86.png",
            "cool_coolapk_emotion_87": "coolapk_emotion_87.png",
            "cool_coolapk_emotion_88": "coolapk_emotion_88.png",
            "cool_coolapk_emotion_89": "coolapk_emotion_89.png",
            "cool_coolapk_emotion_8_piezui": "coolapk_emotion_8_piezui.png",
            "cool_coolapk_emotion_90": "coolapk_emotion_90.png",
            "cool_coolapk_emotion_91": "coolapk_emotion_91.png",
            "cool_coolapk_emotion_92": "coolapk_emotion_92.png",
            "cool_coolapk_emotion_93": "coolapk_emotion_93.png",
            "cool_coolapk_emotion_94": "coolapk_emotion_94.png",
            "cool_coolapk_emotion_95_erhading": "coolapk_emotion_95_erhading.png",
            "cool_coolapk_emotion_96_kuanlvmao": "coolapk_emotion_96_kuanlvmao.png",
            "cool_coolapk_emotion_97_haixiu": "coolapk_emotion_97_haixiu.png",
            "cool_coolapk_emotion_98_wunai": "coolapk_emotion_98_wunai.png",
            "cool_coolapk_emotion_99_zhoumei": "coolapk_emotion_99_zhoumei.png",
            "cool_coolapk_emotion_9_se": "coolapk_emotion_9_se.png",
            "cool_c_coolb": "c_coolb.png",
            "cool_c_fived": "c_fived.png",
            "cool_c_fivef": "c_fivef.png",
            "cool_c_fivem": "c_fivem.png",
            "cool_c_fiveo": "c_fiveo.png",
            "cool_c_fivey": "c_fivey.png",
            "cool_c_fy": "c_fy.png",
            "cool_c_oned": "c_oned.png",
            "cool_c_onef": "c_onef.png",
            "cool_c_onem": "c_onem.png",
            "cool_c_oneo": "c_oneo.png",
            "cool_c_oney": "c_oney.png",
            "cool_c_oy": "c_oy.png",
            "cool_c_teny": "c_teny.png",
            "cool_c_twod": "c_twod.png",
            "cool_c_twof": "c_twof.png",
            "cool_c_twom": "c_twom.png",
            "cool_c_twoo": "c_twoo.png",
            "cool_c_twoy": "c_twoy.png",
            "cool_c_ty": "c_ty.png",
            // ... 更多表情
        } 
      });
    }
</script>

<!-- <script>
    document.body.addEventListener('click', function(e) {
    if (e.target.classList.contains('vsubmit')) {
        const email = document.querySelector('input[type=email]');
        const nick = document.querySelector('input[name=nick]');
        const reg = /^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        if (!email.value || !nick.value || !reg.test(email.value)) {
            const str = `<div class="valert txt-center"><div class="vtext">请填写正确的昵称和邮箱！</div></div>`;
            const vmark = document.querySelector('.vmark');
            vmark.innerHTML = str;
            vmark.style.display = 'block';

            setTimeout(function() {
                vmark.style.display = 'none';
                vmark.innerHTML = '';
            }, 2500);
        }
      }
    });
</script> -->
<!-- <script>
$(document).ready(function(){
  $('.vemoji-btn').text('😀');
	$("#vcomments").on('click', 'span.vat',function(){
		$(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
		$('textarea#veditor').focus();
	})
})
</script> -->
<style>
@keyframes valineBg{
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
#vcomments .vwrap{
  padding: 20px 20px 44px;
  background: linear-gradient(-45deg, rgba(255, 206, 255, .3), rgba(237, 156, 253 ,.3), rgba(173, 214, 251, .3), rgba(192, 255, 208, .3));
  background-size: 400% 400%;
  animation: valineBg 15s ease infinite;
}
#veditor{
  background-image: url(https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/other/comment-bg.png);
  background-size: contain;
  background-repeat: no-repeat;
  background-position: right;
  background-color: rgba(255,255,255,0);
  /* resize: vertical; */
  resize:none;
  min-height:7rem;
}
textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:15px;text-align:center;line-height:6rem;}
.v .vwrap .vheader{width: 80%;bottom:0;position: absolute;}
.v .vinput{padding:10px 15px;border-bottom:0px;background-color: rgba(255, 0, 110, .1);}
.v .vwrap .vedit .vctrl{margin-top:-44px;right:0;position:absolute;margin-right:-3px;}
.v .vwrap .vcontrol{ position:absolute;right:0;bottom:0;width:20%;padding-top:0px;}
.v .vwrap .vcol-30{
  position: absolute;left: 4px;bottom: 5px;width: 20px !important;
}
.v .vwrap .vcontrol .col.col-80{width: 100%;}
.v .vbtn.vsubmit{
  padding: 0;
  position:absolute; bottom: 0; right: 0; 
  color: #fff; height: 42px; line-height: 42px; width:150px; text-align: center;
  border: none;border-radius:22px;background:#fe1b73;
}
.v .vbtn.vsubmit:hover{box-shadow: 0 2px 12px #ff4e6a;}
.v .vwrap .vedit .vctrl span{
  margin-top: 30px;
}
.v .vwrap .vcontrol .col.col-20,.v .vlist .vcard .vhead .vsys{
  display:none;
}
@media screen and (max-width: 520px){
  .v .vwrap .vcol-30{display: none !important;}
  textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:14px;text-align:center;line-height: 1;}
  .vemojis{margin-bottom: 100px;}
  .v .vwrap .vheader .vinput{width: 33.33%;padding:10px 5px;}
  .v .vbtn.vsubmit{bottom: 10px;left: 0;right: 0;margin: 0 auto;}
}
@media screen and (min-width: 520px;) (max-width: 750px){
  /* #vcomments .vwrap{height: 400px;} */
  .v .vwrap .vcol-30{display: none !important;}
  .v .vwrap .item3{bottom: 60px;}
  .vemojis{margin-bottom: 200px;}
  textarea[id='veditor']::placeholder{color:#b3b3b3;font-size:14px;text-align:center;line-height: 1;}
	.v .vwrap .vheader .vinput{width: 33.33%;padding:10px 5px;}
  .v .vbtn.vsubmit{bottom: 10px;left: 0;right: 0;margin: 0 auto;}
}
.vcard .vhead .vsys:nth-of-type(1){
  display: inline-block;
  background-color: rgba(247, 210, 247, .5);
}
.vcard .vhead .vsys:nth-of-type(2){
  display: inline-block;
  background-color: rgba(224, 235, 247, .5);
}
</style>
    <div style="text-align:center;font-size: 12px;color: #888;">
            <div class="site-info">
                
             
              <div class="footertext">
                <p><a href="#" style="color: #b9b9b9;" >Blog wallleap</a>
                  , Copyright &copy; 2019-2020 
                  by Luwang All Rights Reserved.</p>
              </div>

              <!-- <a style="color: #b9b9b9;" href="//beian.miit.gov.cn" target="_blank">	
                <img src="https://cdn.jsdelivr.net/gh/wallleap/cdn@latest/img/logo/ICP.png" style="vertical-align: text-bottom; width: 17px;" />
                赣ICP备20000895号-1
              </a> -->
              
              <span style="padding-left: 20px;">
                <i class="fa fa-clock-o" aria-hidden="true"></i>
                <span id="time" align="center">载入时间中...</span>
                <script>
                  var now = new Date(); 
                  function createtime() { 
                    var grt= new Date("08/08/2019 17:38:00");//在此处修改你的建站时间
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("time").innerHTML = "小站已经苟活 "+dnum+" 天 "+hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                 } 
                 setInterval("createtime()",250);
                </script>
              <span style="padding-left: 20px;><i class="fa fa-cog fa-spin" aria-hidden="true"></i></span>
                <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278079074'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278079074%26online%3D2' type='text/javascript'%3E%3C/script%3E"));</script>
              </span>
              
              <div style="text-align:center; padding-top: 20px;">
                <div class="github-badge">
                  <a rel="license" href="https://hexo.io/" target="_blank" title="由Hexo强力驱动">
                  <span class="badge-subject"><i class="fa fa-fire" aria-hidden="true"></i> Powered</span><span class="badge-value bg-blue">Hexo</span></a>
                </div>
                <div class="github-badge">
                    <a rel="license" href="https://coding.net/" target="_blank" title="静态网页托管于CODING">
                    <span class="badge-subject"><i class="fa fa-heart" aria-hidden="true"></i> Hosted</span>
                    <span class="badge-value bg-gray">CODING</span></a>
                  </div>
                <div class="github-badge">
                    <a rel="license" href="https://www.jsdelivr.com/" target="_blank" title="jsDelivr提供CDN加速服务">
                    <span class="badge-subject"><i class="fa fa-firefox fa-spin" aria-hidden="true"></i> CND</span><span class="badge-value bg-cdn">Github&jsDelivr</span></a>
                </div>
                <div class="github-badge">
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可">
                    <span class="badge-subject"><i class="fa fa-copyright"></i></span><span class="badge-value bg-lightgrey">BY-NC-SA 4.0</span></a>
                </div>
              </div>  
          
              
            </div><!-- .site-info -->
          </div>
</section>
  </div>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js,gh/nexmoe/nexmoe.github.io@latest/js/app.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<script src="/js/app.js?v=1599833537276"></script>-->


    <script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>


 
<script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script>
<script> 
!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
</script>

  





</body>

</html>
